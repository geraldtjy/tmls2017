function initialize(){if($("#event-map-edit-canvas").length){geocoder=new google.maps.Geocoder;var e={center:o=new google.maps.LatLng(map_lat,map_long),zoom:15,panControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};editmap=new google.maps.Map(document.getElementById("event-map-edit-canvas"),e),editmarker=new google.maps.Marker({position:o,map:editmap,draggable:!0,icon:"/assets/static/map_marker_icon-367b8914fe73a90631796376157b1535e46474f67517f0e6441661eeb07bfe4d.png"}),google.maps.event.addListener(editmarker,"dragend",(function(e){document.getElementById("event_event_latitude").value=e.latLng.lat(),document.getElementById("event_event_longitude").value=e.latLng.lng()}))}var t=$('div[id^="event-map-canvas-"]');if(t.length){mapList=[];for(var n=0;n<t.length;n++){var i,o,r=t[n],a=($(r).siblings().find("#listing_event_place_name").val(),$(r).siblings().find("#listing_event_event_latitude").val()),s=$(r).siblings().find("#listing_event_event_longitude").val(),l=new google.maps.InfoWindow({content:'<div class="text-center"><a href="https://www.google.com/maps/?q='+a+","+s+'">Get directions on Google Maps</a></div>'});e={center:o=new google.maps.LatLng(a,s),scrollwheel:!1,zoom:15,panControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};i=new google.maps.Map(r,e);var c=new google.maps.Marker({position:o,map:i,draggable:!0,title:document.getElementById("listing_event_place_name").value});l.open(i,c),mapList.push(i)}}}function codeAddress(){var e=document.getElementById("event_event_full_address").value;geocoder.geocode({address:e},(function(e,t){t==google.maps.GeocoderStatus.OK?(editmap.setCenter(e[0].geometry.location),editmarker.setPosition(e[0].geometry.location),document.getElementById("event_event_latitude").value=e[0].geometry.location.lat(),document.getElementById("event_event_longitude").value=e[0].geometry.location.lng()):"ZERO_RESULTS"===t?alert("A location with the entered address could not be found. Please ensure the address is correctly entered to try again."):alert("Unable to find location on the map. Please ensure the address is correctly entered to try again.")}))}function setAddressLocateAbility(){$("#event_event_full_address").val().length?($("#event-event-address-locate").removeAttr("disabled"),$("#event-event-address-locate").attr({value:"Automatically find map location from address"})):$("#event-event-address-locate").attr({disabled:"disabled",value:"Please enter an address before attempting to locate its position"})}function is_mobile(){var e=navigator.userAgent||navigator.vendor||window.opera;return!!(/windows phone/i.test(e)||/android/i.test(e)||/iPad|iPhone|iPod/.test(e)&&!window.MSStream)}function is_touch_device(){return!!("ontouchstart"in window)}function is_ie(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t)),10):0<e.indexOf("Trident/")?(t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10)):0<(t=e.indexOf("Edge/"))&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}function is_ie11(){return!window.ActiveXObject&&"ActiveXObject"in window}function version_ie(){return parseFloat(navigator.appVersion.split("MSIE")[1])}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function initFinalPlaceMap(){if($("#final-place-map-canvas").length){geocoder=new google.maps.Geocoder;var e={center:o=new google.maps.LatLng(map_lat,map_long),zoom:15,panControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};editmap=new google.maps.Map(document.getElementById("final-place-map-canvas"),e),editmarker=new google.maps.Marker({position:o,map:editmap,draggable:!0}),google.maps.event.addListener(editmarker,"dragend",(function(e){document.getElementById("final_place_final_place_latitude").value=e.latLng.lat(),document.getElementById("final_place_final_place_longitude").value=e.latLng.lng()}))}if($("#group-map-canvas").length){geocoder=new google.maps.Geocoder;e={center:o=new google.maps.LatLng(map_lat,map_long),zoom:15,panControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};editmap=new google.maps.Map(document.getElementById("group-map-canvas"),e),editmarker=new google.maps.Marker({position:o,map:editmap,draggable:!0}),google.maps.event.addListener(editmarker,"dragend",(function(e){document.getElementById("group_address_final_place_latitude").value=e.latLng.lat(),document.getElementById("group_address_final_place_longitude").value=e.latLng.lng()}))}var t=$('div[id^="show-final-place-map-canvas-"]');if(t.length){mapList=[];for(var n=0;n<t.length;n++){var i,o,r=t[n],a=($(r).siblings().find("#listing_final_place_name").val(),$(r).siblings().find("#listing_final_place_final_place_latitude").val()),s=$(r).siblings().find("#listing_final_place_final_place_longitude").val(),l=new google.maps.InfoWindow({content:'<div class="text-center"><a href="https://www.google.com/maps/?q='+a+","+s+'">Get directions on Google Maps</a></div>'});e={center:o=new google.maps.LatLng(a,s),scrollwheel:!1,zoom:15,panControl:!1,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};i=new google.maps.Map(r,e);var c=new google.maps.Marker({position:o,map:i,draggable:!0,title:document.getElementById("listing_final_place_name").value});l.open(i,c),mapList.push(i)}}}function codeAddressFinalMap(){var e=document.getElementById("final_place_final_place_full_address").value;geocoder.geocode({address:e},(function(e,t){t==google.maps.GeocoderStatus.OK?(editmap.setCenter(e[0].geometry.location),editmarker.setPosition(e[0].geometry.location),document.getElementById("final_place_final_place_latitude").value=e[0].geometry.location.lat(),document.getElementById("final_place_final_place_longitude").value=e[0].geometry.location.lng()):"ZERO_RESULTS"===t?alert("A location with the entered address could not be found. Please ensure the address is correctly entered to try again."):alert("Unable to find location on the map. Please ensure the address is correctly entered to try again.")}))}function finalPlaceSetAddressLocateAbility(){$("#final_place_final_place_full_address").val().length?($("#final-place-address-locate").removeAttr("disabled"),$("#final-place-address-locate").attr({value:"Automatically find map location from address"})):$("#final-place-address-locate").attr({disabled:"disabled",value:"Please enter an address before attempting to locate its position"})}function BestInPlaceEditor(e){"use strict";this.element=e,this.initOptions(),this.bindForm(),this.initPlaceHolder(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function setCookie(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function checkCookie(e){var t=getCookie("username");0==t?$(".cookie_div").show():1==t?$("#close-cookie-popup-button").trigger("click"):"1"==e&&""!=(t=0)&&null!=t&&(setCookie("username",t,365),$(".cookie_div").show(),$("#close-cookie-popup-button").attr("cookie_value",0))}function moveRight(){return $(".js-next").click(),!1}function moveLeft(){return $(".js-prev").click(),!1}function clickToView(){var e=document.getElementById("takeActionCheck"),t=document.getElementById("moduleContentBody"),n=document.getElementById("takeActionSection");1==e.checked?(t.style.display="block",n.style.display="none",document.getElementById("moduleContentBody").scrollIntoView()):(t.style.display="none",$("#moduleContentBody").slideUp())}function openCity(e,t){var n,i,o;for(i=document.getElementsByClassName("tabcontent"),n=0;n<i.length;n++)i[n].style.display="none";for(o=document.getElementsByClassName("tablinks"),n=0;n<o.length;n++)o[n].className=o[n].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}function manage_height(){var e=$(document).height(),t=$("header").innerHeight(),n=$("footer").innerHeight();$(".intro-section").css("min-height",e-(t+n+3)+"px"),$(".check-height").css("min-height",e-(t+n)+"px")}function isNumber(e){var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}var geocoder,editmap,editmarker;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";function n(e,t,n){var i,o,r=(n=n||_e).createElement("script");if(r.text=e,t)for(i in Ce)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function i(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[fe.call(e)]||"object":typeof e}function o(e){var t=!!e&&"length"in e&&e.length,n=i(e);return!ye(e)&&!we(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return ye(t)?ke.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?ke.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?ke.grep(e,(function(e){return he.call(t,e)>-1!==n})):ke.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return ke.each(e.match(Me)||[],(function(e,n){t[n]=!0})),t}function c(e){return e}function u(e){throw e}function d(e,t,n,i){var o;try{e&&ye(o=e.promise)?o.call(e).done(t).fail(n):e&&ye(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function h(){_e.removeEventListener("DOMContentLoaded",h),e.removeEventListener("load",h),ke.ready()}function p(e,t){return t.toUpperCase()}function f(e){return e.replace(Re,"ms-").replace(Fe,p)}function m(){this.expando=ke.expando+m.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}function v(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=g(n)}catch(e){}ze.set(e,t,n)}else n=void 0;return n}function b(e,t,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return ke.css(e,t,"")},l=s(),c=n&&n[3]||(ke.cssNumber[t]?"":"px"),u=e.nodeType&&(ke.cssNumber[t]||"px"!==c&&+l)&&Ve.exec(ke.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)ke.style(e,t,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;u*=2,ke.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function y(e){var t,n=e.ownerDocument,i=e.nodeName,o=Ze[i];return o||(t=n.body.appendChild(n.createElement(i)),o=ke.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Ze[i]=o,o)}function w(e,t){for(var n,i,o=[],r=0,a=e.length;r<a;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=He.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Xe(i)&&(o[r]=y(i))):"none"!==n&&(o[r]="none",He.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}function _(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&r(e,t)?ke.merge([e],n):n}function C(e,t){for(var n=0,i=e.length;n<i;n++)He.set(e[n],"globalEval",!t||He.get(t[n],"globalEval"))}function x(e,t,n,o,r){for(var a,s,l,c,u,d,h=t.createDocumentFragment(),p=[],f=0,m=e.length;f<m;f++)if((a=e[f])||0===a)if("object"===i(a))ke.merge(p,a.nodeType?[a]:a);else if(rt.test(a)){for(s=s||h.appendChild(t.createElement("div")),l=(nt.exec(a)||["",""])[1].toLowerCase(),c=ot[l]||ot._default,s.innerHTML=c[1]+ke.htmlPrefilter(a)+c[2],d=c[0];d--;)s=s.lastChild;ke.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(t.createTextNode(a));for(h.textContent="",f=0;a=p[f++];)if(o&&ke.inArray(a,o)>-1)r&&r.push(a);else if(u=Ge(a),s=_(h.appendChild(a),"script"),u&&C(s),n)for(d=0;a=s[d++];)it.test(a.type||"")&&n.push(a);return h}function k(){return!0}function S(){return!1}function E(e,t){return e===T()==("focus"===t)}function T(){try{return _e.activeElement}catch(e){}}function A(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)A(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=S;else if(!o)return e;return 1===r&&(a=o,o=function(e){return ke().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ke.guid++)),e.each((function(){ke.event.add(this,t,o,i,n)}))}function O(e,t,n){n?(He.set(e,t,!1),ke.event.add(e,t,{namespace:!1,handler:function(e){var i,o,r=He.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(ke.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=ce.call(arguments),He.set(this,t,r),i=n(this,t),this[t](),r!==(o=He.get(this,t))||i?He.set(this,t,!1):o={},r!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else r.length&&(He.set(this,t,{value:ke.event.trigger(ke.extend(r[0],ke.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===He.get(e,t)&&ke.event.add(e,t,k)}function D(e,t){return r(e,"table")&&r(11!==t.nodeType?t:t.firstChild,"tr")&&ke(e).children("tbody")[0]||e}function I(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function P(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function N(e,t){var n,i,o,r,a,s;if(1===t.nodeType){if(He.hasData(e)&&(s=He.get(e).events))for(o in He.remove(t,"handle events"),s)for(n=0,i=s[o].length;n<i;n++)ke.event.add(t,o,s[o][n]);ze.hasData(e)&&(r=ze.access(e),a=ke.extend({},r),ze.set(t,a))}}function M(e,t){var n=t.nodeName.toLowerCase();"input"===n&&tt.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function L(e,t,i,o){t=ue(t);var r,a,s,l,c,u,d=0,h=e.length,p=h-1,f=t[0],m=ye(f);if(m||h>1&&"string"==typeof f&&!be.checkClone&&lt.test(f))return e.each((function(n){var r=e.eq(n);m&&(t[0]=f.call(this,n,r.html())),L(r,t,i,o)}));if(h&&(a=(r=x(t,e[0].ownerDocument,!1,e,o)).firstChild,1===r.childNodes.length&&(r=a),a||o)){for(l=(s=ke.map(_(r,"script"),I)).length;d<h;d++)c=r,d!==p&&(c=ke.clone(c,!0,!0),l&&ke.merge(s,_(c,"script"))),i.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,ke.map(s,P),d=0;d<l;d++)c=s[d],it.test(c.type||"")&&!He.access(c,"globalEval")&&ke.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?ke._evalUrl&&!c.noModule&&ke._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):n(c.textContent.replace(ct,""),c,u))}return e}function $(e,t,n){for(var i,o=t?ke.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ke.cleanData(_(i)),i.parentNode&&(n&&Ge(i)&&C(_(i,"script")),i.parentNode.removeChild(i));return e}function j(e,t,n){var i,o,r,a,s=e.style;return(n=n||dt(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||Ge(e)||(a=ke.style(e,t)),!be.pixelBoxStyles()&&ut.test(a)&&pt.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function R(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function F(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if((e=ft[n]+t)in mt)return e}function B(e){var t=ke.cssProps[e]||gt[e];return t||(e in mt?e:gt[e]=F(e)||e)}function H(e,t,n){var i=Ve.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function z(e,t,n,i,o,r){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ke.css(e,n+Ye[a],!0,o)),i?("content"===n&&(l-=ke.css(e,"padding"+Ye[a],!0,o)),"margin"!==n&&(l-=ke.css(e,"border"+Ye[a]+"Width",!0,o))):(l+=ke.css(e,"padding"+Ye[a],!0,o),"padding"!==n?l+=ke.css(e,"border"+Ye[a]+"Width",!0,o):s+=ke.css(e,"border"+Ye[a]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))||0),l}function q(e,t,n){var i=dt(e),o=(!be.boxSizingReliable()||n)&&"border-box"===ke.css(e,"boxSizing",!1,i),a=o,s=j(e,t,i),l="offset"+t[0].toUpperCase()+t.slice(1);if(ut.test(s)){if(!n)return s;s="auto"}return(!be.boxSizingReliable()&&o||!be.reliableTrDimensions()&&r(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===ke.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===ke.css(e,"boxSizing",!1,i),(a=l in e)&&(s=e[l])),(s=parseFloat(s)||0)+z(e,t,n||(o?"border":"content"),a,i,s)+"px"}function U(e,t,n,i,o){return new U.prototype.init(e,t,n,i,o)}function W(){Ct&&(!1===_e.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(W):e.setTimeout(W,ke.fx.interval),ke.fx.tick())}function V(){return e.setTimeout((function(){_t=void 0})),_t=Date.now()}function Y(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=Ye[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function K(e,t,n){for(var i,o=(X.tweeners[t]||[]).concat(X.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function G(e,t,n){var i,o,r,a,s,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&Xe(e),g=He.get(e,"fxshow");for(i in n.queue||(null==(a=ke._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,ke.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[i],xt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||ke.style(e,i)}if((l=!ke.isEmptyObject(t))||!ke.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=He.get(e,"display")),"none"===(u=ke.css(e,"display"))&&(c?u=c:(w([e],!0),c=e.style.display||c,u=ke.css(e,"display"),w([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===ke.css(e,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=He.access(e,"fxshow",{display:c}),r&&(g.hidden=!m),m&&w([e],!0),h.done((function(){for(i in m||w([e]),He.remove(e,"fxshow"),p)ke.style(e,i,p[i])}))),l=K(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}function Q(e,t){var n,i,o,r,a;for(n in e)if(o=t[i=f(n)],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=ke.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}function X(e,t,n){var i,o,r=0,a=X.prefilters.length,s=ke.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=_t||V(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,a=c.tweens.length;r<a;r++)c.tweens[r].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ke.extend({},t),opts:ke.extend(!0,{specialEasing:{},easing:ke.easing._default},n),originalProperties:t,originalOptions:n,startTime:_t||V(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ke.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(Q(u,c.opts.specialEasing);r<a;r++)if(i=X.prefilters[r].call(c,e,u,c.opts))return ye(i.stop)&&(ke._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return ke.map(u,K,c),ye(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),ke.fx.timer(ke.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function Z(e){return(e.match(Me)||[]).join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Me)||[]}function te(e,t,n,o){var r;if(Array.isArray(t))ke.each(t,(function(t,i){n||Lt.test(e)?o(e,i):te(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)}));else if(n||"object"!==i(t))o(e,t);else for(r in t)te(e+"["+r+"]",t[r],n,o)}function ne(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(Me)||[];if(ye(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function ie(e,t,n,i){function o(s){var l;return r[s]=!0,ke.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}var r={},a=e===Yt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function oe(e,t){var n,i,o=ke.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&ke.extend(!0,e,i),e}function re(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function ae(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}var se=[],le=Object.getPrototypeOf,ce=se.slice,ue=se.flat?function(e){return se.flat.call(e)}:function(e){return se.concat.apply([],e)},de=se.push,he=se.indexOf,pe={},fe=pe.toString,me=pe.hasOwnProperty,ge=me.toString,ve=ge.call(Object),be={},ye=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},we=function(e){return null!=e&&e===e.window},_e=e.document,Ce={type:!0,src:!0,nonce:!0,noModule:!0},xe="3.6.0",ke=function(e,t){return new ke.fn.init(e,t)};ke.fn=ke.prototype={jquery:xe,constructor:ke,length:0,toArray:function(){return ce.call(this)},get:function(e){return null==e?ce.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ke.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ke.each(this,e)},map:function(e){return this.pushStack(ke.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(ce.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ke.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(ke.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:de,sort:se.sort,splice:se.splice},ke.extend=ke.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ye(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(ke.isPlainObject(i)||(o=Array.isArray(i)))?(n=a[t],r=o&&!Array.isArray(n)?[]:o||ke.isPlainObject(n)?n:{},o=!1,a[t]=ke.extend(c,r,i)):void 0!==i&&(a[t]=i));return a},ke.extend({expando:"jQuery"+(xe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==fe.call(e))&&(!(t=le(e))||"function"==typeof(n=me.call(t,"constructor")&&t.constructor)&&ge.call(n)===ve)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){n(e,{nonce:t&&t.nonce},i)},each:function(e,t){var n,i=0;if(o(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?ke.merge(n,"string"==typeof e?[e]:e):de.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:he.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,n){var i,r,a=0,s=[];if(o(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&s.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&s.push(r);return ue(s)},guid:1,support:be}),"function"==typeof Symbol&&(ke.fn[Symbol.iterator]=se[Symbol.iterator]),ke.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){pe["[object "+t+"]"]=t.toLowerCase()}));var Se=function(e){function t(e,t,n,i){var o,r,a,s,l,c,u,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&(P(t),t=t||N,L)){if(11!==f&&(l=ye.exec(e)))if(o=l[1]){if(9===f){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&F(t,a)&&a.id===o)return n.push(a),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&C.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(C.qsa&&!Y[e+" "]&&(!$||!$.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(u=e,h=t,1===f&&(de.test(e)||ue.test(e))){for((h=we.test(e)&&d(t.parentNode)||t)===t&&C.scope||((s=t.getAttribute("id"))?s=s.replace(xe,ke):t.setAttribute("id",s=B)),r=(c=E(e)).length;r--;)c[r]=(s?"#"+s:":scope")+" "+p(c[r]);u=c.join(",")}try{return J.apply(n,h.querySelectorAll(u)),n}catch(t){Y(e,!0)}finally{s===B&&t.removeAttribute("id")}}}return A(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return i((function(t){return t=+t,i((function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}function d(e){return e&&void 0!==e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=t.next,r=o||i,a=n&&"parentNode"===r,s=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,h=[z,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=(d=t[B]||(t[B]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[r])&&c[0]===z&&c[1]===s)return h[2]=c[2];if(u[r]=h,h[2]=e(t,n,l))return!0}return!1}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var o=0,r=n.length;o<r;o++)t(e,n[o],i);return i}function v(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function b(e,t,n,o,r,a){return o&&!o[B]&&(o=b(o)),r&&!r[B]&&(r=b(r,a)),i((function(i,a,s,l){var c,u,d,h=[],p=[],f=a.length,m=i||g(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?m:v(m,h,e,s,l),y=n?r||(i?e:f||o)?[]:a:b;if(n&&n(b,y,s,l),o)for(c=v(y,p),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(b[p[u]]=d));if(i){if(r||e){if(r){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);r(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=r?te(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else y=v(y===a?y.splice(f,y.length):y),r?r(null,a,y,l):J.apply(a,y)}))}function y(e){for(var t,n,i,o=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],s=r?1:0,l=f((function(e){return e===t}),a,!0),c=f((function(e){return te(t,e)>-1}),a,!0),u=[function(e,n,i){var o=!r&&(i||n!==O)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];s<o;s++)if(n=x.relative[e[s].type])u=[f(m(u),n)];else{if((n=x.filter[e[s].type].apply(null,e[s].matches))[B]){for(i=++s;i<o&&!x.relative[e[i].type];i++);return b(s>1&&m(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<i&&y(e.slice(s,i)),i<o&&y(e=e.slice(i)),i<o&&p(e))}u.push(n)}return m(u)}function w(e,n){var o=n.length>0,r=e.length>0,a=function(i,a,s,l,c){var u,d,h,p=0,f="0",m=i&&[],g=[],b=O,y=i||r&&x.find.TAG("*",c),w=z+=null==b?1:Math.random()||.1,_=y.length;for(c&&(O=a==N||a||c);f!==_&&null!=(u=y[f]);f++){if(r&&u){for(d=0,a||u.ownerDocument==N||(P(u),s=!L);h=e[d++];)if(h(u,a||N,s)){l.push(u);break}c&&(z=w)}o&&((u=!h&&u)&&p--,i&&m.push(u))}if(p+=f,o&&f!==p){for(d=0;h=n[d++];)h(m,g,a,s);if(i){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=X.call(l));g=v(g)}J.apply(l,g),c&&!i&&g.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(z=w,O=b),m};return o?i(a):a}var _,C,x,k,S,E,T,A,O,D,I,P,N,M,L,$,j,R,F,B="sizzle"+1*new Date,H=e.document,z=0,q=0,U=n(),W=n(),V=n(),Y=n(),K=function(e,t){return e===t&&(I=!0),0},G={}.hasOwnProperty,Q=[],X=Q.pop,Z=Q.push,J=Q.push,ee=Q.slice,te=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",re="\\["+ie+"*("+oe+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ie+"*\\]",ae=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp(ie+"|>"),he=new RegExp(ae),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/HTML$/i,ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,be=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,_e=new RegExp("\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\([^\\r\\n\\f])","g"),Ce=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ke=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){P()
},Ee=f((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{J.apply(Q=ee.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(e){J={apply:Q.length?function(e,t){Z.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(_ in C=t.support={},S=t.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!me.test(t||n&&n.nodeName||"HTML")},P=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!=N&&9===i.nodeType&&i.documentElement?(M=(N=i).documentElement,L=!S(N),H!=N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),C.scope=o((function(e){return M.appendChild(e).appendChild(N.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),C.attributes=o((function(e){return e.className="i",!e.getAttribute("className")})),C.getElementsByTagName=o((function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length})),C.getElementsByClassName=be.test(N.getElementsByClassName),C.getById=o((function(e){return M.appendChild(e).id=B,!N.getElementsByName||!N.getElementsByName(B).length})),C.getById?(x.filter.ID=function(e){var t=e.replace(_e,Ce);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(_e,Ce);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&L){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),x.find.TAG=C.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=C.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&L)return t.getElementsByClassName(e)},j=[],$=[],(C.qsa=be.test(N.querySelectorAll))&&(o((function(e){var t;M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||$.push("\\["+ie+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+B+"-]").length||$.push("~="),(t=N.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||$.push("\\["+ie+"*name"+ie+"*="+ie+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||$.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||$.push(".#.+[+~]"),e.querySelectorAll("\\\f"),$.push("[\\r\\n\\f]")})),o((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&$.push("name"+ie+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&$.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&$.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),$.push(",.*:")}))),(C.matchesSelector=be.test(R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o((function(e){C.disconnectedMatch=R.call(e,"*"),R.call(e,"[s!='']:x"),j.push("!=",ae)})),$=$.length&&new RegExp($.join("|")),j=j.length&&new RegExp(j.join("|")),t=be.test(M.compareDocumentPosition),F=t||be.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!C.sortDetached&&t.compareDocumentPosition(e)===n?e==N||e.ownerDocument==H&&F(H,e)?-1:t==N||t.ownerDocument==H&&F(H,t)?1:D?te(D,e)-te(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,s=[e],l=[t];if(!o||!r)return e==N?-1:t==N?1:o?-1:r?1:D?te(D,e)-te(D,t):0;if(o===r)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]==H?-1:l[i]==H?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(P(e),C.matchesSelector&&L&&!Y[n+" "]&&(!j||!j.test(n))&&(!$||!$.test(n)))try{var i=R.call(e,n);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){Y(n,!0)}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=N&&P(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=N&&P(e);var n=x.attrHandle[t.toLowerCase()],i=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:C.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(xe,ke)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(I=!C.detectDuplicates,D=!C.sortStable&&e.slice(0),e.sort(K),I){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return D=null,e},k=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&U(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,n,i){return function(o){var r=t.attr(o,e);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(y=(p=(c=(u=(d=(h=g)[B]||(h[B]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===z&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[z,p,y];break}}else if(b&&(y=p=(c=(u=(d=(h=t)[B]||(h[B]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===z&&c[1]),!1===y)for(;(h=++p&&h&&h[m]||(y=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((u=(d=h[B]||(h[B]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[z,y]),h!==t)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,n){var o,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[B]?r(n):r.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i((function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=te(e,o[a])]=!(t[i]=o[a])})):function(e){return r(e,0,o)}):r}},pseudos:{not:i((function(e){var t=[],n=[],o=T(e.replace(le,"$1"));return o[B]?i((function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,i,r){return t[0]=e,o(t,null,r,n),t[0]=null,!n.pop()}})),has:i((function(e){return function(n){return t(e,n).length>0}})),contains:i((function(e){return e=e.replace(_e,Ce),function(t){return(t.textContent||k(t)).indexOf(e)>-1}})),lang:i((function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,Ce).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u((function(){return[0]})),last:u((function(e,t){return[t-1]})),eq:u((function(e,t,n){return[n<0?n+t:n]})),even:u((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:u((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:u((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:u((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},x.pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,E=t.tokenize=function(e,n){var i,o,r,a,s,l,c,u=W[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){for(a in i&&!(o=ce.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ue.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(le," ")}),s=s.slice(i.length)),x.filter)!(o=fe[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],o=[],r=V[e+" "];if(!r){for(t||(t=E(e)),n=t.length;n--;)(r=y(t[n]))[B]?i.push(r):o.push(r);(r=V(e,w(o,i))).selector=e}return r},A=t.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&E(e=c.selector||e);if(n=n||[],1===u.length){if((r=u[0]=u[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&9===t.nodeType&&L&&x.relative[r[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(_e,Ce),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(_e,Ce),we.test(r[0].type)&&d(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&p(r)))return J.apply(n,i),n;break}}return(c||T(e,u))(i,t,!L,n,!t||we.test(e)&&d(t.parentNode)||t),n},C.sortStable=B.split("").sort(K).join("")===B,C.detectDuplicates=!!I,P(),C.sortDetached=o((function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))})),o((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||r("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),C.attributes&&o((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||r("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),o((function(e){return null==e.getAttribute("disabled")}))||r(ne,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),t}(e);ke.find=Se,ke.expr=Se.selectors,ke.expr[":"]=ke.expr.pseudos,ke.uniqueSort=ke.unique=Se.uniqueSort,ke.text=Se.getText,ke.isXMLDoc=Se.isXML,ke.contains=Se.contains,ke.escapeSelector=Se.escape;var Ee=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ke(e).is(n))break;i.push(e)}return i},Te=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ae=ke.expr.match.needsContext,Oe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;ke.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ke.find.matchesSelector(i,e)?[i]:[]:ke.find.matches(e,ke.grep(t,(function(e){return 1===e.nodeType})))},ke.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(ke(e).filter((function(){for(t=0;t<i;t++)if(ke.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)ke.find(e,o[t],n);return i>1?ke.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&Ae.test(e)?ke(e):e||[],!1).length}});var De,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ke.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||De,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ie.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ke?t[0]:t,ke.merge(this,ke.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:_e,!0)),Oe.test(i[1])&&ke.isPlainObject(t))for(i in t)ye(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=_e.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ye(e)?void 0!==n.ready?n.ready(e):e(ke):ke.makeArray(e,this)}).prototype=ke.fn,De=ke(_e);var Pe=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};ke.fn.extend({has:function(e){var t=ke(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(ke.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&ke(e);if(!Ae.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ke.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ke.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?he.call(ke(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ke.uniqueSort(ke.merge(this.get(),ke(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ke.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,n){return Ee(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,n){return Ee(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ee(e,"previousSibling",n)},siblings:function(e){return Te((e.parentNode||{}).firstChild,e)},children:function(e){return Te(e.firstChild)},contents:function(e){return null!=e.contentDocument&&le(e.contentDocument)?e.contentDocument:(r(e,"template")&&(e=e.content||e),ke.merge([],e.childNodes))}},(function(e,t){ke.fn[e]=function(n,i){var o=ke.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ke.filter(i,o)),this.length>1&&(Ne[e]||ke.uniqueSort(o),Pe.test(e)&&o.reverse()),this.pushStack(o)}}));var Me=/[^\x20\t\r\n\f]+/g;ke.Callbacks=function(e){e="string"==typeof e?l(e):ke.extend({},e);var t,n,o,r,a=[],s=[],c=-1,u=function(){for(r=r||e.once,o=t=!0;s.length;c=-1)for(n=s.shift();++c<a.length;)!1===a[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},d={add:function(){return a&&(n&&!t&&(c=a.length-1,s.push(n)),function t(n){ke.each(n,(function(n,o){ye(o)?e.unique&&d.has(o)||a.push(o):o&&o.length&&"string"!==i(o)&&t(o)}))}(arguments),n&&!t&&u()),this},remove:function(){return ke.each(arguments,(function(e,t){for(var n;(n=ke.inArray(t,a,n))>-1;)a.splice(n,1),n<=c&&c--})),this},has:function(e){return e?ke.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||t||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ke.extend({Deferred:function(t){var n=[["notify","progress",ke.Callbacks("memory"),ke.Callbacks("memory"),2],["resolve","done",ke.Callbacks("once memory"),ke.Callbacks("once memory"),0,"resolved"],["reject","fail",ke.Callbacks("once memory"),ke.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ke.Deferred((function(t){ke.each(n,(function(n,i){var o=ye(e[i[4]])&&e[i[4]];r[i[1]]((function(){var e=o&&o.apply(this,arguments);e&&ye(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,o){function r(t,n,i,o){return function(){var s=this,l=arguments,d=function(){var e,d;if(!(t<a)){if((e=i.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,ye(d)?o?d.call(e,r(a,n,c,o),r(a,n,u,o)):(a++,d.call(e,r(a,n,c,o),r(a,n,u,o),r(a,n,c,n.notifyWith))):(i!==c&&(s=void 0,l=[e]),(o||n.resolveWith)(s,l))}},h=o?d:function(){try{d()}catch(e){ke.Deferred.exceptionHook&&ke.Deferred.exceptionHook(e,h.stackTrace),t+1>=a&&(i!==u&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?h():(ke.Deferred.getStackHook&&(h.stackTrace=ke.Deferred.getStackHook()),e.setTimeout(h))}}var a=0;return ke.Deferred((function(e){n[0][3].add(r(0,e,ye(o)?o:c,e.notifyWith)),n[1][3].add(r(0,e,ye(t)?t:c)),n[2][3].add(r(0,e,ye(i)?i:u))})).promise()},promise:function(e){return null!=e?ke.extend(e,o):o}},r={};return ke.each(n,(function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add((function(){i=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=a.fireWith})),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=ce.call(arguments),r=ke.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?ce.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(d(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||ye(o[n]&&o[n].then)))return r.then();for(;n--;)d(o[n],a(n),r.reject);return r.promise()}});var Le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ke.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Le.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},ke.readyException=function(t){e.setTimeout((function(){throw t}))};var $e=ke.Deferred();ke.fn.ready=function(e){return $e.then(e).catch((function(e){ke.readyException(e)})),this},ke.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ke.readyWait:ke.isReady)||(ke.isReady=!0,!0!==e&&--ke.readyWait>0||$e.resolveWith(_e,[ke]))}}),ke.ready.then=$e.then,"complete"===_e.readyState||"loading"!==_e.readyState&&!_e.documentElement.doScroll?e.setTimeout(ke.ready):(_e.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h));var je=function(e,t,n,o,r,a,s){var l=0,c=e.length,u=null==n;if("object"===i(n))for(l in r=!0,n)je(e,t,l,n[l],!0,a,s);else if(void 0!==o&&(r=!0,ye(o)||(s=!0),u&&(s?(t.call(e,o),t=null):(u=t,t=function(e,t,n){return u.call(ke(e),n)})),t))for(;l<c;l++)t(e[l],n,s?o:o.call(e[l],l,t(e[l],n)));return r?e:u?t.call(e):c?t(e[0],n):a},Re=/^-ms-/,Fe=/-([a-z])/g,Be=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Be(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[f(t)]=n;else for(i in t)o[f(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][f(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(f):(t=f(t))in i?[t]:t.match(Me)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||ke.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ke.isEmptyObject(t)}};var He=new m,ze=new m,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ue=/[A-Z]/g;ke.extend({hasData:function(e){return ze.hasData(e)||He.hasData(e)},data:function(e,t,n){return ze.access(e,t,n)},removeData:function(e,t){ze.remove(e,t)},_data:function(e,t,n){return He.access(e,t,n)},_removeData:function(e,t){He.remove(e,t)}}),ke.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=ze.get(r),1===r.nodeType&&!He.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=f(i.slice(5)),v(r,i,o[i]));He.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){ze.set(this,e)})):je(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=ze.get(r,e))||void 0!==(n=v(r,e))?n:void 0;this.each((function(){ze.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ze.remove(this,e)}))}}),ke.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=He.get(e,t),n&&(!i||Array.isArray(n)?i=He.access(e,t,ke.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ke.queue(e,t),i=n.length,o=n.shift(),r=ke._queueHooks(e,t),a=function(){ke.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return He.get(e,n)||He.access(e,n,{empty:ke.Callbacks("once memory").add((function(){He.remove(e,[t+"queue",n])}))})}}),ke.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ke.queue(this[0],e):void 0===t?this:this.each((function(){var n=ke.queue(this,e,t);ke._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ke.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){ke.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=ke.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=He.get(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var We=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ve=new RegExp("^(?:([+-])=|)("+We+")([a-z%]*)$","i"),Ye=["Top","Right","Bottom","Left"],Ke=_e.documentElement,Ge=function(e){return ke.contains(e.ownerDocument,e)},Qe={composed:!0};Ke.getRootNode&&(Ge=function(e){return ke.contains(e.ownerDocument,e)||e.getRootNode(Qe)===e.ownerDocument});var Xe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Ge(e)&&"none"===ke.css(e,"display")},Ze={};ke.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Xe(this)?ke(this).show():ke(this).hide()}))}});var Je,et,tt=/^(?:checkbox|radio)$/i,nt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,it=/^$|^module$|\/(?:java|ecma)script/i;Je=_e.createDocumentFragment().appendChild(_e.createElement("div")),(et=_e.createElement("input")).setAttribute("type","radio"),et.setAttribute("checked","checked"),et.setAttribute("name","t"),Je.appendChild(et),be.checkClone=Je.cloneNode(!0).cloneNode(!0).lastChild.checked,Je.innerHTML="<textarea>x</textarea>",be.noCloneChecked=!!Je.cloneNode(!0).lastChild.defaultValue,Je.innerHTML="<option></option>",be.option=!!Je.lastChild;var ot={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,be.option||(ot.optgroup=ot.option=[1,"<select multiple='multiple'>","</select>"]);var rt=/<|&#?\w+;/,at=/^([^.]*)(?:\.(.+)|)/;ke.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,p,f,m,g=He.get(e);if(Be(e))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&ke.find.matchesSelector(Ke,o),n.guid||(n.guid=ke.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==ke&&ke.event.triggered!==t.type?ke.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Me)||[""]).length;c--;)p=m=(s=at.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=ke.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=ke.event.special[p]||{},u=ke.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ke.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),ke.event.global[p]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,p,f,m,g=He.hasData(e)&&He.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Me)||[""]).length;c--;)if(p=m=(s=at.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=ke.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)u=h[r],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||ke.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ke.event.remove(e,p+t[c],n,i,!0);ke.isEmptyObject(l)&&He.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a,s=new Array(arguments.length),l=ke.event.fix(e),c=(He.get(this,"events")||Object.create(null))[l.type]||[],u=ke.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=ke.event.handlers.call(this,l,c),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(i=((ke.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=t[n]).selector+" "]&&(a[o]=i.needsContext?ke(o,this).index(c)>-1:ke.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(ke.Event.prototype,e,{enumerable:!0,configurable:!0,get:ye(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ke.expando]?e:new ke.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return tt.test(t.type)&&t.click&&r(t,"input")&&O(t,"click",k),!1},trigger:function(e){var t=this||e;return tt.test(t.type)&&t.click&&r(t,"input")&&O(t,"click"),!0},_default:function(e){var t=e.target;return tt.test(t.type)&&t.click&&r(t,"input")&&He.get(t,"click")||r(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ke.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ke.Event=function(e,t){if(!(this instanceof ke.Event))return new ke.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?k:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ke.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ke.expando]=!0},ke.Event.prototype={constructor:ke.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=k,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=k,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=k,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ke.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ke.event.addProp),ke.each({focus:"focusin",blur:"focusout"},(function(e,t){ke.event.special[e]={setup:function(){return O(this,e,E),!1},trigger:function(){return O(this,e),!0},_default:function(){return!0},delegateType:t}})),ke.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){ke.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||ke.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),ke.fn.extend({on:function(e,t,n,i){return A(this,e,t,n,i)},one:function(e,t,n,i){return A(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ke(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=S),this.each((function(){ke.event.remove(this,e,n,t)}))}});var st=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ke.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,r,a,s=e.cloneNode(!0),l=Ge(e);if(!(be.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ke.isXMLDoc(e)))for(a=_(s),i=0,o=(r=_(e)).length;i<o;i++)M(r[i],a[i])
;if(t)if(n)for(r=r||_(e),a=a||_(s),i=0,o=r.length;i<o;i++)N(r[i],a[i]);else N(e,s);return(a=_(s,"script")).length>0&&C(a,!l&&_(e,"script")),s},cleanData:function(e){for(var t,n,i,o=ke.event.special,r=0;void 0!==(n=e[r]);r++)if(Be(n)){if(t=n[He.expando]){if(t.events)for(i in t.events)o[i]?ke.event.remove(n,i):ke.removeEvent(n,i,t.handle);n[He.expando]=void 0}n[ze.expando]&&(n[ze.expando]=void 0)}}}),ke.fn.extend({detach:function(e){return $(this,e,!0)},remove:function(e){return $(this,e)},text:function(e){return je(this,(function(e){return void 0===e?ke.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return L(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||D(this,e).appendChild(e)}))},prepend:function(){return L(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return L(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return L(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ke.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return ke.clone(this,e,t)}))},html:function(e){return je(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!st.test(e)&&!ot[(nt.exec(e)||["",""])[1].toLowerCase()]){e=ke.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(ke.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return L(this,arguments,(function(t){var n=this.parentNode;ke.inArray(this,e)<0&&(ke.cleanData(_(this)),n&&n.replaceChild(t,this))}),e)}}),ke.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){ke.fn[e]=function(e){for(var n,i=[],o=ke(e),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),ke(o[a])[t](n),de.apply(i,n.get());return this.pushStack(i)}}));var ut=new RegExp("^("+We+")(?!px)[a-z%]+$","i"),dt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ht=function(e,t,n){var i,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.call(e),t)e.style[o]=r[o];return i},pt=new RegExp(Ye.join("|"),"i");!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ke.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),o=36===n(t.width),u.style.position="absolute",r=12===n(u.offsetWidth/3),Ke.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var i,o,r,a,s,l,c=_e.createElement("div"),u=_e.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",be.clearCloneStyle="content-box"===u.style.backgroundClip,ke.extend(be,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r},reliableTrDimensions:function(){var t,n,i,o;return null==s&&(t=_e.createElement("table"),n=_e.createElement("tr"),i=_e.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",Ke.appendChild(t).appendChild(n).appendChild(i),o=e.getComputedStyle(n),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===n.offsetHeight,Ke.removeChild(t)),s}}))}();var ft=["Webkit","Moz","ms"],mt=_e.createElement("div").style,gt={},vt=/^(none|table(?!-c[ea]).+)/,bt=/^--/,yt={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"};ke.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=f(t),l=bt.test(t),c=e.style;if(l||(t=B(s)),a=ke.cssHooks[t]||ke.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:c[t];"string"===(r=typeof n)&&(o=Ve.exec(n))&&o[1]&&(n=b(e,t,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(ke.cssNumber[s]?"":"px")),be.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var o,r,a,s=f(t);return bt.test(t)||(t=B(s)),(a=ke.cssHooks[t]||ke.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=j(e,t,i)),"normal"===o&&t in wt&&(o=wt[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ke.each(["height","width"],(function(e,t){ke.cssHooks[t]={get:function(e,n,i){if(n)return!vt.test(ke.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?q(e,t,i):ht(e,yt,(function(){return q(e,t,i)}))},set:function(e,n,i){var o,r=dt(e),a=!be.scrollboxSize()&&"absolute"===r.position,s=(a||i)&&"border-box"===ke.css(e,"boxSizing",!1,r),l=i?z(e,t,i,s,r):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-z(e,t,"border",!1,r)-.5)),l&&(o=Ve.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ke.css(e,t)),H(e,n,l)}}})),ke.cssHooks.marginLeft=R(be.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-ht(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),ke.each({margin:"",padding:"",border:"Width"},(function(e,t){ke.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Ye[i]+t]=r[i]||r[i-2]||r[0];return o}},"margin"!==e&&(ke.cssHooks[e+t].set=H)})),ke.fn.extend({css:function(e,t){return je(this,(function(e,t,n){var i,o,r={},a=0;if(Array.isArray(t)){for(i=dt(e),o=t.length;a<o;a++)r[t[a]]=ke.css(e,t[a],!1,i);return r}return void 0!==n?ke.style(e,t,n):ke.css(e,t)}),e,t,arguments.length>1)}}),ke.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||ke.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ke.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=ke.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ke.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ke.fx.step[e.prop]?ke.fx.step[e.prop](e):1!==e.elem.nodeType||!ke.cssHooks[e.prop]&&null==e.elem.style[B(e.prop)]?e.elem[e.prop]=e.now:ke.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ke.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ke.fx=U.prototype.init,ke.fx.step={};var _t,Ct,xt=/^(?:toggle|show|hide)$/,kt=/queueHooks$/;ke.Animation=ke.extend(X,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return b(n.elem,e,Ve.exec(t),n),n}]},tweener:function(e,t){ye(e)?(t=e,e=["*"]):e=e.match(Me);for(var n,i=0,o=e.length;i<o;i++)n=e[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(t)},prefilters:[G],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),ke.speed=function(e,t,n){var i=e&&"object"==typeof e?ke.extend({},e):{complete:n||!n&&t||ye(e)&&e,duration:e,easing:n&&t||t&&!ye(t)&&t};return ke.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in ke.fx.speeds?i.duration=ke.fx.speeds[i.duration]:i.duration=ke.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ye(i.old)&&i.old.call(this),i.queue&&ke.dequeue(this,i.queue)},i},ke.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Xe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=ke.isEmptyObject(e),r=ke.speed(t,n,i),a=function(){var t=X(this,ke.extend({},e),r);(o||He.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=ke.timers,a=He.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&kt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||ke.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=He.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=ke.timers,a=i?i.length:0;for(n.finish=!0,ke.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),ke.each(["toggle","show","hide"],(function(e,t){var n=ke.fn[t];ke.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Y(t,!0),e,i,o)}})),ke.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){ke.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),ke.timers=[],ke.fx.tick=function(){var e,t=0,n=ke.timers;for(_t=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ke.fx.stop(),_t=void 0},ke.fx.timer=function(e){ke.timers.push(e),ke.fx.start()},ke.fx.interval=13,ke.fx.start=function(){Ct||(Ct=!0,W())},ke.fx.stop=function(){Ct=null},ke.fx.speeds={slow:600,fast:200,_default:400},ke.fn.delay=function(t,n){return t=ke.fx&&ke.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}}))},function(){var e=_e.createElement("input"),t=_e.createElement("select").appendChild(_e.createElement("option"));e.type="checkbox",be.checkOn=""!==e.value,be.optSelected=t.selected,(e=_e.createElement("input")).value="t",e.type="radio",be.radioValue="t"===e.value}();var St,Et=ke.expr.attrHandle;ke.fn.extend({attr:function(e,t){return je(this,ke.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){ke.removeAttr(this,e)}))}}),ke.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?ke.prop(e,t,n):(1===r&&ke.isXMLDoc(e)||(o=ke.attrHooks[t.toLowerCase()]||(ke.expr.match.bool.test(t)?St:void 0)),void 0!==n?null===n?void ke.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=ke.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!be.radioValue&&"radio"===t&&r(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Me);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),St={set:function(e,t,n){return!1===t?ke.removeAttr(e,n):e.setAttribute(n,n),n}},ke.each(ke.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Et[t]||ke.find.attr;Et[t]=function(e,t,i){var o,r,a=t.toLowerCase();return i||(r=Et[a],Et[a]=o,o=null!=n(e,t,i)?a:null,Et[a]=r),o}}));var Tt=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;ke.fn.extend({prop:function(e,t){return je(this,ke.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[ke.propFix[e]||e]}))}}),ke.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ke.isXMLDoc(e)||(t=ke.propFix[t]||t,o=ke.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ke.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),be.optSelected||(ke.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ke.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){ke.propFix[this.toLowerCase()]=this})),ke.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(ye(e))return this.each((function(t){ke(this).addClass(e.call(this,t,J(this)))}));if((t=ee(e)).length)for(;n=this[l++];)if(o=J(n),i=1===n.nodeType&&" "+Z(o)+" "){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=Z(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(ye(e))return this.each((function(t){ke(this).removeClass(e.call(this,t,J(this)))}));if(!arguments.length)return this.attr("class","");if((t=ee(e)).length)for(;n=this[l++];)if(o=J(n),i=1===n.nodeType&&" "+Z(o)+" "){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(s=Z(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):ye(e)?this.each((function(n){ke(this).toggleClass(e.call(this,n,J(this),t),t)})):this.each((function(){var t,o,r,a;if(i)for(o=0,r=ke(this),a=ee(e);t=a[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=J(this))&&He.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":He.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Z(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ot=/\r/g;ke.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=ye(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,ke(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=ke.map(o,(function(e){return null==e?"":e+""}))),(t=ke.valHooks[this.type]||ke.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=ke.valHooks[o.type]||ke.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Ot,""):null==n?"":n:void 0}}),ke.extend({valHooks:{option:{get:function(e){var t=ke.find.attr(e,"value");return null!=t?t:Z(ke.text(e))}},select:{get:function(e){var t,n,i,o=e.options,a=e.selectedIndex,s="select-one"===e.type,l=s?null:[],c=s?a+1:o.length;for(i=a<0?c:s?a:0;i<c;i++)if(((n=o[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!r(n.parentNode,"optgroup"))){if(t=ke(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,i,o=e.options,r=ke.makeArray(t),a=o.length;a--;)((i=o[a]).selected=ke.inArray(ke.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ke.each(["radio","checkbox"],(function(){ke.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ke.inArray(ke(e).val(),t)>-1}},be.checkOn||(ke.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),be.focusin="onfocusin"in e;var Dt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};ke.extend(ke.event,{trigger:function(t,n,i,o){var r,a,s,l,c,u,d,h,p=[i||_e],f=me.call(t,"type")?t.type:t,m=me.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=i=i||_e,3!==i.nodeType&&8!==i.nodeType&&!Dt.test(f+ke.event.triggered)&&(f.indexOf(".")>-1&&(m=f.split("."),f=m.shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,(t=t[ke.expando]?t:new ke.Event(f,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ke.makeArray(n,[t]),d=ke.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!we(i)){for(l=d.delegateType||f,Dt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||_e)&&p.push(s.defaultView||s.parentWindow||e)}for(r=0;(a=p[r++])&&!t.isPropagationStopped();)h=a,t.type=r>1?l:d.bindType||f,(u=(He.get(a,"events")||Object.create(null))[t.type]&&He.get(a,"handle"))&&u.apply(a,n),(u=c&&a[c])&&u.apply&&Be(a)&&(t.result=u.apply(a,n),!1===t.result&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!Be(i)||c&&ye(i[f])&&!we(i)&&((s=i[c])&&(i[c]=null),ke.event.triggered=f,t.isPropagationStopped()&&h.addEventListener(f,It),i[f](),t.isPropagationStopped()&&h.removeEventListener(f,It),ke.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var i=ke.extend(new ke.Event,n,{type:e,isSimulated:!0});ke.event.trigger(i,null,t)}}),ke.fn.extend({trigger:function(e,t){return this.each((function(){ke.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return ke.event.trigger(e,t,n,!0)}}),be.focusin||ke.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){ke.event.simulate(t,e.target,ke.event.fix(e))};ke.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,o=He.access(i,t);o||i.addEventListener(e,n,!0),He.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=He.access(i,t)-1;o?He.access(i,t,o):(i.removeEventListener(e,n,!0),He.remove(i,t))}}}));var Pt=e.location,Nt={guid:Date.now()},Mt=/\?/;ke.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||ke.error("Invalid XML: "+(i?ke.map(i.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Lt=/\[\]$/,$t=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;ke.param=function(e,t){var n,i=[],o=function(e,t){var n=ye(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ke.isPlainObject(e))ke.each(e,(function(){o(this.name,this.value)}));else for(n in e)te(n,e[n],t,o);return i.join("&")},ke.fn.extend({serialize:function(){return ke.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=ke.prop(this,"elements");return e?ke.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!ke(this).is(":disabled")&&Rt.test(this.nodeName)&&!jt.test(e)&&(this.checked||!tt.test(e))})).map((function(e,t){var n=ke(this).val();return null==n?null:Array.isArray(n)?ke.map(n,(function(e){return{name:t.name,value:e.replace($t,"\r\n")}})):{name:t.name,value:n.replace($t,"\r\n")}})).get()}});var Ft=/%20/g,Bt=/#.*$/,Ht=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Wt=/^\/\//,Vt={},Yt={},Kt="*/".concat("*"),Gt=_e.createElement("a");Gt.href=Pt.href,ke.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:qt.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ke.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?oe(oe(e,ke.ajaxSettings),t):oe(ke.ajaxSettings,e)},ajaxPrefilter:ne(Vt),ajaxTransport:ne(Yt),ajax:function(t,n){function i(t,n,i,s){var c,h,p,w,_,C=n;u||(u=!0,l&&e.clearTimeout(l),o=void 0,a=s||"",x.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(w=re(f,x,i)),!c&&ke.inArray("script",f.dataTypes)>-1&&ke.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),w=ae(f,w,x,c),c?(f.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(ke.lastModified[r]=_),(_=x.getResponseHeader("etag"))&&(ke.etag[r]=_)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=w.state,h=w.data,c=!(p=w.error))):(p=C,!t&&C||(C="error",t<0&&(t=0))),x.status=t,x.statusText=(n||C)+"",c?v.resolveWith(m,[h,C,x]):v.rejectWith(m,[x,C,p]),x.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?h:p]),b.fireWith(m,[x,C]),d&&(g.trigger("ajaxComplete",[x,f]),--ke.active||ke.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,r,a,s,l,c,u,d,h,p,f=ke.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?ke(m):ke.event,v=ke.Deferred(),b=ke.Callbacks("once memory"),y=f.statusCode||{},w={},_={},C="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=zt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)x.always(e[x.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return o&&o.abort(t),i(0,t),this}};if(v.promise(x),f.url=((t||f.url||Pt.href)+"").replace(Wt,Pt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Me)||[""],null==f.crossDomain){c=_e.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Gt.protocol+"//"+Gt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ke.param(f.data,f.traditional)),ie(Vt,f,n,x),u)return x;for(h in(d=ke.event&&f.global)&&0==ke.active++&&ke.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ut.test(f.type),r=f.url.replace(Bt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ft,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Mt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ht,"$1"),p=(Mt.test(r)?"&":"?")+"_="+Nt.guid+++p),f.url=r+p),f.ifModified&&(ke.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ke.lastModified[r]),ke.etag[r]&&x.setRequestHeader("If-None-Match",ke.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Kt+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(m,x,f)||u))return x.abort();if(C="abort",b.add(f.complete),x.done(f.success),x.fail(f.error),o=ie(Yt,f,n,x)){if(x.readyState=1,d&&g.trigger("ajaxSend",[x,f]),u)return x;f.async&&f.timeout>0&&(l=e.setTimeout((function(){x.abort("timeout")}),f.timeout));try{u=!1,o.send(w,i)}catch(e){if(u)throw e;i(-1,e)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return ke.get(e,t,n,"json")},getScript:function(e,t){return ke.get(e,void 0,t,"script")}}),ke.each(["get","post"],(function(e,t){ke[t]=function(e,n,i,o){return ye(n)&&(o=o||i,i=n,n=void 0),ke.ajax(ke.extend({url:e,type:t,dataType:o,data:n,success:i},ke.isPlainObject(e)&&e))}})),ke.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),ke._evalUrl=function(e,t,n){return ke.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ke.globalEval(e,t,n)}})},ke.fn.extend({wrapAll:function(e){var t;return this[0]&&(ye(e)&&(e=e.call(this[0])),t=ke(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return ye(e)?this.each((function(t){ke(this).wrapInner(e.call(this,t))})):this.each((function(){var t=ke(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=ye(e);return this.each((function(n){ke(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){ke(this).replaceWith(this.childNodes)})),this}}),ke.expr.pseudos.hidden=function(e){return!ke.expr.pseudos.visible(e)},ke.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ke.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Xt=ke.ajaxSettings.xhr();be.cors=!!Xt&&"withCredentials"in Xt,be.ajax=Xt=!!Xt,ke.ajaxTransport((function(t){var n,i;if(be.cors||Xt&&!t.crossDomain)return{send:function(o,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),ke.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),ke.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ke.globalEval(e),e}}}),ke.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),ke.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=ke("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),_e.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Zt,Jt=[],en=/(=)\?(?=&|$)|\?\?/;ke.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||ke.expando+"_"+Nt.guid++;return this[e]=!0,e}}),ke.ajaxPrefilter("json jsonp",(function(t,n,i){var o,r,a,s=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=ye(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+o):!1!==t.jsonp&&(t.url+=(Mt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||ke.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},i.always((function(){void 0===r?ke(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=n.jsonpCallback,Jt.push(o)),a&&ye(r)&&r(a[0]),a=r=void 0})),"script"})),be.createHTMLDocument=((Zt=_e.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Zt.childNodes.length),ke.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(be.createHTMLDocument?((i=(t=_e.implementation.createHTMLDocument("")).createElement("base")).href=_e.location.href,t.head.appendChild(i)):t=_e),r=!n&&[],(o=Oe.exec(e))?[t.createElement(o[1])]:(o=x([e],t,r),r&&r.length&&ke(r).remove(),ke.merge([],o.childNodes)));var i,o,r},ke.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return s>-1&&(i=Z(e.slice(s)),e=e.slice(0,s)),ye(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ke.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){r=arguments,a.html(i?ke("<div>").append(ke.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},ke.expr.pseudos.animated=function(e){return ke.grep(ke.timers,(function(t){return e===t.elem})).length},ke.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,c=ke.css(e,"position"),u=ke(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),r=ke.css(e,"top"),l=ke.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(a=(i=u.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ye(t)&&(t=t.call(e,n,ke.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},ke.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){ke.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===ke.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===ke.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=ke(e).offset()).top+=ke.css(e,"borderTopWidth",!0),o.left+=ke.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-ke.css(i,"marginTop",!0),left:t.left-o.left-ke.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===ke.css(e,"position");)e=e.offsetParent;return e||Ke}))}}),ke.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;ke.fn[e]=function(i){return je(this,(function(e,i,o){var r;if(we(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o}),e,i,arguments.length)}})),ke.each(["top","left"],(function(e,t){ke.cssHooks[t]=R(be.pixelPosition,(function(e,n){if(n)return n=j(e,t),ut.test(n)?ke(e).position()[t]+"px":n}))})),ke.each({Height:"height",Width:"width"},(function(e,t){ke.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){ke.fn[i]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===r?"margin":"border");return je(this,(function(t,n,o){var r;return we(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?ke.css(t,n,s):ke.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),ke.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){ke.fn[t]=function(e){return this.on(t,e)}})),ke.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),
ke.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){ke.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var tn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;ke.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),ye(e))return i=ce.call(arguments,2),o=function(){return e.apply(t||this,i.concat(ce.call(arguments)))},o.guid=e.guid=e.guid||ke.guid++,o},ke.holdReady=function(e){e?ke.readyWait++:ke.ready(!0)},ke.isArray=Array.isArray,ke.parseJSON=JSON.parse,ke.nodeName=r,ke.isFunction=ye,ke.isWindow=we,ke.camelCase=f,ke.type=i,ke.now=Date.now,ke.isNumeric=function(e){var t=ke.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ke.trim=function(e){return null==e?"":(e+"").replace(tn,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return ke}));var nn=e.jQuery,on=e.$;return ke.noConflict=function(t){return e.$===ke&&(e.$=on),t&&e.jQuery===ke&&(e.jQuery=nn),ke},void 0===t&&(e.jQuery=e.$=ke),ke})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,(function(){"use strict";function e(e){return e&&"[object Function]"==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function n(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function i(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var o=t(e),r=o.overflow,a=o.overflowX,s=o.overflowY;return/(auto|scroll|overlay)/.test(r+s+a)?e:i(n(e))}function o(e){return e&&e.referenceNode?e.referenceNode:e}function r(e){return 11===e?oe:10===e?re:oe||re}function a(e){if(!e)return document.documentElement;for(var n=r(10)?document.body:null,i=e.offsetParent||null;i===n&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var o=i&&i.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===t(i,"position")?a(i):i:e?e.ownerDocument.documentElement:document.documentElement}function s(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||a(e.firstElementChild)===e)}function l(e){return null===e.parentNode?e:l(e.parentNode)}function c(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var u=r.commonAncestorContainer;if(e!==u&&t!==u||i.contains(o))return s(u)?u:a(u);var d=l(e);return d.host?c(d.host,t):c(e,l(t).host)}function u(e){var t="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function d(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=u(t,"top"),o=u(t,"left"),r=n?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=o*r,e.right+=o*r,e}function h(e,t){var n="x"===t?"Left":"Top",i="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function p(e,t,n,i){return ee(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],r(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function f(e){var t=e.body,n=e.documentElement,i=r(10)&&getComputedStyle(n);return{height:p("Height",t,n,i),width:p("Width",t,n,i)}}function m(e){return ce({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var n={};try{if(r(10)){n=e.getBoundingClientRect();var i=u(e,"top"),o=u(e,"left");n.top+=i,n.left+=o,n.bottom+=i,n.right+=o}else n=e.getBoundingClientRect()}catch(e){}var a={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===e.nodeName?f(e.ownerDocument):{},l=s.width||e.clientWidth||a.width,c=s.height||e.clientHeight||a.height,d=e.offsetWidth-l,p=e.offsetHeight-c;if(d||p){var g=t(e);d-=h(g,"x"),p-=h(g,"y"),a.width-=d,a.height-=p}return m(a)}function v(e,n){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=r(10),s="HTML"===n.nodeName,l=g(e),c=g(n),u=i(e),h=t(n),p=parseFloat(h.borderTopWidth,10),f=parseFloat(h.borderLeftWidth,10);o&&s&&(c.top=ee(c.top,0),c.left=ee(c.left,0));var v=m({top:l.top-c.top-p,left:l.left-c.left-f,width:l.width,height:l.height});if(v.marginTop=0,v.marginLeft=0,!a&&s){var b=parseFloat(h.marginTop,10),y=parseFloat(h.marginLeft,10);v.top-=p-b,v.bottom-=p-b,v.left-=f-y,v.right-=f-y,v.marginTop=b,v.marginLeft=y}return(a&&!o?n.contains(u):n===u&&"BODY"!==u.nodeName)&&(v=d(v,n)),v}function b(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=v(e,n),o=ee(n.clientWidth,window.innerWidth||0),r=ee(n.clientHeight,window.innerHeight||0),a=t?0:u(n),s=t?0:u(n,"left");return m({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r})}function y(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===t(e,"position"))return!0;var o=n(e);return!!o&&y(o)}function w(e){if(!e||!e.parentElement||r())return document.documentElement;for(var n=e.parentElement;n&&"none"===t(n,"transform");)n=n.parentElement;return n||document.documentElement}function _(e,t,r,a){var s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},u=s?w(e):c(e,o(t));if("viewport"===a)l=b(u,s);else{var d;"scrollParent"===a?"BODY"===(d=i(n(t))).nodeName&&(d=e.ownerDocument.documentElement):d="window"===a?e.ownerDocument.documentElement:a;var h=v(d,u,s);if("HTML"!==d.nodeName||y(u))l=h;else{var p=f(e.ownerDocument),m=p.height,g=p.width;l.top+=h.top-h.marginTop,l.bottom=m+h.top,l.left+=h.left-h.marginLeft,l.right=g+h.left}}var _="number"==typeof(r=r||0);return l.left+=_?r:r.left||0,l.top+=_?r:r.top||0,l.right-=_?r:r.right||0,l.bottom-=_?r:r.bottom||0,l}function C(e){return e.width*e.height}function x(e,t,n,i,o){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=_(n,i,r,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return ce({key:e},s[e],{area:C(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=0<c.length?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function k(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return v(n,i?w(t):c(t,o(n)),i)}function S(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function E(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function T(e,t,n){n=n.split("-")[0];var i=S(e),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[a]=t[a]+t[l]/2-i[l]/2,o[s]=n===s?t[s]-i[c]:t[E(s)],o}function A(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function O(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=A(e,(function(e){return e[t]===n}));return e.indexOf(i)}function D(t,n,i){return(void 0===i?t:t.slice(0,O(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&e(i)&&(n.offsets.popper=m(n.offsets.popper),n.offsets.reference=m(n.offsets.reference),n=i(n,t))})),n}function I(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=k(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=x(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=T(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function P(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function N(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],r=o?""+o+n:e;if(void 0!==document.body.style[r])return r}return null}function M(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function L(e){var t=e.ownerDocument;return t?t.defaultView:window}function $(e,t,n,o){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),r||$(i(a.parentNode),t,n,o),o.push(a)}function j(e,t,n,o){n.updateBound=o,L(e).addEventListener("resize",n.updateBound,{passive:!0});var r=i(e);return $(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function R(){this.state.eventsEnabled||(this.state=j(this.reference,this.options,this.state,this.scheduleUpdate))}function F(e,t){return L(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function B(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=F(this.reference,this.state))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(i="px"),e.style[n]=t[n]+i}))}function q(e,t){Object.keys(t).forEach((function(n){!1===t[n]?e.removeAttribute(n):e.setAttribute(n,t[n])}))}function U(e,t){var n=e.offsets,i=n.popper,o=n.reference,r=J,a=function(e){return e},s=r(o.width),l=r(i.width),c=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),d=t?c||u||s%2==l%2?r:Z:a,h=t?r:a;return{left:d(1==s%2&&1==l%2&&!u&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:d(i.right)}}function W(e,t,n){var i=A(e,(function(e){return e.name===t})),o=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!o){var r="`"+t+"`";console.warn("`"+n+"` modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function V(e){return"end"===e?"start":"start"===e?"end":e}function Y(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=he.indexOf(e),i=he.slice(n+1).concat(he.slice(0,n));return t?i.reverse():i}function K(e,t,n,i){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return e;if(0===a.indexOf("%")){var s;if("%p"===a)s=n;else s=i;return m(s)[t]/100*r}return"vh"===a||"vw"===a?("vh"===a?ee(document.documentElement.clientHeight,window.innerHeight||0):ee(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r}function G(e,t,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(A(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1===s?[a]:[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))];return c=c.map((function(e,i){var o=(1===i?!r:r)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return K(e,o,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,i){H(n)&&(o[t]+=n*("-"===e[i-1]?-1:1))}))})),o}function Q(e,t){var n,i=t.offset,o=e.placement,r=e.offsets,a=r.popper,s=r.reference,l=o.split("-")[0];return n=H(+i)?[+i,0]:G(i,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e}var X=Math.min,Z=Math.floor,J=Math.round,ee=Math.max,te="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,ne=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(te&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}(),ie=te&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),ne))}},oe=te&&!(!window.MSInputMethodContext||!document.documentMode),re=te&&/MSIE 10/.test(navigator.userAgent),ae=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},se=function(){function e(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),le=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ce=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ue=te&&/Firefox/i.test(navigator.userAgent),de=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],he=de.slice(3),pe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},fe=function(){function t(n,i){var o=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ae(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=ie(this.update.bind(this)),this.options=ce({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(ce({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){o.options.modifiers[e]=ce({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return ce({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(t){t.enabled&&e(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return se(t,[{key:"update",value:function(){return I.call(this)}},{key:"destroy",value:function(){return M.call(this)}},{key:"enableEventListeners",value:function(){return R.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),t}();return fe.Utils=("undefined"==typeof window?global:window).PopperUtils,fe.placements=de,fe.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var o=e.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:le({},l,r[l]),end:le({},l,r[l]+r[c]-a[c])};e.offsets.popper=ce({},a,u[i])}return e}},offset:{order:200,enabled:!0,fn:Q,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||a(e.instance.popper);e.instance.reference===n&&(n=a(n));var i=N("transform"),o=e.instance.popper.style,r=o.top,s=o.left,l=o[i];o.top="",o.left="",o[i]="";var c=_(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=r,o.left=s,o[i]=l,t.boundaries=c;var u=t.priority,d=e.offsets.popper,h={primary:function(e){var n=d[e];return d[e]<c[e]&&!t.escapeWithReference&&(n=ee(d[e],c[e])),le({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=d[n];return d[e]>c[e]&&!t.escapeWithReference&&(i=X(d[n],c[e]-("right"===e?d.width:d.height))),le({},n,i)}};return u.forEach((function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";d=ce({},d,h[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,o=e.placement.split("-")[0],r=Z,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(i[l])&&(e.offsets.popper[l]=r(i[l])-n[c]),n[l]>r(i[s])&&(e.offsets.popper[l]=r(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,n){var i;if(!W(e.instance.modifiers,"arrow","keepTogether"))return e;var o=n.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",g=S(o)[u];l[f]-g<s[h]&&(e.offsets.popper[h]-=s[h]-(l[f]-g)),l[h]+g>s[f]&&(e.offsets.popper[h]+=l[h]+g-s[f]),e.offsets.popper=m(e.offsets.popper);var v=l[h]+l[u]/2-g/2,b=t(e.instance.popper),y=parseFloat(b["margin"+d],10),w=parseFloat(b["border"+d+"Width"],10),_=v-e.offsets.popper[h]-y-w;return _=ee(X(s[u]-g,_),0),e.arrowElement=o,e.offsets.arrow=(le(i={},h,J(_)),le(i,p,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(P(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=_(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],o=E(i),r=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case pe.FLIP:a=[i,o];break;case pe.CLOCKWISE:a=Y(i);break;case pe.COUNTERCLOCKWISE:a=Y(i,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],o=E(i);var c=e.offsets.popper,u=e.offsets.reference,d=Z,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),f=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,b=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(b&&"start"===r&&p||b&&"end"===r&&f||!b&&"start"===r&&m||!b&&"end"===r&&g),w=!!t.flipVariationsByContent&&(b&&"start"===r&&f||b&&"end"===r&&p||!b&&"start"===r&&g||!b&&"end"===r&&m),_=y||w;(h||v||_)&&(e.flipped=!0,(h||v)&&(i=a[l+1]),_&&(r=V(r)),e.placement=i+(r?"-"+r:""),e.offsets.popper=ce({},e.offsets.popper,T(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),e.placement=E(t),e.offsets.popper=m(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!W(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=A(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,o=e.offsets.popper,r=A(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,l,c=void 0===r?t.gpuAcceleration:r,u=a(e.instance.popper),d=g(u),h={position:o.position},p=U(e,2>window.devicePixelRatio||!ue),f="bottom"===n?"top":"bottom",m="right"===i?"left":"right",v=N("transform");if(l="bottom"==f?"HTML"===u.nodeName?-u.clientHeight+p.bottom:-d.height+p.bottom:p.top,s="right"==m?"HTML"===u.nodeName?-u.clientWidth+p.right:-d.width+p.right:p.left,c&&v)h[v]="translate3d("+s+"px, "+l+"px, 0)",h[f]=0,h[m]=0,h.willChange="transform";else{var b="bottom"==f?-1:1,y="right"==m?-1:1;h[f]=l*b,h[m]=s*y,h.willChange=f+", "+m}var w={"x-placement":e.placement};return e.attributes=ce({},w,e.attributes),e.styles=ce({},h,e.styles),e.arrowStyles=ce({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return z(e.instance.popper,e.styles),q(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,o){var r=k(o,t,e,n.positionFixed),a=x(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},fe})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)}(this,(function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var l=function(e){function t(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function n(){return{bindType:r,delegateType:r,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function i(t){var n=this,i=!1;return e(this).one(l.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||l.triggerTransitionEnd(n)}),t),this}function o(){e.fn.emulateTransitionEnd=i,e.event.special[l.TRANSITION_END]=n()}var r="transitionend",a=1e6,s=1e3,l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(Math.random()*a)}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],parseFloat(n)*s):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(r)},supportsTransitionEnd:function(){return Boolean(r)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,n,i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var r=i[o],a=n[o],s=a&&l.isElement(a)?"element":t(a);if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+s+'" but expected type "'+r+'".')}}};return o(),l}(t),c=function(e){var t="alert",n="4.1.3",i="bs.alert",r="."+i,a=".data-api",s=e.fn[t],c={DISMISS:'[data-dismiss="alert"]'},u={CLOSE:"close"+r,CLOSED:"closed"+r,CLICK_DATA_API:"click"+r+a},d={ALERT:"alert",FADE:"fade",SHOW:"show"},h=function(){function t(e){this._element=e}var r=t.prototype;return r.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},r.dispose=function(){e.removeData(this._element,i),this._element=null},r._getRootElement=function(t){var n=l.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+d.ALERT)[0]),i},r._triggerCloseEvent=function(t){var n=e.Event(u.CLOSE);return e(t).trigger(n),n},r._removeElement=function(t){var n=this;if(e(t).removeClass(d.SHOW),e(t).hasClass(d.FADE)){var i=l.getTransitionDurationFromElement(t);e(t).one(l.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},r._destroyElement=function(t){e(t).detach().trigger(u.CLOSED).remove()},t._jQueryInterface=function(n){return this.each((function(){var o=e(this),r=o.data(i);r||(r=new t(this),o.data(i,r)),"close"===n&&r[n](this)}))},t._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},o(t,null,[{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(u.CLICK_DATA_API,c.DISMISS,h._handleDismiss(new h)),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=s,h._jQueryInterface},h}(t),u=function(e){var t="button",n="4.1.3",i="bs.button",r="."+i,a=".data-api",s=e.fn[t],l={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},c={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},u={CLICK_DATA_API:"click"+r+a,FOCUS_BLUR_DATA_API:"focus"+r+a+" blur"+r+a},d=function(){function t(e){this._element=e}var r=t.prototype;return r.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(c.DATA_TOGGLE)[0];if(i){var o=this._element.querySelector(c.INPUT);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(l.ACTIVE))t=!1;else{var r=i.querySelector(c.ACTIVE);r&&e(r).removeClass(l.ACTIVE)}if(t){if(o.hasAttribute("disabled")||i.hasAttribute("disabled")||o.classList.contains("disabled")||i.classList.contains("disabled"))return;o.checked=!this._element.classList.contains(l.ACTIVE),e(o).trigger("change")}o.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(l.ACTIVE)),t&&e(this._element).toggleClass(l.ACTIVE)},r.dispose=function(){e.removeData(this._element,i),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var o=e(this).data(i);o||(o=new t(this),e(this).data(i,o)),"toggle"===n&&o[n]()}))},o(t,null,[{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(u.CLICK_DATA_API,c.DATA_TOGGLE_CARROT,(function(t){t.preventDefault();var n=t.target;e(n).hasClass(l.BUTTON)||(n=e(n).closest(c.BUTTON)),d._jQueryInterface.call(e(n),"toggle")})).on(u.FOCUS_BLUR_DATA_API,c.DATA_TOGGLE_CARROT,(function(t){var n=e(t.target).closest(c.BUTTON)[0];e(n).toggleClass(l.FOCUS,/^focus(in)?$/.test(t.type))})),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=s,d._jQueryInterface},d}(t),d=function(e){var t="carousel",n="4.1.3",i="bs.carousel",r="."+i,s=".data-api",c=e.fn[t],u=37,d=39,h=500,p={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},f={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},m={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},g={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,TOUCHEND:"touchend"+r,LOAD_DATA_API:"load"+r+s,CLICK_DATA_API:"click"+r+s},v={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},b={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},y=function(){function s(t,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=this._element.querySelector(b.INDICATORS),this._addEventListeners()}var c=s.prototype;return c.next=function(){this._isSliding||this._slide(m.NEXT)},c.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},c.prev=function(){this._isSliding||this._slide(m.PREV)},c.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(b.NEXT_PREV)&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},c.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},c.to=function(t){var n=this;this._activeElement=this._element.querySelector(b.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(g.SLID,(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var o=t>i?m.NEXT:m.PREV;this._slide(o,this._items[t])}},c.dispose=function(){e(this._element).off(r),e.removeData(this._element,i),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},c._getConfig=function(e){return e=a({},p,e),l.typeCheckConfig(t,e,f),e},c._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(g.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(e(this._element).on(g.MOUSEENTER,(function(e){return t.pause(e)})).on(g.MOUSELEAVE,(function(e){return t.cycle(e)})),"ontouchstart"in document.documentElement&&e(this._element).on(g.TOUCHEND,(function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),h+t._config.interval)})))},c._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case u:e.preventDefault(),this.prev();break;case d:e.preventDefault(),this.next()}},c._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(b.ITEM)):[],this._items.indexOf(e)},c._getItemByDirection=function(e,t){var n=e===m.NEXT,i=e===m.PREV,o=this._getItemIndex(t),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return t;var a=(o+(e===m.PREV?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},c._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(b.ACTIVE_ITEM)),r=e.Event(g.SLIDE,{relatedTarget:t,direction:n,from:o,to:i});return e(this._element).trigger(r),r},c._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(b.ACTIVE));e(n).removeClass(v.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(v.ACTIVE)}},c._slide=function(t,n){var i,o,r,a=this,s=this._element.querySelector(b.ACTIVE_ITEM),c=this._getItemIndex(s),u=n||s&&this._getItemByDirection(t,s),d=this._getItemIndex(u),h=Boolean(this._interval);if(t===m.NEXT?(i=v.LEFT,o=v.NEXT,r=m.LEFT):(i=v.RIGHT,o=v.PREV,r=m.RIGHT),u&&e(u).hasClass(v.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&s&&u){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(u)
;var p=e.Event(g.SLID,{relatedTarget:u,direction:r,from:c,to:d});if(e(this._element).hasClass(v.SLIDE)){e(u).addClass(o),l.reflow(u),e(s).addClass(i),e(u).addClass(i);var f=l.getTransitionDurationFromElement(s);e(s).one(l.TRANSITION_END,(function(){e(u).removeClass(i+" "+o).addClass(v.ACTIVE),e(s).removeClass(v.ACTIVE+" "+o+" "+i),a._isSliding=!1,setTimeout((function(){return e(a._element).trigger(p)}),0)})).emulateTransitionEnd(f)}else e(s).removeClass(v.ACTIVE),e(u).addClass(v.ACTIVE),this._isSliding=!1,e(this._element).trigger(p);h&&this.cycle()}},s._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(i),o=a({},p,e(this).data());"object"==typeof t&&(o=a({},o,t));var r="string"==typeof t?t:o.slide;if(n||(n=new s(this,o),e(this).data(i,n)),"number"==typeof t)n.to(t);else if("string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}else o.interval&&(n.pause(),n.cycle())}))},s._dataApiClickHandler=function(t){var n=l.getSelectorFromElement(this);if(n){var o=e(n)[0];if(o&&e(o).hasClass(v.CAROUSEL)){var r=a({},e(o).data(),e(this).data()),c=this.getAttribute("data-slide-to");c&&(r.interval=!1),s._jQueryInterface.call(e(o),r),c&&e(o).data(i).to(c),t.preventDefault()}}},o(s,null,[{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return p}}]),s}();return e(document).on(g.CLICK_DATA_API,b.DATA_SLIDE,y._dataApiClickHandler),e(window).on(g.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(b.DATA_RIDE)),n=0,i=t.length;n<i;n++){var o=e(t[n]);y._jQueryInterface.call(o,o.data())}})),e.fn[t]=y._jQueryInterface,e.fn[t].Constructor=y,e.fn[t].noConflict=function(){return e.fn[t]=c,y._jQueryInterface},y}(t),h=function(e){var t="collapse",n="4.1.3",i="bs.collapse",r="."+i,s=".data-api",c=e.fn[t],u={toggle:!0,parent:""},d={toggle:"boolean",parent:"(string|element)"},h={SHOW:"show"+r,SHOWN:"shown"+r,HIDE:"hide"+r,HIDDEN:"hidden"+r,CLICK_DATA_API:"click"+r+s},p={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},f={WIDTH:"width",HEIGHT:"height"},m={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},g=function(){function r(t,n){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(n),this._triggerArray=e.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(m.DATA_TOGGLE)),o=0,r=i.length;o<r;o++){var a=i[o],s=l.getSelectorFromElement(a),c=[].slice.call(document.querySelectorAll(s)).filter((function(e){return e===t}));null!==s&&c.length>0&&(this._selector=s,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var s=r.prototype;return s.toggle=function(){e(this._element).hasClass(p.SHOW)?this.hide():this.show()},s.show=function(){var t,n,o=this;if(!this._isTransitioning&&!e(this._element).hasClass(p.SHOW)&&(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(m.ACTIVES)).filter((function(e){return e.getAttribute("data-parent")===o._config.parent}))).length&&(t=null),!(t&&(n=e(t).not(this._selector).data(i))&&n._isTransitioning))){var a=e.Event(h.SHOW);if(e(this._element).trigger(a),!a.isDefaultPrevented()){t&&(r._jQueryInterface.call(e(t).not(this._selector),"hide"),n||e(t).data(i,null));var s=this._getDimension();e(this._element).removeClass(p.COLLAPSE).addClass(p.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(p.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var c=function(){e(o._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).addClass(p.SHOW),o._element.style[s]="",o.setTransitioning(!1),e(o._element).trigger(h.SHOWN)},u="scroll"+(s[0].toUpperCase()+s.slice(1)),d=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,c).emulateTransitionEnd(d),this._element.style[s]=this._element[u]+"px"}}},s.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(p.SHOW)){var n=e.Event(h.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",l.reflow(this._element),e(this._element).addClass(p.COLLAPSING).removeClass(p.COLLAPSE).removeClass(p.SHOW);var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var a=this._triggerArray[r],s=l.getSelectorFromElement(a);if(null!==s)e([].slice.call(document.querySelectorAll(s))).hasClass(p.SHOW)||e(a).addClass(p.COLLAPSED).attr("aria-expanded",!1)}this.setTransitioning(!0);var c=function(){t.setTransitioning(!1),e(t._element).removeClass(p.COLLAPSING).addClass(p.COLLAPSE).trigger(h.HIDDEN)};this._element.style[i]="";var u=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,c).emulateTransitionEnd(u)}}},s.setTransitioning=function(e){this._isTransitioning=e},s.dispose=function(){e.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},s._getConfig=function(e){return(e=a({},u,e)).toggle=Boolean(e.toggle),l.typeCheckConfig(t,e,d),e},s._getDimension=function(){return e(this._element).hasClass(f.WIDTH)?f.WIDTH:f.HEIGHT},s._getParent=function(){var t=this,n=null;l.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(i));return e(o).each((function(e,n){t._addAriaAndCollapsedClass(r._getTargetFromElement(n),[n])})),n},s._addAriaAndCollapsedClass=function(t,n){if(t){var i=e(t).hasClass(p.SHOW);n.length&&e(n).toggleClass(p.COLLAPSED,!i).attr("aria-expanded",i)}},r._getTargetFromElement=function(e){var t=l.getSelectorFromElement(e);return t?document.querySelector(t):null},r._jQueryInterface=function(t){return this.each((function(){var n=e(this),o=n.data(i),s=a({},u,n.data(),"object"==typeof t&&t?t:{});if(!o&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),o||(o=new r(this,s),n.data(i,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t]()}}))},o(r,null,[{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return u}}]),r}();return e(document).on(h.CLICK_DATA_API,m.DATA_TOGGLE,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),o=l.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(o));e(r).each((function(){var t=e(this),o=t.data(i)?"toggle":n.data();g._jQueryInterface.call(t,o)}))})),e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=c,g._jQueryInterface},g}(t),p=function(e){var t="dropdown",i="4.1.3",r="bs.dropdown",s="."+r,c=".data-api",u=e.fn[t],d=27,h=32,p=9,f=38,m=40,g=3,v=new RegExp(f+"|"+m+"|"+d),b={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+c,KEYDOWN_DATA_API:"keydown"+s+c,KEYUP_DATA_API:"keyup"+s+c},y={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},w={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},_={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},C={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},x={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},k=function(){function c(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var u=c.prototype;return u.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(y.DISABLED)){var t=c._getParentFromElement(this._element),i=e(this._menu).hasClass(y.SHOW);if(c._clearMenus(),!i){var o={relatedTarget:this._element},r=e.Event(b.SHOW,o);if(e(t).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=t:l.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(t).addClass(y.POSITION_STATIC),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(w.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(y.SHOW),e(t).toggleClass(y.SHOW).trigger(e.Event(b.SHOWN,o))}}}},u.dispose=function(){e.removeData(this._element,r),e(this._element).off(s),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},u.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},u._addEventListeners=function(){var t=this;e(this._element).on(b.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},u._getConfig=function(n){return n=a({},this.constructor.Default,e(this._element).data(),n),l.typeCheckConfig(t,n,this.constructor.DefaultType),n},u._getMenuElement=function(){if(!this._menu){var e=c._getParentFromElement(this._element);e&&(this._menu=e.querySelector(w.MENU))}return this._menu},u._getPlacement=function(){var t=e(this._element.parentNode),n=_.BOTTOM;return t.hasClass(y.DROPUP)?(n=_.TOP,e(this._menu).hasClass(y.MENURIGHT)&&(n=_.TOPEND)):t.hasClass(y.DROPRIGHT)?n=_.RIGHT:t.hasClass(y.DROPLEFT)?n=_.LEFT:e(this._menu).hasClass(y.MENURIGHT)&&(n=_.BOTTOMEND),n},u._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},u._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},c._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(r);if(n||(n=new c(this,"object"==typeof t?t:null),e(this).data(r,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},c._clearMenus=function(t){if(!t||t.which!==g&&("keyup"!==t.type||t.which===p))for(var n=[].slice.call(document.querySelectorAll(w.DATA_TOGGLE)),i=0,o=n.length;i<o;i++){var a=c._getParentFromElement(n[i]),s=e(n[i]).data(r),l={relatedTarget:n[i]};if(t&&"click"===t.type&&(l.clickEvent=t),s){var u=s._menu;if(e(a).hasClass(y.SHOW)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===p)&&e.contains(a,t.target))){var d=e.Event(b.HIDE,l);e(a).trigger(d),d.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[i].setAttribute("aria-expanded","false"),e(u).removeClass(y.SHOW),e(a).removeClass(y.SHOW).trigger(e.Event(b.HIDDEN,l)))}}}},c._getParentFromElement=function(e){var t,n=l.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},c._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?t.which===h||t.which!==d&&(t.which!==m&&t.which!==f||e(t.target).closest(w.MENU).length):!v.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass(y.DISABLED))){var n=c._getParentFromElement(this),i=e(n).hasClass(y.SHOW);if((i||t.which===d&&t.which===h)&&(!i||t.which!==d&&t.which!==h)){var o=[].slice.call(n.querySelectorAll(w.VISIBLE_ITEMS));if(0!==o.length){var r=o.indexOf(t.target);t.which===f&&r>0&&r--,t.which===m&&r<o.length-1&&r++,r<0&&(r=0),o[r].focus()}}else{if(t.which===d){var a=n.querySelector(w.DATA_TOGGLE);e(a).trigger("focus")}e(this).trigger("click")}}},o(c,null,[{key:"VERSION",get:function(){return i}},{key:"Default",get:function(){return C}},{key:"DefaultType",get:function(){return x}}]),c}();return e(document).on(b.KEYDOWN_DATA_API,w.DATA_TOGGLE,k._dataApiKeydownHandler).on(b.KEYDOWN_DATA_API,w.MENU,k._dataApiKeydownHandler).on(b.CLICK_DATA_API+" "+b.KEYUP_DATA_API,k._clearMenus).on(b.CLICK_DATA_API,w.DATA_TOGGLE,(function(t){t.preventDefault(),t.stopPropagation(),k._jQueryInterface.call(e(this),"toggle")})).on(b.CLICK_DATA_API,w.FORM_CHILD,(function(e){e.stopPropagation()})),e.fn[t]=k._jQueryInterface,e.fn[t].Constructor=k,e.fn[t].noConflict=function(){return e.fn[t]=u,k._jQueryInterface},k}(t),f=function(e){var t="modal",n="4.1.3",i="bs.modal",r="."+i,s=".data-api",c=e.fn[t],u=27,d={backdrop:!0,keyboard:!0,focus:!0,show:!0},h={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},p={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,FOCUSIN:"focusin"+r,RESIZE:"resize"+r,CLICK_DISMISS:"click.dismiss"+r,KEYDOWN_DISMISS:"keydown.dismiss"+r,MOUSEUP_DISMISS:"mouseup.dismiss"+r,MOUSEDOWN_DISMISS:"mousedown.dismiss"+r,CLICK_DATA_API:"click"+r+s},f={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},m={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},g=function(){function s(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(m.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var c=s.prototype;return c.toggle=function(e){return this._isShown?this.hide():this.show(e)},c.show=function(t){var n=this;if(!this._isTransitioning&&!this._isShown){e(this._element).hasClass(f.FADE)&&(this._isTransitioning=!0);var i=e.Event(p.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(f.OPEN),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(p.CLICK_DISMISS,m.DATA_DISMISS,(function(e){return n.hide(e)})),e(this._dialog).on(p.MOUSEDOWN_DISMISS,(function(){e(n._element).one(p.MOUSEUP_DISMISS,(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},c.hide=function(t){var n=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var i=e.Event(p.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass(f.FADE);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(p.FOCUSIN),e(this._element).removeClass(f.SHOW),e(this._element).off(p.CLICK_DISMISS),e(this._dialog).off(p.MOUSEDOWN_DISMISS),o){var r=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(e){return n._hideModal(e)})).emulateTransitionEnd(r)}else this._hideModal()}}},c.dispose=function(){e.removeData(this._element,i),e(window,document,this._element,this._backdrop).off(r),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},c.handleUpdate=function(){this._adjustDialog()},c._getConfig=function(e){return e=a({},d,e),l.typeCheckConfig(t,e,h),e},c._showElement=function(t){var n=this,i=e(this._element).hasClass(f.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&l.reflow(this._element),e(this._element).addClass(f.SHOW),this._config.focus&&this._enforceFocus();var o=e.Event(p.SHOWN,{relatedTarget:t}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(o)};if(i){var a=l.getTransitionDurationFromElement(this._element);e(this._dialog).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},c._enforceFocus=function(){var t=this;e(document).off(p.FOCUSIN).on(p.FOCUSIN,(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},c._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(p.KEYDOWN_DISMISS,(function(e){e.which===u&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(p.KEYDOWN_DISMISS)},c._setResizeEvent=function(){var t=this;this._isShown?e(window).on(p.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(p.RESIZE)},c._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass(f.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(p.HIDDEN)}))},c._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},c._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(f.FADE)?f.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=f.BACKDROP,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(p.CLICK_DISMISS,(function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),i&&l.reflow(this._backdrop),e(this._backdrop).addClass(f.SHOW),!t)return;if(!i)return void t();var o=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(f.SHOW);var r=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(f.FADE)){var a=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else t&&t()},c._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},c._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},c._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},c._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(m.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(m.STICKY_CONTENT));e(n).each((function(n,i){var o=i.style.paddingRight,r=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")})),e(i).each((function(n,i){var o=i.style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")}));var o=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},c._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(m.FIXED_CONTENT));e(t).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}));var n=[].slice.call(document.querySelectorAll(""+m.STICKY_CONTENT));e(n).each((function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")}));var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},c._getScrollbarWidth=function(){var e=document.createElement("div");e.className=f.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},s._jQueryInterface=function(t,n){return this.each((function(){var o=e(this).data(i),r=a({},d,e(this).data(),"object"==typeof t&&t?t:{});if(o||(o=new s(this,r),e(this).data(i,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t](n)}else r.show&&o.show(n)}))},o(s,null,[{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return d}}]),s}();return e(document).on(p.CLICK_DATA_API,m.DATA_TOGGLE,(function(t){var n,o=this,r=l.getSelectorFromElement(this);r&&(n=document.querySelector(r));var s=e(n).data(i)?"toggle":a({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var c=e(n).one(p.SHOW,(function(t){t.isDefaultPrevented()||c.one(p.HIDDEN,(function(){e(o).is(":visible")&&o.focus()}))}));g._jQueryInterface.call(e(n),s,this)})),e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=c,g._jQueryInterface},g}(t),m=function(e){var t="tooltip",i="4.1.3",r="bs.tooltip",s="."+r,c=e.fn[t],u="bs-tooltip",d=new RegExp("(^|\\s)"+u+"\\S+","g"),h={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},p={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},f={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},m={SHOW:"show",OUT:"out"},g={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},v={FADE:"fade",SHOW:"show"},b={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},y={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},w=function(){function c(e,t){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var w=c.prototype;return w.enable=function(){this._isEnabled=!0},w.disable=function(){this._isEnabled=!1},w.toggleEnabled=function(){this._isEnabled=!this._isEnabled},w.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(v.SHOW))return void this._leave(null,this);this._enter(null,this)}},w.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},w.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var o=e.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var r=this.getTipElement(),a=l.getUID(this.constructor.NAME);r.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(r).addClass(v.FADE);var s="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,c=this._getAttachment(s);this.addAttachmentClass(c);var u=!1===this.config.container?document.body:e(document).find(this.config.container);e(r).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(r).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,r,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:b.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(r).addClass(v.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===m.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(v.FADE)){var h=l.getTransitionDurationFromElement(this.tip);e(this.tip).one(l.TRANSITION_END,d).emulateTransitionEnd(h)}else d()}},w.hide=function(t){var n=this,i=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),r=function(){n._hoverState!==m.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(i).removeClass(v.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[y.CLICK]=!1,this._activeTrigger[y.FOCUS]=!1,this._activeTrigger[y.HOVER]=!1,e(this.tip).hasClass(v.FADE)){var a=l.getTransitionDurationFromElement(i);e(i).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=""}},w.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},w.isWithContent=function(){return Boolean(this.getTitle())},w.addAttachmentClass=function(t){e(this.getTipElement()).addClass(u+"-"+t)},w.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},w.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(b.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(v.FADE+" "+v.SHOW)},w.setElementContent=function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)},w.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},w._getAttachment=function(e){return p[e.toUpperCase()]},w._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(n!==y.MANUAL){var i=n===y.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=n===y.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(o,t.config.selector,(function(e){return t._leave(e)}))}e(t.element).closest(".modal").on("hide.bs.modal",(function(){return t.hide()}))})),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},w._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},w._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?y.FOCUS:y.HOVER]=!0),e(n.getTipElement()).hasClass(v.SHOW)||n._hoverState===m.SHOW?n._hoverState=m.SHOW:(clearTimeout(n._timeout),n._hoverState=m.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===m.SHOW&&n.show()}),n.config.delay.show):n.show())},w._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?y.FOCUS:y.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=m.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===m.OUT&&n.hide()}),n.config.delay.hide):n.hide())},w._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},w._getConfig=function(n){return"number"==typeof(n=a({},this.constructor.Default,e(this.element).data(),"object"==typeof n&&n?n:{})).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),l.typeCheckConfig(t,n,this.constructor.DefaultType),n},w._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},w._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(d);null!==n&&n.length&&t.removeClass(n.join(""))},w._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},w._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(v.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},c._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(r),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new c(this,i),e(this).data(r,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(c,null,[{key:"VERSION",get:function(){return i}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return h}}]),c}();return e.fn[t]=w._jQueryInterface,e.fn[t].Constructor=w,e.fn[t].noConflict=function(){return e.fn[t]=c,w._jQueryInterface},w}(t),g=function(e){var t="popover",n="4.1.3",i="bs.popover",r="."+i,l=e.fn[t],c="bs-popover",u=new RegExp("(^|\\s)"+c+"\\S+","g"),d=a({},m.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),h=a({},m.DefaultType,{content:"(string|element|function)"}),p={FADE:"fade",SHOW:"show"},f={TITLE:".popover-header",CONTENT:".popover-body"},g={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,INSERTED:"inserted"+r,CLICK:"click"+r,FOCUSIN:"focusin"+r,FOCUSOUT:"focusout"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r},v=function(a){function l(){return a.apply(this,arguments)||this}s(l,a);var m=l.prototype;return m.isWithContent=function(){return this.getTitle()||this._getContent()},m.addAttachmentClass=function(t){e(this.getTipElement()).addClass(c+"-"+t)},m.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},m.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(f.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(f.CONTENT),n),t.removeClass(p.FADE+" "+p.SHOW)},m._getContent=function(){
return this.element.getAttribute("data-content")||this.config.content},m._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(u);null!==n&&n.length>0&&t.removeClass(n.join(""))},l._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(i),o="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new l(this,o),e(this).data(i,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(l,null,[{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return r}},{key:"DefaultType",get:function(){return h}}]),l}(m);return e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=l,v._jQueryInterface},v}(t),v=function(e){var t="scrollspy",n="4.1.3",i="bs.scrollspy",r="."+i,s=".data-api",c=e.fn[t],u={offset:10,method:"auto",target:""},d={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:"activate"+r,SCROLL:"scroll"+r,LOAD_DATA_API:"load"+r+s},p={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},f={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},m={OFFSET:"offset",POSITION:"position"},g=function(){function s(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+f.NAV_LINKS+","+this._config.target+" "+f.LIST_ITEMS+","+this._config.target+" "+f.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(h.SCROLL,(function(e){return i._process(e)})),this.refresh(),this._process()}var c=s.prototype;return c.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?m.OFFSET:m.POSITION,i="auto"===this._config.method?n:this._config.method,o=i===m.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,r=l.getSelectorFromElement(t);if(r&&(n=document.querySelector(r)),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[e(n)[i]().top+o,r]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},c.dispose=function(){e.removeData(this._element,i),e(this._scrollElement).off(r),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},c._getConfig=function(n){if("string"!=typeof(n=a({},u,"object"==typeof n&&n?n:{})).target){var i=e(n.target).attr("id");i||(i=l.getUID(t),e(n.target).attr("id",i)),n.target="#"+i}return l.typeCheckConfig(t,n,d),n},c._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},c._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},c._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},c._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(void 0===this._offsets[o+1]||e<this._offsets[o+1])&&this._activate(this._targets[o])}}},c._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}));var i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(p.DROPDOWN_ITEM)?(i.closest(f.DROPDOWN).find(f.DROPDOWN_TOGGLE).addClass(p.ACTIVE),i.addClass(p.ACTIVE)):(i.addClass(p.ACTIVE),i.parents(f.NAV_LIST_GROUP).prev(f.NAV_LINKS+", "+f.LIST_ITEMS).addClass(p.ACTIVE),i.parents(f.NAV_LIST_GROUP).prev(f.NAV_ITEMS).children(f.NAV_LINKS).addClass(p.ACTIVE)),e(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:t})},c._clear=function(){var t=[].slice.call(document.querySelectorAll(this._selector));e(t).filter(f.ACTIVE).removeClass(p.ACTIVE)},s._jQueryInterface=function(t){return this.each((function(){var n=e(this).data(i);if(n||(n=new s(this,"object"==typeof t&&t),e(this).data(i,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(s,null,[{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return u}}]),s}();return e(window).on(h.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(f.DATA_SPY)),n=t.length;n--;){var i=e(t[n]);g._jQueryInterface.call(i,i.data())}})),e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=c,g._jQueryInterface},g}(t),b=function(e){var t="tab",n="4.1.3",i="bs.tab",r="."+i,a=".data-api",s=e.fn[t],c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK_DATA_API:"click"+r+a},u={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},d={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},h=function(){function t(e){this._element=e}var r=t.prototype;return r.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(u.ACTIVE)||e(this._element).hasClass(u.DISABLED))){var n,i,o=e(this._element).closest(d.NAV_LIST_GROUP)[0],r=l.getSelectorFromElement(this._element);if(o){var a="UL"===o.nodeName?d.ACTIVE_UL:d.ACTIVE;i=(i=e.makeArray(e(o).find(a)))[i.length-1]}var s=e.Event(c.HIDE,{relatedTarget:this._element}),h=e.Event(c.SHOW,{relatedTarget:i});if(i&&e(i).trigger(s),e(this._element).trigger(h),!h.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(n=document.querySelector(r)),this._activate(this._element,o);var p=function(){var n=e.Event(c.HIDDEN,{relatedTarget:t._element}),o=e.Event(c.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,p):p()}}},r.dispose=function(){e.removeData(this._element,i),this._element=null},r._activate=function(t,n,i){var o=this,r=("UL"===n.nodeName?e(n).find(d.ACTIVE_UL):e(n).children(d.ACTIVE))[0],a=i&&r&&e(r).hasClass(u.FADE),s=function(){return o._transitionComplete(t,r,i)};if(r&&a){var c=l.getTransitionDurationFromElement(r);e(r).one(l.TRANSITION_END,s).emulateTransitionEnd(c)}else s()},r._transitionComplete=function(t,n,i){if(n){e(n).removeClass(u.SHOW+" "+u.ACTIVE);var o=e(n.parentNode).find(d.DROPDOWN_ACTIVE_CHILD)[0];o&&e(o).removeClass(u.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(u.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),e(t).addClass(u.SHOW),t.parentNode&&e(t.parentNode).hasClass(u.DROPDOWN_MENU)){var r=e(t).closest(d.DROPDOWN)[0];if(r){var a=[].slice.call(r.querySelectorAll(d.DROPDOWN_TOGGLE));e(a).addClass(u.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each((function(){var o=e(this),r=o.data(i);if(r||(r=new t(this),o.data(i,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(c.CLICK_DATA_API,d.DATA_TOGGLE,(function(t){t.preventDefault(),h._jQueryInterface.call(e(this),"show")})),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=s,h._jQueryInterface},h}(t);!function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split("."),n=1,i=2,o=9,r=1,a=4;if(t[0]<i&&t[1]<o||t[0]===n&&t[1]===o&&t[2]<r||t[0]>=a)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=l,e.Alert=c,e.Button=u,e.Carousel=d,e.Collapse=h,e.Dropdown=p,e.Modal=f,e.Popover=g,e.Scrollspy=v,e.Tab=b,e.Tooltip=m,Object.defineProperty(e,"__esModule",{value:!0})})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}((function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})),function(e){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],e):e(jQuery)}((function(e){function t(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,o)}function o(){e.datepicker._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}var a;return e.extend(e.ui,{datepicker:{version:"1.12.1"}}),e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,o,r;o="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst(e(t),o)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,r):o&&this._inlineDatepicker(t,r)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,o,r,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(o=this._get(n,"buttonText"),r=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:o,title:o}):o)),t[s?"before":"after"](n.trigger),n.trigger.on("click",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,o,r=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,i=0,o=0;o<e.length;o++)e[o].length>n&&(n=e[o].length,i=o);return i},r.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,o,a){var s,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",h)),r(h.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),a===o&&(a=null))},_enableDatepicker:function(t){var n,i,o=e(t),r=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,o=e(t),r=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var o,a,s,l,c=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null;o=n||{},"string"==typeof n&&((o={})[n]=i),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,o,r=e.datepicker._getInst(t.target),a=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv))[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,o[0]),(n=e.datepicker._get(r,"onSelect"))?(i=e.datepicker._formatDate(r),n.apply(r.input?r.input[0]:null,[i,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,o=e.datepicker._getInst(t.target);if(e.datepicker._get(o,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(n){var i,o,a,s,l,c,u;("input"!==(n=n.target||n).nodeName.toLowerCase()&&(n=e("input",n.parentNode)[0]),e.datepicker._isDisabledDatepicker(n)||e.datepicker._lastInput===n)||(i=e.datepicker._getInst(n),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(a=(o=e.datepicker._get(i,"beforeShow"))?o.apply(n,[n,i]):{})&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=n,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(n.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(n),e.datepicker._pos[1]+=n.offsetHeight),s=!1,e(n).parents().each((function(){return!(s|="fixed"===e(this).css("position"))})),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",t(e(n))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),u):i.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),e.datepicker._curInst=i)))},_updateDatepicker:function(t){this.maxRows=4,a=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],s=17,l=t.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&o.apply(l.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var o=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?o-a:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+r>c&&c>r?Math.abs(r+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),o=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,o,r,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),o=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),i,o):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,(r=this._get(a,"onClose"))&&r.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var o=e(t),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,n+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(t){var n,i=e(t),o=this._getInst(i[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var o=e(t),r=this._getInst(o[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(t,n,i,o){var r,a=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((r=this._getInst(a[0])).selectedDay=r.currentDay=e("a",o).html(),r.selectedMonth=r.currentMonth=n,r.selectedYear=r.currentYear=i,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,o=e(t),r=this._getInst(o[0]);n=null!=n?n:this._formatDate(r),r.input&&r.input.val(n),this._updateAlternate(r),(i=this._get(r,"onSelect"))?i.apply(r.input?r.input[0]:null,[n,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,o,r=this._get(t,"altField");r&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),o=this.formatDate(n,i,this._getFormatConfig(t)),e(r).val(o))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var o,r,a,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,w=function(e){var n=o+1<t.length&&t.charAt(o+1)===e;return n&&o++,n},_=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),r=n.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},C=function(t,i,o){var r=-1,a=e.map(w(t)?o:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return r=t[0],l+=i.length,!1})),-1!==r)return r+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(y)"'"!==t.charAt(o)||w("'")?x():y=!1;else switch(t.charAt(o)){case"d":v=_("d");break;case"D":C("D",d,h);break;case"o":b=_("o");break;case"m":g=_("m");break;case"M":g=C("M",p,f);break;case"y":m=_("y");break;case"@":m=(s=new Date(_("@"))).getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":m=(s=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?x():y=!0;break;default:x()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),b>-1)for(g=1,v=b;;){if(v<=(r=this._getDaysInMonth(m,g-1)))break;g++,v-=r}if((s=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),o,r);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,o=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||o("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){
return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),r=o,a=this._getFormatConfig(e);try{r=this.parseDate(n,i,a)||o}catch(e){i=t?"":i}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=i?r.getDate():0,e.currentMonth=i?r.getMonth():0,e.currentYear=i?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=i.getFullYear(),r=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r))}l=s.exec(n)}return new Date(o,r,a)},a=null==n||""===n?i:"string"==typeof n?r(n):"number"==typeof n?isNaN(n)?i:o(n):new Date(n.getTime());return(a=a&&"Invalid Date"===a.toString()?i:a)&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,o=e.selectedMonth,r=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o===e.selectedMonth&&r===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,o,r,a,s,l,c,u,d,h,p,f,m,g,v,b,y,w,_,C,x,k,S,E,T,A,O,D,I,P,N,M,L,$,j,R,F,B=new Date,H=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),z=this._get(e,"isRTL"),q=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),G=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,ee=e.drawYear;if(J<0&&(J+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,n=this._get(e,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-K,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>",o=this._get(e,"nextText"),o=W?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,J+K,1)),this._getFormatConfig(e)):o,r=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?Q:H,a=W?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",C=0;C<V[0];C++){for(x="",this.maxRows=4,k=0;k<V[1];k++){if(S=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),E=" ui-corner-all",T="",G){if(T+="<div class='ui-datepicker-group",V[1]>1)switch(k){case 0:T+=" ui-datepicker-group-first",E=" ui-corner-"+(z?"right":"left");break;case V[1]-1:T+=" ui-datepicker-group-last",E=" ui-corner-"+(z?"left":"right");break;default:T+=" ui-datepicker-group-middle",E=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===C?z?r:i:"")+(/all|right/.test(E)&&0===C?z?i:r:"")+this._generateMonthYearHeader(e,J,ee,X,Z,C>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)A+="<th scope='col'"+((_+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[O=(_+u)%7]+"'>"+p[O]+"</span></th>";for(T+=A+"</tr></thead><tbody>",D=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),I=(this._getFirstDayOfMonth(ee,J)-u+7)%7,P=Math.ceil((I+D)/7),N=G&&this.maxRows>P?this.maxRows:P,this.maxRows=N,M=this._daylightSavingAdjust(new Date(ee,J,1-I)),L=0;L<N;L++){for(T+="<tr>",$=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(M)+"</td>":"",_=0;_<7;_++)j=g?g.apply(e.input?e.input[0]:null,[M]):[!0,""],F=(R=M.getMonth()!==J)&&!b||!j[0]||X&&M<X||Z&&M>Z,$+="<td class='"+((_+u+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(M.getTime()===S.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===M.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+j[1]+(M.getTime()===Q.getTime()?" "+this._currentClass:"")+(M.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===H.getTime()?" ui-state-highlight":"")+(M.getTime()===Q.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);T+=$+"</tr>"}++J>11&&(J=0,ee++),x+=T+="</tbody></table>"+(G?"</div>"+(V[0]>0&&k===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=x}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,o,r,a,s){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(r||!g)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=o&&o.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=o.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");w+="</select>"}if(b||(y+=w+(!r&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!r&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),o=e.selectedMonth+("M"===n?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,o))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,o,r)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),o=n&&t<n?n:t;return i&&o>i?i:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var o=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(n,i+(t<0?t:o[0]*o[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var n,i,o=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!o||t.getTime()>=o.getTime())&&(!r||t.getTime()<=r.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker})),function(e,t){"use strict";var n;e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var o=e.Event(n);return t.trigger(o,i),!1!==o.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(i){var o,r,a,s,l,c;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),a=e(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(a.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),a=i.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(e,o){if(o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(i,"ajax:beforeSend",[e,o]))return!1;i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(r)},s&&(c.xhrFields={withCredentials:s}),r&&(c.url=r),n.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),c=e('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===t||s===t||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each((function(){n.disableFormElement(e(this))}))},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",(i=e.data("disable-with"))!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each((function(){n.enableFormElement(e(this))}))},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),o=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{o=n.confirm(i)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=n.fire(e,"confirm:complete",[o])}return o&&t},blankInputs:function(t,n,i){var o,r,a,s=e(),l=n||"input,textarea",c=t.find(l),u={};return c.each((function(){(o=e(this)).is("input[type=radio]")?(a=o.attr("name"),u[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(r=t.find('input[type=radio][name="'+a+'"]'),s=s.add(r)),u[a]=a)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(s=s.add(o))})),!!s.length&&s},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",(function(e){return n.stopEverything(e)})),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter((function(e,t,i){e.crossDomain||n.CSRFProtection(i)})),e(window).on("pageshow.rails",(function(){e(e.rails.enableSelector).each((function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)})),e(e.rails.linkDisableSelector).each((function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)}))})),i.on("ajax:complete",n.linkDisableSelector,(function(){n.enableElement(e(this))})),i.on("ajax:complete",n.buttonDisableSelector,(function(){n.enableFormElement(e(this))})),i.on("click.rails",n.linkClickSelector,(function(t){var i=e(this),o=i.data("method"),r=i.data("params"),a=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=n.handleRemote(i);return!1===s?n.enableElement(i):s.fail((function(){n.enableElement(i)})),!1}return o?(n.handleMethod(i),!1):void 0})),i.on("click.rails",n.buttonClickSelector,(function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return!1===o?n.enableFormElement(i):o.fail((function(){n.enableFormElement(i)})),!1})),i.on("change.rails",n.inputChangeSelector,(function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)})),i.on("submit.rails",n.formSubmitSelector,(function(i){var o,r,a=e(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===t)if(a.data("ujs:formnovalidate-button")===t){if((o=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",t);if(s){if(r=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout((function(){n.disableFormElements(a)}),13);var l=n.fire(a,"ajax:aborted:file",[r]);return l||setTimeout((function(){n.enableFormElements(a)}),13),l}return n.handleRemote(a),!1}setTimeout((function(){n.disableFormElements(a)}),13)})),i.on("click.rails",n.formInputClickSelector,(function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=e("#"+i.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))})),i.on("ajax:send.rails",n.formSubmitSelector,(function(t){this===t.target&&n.disableFormElements(e(this))})),i.on("ajax:complete.rails",n.formSubmitSelector,(function(t){this===t.target&&n.enableFormElements(e(this))})),e((function(){n.refreshCSRFTokens()})))}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var t,n=0,i=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=e._data(o,"events"))&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,i){var o,r,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},r=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,(function(t,i){var o,r;e.isFunction(i)?l[t]=(o=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=o,this._superApply=r,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):l[t]=i})),a.prototype=e.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:o}),r?(e.each(r._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,o,r=i.call(arguments,1),a=0,s=r.length;a<s;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&void 0!==o&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,s=i.call(arguments,1),l=this;return a?this.each((function(){var n,i=e.data(this,o);return"instance"===r?(l=i,!1):i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")})):(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each((function(){var t=e.data(this,o);t?(t.option(r||{}),t._init&&t._init()):e.data(this,o,new n(r,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,r,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(o=a[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var o,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,(function(i,a){function s(){if(t||!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,s):n.bind(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,r,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:t;"number"==typeof(o=o||{})&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&e.effects&&e.effects.effect[s]?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,r):i.queue((function(n){e(this)[t](),r&&r.call(i[0]),n()}))}}));e.widget})),function(e){"use strict";var t=function(e,n){var i=/[^\w\-\.:]/.test(e)?new Function(t.arg+",tmpl","var _e=tmpl.encode"+t.helper+",_s='"+e.replace(t.regexp,t.func)+"';return _s;"):t.cache[e]=t.cache[e]||t(t.load(e));return n?i(n,t):function(e){return i(e,t)}};t.cache={},t.load=function(e){return document.getElementById(e).innerHTML},t.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,t.func=function(e,t,n,i,o,r){return t?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+i+")+'":"'+("+i+"==null?'':"+i+")+'":o?"';":r?"_s+='":void 0},t.encReg=/[<>&"'\x00]/g,t.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},t.encode=function(e){return(null==e?"":""+e).replace(t.encReg,(function(e){return t.encMap[e]||""}))},t.arg="o",t.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define((function(){return t})):e.tmpl=t}(this),function(e){"use strict";var t=function(e,n,i){var o,r,a=document.createElement("img");if(a.onerror=n,a.onload=function(){!r||i&&i.noRevoke||t.revokeObjectURL(r),n&&n(t.scale(a,i))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))o=r=t.createObjectURL(e),a._type=e.type;else{if("string"!=typeof e)return!1;o=e,i&&i.crossOrigin&&(a.crossOrigin=i.crossOrigin)}return o?(a.src=o,a):t.readFile(e,(function(e){var t=e.target;t&&t.result?a.src=t.result:n&&n(e)}))},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var n,i,o,r,a=t.aspectRatio;if(!a)return t;for(i in n={},t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n.crop=!0,(o=e.naturalWidth||e.width)/(r=e.naturalHeight||e.height)>a?(n.maxWidth=r*a,n.maxHeight=r):(n.maxWidth=o,n.maxHeight=o/a),n},t.renderImageToCanvas=function(e,t,n,i,o,r,a,s,l,c){return e.getContext("2d").drawImage(t,n,i,o,r,a,s,l,c),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},t.scale=function(e,n){function i(){var e=Math.max((s||w)/w,(l||_)/_);e>1&&(w*=e,_*=e)}function o(){var e=Math.min((r||w)/w,(a||_)/_);1>e&&(w*=e,_*=e)}n=n||{};var r,a,s,l,c,u,d,h,p,f,m,g=document.createElement("canvas"),v=e.getContext||t.hasCanvasOption(n)&&g.getContext,b=e.naturalWidth||e.width,y=e.naturalHeight||e.height,w=b,_=y;if(v&&(d=(n=t.getTransformedOptions(e,n)).left||0,h=n.top||0,n.sourceWidth?(c=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(d=b-c-n.right)):c=b-d-(n.right||0),n.sourceHeight?(u=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(h=y-u-n.bottom)):u=y-h-(n.bottom||0),w=c,_=u),r=n.maxWidth,a=n.maxHeight,s=n.minWidth,l=n.minHeight,v&&r&&a&&n.crop?(w=r,_=a,0>(m=c/u-r/a)?(u=a*c/r,void 0===n.top&&void 0===n.bottom&&(h=(y-u)/2)):m>0&&(c=r*u/a,void 0===n.left&&void 0===n.right&&(d=(b-c)/2))):((n.contain||n.cover)&&(s=r=r||s,l=a=a||l),n.cover?(o(),i()):(i(),o())),v){if((p=n.pixelRatio)>1&&(g.style.width=w+"px",g.style.height=_+"px",w*=p,_*=p,g.getContext("2d").scale(p,p)),(f=n.downsamplingRatio)>0&&1>f&&c>w&&u>_)for(;c*f>w;)g.width=c*f,g.height=u*f,t.renderImageToCanvas(g,e,d,h,c,u,0,0,g.width,g.height),c=g.width,u=g.height,(e=document.createElement("canvas")).width=c,e.height=u,t.renderImageToCanvas(e,g,0,0,c,u,0,0,c,u);return g.width=w,g.height=_,t.transformCoordinates(g,n),t.renderImageToCanvas(g,e,d,h,c,u,0,0,w,_)}return e.width=w,e.height=_,e},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(e,t,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,i[n=n||"readAsDataURL"])return i[n](e),i}return!1},"function"==typeof define&&define.amd?define((function(){return t})):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}((function(e){"use strict";var t=e.hasCanvasOption,n=e.transformCoordinates,i=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.transformCoordinates=function(t,i){n.call(e,t,i);var o=t.getContext("2d"),r=t.width,a=t.height,s=t.style.width,l=t.style.height,c=i.orientation
;if(c&&!(c>8))switch(c>4&&(t.width=a,t.height=r,t.style.width=l,t.style.height=s),c){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,a),o.rotate(Math.PI);break;case 4:o.translate(0,a),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-a);break;case 7:o.rotate(.5*Math.PI),o.translate(r,-a),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-r,0)}},e.getTransformedOptions=function(t,n){var o,r,a=i.call(e,t,n),s=a.orientation;if(!s||s>8||1===s)return a;for(r in o={},a)a.hasOwnProperty(r)&&(o[r]=a[r]);switch(a.orientation){case 2:o.left=a.right,o.right=a.left;break;case 3:o.left=a.right,o.top=a.bottom,o.right=a.left,o.bottom=a.top;break;case 4:o.top=a.bottom,o.bottom=a.top;break;case 5:o.left=a.top,o.top=a.left,o.right=a.bottom,o.bottom=a.right;break;case 6:o.left=a.top,o.top=a.right,o.right=a.bottom,o.bottom=a.left;break;case 7:o.left=a.bottom,o.top=a.right,o.right=a.top,o.bottom=a.left;break;case 8:o.left=a.bottom,o.top=a.left,o.right=a.top,o.bottom=a.right}return a.orientation>4&&(o.maxWidth=a.maxHeight,o.maxHeight=a.maxWidth,o.minWidth=a.minHeight,o.minHeight=a.minWidth,o.sourceWidth=a.sourceHeight,o.sourceHeight=a.sourceWidth),o}})),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}((function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,i){var o=this,r=(i=i||{}).maxMetaDataSize||262144,a={};(!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)||!e.readFile(e.blobSlice.call(t,0,r),(function(t){if(t.target.error)return console.log(t.target.error),void n(a);var r,s,l,c,u=t.target.result,d=new DataView(u),h=2,p=d.byteLength-4,f=h;if(65496===d.getUint16(0)){for(;p>h&&((r=d.getUint16(h))>=65504&&65519>=r||65534===r);){if(h+(s=d.getUint16(h+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[r])for(c=0;c<l.length;c+=1)l[c].call(o,d,h,s,a,i);f=h+=s}!i.disableImageHead&&f>6&&(u.slice?a.imageHead=u.slice(0,f):a.imageHead=new Uint8Array(u).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(a)}),"readAsArrayBuffer"))&&n(a)}})),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}((function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var i,o,r;if(n&&!(t+n>e.byteLength)){for(i=[],o=0;n>o;o+=1)r=e.getUint8(t+o),i.push((16>r?"0":"")+r.toString(16));return"data:image/jpeg,%"+i.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,o,r,a){var s,l,c,u,d,h,p=e.exifTagTypes[o];if(p){if(!((l=(s=p.size*r)>4?n+t.getUint32(i+8,a):i+8)+s>t.byteLength)){if(1===r)return p.getValue(t,l,a);for(c=[],u=0;r>u;u+=1)c[u]=p.getValue(t,l+u*p.size,a);if(p.ascii){for(d="",u=0;u<c.length&&"\0"!==(h=c[u]);u+=1)d+=h;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},e.parseExifTag=function(t,n,i,o,r){var a=t.getUint16(i,o);r.exif[a]=e.getExifValue(t,n,i,t.getUint16(i+2,o),t.getUint32(i+4,o),o)},e.parseExifTags=function(e,t,n,i,o){var r,a,s;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(r=e.getUint16(n,i)))+4>e.byteLength)){for(s=0;r>s;s+=1)this.parseExifTag(e,t,n+2+12*s,i,o);return e.getUint32(a,i)}console.log("Invalid Exif data: Invalid directory size.")}},e.parseExifData=function(t,n,i,o,r){if(!r.disableExif){var a,s,l,c=n+10;if(1165519206===t.getUint32(n+4)){if(c+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(c+2,a))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(c+4,a),o.exif=new e.ExifMap,(s=e.parseExifTags(t,c,c+s,a,o))&&!r.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),o.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,c,c+o.exif[34665],a,o),o.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,c,c+o.exif[34853],a,o)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}((function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&((t=this.tags[e])&&(n[t]=this.getText(t)));return n}})),function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=(n||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,r,a,s,l,c;for(t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),r=new ArrayBuffer(t.length),a=new Uint8Array(r),s=0;s<t.length;s+=1)a[s]=t.charCodeAt(s);return l=e.split(",")[0].split(":")[1].split(";")[0],n?new Blob([i?a:r],{type:l}):((c=new o).append(r),c.getBlob(l))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,n,i){i&&t.toDataURL&&r?e(r(this.toDataURL(n,i))):e(this.mozGetAsFile("blob",n))}:t.toDataURL&&r&&(t.toBlob=function(e,t,n){e(r(this.toDataURL(t,n)))})),"function"==typeof define&&define.amd?define((function(){return r})):e.dataURLtoBlob=r}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";var t=0;e.ajaxTransport("iframe",(function(n){if(n.async){var i,o,r,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){(i=e('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),r=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+r+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+r+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+r+"_method=PATCH",n.type="POST"),o=e('<iframe src="'+a+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",(function(){var t,r=e.isArray(n.paramName)?n.paramName:[n.paramName];o.unbind("load").bind("load",(function(){var t;try{if(!(t=o.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(i),window.setTimeout((function(){i.remove()}),0)})),i.prop("target",o.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,(function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)})),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after((function(e){return t[e]})),n.paramName&&n.fileInput.each((function(t){e(this).prop("name",r[t]||n.paramName)})),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each((function(n,i){var o=e(t[n]);e(i).prop("name",o.prop("name")).attr("form",o.attr("form")),o.replaceWith(i)}))})),i.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src",a),i&&i.remove()}}}})),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}((function(e){"use strict";function t(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var o=i.dataTransfer;o&&-1!==e.inArray("Files",o.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:i}))&&(i.preventDefault(),n&&(o.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,(function(e,n){t=t.replace("{"+e+"}",n)})),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,(function(e,t){n.push({name:e,value:t})})),n):[]},_getTotal:function(t){var n=0;return e.each(t,(function(e,t){n+=t.size||1})),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,o=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&o-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=o,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(o,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",(function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)})),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,o=t.files[0],r=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",o)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,(function(i,o){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||a,value:o})}))):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),(function(e,t){n.append(t.name,t.value)}))),t.blob?n.append(a,t.blob,o.name):e.each(t.files,(function(o,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===e.type(t.paramName)&&t.paramName[o]||a,r,r.uploadName||r.name)}))),t.data=n):(t.contentType=o.type||"application/octet-stream",t.data=t.blob||o),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each((function(){for(var t=e(this),n=t.prop("name")||"files[]",o=(t.prop("files")||[1]).length;o;)i.push(n),o-=1})),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var o=e.Deferred(),r=o.promise();return n=n||this.options.context||r,!0===t?o.resolveWith(n,i):!1===t&&o.rejectWith(n,i),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,n){var i=this,o=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,r){return(t||r)&&(n._processQueue=this._processQueue=(this._processQueue||o([this])).then((function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():o(arguments)})).then(t,r)),this._processQueue||o([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,o,r=this,a=t.files[0],s=a.size,l=t.uploadedBytes,c=t.maxChunkSize||s,u=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&u&&(l||c<s))||t.data)&&(!!n||(l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(o=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),i=(!1!==r._trigger("chunksend",null,n)&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done((function(i,a,c){l=r._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=c,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),l<s?o():d.resolveWith(n.context,[i,a,c])})).fail((function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])}))},this._enhancePromise(h),h.abort=function(){return i.abort()},o(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,o){var r=o._progress.total,a=o._response;o._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),a.result=o.result=t,a.textStatus=o.textStatus=n,a.jqXHR=o.jqXHR=i,this._trigger("done",null,o)},_onFail:function(e,t,n,i){var o=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),o.jqXHR=i.jqXHR=e,o.textStatus=i.textStatus=t,o.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,o,r,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((o||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||e.ajax(l)).done((function(e,t,n){s._onDone(e,t,n,l)})).fail((function(e,t,n){s._onFail(e,t,n,l)})).always((function(e,t,n){if(s._onAlways(e,t,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")}))};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),a=r.then(c)):(this._sequence=this._sequence.then(c,c),a=this._sequence),a.abort=function(){return o=[void 0,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,o),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var i,o,r,a,s=this,l=!0,c=e.extend({},this.options,n),u=n.files,d=u.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!d)return!1;if(p&&void 0===u[0].size&&(p=void 0),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(r=[],i=[],a=0;a<d;a+=1)m+=u[a].size+f,(a+1===d||m+u[a+1].size+f>p||h&&a+1-v>=h)&&(r.push(u.slice(v,a+1)),(o=g.slice(v,a+1)).length||(o=g),i.push(o),v=a+1,m=0);else i=g;else for(r=[],i=[],a=0;a<d;a+=h)r.push(u.slice(a,a+h)),(o=g.slice(a,a+h)).length||(o=g),i.push(o);else r=[u],i=[g];return n.originalFiles=u,e.each(r||u,(function(o,a){var c=e.extend({},n);return c.files=r?a:[a],c.paramName=i[o],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)})),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),o=n.is(document.activeElement);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),o&&i.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(e,t){return t===n[0]?i[0]:t})),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,o=this,r=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},s=function(e){o._handleFileTreeEntries(e,n+t.name+"/").done((function(e){r.resolve(e)})).fail(a)},l=function(){i.readEntries((function(e){e.length?(c=c.concat(e),l()):s(c)}),a)},c=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file((function(e){e.relativePath=n,r.resolve(e)}),a):t.isDirectory?(i=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,(function(e){return i._handleFileTreeEntry(e,n)}))).then((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n,i,o=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if((n=e.makeArray(t.prop("files"))).length)void 0===n[0].name&&n[0].fileName&&e.each(n,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).then((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always((function(o){i.files=o,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,(function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,o={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always((function(i){o.files=i,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),o)&&n._onAdd(t,o)})))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=this.element.data();e.each(this.element[0].attributes,(function(e,o){var r,a=o.name.toLowerCase()
;/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,(function(e){return e.charAt(1).toUpperCase()})),r=i[a],t._isRegExpOption(a,r)&&(r=t._getRegExp(r)),n[a]=r)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,n._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,o=this,r=e.Deferred(),a=r.promise();return a.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always((function(e){i||(e.length?(t.files=e,(n=o._onSend(null,t)).then((function(e,t,n){r.resolve(e,t,n)}),(function(e,t,n){r.reject(e,t,n)}))):r.reject())})),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(n,i){var o=e(this);i.process((function(){return o.fileupload("process",i)})),t.call(this,n,i)}},processActions:{},_processFile:function(t,n){var i=this,o=e.Deferred().resolveWith(i,[t]).promise();return this._trigger("process",null,t),e.each(t.processQueue,(function(t,r){var a=function(t){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():i.processActions[r.action].call(i,t,r)};o=o.then(a,r.always&&a)})),o.done((function(){i._trigger("processdone",null,t),i._trigger("processalways",null,t)})).fail((function(){i._trigger("processfail",null,t),i._trigger("processalways",null,t)})),o},_transformProcessQueue:function(t){var n=[];e.each(t.processQueue,(function(){var i={},o=this.action,r=!0===this.prefix?o:this.prefix;e.each(this,(function(n,o){"string"===e.type(o)&&"@"===o.charAt(0)?i[n]=t[o.slice(1)||(r?r+n.charAt(0).toUpperCase()+n.slice(1):n)]:i[n]=o})),n.push(i)})),t.processQueue=n},processing:function(){return this._processing},process:function(t){var n=this,i=e.extend({},this.options,t);return i.processQueue&&i.processQueue.length&&(this._transformProcessQueue(i),0===this._processing&&this._trigger("processstart"),e.each(t.files,(function(o){var r=o?e.extend({},i):i,a=function(){return t.errorThrown?e.Deferred().rejectWith(n,[t]).promise():n._processFile(r,t)};r.index=o,n._processing+=1,n._processingQueue=n._processingQueue.then(a,a).always((function(){n._processing-=1,0===n._processing&&n._trigger("processstop")}))}))),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}((function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(n,i){if(i.disabled)return n;var o=this,r=n.files[n.index],a=e.Deferred();return"number"===e.type(i.maxFileSize)&&r.size>i.maxFileSize||i.fileTypes&&!i.fileTypes.test(r.type)||!t(r,(function(e){e.src&&(n.img=e),a.resolveWith(o,[n])}),i)?n:a.promise()},resizeImage:function(n,i){if(i.disabled||!n.canvas&&!n.img)return n;i=e.extend({canvas:!0},i);var o,r=this,a=e.Deferred(),s=i.canvas&&n.canvas||n.img,l=function(e){e&&(e.width!==s.width||e.height!==s.height||i.forceResize)&&(n[e.getContext?"canvas":"img"]=e),n.preview=e,a.resolveWith(r,[n])};if(n.exif){if(!0===i.orientation&&(i.orientation=n.exif.get("Orientation")),i.thumbnail&&(o=n.exif.get("Thumbnail")))return t(o,l,i),a.promise();n.orientation?delete i.orientation:n.orientation=i.orientation}return s?(l(t.scale(s,i)),a.promise()):n},saveImage:function(t,n){if(!t.canvas||n.disabled)return t;var i=this,o=t.files[t.index],r=e.Deferred();return t.canvas.toBlob?(t.canvas.toBlob((function(e){e.name||(o.type===e.type?e.name=o.name:o.name&&(e.name=o.name.replace(/\.\w+$/,"."+e.type.substr(6)))),o.type!==e.type&&delete t.imageHead,t.files[t.index]=e,r.resolveWith(i,[t])}),n.type||o.type,n.quality),r.promise()):t},loadImageMetaData:function(n,i){if(i.disabled)return n;var o=this,r=e.Deferred();return t.parseMetaData(n.files[n.index],(function(t){e.extend(n,t),r.resolveWith(o,[n])}),i),r.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var n=e.files[e.index],i=new Blob([e.imageHead,this._blobSlice.call(n,20)],{type:n.type});return i.name=n.name,e.files[e.index]=i,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}((function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(n,i){if(i.disabled)return n;var o,r,a=n.files[n.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(a.type)&&("number"!==e.type(i.maxFileSize)||a.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(a.type))&&(o=t.createObjectURL(a))?((r=this._audioElement.cloneNode(!1)).src=o,r.controls=!0,n.audio=r,n):n},setAudio:function(e,t){return e.audio&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.audio),e}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}((function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(n,i){if(i.disabled)return n;var o,r,a=n.files[n.index];return this._videoElement.canPlayType&&this._videoElement.canPlayType(a.type)&&("number"!==e.type(i.maxFileSize)||a.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(a.type))&&(o=t.createObjectURL(a))?((r=this._videoElement.cloneNode(!1)).src=o,r.controls=!0,n.video=r,n):n},setVideo:function(e,t){return e.video&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.video),e}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}((function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,n){if(n.disabled)return t;var i,o=e.Deferred(),r=this.options,a=t.files[t.index];return(n.minFileSize||n.maxFileSize)&&(i=a.size),"number"===e.type(n.maxNumberOfFiles)&&(r.getNumberOfFiles()||0)+t.files.length>n.maxNumberOfFiles?a.error=r.i18n("maxNumberOfFiles"):!n.acceptFileTypes||n.acceptFileTypes.test(a.type)||n.acceptFileTypes.test(a.name)?i>n.maxFileSize?a.error=r.i18n("maxFileSize"):"number"===e.type(i)&&i<n.minFileSize?a.error=r.i18n("minFileSize"):delete a.error:a.error=r.i18n("acceptFileTypes"),a.error||t.files.error?(t.files.error=!0,o.rejectWith(this,[t])):o.resolveWith(this,[t]),o.promise()}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):"object"==typeof exports?e(require("jquery"),require("tmpl")):e(window.jQuery,window.tmpl)}((function(e,t){"use strict";e.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",messages:{unknownError:"Unknown error"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(t){return t.result&&e.isArray(t.result.files)?t.result.files:[]},add:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this),o=i.data("blueimp-fileupload")||i.data("fileupload"),r=o.options;n.context=o._renderUpload(n.files).data("data",n).addClass("processing"),r.filesContainer[r.prependFiles?"prepend":"append"](n.context),o._forceReflow(n.context),o._transition(n.context),n.process((function(){return i.fileupload("process",n)})).always((function(){n.context.each((function(t){e(this).find(".size").text(o._formatFileSize(n.files[t].size))})).removeClass("processing"),o._renderPreviews(n)})).done((function(){n.context.find(".start").prop("disabled",!1),!1!==o._trigger("added",t,n)&&(r.autoUpload||n.autoUpload)&&!1!==n.autoUpload&&n.submit()})).fail((function(){n.files.error&&n.context.each((function(t){var i=n.files[t].error;i&&e(this).find(".error").text(i)}))}))},send:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload");return n.context&&n.dataType&&"iframe"===n.dataType.substr(0,6)&&n.context.find(".progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),i._trigger("sent",t,n)},done:function(t,n){if(t.isDefaultPrevented())return!1;var i,o,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),a=(n.getFilesFromResponse||r.options.getFilesFromResponse)(n);n.context?n.context.each((function(s){var l=a[s]||{error:"Empty file upload result"};o=r._addFinishedDeferreds(),r._transition(e(this)).done((function(){var a=e(this);i=r._renderDownload([l]).replaceAll(a),r._forceReflow(i),r._transition(i).done((function(){n.context=e(this),r._trigger("completed",t,n),r._trigger("finished",t,n),o.resolve()}))}))})):(i=r._renderDownload(a)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer),r._forceReflow(i),o=r._addFinishedDeferreds(),r._transition(i).done((function(){n.context=e(this),r._trigger("completed",t,n),r._trigger("finished",t,n),o.resolve()})))},fail:function(t,n){if(t.isDefaultPrevented())return!1;var i,o,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n.context?n.context.each((function(a){if("abort"!==n.errorThrown){var s=n.files[a];s.error=s.error||n.errorThrown||n.i18n("unknownError"),o=r._addFinishedDeferreds(),r._transition(e(this)).done((function(){var a=e(this);i=r._renderDownload([s]).replaceAll(a),r._forceReflow(i),r._transition(i).done((function(){n.context=e(this),r._trigger("failed",t,n),r._trigger("finished",t,n),o.resolve()}))}))}else o=r._addFinishedDeferreds(),r._transition(e(this)).done((function(){e(this).remove(),r._trigger("failed",t,n),r._trigger("finished",t,n),o.resolve()}))})):"abort"!==n.errorThrown?(n.context=r._renderUpload(n.files)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer).data("data",n),r._forceReflow(n.context),o=r._addFinishedDeferreds(),r._transition(n.context).done((function(){n.context=e(this),r._trigger("failed",t,n),r._trigger("finished",t,n),o.resolve()}))):(r._trigger("failed",t,n),r._trigger("finished",t,n),r._addFinishedDeferreds().resolve())},progress:function(t,n){if(t.isDefaultPrevented())return!1;var i=Math.floor(n.loaded/n.total*100);n.context&&n.context.each((function(){e(this).find(".progress").attr("aria-valuenow",i).children().first().css("width",i+"%")}))},progressall:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this),o=Math.floor(n.loaded/n.total*100),r=i.find(".fileupload-progress"),a=r.find(".progress-extended");a.length&&a.html((i.data("blueimp-fileupload")||i.data("fileupload"))._renderExtendedProgress(n)),r.find(".progress").attr("aria-valuenow",o).children().first().css("width",o+"%")},start:function(t){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n._resetFinishedDeferreds(),n._transition(e(this).find(".fileupload-progress")).done((function(){n._trigger("started",t)}))},stop:function(t){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),i=n._addFinishedDeferreds();e.when.apply(e,n._getFinishedDeferreds()).done((function(){n._trigger("stopped",t)})),n._transition(e(this).find(".fileupload-progress")).done((function(){e(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),e(this).find(".progress-extended").html("&nbsp;"),i.resolve()}))},processstart:function(t){if(t.isDefaultPrevented())return!1;e(this).addClass("fileupload-processing")},processstop:function(t){if(t.isDefaultPrevented())return!1;e(this).removeClass("fileupload-processing")},destroy:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),o=function(){i._transition(n.context).done((function(){e(this).remove(),i._trigger("destroyed",t,n)}))};n.url?(n.dataType=n.dataType||i.options.dataType,e.ajax(n).done(o).fail((function(){i._trigger("destroyfailed",t,n)}))):o()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var t=e(this),n=t.prop("href"),i=t.prop("download"),o="application/octet-stream";t.bind("dragstart",(function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[o,i,n].join(":"))}catch(e){}}))},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),n=Math.floor(e/86400);return(n=n?n+"d ":"")+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(t,n){if(!t)return e();var i=t({files:n,formatFileSize:this._formatFileSize,options:this.options});return i instanceof e?i:e(this.options.templatesContainer).html(i).children()},_renderPreviews:function(t){t.context.find(".preview").each((function(n,i){e(i).append(t.files[n].preview)}))},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var n=e(t.currentTarget),i=n.closest(".template-upload").data("data");n.prop("disabled",!0),i&&i.submit&&i.submit()},_cancelHandler:function(t){t.preventDefault();var n=e(t.currentTarget).closest(".template-upload,.template-download"),i=n.data("data")||{};i.context=i.context||n,i.abort?i.abort():(i.errorThrown="abort",this._trigger("fail",t,i))},_deleteHandler:function(t){t.preventDefault();var n=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:n.closest(".template-download"),type:"DELETE"},n.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var n=e.Deferred();return e.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(e.support.transition.end,(function(i){i.target===t[0]&&(t.unbind(e.support.transition.end),n.resolveWith(t))})).toggleClass("in"):(t.toggleClass("in"),n.resolveWith(t)),n},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),n=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),n.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),n.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),n.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){n.find(".toggle").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),e.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})})),window.locale={fileupload:{errors:{maxFileSize:"File is too big",minFileSize:"File is too small",acceptFileTypes:"Filetype not allowed",maxNumberOfFiles:"Max number of files exceeded",uploadedBytes:"Uploaded bytes exceed file size",emptyResult:"Empty file upload result"},error:"Error",start:"Start",cancel:"Cancel",destroy:"Delete"}},function(e){e.Jcrop=function(t,n){function i(e){return Math.round(e)+"px"}function o(e){return L.baseClass+"-"+e}function r(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function s(e){return[e.pageX-M[0],e.pageY-M[1]]}function l(t){"object"!=typeof t&&(t={}),L=e.extend(L,t),e.each(["onChange","onSelect","onRelease","onDblClick"],(function(e,t){"function"!=typeof L[t]&&(L[t]=function(){})}))}function c(e,t,n){if(M=a(q),pe.setCursor("move"===e?e:e+"-resize"),"move"===e)return pe.activateHandlers(d(t),g,n);var i=ue.getFixed(),o=h(e),r=ue.getCorner(h(o));ue.setPressed(ue.getCorner(o)),ue.setCurrent(r),pe.activateHandlers(u(e,i),g,n)}function u(e,t){return function(n){if(L.aspectRatio)switch(e){case"e":case"w":n[1]=t.y+1;break;case"n":case"s":n[0]=t.x+1}else switch(e){case"e":case"w":n[1]=t.y2;break;case"n":case"s":n[0]=t.x2}ue.setCurrent(n),he.update()}}function d(e){var t=e;return fe.watchKeys(),function(e){ue.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,he.update()}}function h(e){switch(e){case"n":case"ne":return"sw";case"s":case"e":case"se":return"nw";case"w":case"sw":return"ne";case"nw":return"se"}}function p(e){return function(t){return!L.disabled&&(!("move"===e&&!L.allowMove)&&(M=a(q),ie=!0,c(e,s(t)),t.stopPropagation(),t.preventDefault(),!1))}}function f(e,t,n){var i=e.width(),o=e.height();i>t&&t>0&&(i=t,o=t/e.width()*e.height()),o>n&&n>0&&(o=n,i=n/e.height()*e.width()),te=e.width()/i,ne=e.height()/o,e.width(i).height(o)}function m(e){return{x:e.x*te,y:e.y*ne,x2:e.x2*te,y2:e.y2*ne,w:e.w*te,h:e.h*ne}}function g(){var e=ue.getFixed();e.w>L.minSelect[0]&&e.h>L.minSelect[1]?(he.enableHandles(),he.done()):he.release(),pe.setCursor(L.allowSelect?"crosshair":"default")}function v(e){if(!L.disabled&&L.allowSelect){ie=!0,M=a(q),he.disableHandles(),pe.setCursor("crosshair");var t=s(e);return ue.setPressed(t),he.update(),pe.activateHandlers(b,g,"touch"===e.type.substring(0,5)),fe.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}}function b(e){ue.setCurrent(e),he.update()}function y(){var t=e("<div></div>").addClass(o("tracker"));return j&&t.css({opacity:0,backgroundColor:"white"}),t}function w(e){V.removeClass().addClass(o("holder")).addClass(e)}function _(e,t){function n(){window.setTimeout(b,d)}var i=e[0]/te,o=e[1]/ne,r=e[2]/te,a=e[3]/ne;if(!oe){var s=ue.flipCoords(i,o,r,a),l=ue.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,d=L.animationDelay,h=s[0]-c[0],p=s[1]-c[1],f=s[2]-c[2],m=s[3]-c[3],g=0,v=L.swingSpeed;i=u[0],o=u[1],r=u[2],a=u[3],he.animMode(!0);var b=function(){g+=(100-g)/v,u[0]=Math.round(i+g/100*h),u[1]=Math.round(o+g/100*p),u[2]=Math.round(r+g/100*f),u[3]=Math.round(a+g/100*m),g>=99.8&&(g=100),g<100?(x(u),n()):(he.done(),he.animMode(!1),"function"==typeof t&&t.call(me))};n()}}function C(e){x([e[0]/te,e[1]/ne,e[2]/te,e[3]/ne]),L.onSelect.call(me,m(ue.getFixed())),he.enableHandles()}function x(e){ue.setPressed([e[0],e[1]]),ue.setCurrent([e[2],e[3]]),he.update()}function k(){return m(ue.getFixed())}function S(){return ue.getFixed()}function E(e){l(e),N()}function T(){L.disabled=!0,he.disableHandles(),he.setCursor("default"),pe.setCursor("default")}function A(){L.disabled=!1,N()}function O(){he.done(),pe.activateHandlers(null,null)}function D(){V.remove(),B.show(),B.css("visibility","visible"),e(t).removeData("Jcrop")}function I(e,t){he.release(),T();var n=new Image;n.onload=function(){var i=n.width,o=n.height,r=L.boxWidth,a=L.boxHeight;q.width(i).height(o),q.attr("src",e),Y.attr("src",e),f(q,r,a),U=q.width(),W=q.height(),Y.width(U).height(W),ae.width(U+2*re).height(W+2*re),V.width(U).height(W),de.resize(U,W),A(),"function"==typeof t&&t.call(me)},n.src=e}function P(e,t,n){var i=t||L.bgColor;L.bgFade&&r()&&L.fadeTime&&!n?e.animate({backgroundColor:i},{queue:!1,duration:L.fadeTime}):e.css("backgroundColor",i)}function N(e){L.allowResize?e?he.enableOnly():he.enableHandles():he.disableHandles(),pe.setCursor(L.allowSelect?"crosshair":"default"),he.setCursor(L.allowMove?"move":"default"),L.hasOwnProperty("trueSize")&&(te=L.trueSize[0]/U,ne=L.trueSize[1]/W),L.hasOwnProperty("setSelect")&&(C(L.setSelect),he.done(),delete L.setSelect),de.refresh(),L.bgColor!=se&&(P(L.shade?de.getShades():V,L.shade&&L.shadeColor||L.bgColor),se=L.bgColor),le!=L.bgOpacity&&(le=L.bgOpacity,L.shade?de.refresh():he.setBgOpacity(le)),X=L.maxSize[0]||0,Z=L.maxSize[1]||0,J=L.minSize[0]||0,ee=L.minSize[1]||0,L.hasOwnProperty("outerImage")&&(q.attr("src",L.outerImage),delete L.outerImage),he.refresh()}var M,L=e.extend({},e.Jcrop.defaults),$=navigator.userAgent.toLowerCase(),j=/msie/.test($),R=/msie [1-6]\./.test($);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),l(n);var F={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},B=e(t),H=!0;if("IMG"==t.tagName){if(0!=B[0].width&&0!=B[0].height)B.width(B[0].width),B.height(B[0].height);else{var z=new Image;z.src=B[0].src,B.width(z.width),B.height(z.height)}var q=B.clone().removeAttr("id").css(F).show();q.width(B.width()),q.height(B.height()),B.after(q).hide()}else q=B.css(F).show(),H=!1,null===L.shade&&(L.shade=!0);f(q,L.boxWidth,L.boxHeight);var U=q.width(),W=q.height(),V=e("<div />").width(U).height(W).addClass(o("holder")).css({position:"relative",backgroundColor:L.bgColor}).insertAfter(B).append(q);L.addClass&&V.addClass(L.addClass);var Y=e("<div />"),K=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),G=e("<div />").width("100%").height("100%").css("zIndex",320),Q=e("<div />").css({position:"absolute",zIndex:600}).dblclick((function(){var e=ue.getFixed();L.onDblClick.call(me,e)})).insertBefore(q).append(K,G);H&&(Y=e("<img />").attr("src",q.attr("src")).css(F).width(U).height(W),K.append(Y)),R&&Q.css({overflowY:"hidden"});var X,Z,J,ee,te,ne,ie,oe,re=L.boundary,ae=y().width(U+2*re).height(W+2*re).css({position:"absolute",top:i(-re),left:i(-re),zIndex:290}).mousedown(v),se=L.bgColor,le=L.bgOpacity;M=a(q);var ce=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(e=0;e<n.length;e++){var o=n[e],r=(o="on"+o)in i;r||(i.setAttribute(o,"return;"),r="function"==typeof i[o]),t[n[e]]=r}return t.touchstart&&t.touchend&&t.touchmove}catch(e){return!1}}function t(){return!0===L.touchSupport||!1===L.touchSupport?L.touchSupport:e()}return{createDragger:function(e){return function(t){return!L.disabled&&(!("move"===e&&!L.allowMove)&&(M=a(q),ie=!0,c(e,s(ce.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1))}},newSelection:function(e){return v(ce.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),ue=function(){function e(e){e=a(e),f=h=e[0],m=p=e[1]}function t(e){e=a(e),u=e[0]-f,d=e[1]-m,f=e[0],m=e[1]}function n(){return[u,d]}function i(e){var t=e[0],n=e[1];0>h+t&&(t-=t+h),0>p+n&&(n-=n+p),W<m+n&&(n+=W-(m+n)),U<f+t&&(t+=U-(f+t)),h+=t,f+=t,p+=n,m+=n}function o(e){var t=r();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function r(){if(!L.aspectRatio)return l();var e,t,n,i,o=L.aspectRatio,r=L.minSize[0]/te,a=L.maxSize[0]/te,u=L.maxSize[1]/ne,d=f-h,g=m-p,v=Math.abs(d),b=Math.abs(g);return 0===a&&(a=10*U),0===u&&(u=10*W),v/b<o?(t=m,n=b*o,(e=d<0?h-n:n+h)<0?(e=0,i=Math.abs((e-h)/o),t=g<0?p-i:i+p):e>U&&(e=U,i=Math.abs((e-h)/o),t=g<0?p-i:i+p)):(e=f,i=v/o,(t=g<0?p-i:p+i)<0?(t=0,n=Math.abs((t-p)*o),e=d<0?h-n:n+h):t>W&&(t=W,n=Math.abs(t-p)*o,e=d<0?h-n:n+h)),e>h?(e-h<r?e=h+r:e-h>a&&(e=h+a),t=t>p?p+(e-h)/o:p-(e-h)/o):e<h&&(h-e<r?e=h-r:h-e>a&&(e=h-a),t=t>p?p+(h-e)/o:p-(h-e)/o),e<0?(h-=e,e=0):e>U&&(h-=e-U,e=U),t<0?(p-=t,t=0):t>W&&(p-=t-W,t=W),c(s(h,p,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>U&&(e[0]=U),e[1]>W&&(e[1]=W),[Math.round(e[0]),Math.round(e[1])]}function s(e,t,n,i){var o=e,r=n,a=t,s=i;return n<e&&(o=n,r=e),i<t&&(a=i,s=t),[o,a,r,s]}function l(){var e,t=f-h,n=m-p;return X&&Math.abs(t)>X&&(f=t>0?h+X:h-X),Z&&Math.abs(n)>Z&&(m=n>0?p+Z:p-Z),ee/ne&&Math.abs(n)<ee/ne&&(m=n>0?p+ee/ne:p-ee/ne),J/te&&Math.abs(t)<J/te&&(f=t>0?h+J/te:h-J/te),h<0&&(f-=h,h-=h),p<0&&(m-=p,p-=p),f<0&&(h-=f,f-=f),m<0&&(p-=m,m-=m),f>U&&(h-=e=f-U,f-=e),m>W&&(p-=e=m-W,m-=e),h>U&&(m-=e=h-W,p-=e),p>W&&(m-=e=p-W,p-=e),c(s(h,p,f,m))}function c(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var u,d,h=0,p=0,f=0,m=0;return{flipCoords:s,setPressed:e,setCurrent:t,getOffset:n,moveOffset:i,getCorner:o,getFixed:r}}(),de=function(){function t(e,t){f.left.css({height:i(t)}),f.right.css({height:i(t)})}function n(){return o(ue.getFixed())}function o(e){f.top.css({left:i(e.x),width:i(e.w),height:i(e.y)}),f.bottom.css({top:i(e.y2),left:i(e.x),width:i(e.w),height:i(W-e.y2)}),f.right.css({left:i(e.x2),width:i(U-e.x2)}),f.left.css({width:i(e.x)})}function r(){return e("<div />").css({position:"absolute",backgroundColor:L.shadeColor||L.bgColor}).appendTo(p)}function a(){h||(h=!0,p.insertBefore(q),n(),he.setBgOpacity(1,0,1),Y.hide(),s(L.shadeColor||L.bgColor,1),he.isAwake()?c(L.bgOpacity,1):c(1,1))}function s(e,t){P(d(),e,t)}function l(){h&&(p.remove(),Y.show(),h=!1,he.isAwake()?he.setBgOpacity(L.bgOpacity,1,1):(he.setBgOpacity(1,1,1),he.disableHandles()),P(V,0,1))}function c(e,t){h&&(L.bgFade&&!t?p.animate({opacity:1-e},{queue:!1,duration:L.fadeTime}):p.css({opacity:1-e}))}function u(){L.shade?a():l(),he.isAwake()&&c(L.bgOpacity)}function d(){return p.children()}var h=!1,p=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:r(),left:r().height(W),right:r().height(W),bottom:r()};return{update:n,updateRaw:o,getShades:d,setBgColor:s,enable:a,disable:l,resize:t,refresh:u,opacity:c}}(),he=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:L.borderOpacity}).addClass(o(t));return K.append(n),n}function n(t,n){var i=e("<div />").mousedown(p(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return ce.support&&i.bind("touchstart.jcrop",ce.createDragger(t)),G.append(i),i}function r(e){var t=L.handleSize,i=n(e,T++).css({opacity:L.handleOpacity}).addClass(o("handle"));return t&&i.width(t).height(t),i}function a(e){return n(e,T++).addClass("jcrop-dragbar")}function s(e){var t;for(t=0;t<e.length;t++)D[e[t]]=a(e[t])}function l(e){var n,i;for(i=0;i<e.length;i++){switch(e[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}A[e[i]]=t(n)}}function c(e){var t;for(t=0;t<e.length;t++)O[e[t]]=r(e[t])}function u(e,t){L.shade||Y.css({top:i(-t),left:i(-e)}),Q.css({top:i(t),left:i(e)})}function d(e,t){Q.width(Math.round(e)).height(Math.round(t))}function h(){var e=ue.getFixed();ue.setPressed([e.x,e.y]),ue.setCurrent([e.x2,e.y2]),f()}function f(e){if(E)return g(e)}function g(e){var t=ue.getFixed();d(t.w,t.h),u(t.x,t.y),L.shade&&de.updateRaw(t),E||b(),e?L.onSelect.call(me,m(t)):L.onChange.call(me,m(t))}function v(e,t,n){(E||t)&&(L.bgFade&&!n?q.animate({opacity:e},{queue:!1,duration:L.fadeTime}):q.css("opacity",e))}function b(){Q.show(),L.shade?de.opacity(le):v(le,!0),E=!0}function w(){x(),Q.hide(),L.shade?de.opacity(1):v(1),E=!1,L.onRelease.call(me)}function _(){
I&&G.show()}function C(){if(I=!0,L.allowResize)return G.show(),!0}function x(){I=!1,G.hide()}function k(e){e?(oe=!0,x()):(oe=!1,C())}function S(){k(!1),h()}var E,T=370,A={},O={},D={},I=!1;L.dragEdges&&e.isArray(L.createDragbars)&&s(L.createDragbars),e.isArray(L.createHandles)&&c(L.createHandles),L.drawBorders&&e.isArray(L.createBorders)&&l(L.createBorders),e(document).bind("touchstart.jcrop-ios",(function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()}));var P=y().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ce.support&&P.bind("touchstart.jcrop",ce.createDragger("move")),K.append(P),x(),{updateVisible:f,update:g,release:w,refresh:h,isAwake:function(){return E},setCursor:function(e){P.css("cursor",e)},enableHandles:C,enableOnly:function(){I=!0},showHandles:_,disableHandles:x,animMode:k,setBgOpacity:v,done:S}}(),pe=function(){function t(t){ae.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",l):h&&e(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",o)}function n(){ae.css({zIndex:290}),e(document).unbind(".jcrop")}function i(e){return u(s(e)),!1}function o(e){return e.preventDefault(),e.stopPropagation(),ie&&(ie=!1,d(s(e)),he.isAwake()&&L.onSelect.call(me,m(ue.getFixed())),n(),u=function(){},d=function(){}),!1}function r(e,n,i){return ie=!0,u=e,d=n,t(i),!1}function a(e){return u(s(ce.cfilter(e))),!1}function l(e){return o(ce.cfilter(e))}function c(e){ae.css("cursor",e)}var u=function(){},d=function(){},h=L.trackDocument;return h||ae.mousemove(i).mouseup(o).mouseout(o),q.before(ae),{activateHandlers:r,setCursor:c}}(),fe=function(){function t(){L.keySupport&&(r.show(),r.focus())}function n(){r.hide()}function i(e,t,n){L.allowMove&&(ue.moveOffset([t,n]),he.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function o(e){if(e.ctrlKey||e.metaKey)return!0;var t=!!e.shiftKey?10:1;switch(e.keyCode){case 37:i(e,-t,0);break;case 39:i(e,t,0);break;case 38:i(e,0,-t);break;case 40:i(e,0,t);break;case 27:L.allowSelect&&he.release();break;case 9:return!0}return!1}var r=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(r);return L.keySupport&&(r.keydown(o).blur(n),R||!L.fixedSupport?(r.css({position:"absolute",left:"-20px"}),a.append(r).insertBefore(q)):r.insertBefore(q)),{watchKeys:t}}();ce.support&&ae.bind("touchstart.jcrop",ce.newSelection),G.hide(),N(!0);var me={setImage:I,animateTo:_,setSelect:C,setOptions:E,tellSelect:k,tellScaled:S,setClass:w,disable:T,enable:A,cancel:O,release:he.release,destroy:D,focus:fe.watchKeys,getBounds:function(){return[U*te,W*ne]},getWidgetSize:function(){return[U,W]},getScaleFactor:function(){return[te,ne]},getOptions:function(){return L},ui:{holder:V,selection:Q}};return j&&V.bind("selectstart",(function(){return!1})),B.data("Jcrop",me),me},e.fn.Jcrop=function(t,n){var i;return this.each((function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,(function(){e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i)})):(e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i))})),this},e.Jcrop.Loader=function(t,n,i){function o(){a.complete?(r.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(o,50)}var r=e(t),a=r[0];r.bind("load.jcloader",o).bind("error.jcloader",(function(){r.unbind(".jcloader"),e.isFunction(i)&&i.call(a)})),a.complete&&e.isFunction(n)&&(r.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(e){e.purr=function(t,n){function i(){var i=document.createElement("a");if(e(i).attr({class:"close",href:"#close"}).appendTo(t).click((function(){return o(),!1})),e(document).keyup((function(e){27===e.keyCode&&o()})),t.appendTo(r).hide(),t.fadeIn(n.fadeInSpeed),!n.isSticky)var a=setInterval((function(){0===t.prevAll(".purr").length&&(clearInterval(a),setTimeout((function(){o()}),n.removeTimer))}),200)}function o(){t.animate({opacity:"0"},{duration:n.fadeOutSpeed,complete:function(){t.animate({height:"0px"},{duration:n.fadeOutSpeed,complete:function(){t.remove()}})}})}(t=e(t)).addClass("purr");var r=document.getElementById("purr-container");r||(r='<div id="purr-container"></div>'),r=e(r),e("body").append(r),i()},e.fn.purr=function(t){return(t=t||{}).fadeInSpeed=t.fadeInSpeed||500,t.fadeOutSpeed=t.fadeOutSpeed||500,t.removeTimer=t.removeTimer||4e3,t.isSticky=t.isSticky||!1,t.usingTransparentPNG=t.usingTransparentPNG||!1,this.each((function(){new e.purr(this,t)})),this}}(jQuery),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,(function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(){var e=h();return e.compile=function(t,n){return l.compile(t,n,e)},e.precompile=function(t,n){return l.precompile(t,n,e)},e.AST=a.default,e.Compiler=l.Compiler,e.JavaScriptCompiler=c.default,e.Parser=s.parser,e.parse=s.parse,e.parseWithoutProcessing=s.parseWithoutProcessing,e}var o=n(1).default;t.__esModule=!0;var r=o(n(2)),a=o(n(45)),s=n(46),l=n(51),c=o(n(52)),u=o(n(49)),d=o(n(44)),h=r.default.create,p=i();p.create=i,d.default(p),p.Visitor=u.default,p.default=p,t.default=p,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=s.default,e.Exception=l.default,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var o=n(3).default,r=n(1).default;t.__esModule=!0;var a=o(n(4)),s=r(n(37)),l=r(n(6)),c=o(n(5)),u=o(n(38)),d=r(n(44)),h=i();h.create=i,d.default(h),h.default=h,t.default=h,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var o=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=i;var r=n(5),a=o(n(6)),s=n(10),l=n(30),c=o(n(32)),u=n(33),d="4.7.7";t.VERSION=d;var h=8;t.COMPILER_REVISION=h;var p=7;t.LAST_COMPATIBLE_COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=f;var m="[object Object]";i.prototype={constructor:i,logger:c.default,log:c.default.log,registerHelper:function(e,t){if(r.toString.call(e)===m){if(t)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===m)r.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===m){if(t)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var g=c.default.log;t.log=g,t.createFrame=r.createFrame,t.logger=c.default},function(e,t){"use strict";function n(e){return u[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function o(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function r(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(d,n):e}function a(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function s(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=o,t.escapeExpression=r,t.isEmpty=a,t.createFrame=s,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=f;var m=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===p.call(e)};t.isArray=m},function(e,t,n){"use strict";function i(e,t){var n=t&&t.loc,a=void 0,s=void 0,l=void 0,c=void 0;n&&(a=n.start.line,s=n.end.line,l=n.start.column,c=n.end.column,e+=" - "+a+":"+l);for(var u=Error.prototype.constructor.call(this,e),d=0;d<r.length;d++)this[r[d]]=u[r[d]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=a,this.endLineNumber=s,o?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=l,this.endColumn=c))}catch(e){}}var o=n(7).default;t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function i(e){a.default(e),s.default(e),l.default(e),c.default(e),u.default(e),d.default(e),h.default(e)}function o(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])}var r=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=i,t.moveHelperToHooks=o;var a=r(n(11)),s=r(n(12)),l=r(n(25)),c=r(n(26)),u=r(n(27)),d=r(n(28)),h=r(n(29))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var o=n.inverse,r=n.fn;if(!0===t)return r(this);if(!1===t||null==t)return o(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return r(t,n)}))},e.exports=t.default},function(e,t,n){(function(i){"use strict";var o=n(13).default,r=n(1).default;t.__esModule=!0;var a=n(5),s=r(n(6));t.default=function(e){e.registerHelper("each",(function(e,t){function n(t,n,i){h&&(h.key=t,h.index=n,h.first=0===n,h.last=!!i,p&&(h.contextPath=p+t)),d+=l(e[t],{data:h,blockParams:a.blockParams([e[t],t],[p+t,null])})}if(!t)throw new s.default("Must pass iterator to #each");var r,l=t.fn,c=t.inverse,u=0,d="",h=void 0,p=void 0;if(t.data&&t.ids&&(p=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(h=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var f=e.length;u<f;u++)u in e&&n(u,u,u===e.length-1);else if(i.Symbol&&e[i.Symbol.iterator]){for(var m=[],g=e[i.Symbol.iterator](),v=g.next();!v.done;v=g.next())m.push(v.value);for(f=(e=m).length;u<f;u++)n(u,u,u===e.length-1)}else r=void 0,o(e).forEach((function(e){void 0!==r&&n(r,u-1),r=e,u++})),void 0!==r&&n(r,u-1,!0);return 0===u&&(d=c(this)),d}))},e.exports=t.default}).call(t,function(){return this}())},function(e,t,n){e.exports={default:n(14),__esModule:!0}},function(e,t,n){n(15),e.exports=n(21).Object.keys},function(e,t,n){var i=n(16);n(18)("keys",(function(e){return function(t){return e(i(t))}}))},function(e,t,n){var i=n(17);e.exports=function(e){return Object(i(e))}},function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(19),o=n(21),r=n(24);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*r((function(){n(1)})),"Object",a)}},function(e,t,n){var i=n(20),o=n(21),r=n(22),a="prototype",s=function(e,t,n){var l,c,u,d=e&s.F,h=e&s.G,p=e&s.S,f=e&s.P,m=e&s.B,g=e&s.W,v=h?o:o[t]||(o[t]={}),b=h?i:p?i[t]:(i[t]||{})[a];for(l in h&&(n=t),n)(c=!d&&b&&l in b)&&l in v||(u=c?b[l]:n[l],v[l]=h&&"function"!=typeof b[l]?n[l]:m&&c?r(u,i):g&&b[l]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(u):f&&"function"==typeof u?r(Function.call,u):u,f&&((v[a]||(v[a]={}))[l]=u))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,t,n){var i=n(23);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var o=i(n(6));t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var o=n(5),r=i(n(6));t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new r.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new r.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)}))},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var o=n(5),r=i(n(6));t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new r.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:o.blockParams([e],[i&&i.contextPath])})}))},e.exports=t.default},function(e,t,n){"use strict";function i(e){r.default(e)}var o=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=i;var r=o(n(31))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,o){var r=e;return t.partials||(t.partials={},r=function(o,r){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(o,r);return n.partials=a,s}),t.partials[o.args[0]]=o.fn,r}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=l(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=l(null);return n.__proto__=!1,{properties:{whitelist:d.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:d.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function o(e,t,n){return r("function"==typeof e?t.methods:t.properties,n)}function r(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(a(t),!1)}function a(e){!0!==p[e]&&(p[e]=!0,h.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function s(){c(p).forEach((function(e){delete p[e]}))}var l=n(34).default,c=n(13).default,u=n(3).default;t.__esModule=!0,t.createProtoAccessControl=i,t.resultIsAllowed=o,t.resetLoggedProperties=s;var d=n(36),h=u(n(32)),p=l(null)},function(e,t,n){e.exports={default:n(35),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[o(null)].concat(t))}var o=n(34).default;t.__esModule=!0,t.createNewLookupObject=i;var r=n(5)},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=y.COMPILER_REVISION;if(!(t>=y.LAST_COMPATIBLE_COMPILER_REVISION&&t<=y.COMPILER_REVISION)){if(t<y.LAST_COMPATIBLE_COMPILER_REVISION){var i=y.REVISION_CHANGES[n],o=y.REVISION_CHANGES[t];throw new b.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new b.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){function n(n,i,o){o.hash&&(i=v.extend({},i,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,o);var r=v.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=t.VM.invokePartial.call(this,n,i,r);if(null==a&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),a=o.partials[o.name](i,r)),null!=a){if(o.indent){for(var s=a.split("\n"),l=0,c=s.length;l<c&&(s[l]||l+1!==c);l++)s[l]=o.indent+s[l];a=s.join("\n")}return a}throw new b.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(a,t,a.helpers,a.partials,r,l,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=o.data;i._setup(o),!o.partial&&e.useData&&(r=c(t,r));var s=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(s=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(n=u(e.main,n,a,o.depths||[],r,l))(t,o)}if(!t)throw new b.default("No environment passed to template");if(!e||!e.main)throw new b.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o=e.compiler&&7===e.compiler[0],a={strict:function(e,t,n){if(!e||!(t in e))throw new b.default('"'+t+'" not defined in '+e,{loc:n});return a.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||C.resultIsAllowed(n,a.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++){if(null!=(e[i]&&a.lookupProperty(e[i],t)))return e[i][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:v.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,o){var a=this.programs[e],s=this.fn(e);return t||o||i||n?a=r(this,e,s,t,n,i,o):a||(a=this.programs[e]=r(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=v.extend({},t,e)),n},nullContext:p({}),noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){if(n.partial)a.protoAccessControl=n.protoAccessControl,a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators,a.hooks=n.hooks;else{var i=v.extend({},t.helpers,n.helpers);d(i,a),a.helpers=i,e.usePartial&&(a.partials=a.mergeIfNeeded(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=v.extend({},t.decorators,n.decorators)),a.hooks={},a.protoAccessControl=C.createProtoAccessControl(n);var r=n.allowCallsToHelperMissing||o;w.moveHelperToHooks(a,"helperMissing",r),w.moveHelperToHooks(a,"blockHelperMissing",r)}},i._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new b.default("must pass block params");if(e.useDepths&&!o)throw new b.default("must pass parent depths");return r(a,t,e[t],n,0,i,o)},i}function r(e,t,n,i,o,r,a){function s(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||i,r&&[o.blockParams].concat(r),s)}return(s=u(n,s,e,a,i,r)).program=t,s.depth=a?a.length:0,s.blockParams=o||0,s}function a(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function s(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;if(n.fn&&n.fn!==l&&function(){n.data=y.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=y.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=v.extend({},n.partials,e.partials))}(),void 0===e&&o&&(e=o),void 0===e)throw new b.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function l(){return""}function c(e,t){return t&&"root"in t||((t=t?y.createFrame(t):{}).root=e),t}function u(e,t,n,i,o,r){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],o,r,i),v.extend(t,a)}return t}function d(e,t){f(e).forEach((function(n){var i=e[n];e[n]=h(i,t)}))}function h(e,t){var n=t.lookupProperty;return _.wrapHelper(e,(function(e){return v.extend({lookupProperty:n},e)}))}var p=n(39).default,f=n(13).default,m=n(3).default,g=n(1).default;t.__esModule=!0,t.checkRevision=i,t.template=o,t.wrapProgram=r,t.resolvePartial=a,t.invokePartial=s,t.noop=l;var v=m(n(5)),b=g(n(6)),y=n(4),w=n(10),_=n(43),C=n(33)},function(e,t,n){e.exports={default:n(40),__esModule:!0}},function(e,t,n){n(41),e.exports=n(21).Object.seal},function(e,t,n){var i=n(42);n(18)("seal",(function(e){return function(t){return e&&i(t)?e(t):t}}))},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){"use strict";function n(e,t){if("function"!=typeof e)return e;var n=function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)};return n}t.__esModule=!0,t.wrapHelper=n},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return"Program"===e.type?e:(s.default.yy=d,d.locInfo=function(e){return new d.SourceLocation(t&&t.srcName,e)},s.default.parse(e))}function o(e,t){var n=i(e,t);return new l.default(t).accept(n)}var r=n(1).default,a=n(3).default;t.__esModule=!0,t.parseWithoutProcessing=i,t.parse=o;var s=r(n(47)),l=r(n(48)),c=a(n(50)),u=n(5);t.parser=s.default;var d={};u.extend(d,c)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,o,r){var a=r.length-1;switch(o){case 1:return r[a-1];case 2:this.$=i.prepareProgram(r[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=r[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(r[a]),strip:i.stripFlags(r[a],r[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:r[a],value:r[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(r[a-2],r[a-1],r[a],this._$);break;case 12:this.$={path:r[a-3],params:r[a-2],hash:r[a-1]};break;case 13:this.$=i.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!1,this._$);break;case 14:this.$=i.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!0,this._$);break;case 15:this.$={open:r[a-5],path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:i.stripFlags(r[a-5],r[a])};break;case 16:case 17:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:i.stripFlags(r[a-5],r[a])};break;case 18:this.$={strip:i.stripFlags(r[a-1],r[a-1]),program:r[a]};break;case 19:var s=i.prepareBlock(r[a-2],r[a-1],r[a],r[a],!1,this._$),l=i.prepareProgram([s],r[a-1].loc);l.chained=!0,this.$={strip:r[a-2].strip,program:l,chain:!0};break;case 21:this.$={path:r[a-1],strip:i.stripFlags(r[a-2],r[a])};break;case 22:case 23:this.$=i.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],i.stripFlags(r[a-4],r[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:r[a-3],params:r[a-2],hash:r[a-1],indent:"",strip:i.stripFlags(r[a-4],r[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(r[a-2],r[a-1],r[a],this._$);break;case 26:this.$={path:r[a-3],params:r[a-2],hash:r[a-1],strip:i.stripFlags(r[a-4],r[a])};break;case 29:this.$={type:"SubExpression",path:r[a-3],params:r[a-2],hash:r[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:r[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(r[a-2]),value:r[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(r[a-1]);break;case 35:this.$={type:"StringLiteral",value:r[a],original:r[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(r[a]),original:Number(r[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===r[a],original:"true"===r[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 42:this.$=i.preparePath(!0,r[a],this._$);break;case 43:this.$=i.preparePath(!1,r[a],this._$);break;case 44:r[a-2].push({part:i.id(r[a]),original:r[a],separator:r[a-1]}),this.$=r[a-2];break;case 45:this.$=[{part:i.id(r[a]),original:r[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:r[a-1].push(r[a]);break;case 98:case 100:this.$=[r[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],
29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return"number"!=typeof(e=n.lexer.lex()||1)&&(e=n.symbols_[e]||e),e}var n=this,i=[0],o=[null],r=[],a=this.table,s="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;r.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,v,b,y,w,_,C={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:(null==p&&(p=t()),g=a[m]&&a[m][p]),void 0===g||!g.length||!g[0]){var x="";if(!u){for(b in _=[],a[m])this.terminals_[b]&&b>2&&_.push("'"+this.terminals_[b]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:d,expected:_})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:i.push(p),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[g[1]][1],C.$=o[o.length-y],C._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},h&&(C._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(v=this.performAction.call(C,s,c,l,this.yy,g[1],o,r)))return v;y&&(i=i.slice(0,-1*y*2),o=o.slice(0,-1*y),r=r.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),o.push(C.$),r.push(C._$),w=a[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;a<r.length&&(!(n=this._input.match(this.rules[r[a]]))||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?((o=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n){function i(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(i(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function o(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],o=e[t-2];return i?"ContentStatement"===i.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function r(e,t,n){void 0===t&&(t=-1);var i=e[t+1],o=e[t+2];return i?"ContentStatement"===i.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function a(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var o=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==o}}function s(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var o=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==o,i.leftStripped}}var l=n(1).default;t.__esModule=!0;var c=l(n(49));i.prototype=new c.default,i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,l=0,c=i.length;l<c;l++){var u=i[l],d=this.accept(u);if(d){var h=o(i,l,n),p=r(i,l,n),f=d.openStandalone&&h,m=d.closeStandalone&&p,g=d.inlineStandalone&&h&&p;d.close&&a(i,l,!0),d.open&&s(i,l,!0),t&&g&&(a(i,l),s(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),t&&f&&(a((u.program||u.inverse).body),s(i,l)),t&&m&&(a(i,l),s((u.inverse||u.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:r(t.body),closeStandalone:o((i||t).body)};if(e.openStrip.close&&a(t.body,null,!0),n){var u=e.inverseStrip;u.open&&s(t.body,null,!0),u.close&&a(i.body,null,!0),e.closeStrip.open&&s(l.body,null,!0),!this.options.ignoreStandalone&&o(t.body)&&r(i.body)&&(s(t.body),a(i.body))}else e.closeStrip.open&&s(t.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){this.parents=[]}function o(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function r(e){o.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var s=n(1).default;t.__esModule=!0;var l=s(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new l.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new l.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:o,Decorator:o,BlockStatement:r,DecoratorBlock:r,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new m.default(e.path.original+" doesn't match "+t,n)}}function o(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function r(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function a(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function s(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",o=[],r=0,a=0,s=t.length;a<s;a++){var l=t[a].part,c=t[a].original!==l;if(i+=(t[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)o.push(l);else{if(o.length>0)throw new m.default("Invalid path: "+i,{loc:n});".."===l&&r++}}return{type:"PathExpression",data:e,depth:r,parts:o,original:i,loc:n}}function c(e,t,n,i,o,r){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:o,loc:this.locInfo(r)}}function u(e,t,n,o){i(e,n);var r={type:"Program",body:t,strip:{},loc:o=this.locInfo(o)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}}function d(e,t,n,o,r,a){o&&o.path&&i(e,o);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(s)throw new m.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=o.strip),c=n.strip,l=n.program}return r&&(r=l,l=t,t=r),{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:o&&o.strip,loc:this.locInfo(a)}}function h(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function p(e,t,n,o){return i(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(o)}}var f=n(1).default;t.__esModule=!0,t.SourceLocation=o,t.id=r,t.stripFlags=a,t.stripComment=s,t.preparePath=l,t.prepareMustache=c,t.prepareRawBlock=u,t.prepareBlock=d,t.prepareProgram=h,t.preparePartialBlock=p;var m=f(n(6))},function(e,t,n){"use strict";function i(){}function o(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new u.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),o=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(o,t)}function r(e,t,n){function i(){var i=n.parse(e,t),o=(new n.Compiler).compile(i,t),r=(new n.JavaScriptCompiler).compile(o,t,void 0,!0);return n.template(r)}function o(e,t){return r||(r=i()),r.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new u.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=d.extend({},t))||(t.data=!0),t.compat&&(t.useDepths=!0);var r=void 0;return o._setup=function(e){return r||(r=i()),r._setup(e)},o._child=function(e,t,n,o){return r||(r=i()),r._child(e,t,n,o)},o}function a(e,t){if(e===t)return!0;if(d.isArray(e)&&d.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}}function s(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(34).default,c=n(1).default;t.__esModule=!0,t.Compiler=i,t.precompile=o,t.compile=r;var u=c(n(6)),d=n(5),h=c(n(45)),p=[].slice;i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],o=e.opcodes[n];if(i.opcode!==o.opcode||!a(i.args,o.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=d.extend(l(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new u.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){s(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new u.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,o="SubExpression"===e.name.type;o&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var r=e.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",o,i,r),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){s(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,o=i.parts[0],r=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",o,r)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),o=e.path,r=o.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new u.default("You specified knownHelpersOnly, but used the unknown helper "+r,e);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",i.length,o.original,h.default.helpers.simpleId(o))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=h.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=h.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&h.default.helpers.helperExpression(e),o=!n&&(i||t);if(o&&!i){var r=e.path.parts[0],a=this.options;a.knownHelpers[r]?i=!0:a.knownHelpersOnly&&(o=!1)}return i?"helper":o?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||h.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var o=e.params;return this.pushParams(o),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),o},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],o=i&&d.indexOf(i,e);if(i&&o>=0)return[t,o]}}}
},function(e,t,n){"use strict";function i(e){this.value=e}function o(){}function r(e,t,n,i){var o=t.popStack(),r=0,a=n.length;for(e&&a--;r<a;r++)o=t.nameLookup(o,n[r],i);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(n[r]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}var a=n(13).default,s=n(1).default;t.__esModule=!0;var l=n(4),c=s(n(6)),u=n(5),d=s(n(53));o.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=l.COMPILER_REVISION;return[e,l.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return u.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var o=e.opcodes,r=void 0,a=void 0,s=void 0,l=void 0;for(s=0,l=o.length;s<l;s++)r=o[s],this.source.currentLocation=r.loc,a=a||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,p=h.programs,f=h.decorators;for(s=0,l=p.length;s<l;s++)p[s]&&(d[s]=p[s],f[s]&&(d[s+"_d"]=f[s],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new d.default(this.options.srcName),this.decorators=new d.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var o=0;a(this.aliases).forEach((function(e){var i=t.aliases[e];i.children&&i.referenceCount>1&&(n+=", alias"+ ++o+"="+e,i.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var r=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths");var s=this.mergeSource(n);return e?(r.push(s),Function.apply(this,r)):this.source.wrap(["function(",r.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,o=void 0,r=void 0,a=void 0;return this.source.each((function(e){e.appendToBuffer?(r?e.prepend("  + "):r=e,a=e):(r&&(o?r.prepend("buffer += "):i=!0,a.add(";"),r=a=void 0),o=!0,t||(n=!1))})),n?r?(r.prepend("return "),a.add(";")):o||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),r?(r.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var o=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[o++])),this.resolvePath("context",e,o,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,o){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(r(this.options.strict&&o,this,t,e));else for(var s=t.length;n<s;n++)this.replaceStack((function(o){var r=a.nameLookup(o,t[n],e);return i?[" && ",r]:[" != null ? ",r," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),o=this.setupHelper(e,t),r=[];n&&r.push(o.name),r.push(i),this.options.strict||r.push(this.aliasable("container.hooks.helperMissing"));var a=["(",this.itemsSeparatedBy(r,"||"),")"],s=this.source.functionCall(a,"call",o.callParams);this.push(s)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var i=1;i<e.length;i++)n.push(t,e[i]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],o=this.setupParams(t,1,i);e&&(t=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),i.push(o),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var r=this.hash;n&&(r.contexts[e]=n),i&&(r.types[e]=i),o&&(r.ids[e]=o),r.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(e,t){for(var n=e.children,i=void 0,o=void 0,r=0,a=n.length;r<a;r++){i=n[r],o=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=o.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,o=void 0,r=void 0;if(!this.isInline())throw new c.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)t=["(",n=[a.value]],r=!0;else{o=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],n=this.topStack()}var l=e.call(this,n);r||this.popStack(),o&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var o=e[t];if(o instanceof i)this.compileStack.push(o);else{var r=this.incrStack();this.pushSource([r," = ",o,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new c.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,n){var i={},o=[],r=[],a=[],s=!n,l=void 0;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(r[d]=this.popStack(),o[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(r),i.contexts=this.source.generateArray(o)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var o=this.setupParams(e,t,n);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),i?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=o.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),o.isValidJavaScriptVariableName=function(e){return!o.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){if(a.isArray(e)){for(var i=[],o=0,r=e.length;o<r;o++)i.push(t.wrap(e[o],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}var r=n(13).default;t.__esModule=!0;var a=n(5),s=void 0;try{}catch(e){}s||((s=function(e,t,n,i){this.src="",i&&this.add(i)}).prototype={add:function(e){a.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){a.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new s(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof s?e:(e=i(e,this,t),new s(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];r(e).forEach((function(o){var r=i(e[o],t);"undefined"!==r&&n.push([t.quotedString(o),":",r])}));var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),n=0,o=e.length;n<o;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=o,e.exports=t.default}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define("bootstrap-colorpicker",["jQuery"],t):"object"==typeof exports?exports["bootstrap-colorpicker"]=t(require("jQuery")):e["bootstrap-colorpicker"]=t(e.jQuery)}(this,(function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t){t.exports=e},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(0)),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),this.colorpicker=t,this.options=n,!this.colorpicker.element||!this.colorpicker.element.length)throw new Error("Extension: this.colorpicker.element is not valid");this.colorpicker.element.on("colorpickerCreate.colorpicker-ext",a.default.proxy(this.onCreate,this)),this.colorpicker.element.on("colorpickerDestroy.colorpicker-ext",a.default.proxy(this.onDestroy,this)),this.colorpicker.element.on("colorpickerUpdate.colorpicker-ext",a.default.proxy(this.onUpdate,this)),this.colorpicker.element.on("colorpickerChange.colorpicker-ext",a.default.proxy(this.onChange,this)),this.colorpicker.element.on("colorpickerInvalid.colorpicker-ext",a.default.proxy(this.onInvalid,this)),this.colorpicker.element.on("colorpickerShow.colorpicker-ext",a.default.proxy(this.onShow,this)),this.colorpicker.element.on("colorpickerHide.colorpicker-ext",a.default.proxy(this.onHide,this)),this.colorpicker.element.on("colorpickerEnable.colorpicker-ext",a.default.proxy(this.onEnable,this)),this.colorpicker.element.on("colorpickerDisable.colorpicker-ext",a.default.proxy(this.onDisable,this))}return r(e,[{key:"resolveColor",value:function(){return!1}},{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){this.colorpicker.element.off(".colorpicker-ext")}},{key:"onUpdate",value:function(){}},{key:"onChange",value:function(){}},{key:"onInvalid",value:function(){}},{key:"onHide",value:function(){}},{key:"onShow",value:function(){}},{key:"onDisable",value:function(){}},{key:"onEnable",value:function(){}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=i(n(1)),u={colors:null,namesAsValues:!0},d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},u,n)));return Array.isArray(i.options.colors)||"object"===s(i.options.colors)||(i.options.colors=null),i}return a(t,e),l(t,[{key:"colors",get:function(){return this.options.colors}}]),l(t,[{key:"getLength",value:function(){return this.options.colors?Array.isArray(this.options.colors)?this.options.colors.length:"object"===s(this.options.colors)?Object.keys(this.options.colors).length:0:0}},{key:"resolveColor",value:function(e){return!(this.getLength()<=0)&&(Array.isArray(this.options.colors)?this.options.colors.indexOf(e)>=0?e:this.options.colors.indexOf(e.toUpperCase())>=0?e.toUpperCase():this.options.colors.indexOf(e.toLowerCase())>=0&&e.toLowerCase():"object"===s(this.options.colors)&&(this.options.namesAsValues?this.getName(e,this.getName("#"+e,this.getValue(e,!1))):this.getValue(e,!1)))}},{key:"getName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e||!this.options.colors)return t;for(var n in this.options.colors)if(this.options.colors.hasOwnProperty(n)&&this.options.colors[n].toLowerCase()===e.toLowerCase())return n;return t}},{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof e&&this.options.colors&&this.options.colors.hasOwnProperty(e)?this.options.colors[e]:t}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(n(4)),a=i(n(0)),s="colorpicker";a.default[s]=r.default,a.default.fn[s]=function(e){var t=Array.prototype.slice.call(arguments,1),n=1===this.length,i=null,l=this.each((function(){var n=(0,a.default)(this),l=n.data(s),c="object"===(void 0===e?"undefined":o(e))?e:{};l||(l=new r.default(this,c),n.data(s,l)),"string"==typeof e?"colorpicker"===e?i=l:a.default.isFunction(l[e])?i=l[e].apply(l,t):(t.length&&(l[e]=t[0]),i=l[e]):i=n}));return n?i:l},a.default.fn[s].constructor=r.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(5)),s=i(n(1)),l=i(n(7)),c=i(n(8)),u=i(n(0)),d=0,h=function(){function e(t,n){var i=this;o(this,e),d+=1,this.id=d,this.element=(0,u.default)(t).addClass("colorpicker-element"),this.element.attr("data-colorpicker-id",this.id),this.options=Object.assign({},l.default,n,this.element.data()),this.extensions=[],Array.isArray(this.options.extensions)||(this.options.extensions=[]),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&(0,u.default)(this.container),this.currentSlider=null,this.mousePointer={left:0,top:0},this.lastEvent={name:null,e:null},this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.options.debug&&this.options.extensions.push({name:"Debugger"}),this.options.extensions.forEach((function(e){i.addExtension(e.name,c.default[e.name.toLowerCase()],e)}));var r=!1!==this.options.color?this.options.color:this.getValue();this.color=!!r&&this.createColor(r),!1===this.options.format&&(this.options.format=this.color.format),this.disabled=!1;var a=this.picker=(0,u.default)(this.options.template);this.options.customClass&&a.addClass(this.options.customClass),this.options.inline?a.addClass("colorpicker-inline colorpicker-visible"):a.addClass("colorpicker-hidden"),this.options.horizontal&&a.addClass("colorpicker-horizontal"),(this.options.useAlpha||this.hasColor()&&this.color.hasTransparency())&&!1!==this.options.useAlpha&&(this.options.useAlpha=!0,a.addClass("colorpicker-with-alpha")),"right"===this.options.align&&a.addClass("colorpicker-right"),!0===this.options.inline&&a.addClass("colorpicker-no-arrow"),a.on("mousedown.colorpicker touchstart.colorpicker",u.default.proxy((function(e){e.target===e.currentTarget&&e.preventDefault()}),this)),a.find(".colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha").on("mousedown.colorpicker touchstart.colorpicker",u.default.proxy(this._mousedown,this)),a.appendTo(this.container?this.container:(0,u.default)("body")),this.hasInput()&&(this.input.on({"keyup.colorpicker":u.default.proxy(this._keyup,this)}),this.input.on({"change.colorpicker":u.default.proxy(this._change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":u.default.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":u.default.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":u.default.proxy(this.show,this)}),!1!==this.hasInput()||!1!==this.component||this.element.has(".colorpicker")||this.element.on({"click.colorpicker":u.default.proxy(this.show,this)}),this.hasInput()&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":u.default.proxy(this.show,this),"focus.colorpicker":u.default.proxy(this.show,this)}),this.update(!1!==this.options.color),(0,u.default)(u.default.proxy((function(){this.element.trigger({type:"colorpickerCreate",colorpicker:this,color:this.color})}),this))}return r(e,[{key:"color",get:function(){return this.element.data("color")},set:function(e){this.element.data("color",e)}}],[{key:"Color",get:function(){return a.default}},{key:"Extension",get:function(){return s.default}},{key:"Extensions",get:function(){return c.default}}]),r(e,[{key:"addExtension",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e instanceof s.default?e:new t(this,n);return this.extensions.push(i),i}},{key:"destroy",value:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),this.hasInput()&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"colorpickerDestroy",colorpicker:this,color:this.color})}},{key:"hasColor",value:function(){return this.color instanceof a.default}},{key:"toInputColorString",value:function(){var e=this.toCssColorString();return e?(!1===this.options.useHashPrefix&&(e=e.replace(/^#/g,"")),this._resolveColor(e)):e}},{key:"toCssColorString",value:function(){return this.hasColor()?this.color.toString(this.format):""}},{key:"_reposition",value:function(e){if(this.lastEvent.name="reposition",this.lastEvent.e=e,!1!==this.options.inline||this.options.container)return!1;var t=this.container&&this.container[0]!==window.document.body?"position":"offset",n=this.component||this.element,i=n[t]();return"right"===this.options.align&&(i.left-=this.picker.outerWidth()-n.outerWidth()),this.picker.css({top:i.top+n.outerHeight(),left:i.left}),!0}},{key:"show",value:function(e){return this.lastEvent.name="show",this.lastEvent.e=e,!this.isVisible()&&!this.isDisabled()&&(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this._reposition(e),(0,u.default)(window).on("resize.colorpicker",u.default.proxy(this._reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!this.component&&this.input||!1!==this.options.inline||(0,u.default)(window.document).on({"mousedown.colorpicker":u.default.proxy(this.hide,this)}),this.element.trigger({type:"colorpickerShow",colorpicker:this,color:this.color}),!0)}},{key:"hide",value:function(e){return this.lastEvent.name="hide",this.lastEvent.e=e,!this.isHidden()&&((void 0===e||!e.target||!((0,u.default)(e.currentTarget).parents(".colorpicker").length>0||(0,u.default)(e.target).parents(".colorpicker").length>0))&&(this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),(0,u.default)(window).off("resize.colorpicker",this._reposition),(0,u.default)(window.document).off({"mousedown.colorpicker":this.hide}),this.element.trigger({type:"colorpickerHide",colorpicker:this,color:this.color}),!0))}},{key:"isVisible",value:function(){return this.picker.hasClass("colorpicker-visible")&&!this.picker.hasClass("colorpicker-hidden")}},{key:"isHidden",value:function(){return this.picker.hasClass("colorpicker-hidden")&&!this.picker.hasClass("colorpicker-visible")}},{key:"_updateInput",value:function(){if(this.hasInput()){var e=this.toInputColorString();if(e===this.input.prop("value"))return;this.input.prop("value",e||""),this.input.trigger({type:"change",colorpicker:this,color:this.color,value:e})}}},{key:"_updatePicker",value:function(){if(this.hasColor()){var e=!1===this.options.horizontal,t=e?this.options.sliders:this.options.slidersHorz,n=this.picker.find(".colorpicker-saturation .colorpicker-guide"),i=this.picker.find(".colorpicker-hue .colorpicker-guide"),o=this.picker.find(".colorpicker-alpha .colorpicker-guide"),r=this.color.hsvaRatio;i.length&&i.css(e?"top":"left",(e?t.hue.maxTop:t.hue.maxLeft)*(1-r.h)),o.length&&o.css(e?"top":"left",(e?t.alpha.maxTop:t.alpha.maxLeft)*(1-r.a)),n.length&&n.css({top:t.saturation.maxTop-r.v*t.saturation.maxTop,left:r.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.getHueOnlyCopy().toHexString()),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toString("hex6"))}}},{key:"_updateComponent",value:function(){if(this.hasColor()&&!1!==this.component){var e=this.component.find("i").eq(0);e.length>0?e.css({backgroundColor:this.toCssColorString()}):this.component.css({backgroundColor:this.toCssColorString()})}}},{key:"_shouldUpdate",value:function(){return this.hasColor()&&!1!==this.getValue(!1)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this._shouldUpdate()||!0===e)&&(this._updateComponent(),!0!==this.options.autoInputFallback&&"keyup"===this.lastEvent.name||this._updateInput(),this._updatePicker(),this.element.trigger({type:"colorpickerUpdate",colorpicker:this,color:this.color}))}},{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=void 0===e?this.fallbackColor:e;var t=[],n=!1;return this.hasInput()&&(t.push(this.input.val()),t.push(this.input.data("color"))),t.push(this.element.data("color")),t.map((function(e){e&&!1===n&&(n=e)})),(n=!1===n?e:n)instanceof a.default?n.toString(this.format):n}},{key:"setValue",value:function(e){if(!this.hasColor()||!this.color.equals(e)){var t=!!e&&this.createColor(e);if(this.hasColor()||t){var n=this.hasColor()&&!t;this.color=t,this.element.trigger({type:"colorpickerChange",colorpicker:this,color:this.color,value:e}),this.update(n)}}}},{
key:"createColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new a.default(this._resolveColor(e),{format:this.format});if(!n.isValid()){var i=n,o=void 0;if(t&&(o=this.fallbackColor instanceof a.default&&this.fallbackColor.isValid()?this.fallbackColor:this._resolveColor(this.fallbackColor),!(n=new a.default(o,{format:this.format})).isValid()&&t))throw new Error("The fallback color is invalid.");n.previous=i,this.element.trigger({type:"colorpickerInvalid",colorpicker:this,color:n,value:e})}if(!this.isAlphaEnabled()&&n.hasTransparency()&&n.setAlpha(1),!this.hasColor())return n;var r=n.hsvaRatio,s=this.color.hsvaRatio;return 0===r.s&&0===r.h&&0!==s.h&&n.setHueRatio(s.h),!this.isAlphaEnabled()&&n.hasTransparency()&&n.setAlpha(1),n}},{key:"isInvalidColor",value:function(){return!this.hasColor()||!this.color.isValid()||!!this.color.previous}},{key:"isAlphaEnabled",value:function(){return!0===this.options.useAlpha}},{key:"_resolveColor",value:function(e){var t=!1;return u.default.each(this.extensions,(function(n,i){!1===t&&(t=i.resolveColor(e))})),!1!==t&&(e=t),e}},{key:"hasInput",value:function(){return!1!==this.input}},{key:"isDisabled",value:function(){return!0===this.disabled}},{key:"disable",value:function(){return this.hasInput()&&this.input.prop("disabled",!0),this.disabled=!0,this.element.trigger({type:"colorpickerDisable",colorpicker:this,color:this.color}),!0}},{key:"enable",value:function(){return this.hasInput()&&this.input.prop("disabled",!1),this.disabled=!1,this.element.trigger({type:"colorpickerEnable",colorpicker:this,color:this.color}),!0}},{key:"_mousedown",value:function(e){this.lastEvent.name="mousedown",this.lastEvent.e=e,!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=(0,u.default)(e.target).closest("div"),n=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!t.is(".colorpicker")){if(t.is(".colorpicker-saturation"))this.currentSlider=u.default.extend({},n.saturation);else if(t.is(".colorpicker-hue"))this.currentSlider=u.default.extend({},n.hue);else{if(!t.is(".colorpicker-alpha"))return!1;this.currentSlider=u.default.extend({},n.alpha)}var i=t.offset();this.currentSlider.guide=t.find(".colorpicker-guide")[0].style,this.currentSlider.left=e.pageX-i.left,this.currentSlider.top=e.pageY-i.top,this.mousePointer={left:e.pageX,top:e.pageY},(0,u.default)(window.document).on({"mousemove.colorpicker":u.default.proxy(this._mousemove,this),"touchmove.colorpicker":u.default.proxy(this._mousemove,this),"mouseup.colorpicker":u.default.proxy(this._mouseup,this),"touchend.colorpicker":u.default.proxy(this._mouseup,this)}).trigger("mousemove")}return!1}},{key:"_mousemove",value:function(e){this.lastEvent.name="mousemove",this.lastEvent.e=e;var t=this.hasColor()?this.color.getCopy():this.createColor(this.fallbackColor);!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var n=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=n+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&t[this.currentSlider.callLeft].call(t,n/this.currentSlider.maxLeft),this.currentSlider.callTop&&t[this.currentSlider.callTop].call(t,i/this.currentSlider.maxTop),this.setValue(t),!1}},{key:"_mouseup",value:function(e){return this.lastEvent.name="mouseup",this.lastEvent.e=e,e.stopPropagation(),e.preventDefault(),(0,u.default)(window.document).off({"mousemove.colorpicker":this._mousemove,"touchmove.colorpicker":this._mousemove,"mouseup.colorpicker":this._mouseup,"touchend.colorpicker":this._mouseup}),!1}},{key:"_change",value:function(e){this.lastEvent.name="change",this.lastEvent.e=e;var t=this.input.val();t!==this.toInputColorString()&&this.setValue(t)}},{key:"_keyup",value:function(e){this.lastEvent.name="keyup",this.lastEvent.e=e;var t=this.input.val();t!==this.toInputColorString()&&this.setValue(t)}},{key:"fallbackColor",get:function(){return this.options.fallbackColor?this.options.fallbackColor:this.hasColor()?this.color:"#000"}},{key:"format",get:function(){return this.options.format?this.options.format:this.hasColor()&&this.color.hasTransparency()&&this.color.format.match(/^hex/)?this.options.enableHex8?"hex8":this.isAlphaEnabled()?"rgba":"hex":this.hasColor()?this.color.format:null}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e instanceof d.default?{r:e._r,g:e._g,b:e._b,a:e._a}:e}function l(e){return e instanceof String||"string"==typeof e?e.replace(/a$/gi,""):e}Object.defineProperty(t,"__esModule",{value:!0});var c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=i(n(6)),h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};o(this,t),n.format&&(n.format=l(n.format));var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s(e),n));return i._originalInput=e,i._hbak=i.hsva.h,i.previous=null,i}return a(t,e),u(t,[{key:"id",get:function(){return this._tc_id}},{key:"format",get:function(){return this._format}},{key:"options",get:function(){return{format:this._format,gradientType:this._gradientType}}},{key:"hsva",get:function(){return this.toHsv()}},{key:"hsvaRatio",get:function(){var e=this.hsva;return{h:e.h/360,s:e.s,v:e.v,a:e.a}}}]),u(t,[{key:"equals",value:function(e){return e instanceof d.default&&(this._r===e._r&&this._g===e._g&&this._b===e._b&&this._a===e._a&&this._roundA===e._roundA&&this._format===e._format&&this._gradientType===e._gradientType&&this._ok===e._ok)}},{key:"importColor",value:function(e){if(!(e instanceof d.default))throw new Error("Color.importColor: The color argument is not an instance of tinycolor.");this._originalInput=e._originalInput,this._r=e._r,this._g=e._g,this._b=e._b,this._a=e._a,this._roundA=e._roundA,this._format=l(e._format),this._gradientType=e._gradientType,this._ok=e._ok}},{key:"importRgb",value:function(e){if(!e instanceof t)throw new Error("Color.importColor: The color argument is not an instance of tinycolor.");this._r=e._r,this._g=e._g,this._b=e._b,this._a=e._a,this._ok=e._ok,this._hbak=e._hbak}},{key:"importHsv",value:function(e){this._hbak=e.h,this.importRgb(new t(e,this.options))}},{key:"getCopy",value:function(){return new t(this.hsva,this.options)}},{key:"getHueOnlyCopy",value:function(){return new t({h:this._hbak?this._hbak:this.hsva.h,s:100,v:100},this.options)}},{key:"getOpaqueCopy",value:function(){return new t(Object.assign({},this.hsva,{a:1}),this.options)}},{key:"setHue",value:function(e){this.importHsv(Object.assign({},this.hsva,{h:e}))}},{key:"setSaturation",value:function(e){this.importHsv(Object.assign({},this.hsva,{s:e}))}},{key:"setBrightness",value:function(e){this.importHsv(Object.assign({},this.hsva,{v:e}))}},{key:"setHueRatio",value:function(e){0!==e&&this.setHue(360*(1-e))}},{key:"setSaturationRatio",value:function(e){this.setSaturation(e)}},{key:"setBrightnessRatio",value:function(e){this.setBrightness(1-e)}},{key:"setAlphaRatio",value:function(e){this.setAlpha(1-e)}},{key:"isTransparent",value:function(){return 0===this._a}},{key:"hasTransparency",value:function(){return 1!==this._a}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=e?l(e):this.format;var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toString",this).call(this,e);return n&&n.match(/^#[0-9a-f]{3,8}$/i)&&this.isTransparent()&&0===this._r&&0===this._g&&0===this._b?"transparent":n}}]),t}(d.default);t.default=h},function(e,t,n){var i;!function(o){function r(e,t){if(t=t||{},(e=e||"")instanceof r)return e;if(!(this instanceof r))return new r(e,t);var n=a(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=W(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=W(this._r)),this._g<1&&(this._g=W(this._g)),this._b<1&&(this._b=W(this._b)),this._ok=n.ok,this._tc_id=U++}function a(e){var t={r:0,g:0,b:0},n=1,i=null,o=null,r=null,a=!1,l=!1;return"string"==typeof e&&(e=B(e)),"object"==typeof e&&(F(e.r)&&F(e.g)&&F(e.b)?(t=s(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):F(e.h)&&F(e.s)&&F(e.v)?(i=$(e.s),o=$(e.v),t=d(e.h,i,o),a=!0,l="hsv"):F(e.h)&&F(e.s)&&F(e.l)&&(i=$(e.s),r=$(e.l),t=c(e.h,i,r),a=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=O(n),{ok:a,format:e.format||l,r:V(255,Y(t.r,0)),g:V(255,Y(t.g,0)),b:V(255,Y(t.b,0)),a:n}}function s(e,t,n){return{r:255*D(e,255),g:255*D(t,255),b:255*D(n,255)}}function l(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var i,o,r=Y(e,t,n),a=V(e,t,n),s=(r+a)/2;if(r==a)i=o=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:o,l:s}}function c(e,t,n){function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var o,r,a;if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)o=r=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;o=i(l,s,e+1/3),r=i(l,s,e),a=i(l,s,e-1/3)}return{r:255*o,g:255*r,b:255*a}}function u(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var i,o,r=Y(e,t,n),a=V(e,t,n),s=r,l=r-a;if(o=0===r?0:l/r,r==a)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:o,v:s}}function d(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var i=o.floor(e),r=e-i,a=n*(1-t),s=n*(1-r*t),l=n*(1-(1-r)*t),c=i%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}function h(e,t,n,i){var o=[L(W(e).toString(16)),L(W(t).toString(16)),L(W(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(e,t,n,i,o){var r=[L(W(e).toString(16)),L(W(t).toString(16)),L(W(n).toString(16)),L(j(i))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function f(e,t,n,i){return[L(j(i)),L(W(e).toString(16)),L(W(t).toString(16)),L(W(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.s-=t/100,n.s=I(n.s),r(n)}function g(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.s+=t/100,n.s=I(n.s),r(n)}function v(e){return r(e).desaturate(100)}function b(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.l+=t/100,n.l=I(n.l),r(n)}function y(e,t){t=0===t?0:t||10;var n=r(e).toRgb();return n.r=Y(0,V(255,n.r-W(-t/100*255))),n.g=Y(0,V(255,n.g-W(-t/100*255))),n.b=Y(0,V(255,n.b-W(-t/100*255))),r(n)}function w(e,t){t=0===t?0:t||10;var n=r(e).toHsl();return n.l-=t/100,n.l=I(n.l),r(n)}function _(e,t){var n=r(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,r(n)}function C(e){var t=r(e).toHsl();return t.h=(t.h+180)%360,r(t)}function x(e){var t=r(e).toHsl(),n=t.h;return[r(e),r({h:(n+120)%360,s:t.s,l:t.l}),r({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=r(e).toHsl(),n=t.h;return[r(e),r({h:(n+90)%360,s:t.s,l:t.l}),r({h:(n+180)%360,s:t.s,l:t.l}),r({h:(n+270)%360,s:t.s,l:t.l})]}function S(e){var t=r(e).toHsl(),n=t.h;return[r(e),r({h:(n+72)%360,s:t.s,l:t.l}),r({h:(n+216)%360,s:t.s,l:t.l})]}function E(e,t,n){t=t||6,n=n||30;var i=r(e).toHsl(),o=360/n,a=[r(e)];for(i.h=(i.h-(o*t>>1)+720)%360;--t;)i.h=(i.h+o)%360,a.push(r(i));return a}function T(e,t){t=t||6;for(var n=r(e).toHsv(),i=n.h,o=n.s,a=n.v,s=[],l=1/t;t--;)s.push(r({h:i,s:o,v:a})),a=(a+l)%1;return s}function A(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){N(e)&&(e="100%");var n=M(e);return e=V(t,Y(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function I(e){return V(1,Y(0,e))}function P(e){return parseInt(e,16)}function N(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function M(e){return"string"==typeof e&&-1!=e.indexOf("%")}function L(e){return 1==e.length?"0"+e:""+e}function $(e){return e<=1&&(e=100*e+"%"),e}function j(e){return o.round(255*parseFloat(e)).toString(16)}function R(e){return P(e)/255}function F(e){return!!ee.CSS_UNIT.exec(e)}function B(e){e=e.replace(z,"").replace(q,"").toLowerCase();var t,n=!1;if(Z[e])e=Z[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=ee.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=ee.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ee.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=ee.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ee.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=ee.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ee.hex8.exec(e))?{r:P(t[1]),g:P(t[2]),b:P(t[3]),a:R(t[4]),format:n?"name":"hex8"}:(t=ee.hex6.exec(e))?{r:P(t[1]),g:P(t[2]),b:P(t[3]),format:n?"name":"hex"}:(t=ee.hex4.exec(e))?{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),a:R(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=ee.hex3.exec(e))&&{r:P(t[1]+""+t[1]),g:P(t[2]+""+t[2]),b:P(t[3]+""+t[3]),format:n?"name":"hex"}}function H(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}var z=/^\s+/,q=/\s+$/,U=0,W=o.round,V=o.min,Y=o.max,K=o.random;r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=O(e),this._roundA=W(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=W(360*e.h),n=W(100*e.s),i=W(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b),t=W(360*e.h),n=W(100*e.s),i=W(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return p(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:W(this._r),g:W(this._g),b:W(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+W(this._r)+", "+W(this._g)+", "+W(this._b)+")":"rgba("+W(this._r)+", "+W(this._g)+", "+W(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:W(100*D(this._r,255))+"%",g:W(100*D(this._g,255))+"%",b:W(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+W(100*D(this._r,255))+"%, "+W(100*D(this._g,255))+"%, "+W(100*D(this._b,255))+"%)":"rgba("+W(100*D(this._r,255))+"%, "+W(100*D(this._g,255))+"%, "+W(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(J[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=r(e);n="#"+f(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},r.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:$(e[i]));e=n}return r(e,t)},r.equals=function(e,t){return!(!e||!t)&&r(e).toRgbString()==r(t).toRgbString()},r.random=function(){return r.fromRatio({r:K(),g:K(),b:K()})},r.mix=function(e,t,n){n=0===n?0:n||50;var i=r(e).toRgb(),o=r(t).toRgb(),a=n/100;return r({r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a})},r.readability=function(e,t){var n=r(e),i=r(t);return(o.max(n.getLuminance(),i.getLuminance())+.05)/(o.min(n.getLuminance(),i.getLuminance())+.05)},r.isReadable=function(e,t,n){var i,o,a=r.readability(e,t);switch(o=!1,(i=H(n)).level+i.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7}return o},r.mostReadable=function(e,t,n){var i,o,a,s,l=null,c=0;o=(n=n||{}).includeFallbackColors,a=n.level,s=n.size;for(var u=0;u<t.length;u++)(i=r.readability(e,t[u]))>c&&(c=i,l=r(t[u]));return r.isReadable(e,l,{level:a,size:s})||!o?l:(n.includeFallbackColors=!1,r.mostReadable(e,["#fff","#000"],n))};var G,Q,X,Z=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},J=r.hexNames=A(Z),ee=(Q="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",X="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+Q),rgba:new RegExp("rgba"+X),hsl:new RegExp("hsl"+Q),hsla:new RegExp("hsla"+X),hsv:new RegExp("hsv"+Q),hsva:new RegExp("hsva"+X),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});void 0!==e&&e.exports?e.exports=r:void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}(Math)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,color:!1,format:!1,horizontal:!1,inline:!1,input:"input",container:!1,component:".add-on, .input-group-addon",fallbackColor:!1,autoInputFallback:!1,useHashPrefix:!0,useAlpha:!0,enableHex8:!1,sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturationRatio",callTop:"setBrightnessRatio"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHueRatio"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlphaRatio"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturationRatio",callTop:"setBrightnessRatio"},hue:{maxLeft:100,maxTop:0,callLeft:"setHueRatio",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlphaRatio",callTop:!1}},align:"right",customClass:null,template:'<div class="colorpicker">\n    <div class="colorpicker-saturation"><i class="colorpicker-guide"><i /></div>\n    <div class="colorpicker-hue"><i class="colorpicker-guide"></i></div>\n    <div class="colorpicker-alpha"><i class="colorpicker-guide"></i></div></div>',extensions:[{name:"preview",showText:!1}]}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Palette=t.Swatches=t.Preview=t.Debugger=void 0;var o=i(n(9)),r=i(n(10)),a=i(n(11)),s=i(n(2));t.Debugger=o.default,t.Preview=r.default,t.Swatches=a.default,t.Palette=s.default,t.default={debugger:o.default,preview:r.default,swatches:a.default,palette:s.default}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(1)),u=i(n(0)),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.eventCounter=0,i.colorpicker.hasInput()&&i.colorpicker.input.on("change.colorpicker-ext",u.default.proxy(i.onChangeInput,i)),i}return a(t,e),s(t,[{key:"log",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.eventCounter+=1;var r="#"+this.eventCounter+": Colorpicker#"+this.colorpicker.id+" ["+e+"]";(t=console).debug.apply(t,[r].concat(i)),this.colorpicker.element.trigger({type:"colorpickerDebug",colorpicker:this.colorpicker,color:this.color,debug:{debugger:this,eventName:e,logArgs:i,logMessage:r}})}},{key:"resolveColor",value:function(e){return this.log("resolveColor()",e),!1}},{key:"onCreate",value:function(e){return this.log("colorpickerCreate"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCreate",this).call(this,e)}},{key:"onDestroy",value:function(e){return this.log("colorpickerDestroy"),this.eventCounter=0,this.colorpicker.hasInput()&&this.colorpicker.input.off(".colorpicker-ext"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onDestroy",this).call(this,e)}},{key:"onUpdate",value:function(){this.log("colorpickerUpdate")}},{key:"onChangeInput",value:function(e){this.log("input:change.colorpicker",e.value,e.color)}},{key:"onChange",value:function(e){this.log("colorpickerChange",e.value,e.color)}},{key:"onInvalid",value:function(e){this.log("colorpickerInvalid",e.value,e.color)}},{key:"onHide",value:function(){this.log("colorpickerHide"),this.eventCounter=0}},{key:"onShow",value:function(){this.log("colorpickerShow")}},{key:"onDisable",value:function(){this.log("colorpickerDisable")}},{key:"onEnable",value:function(){this.log("colorpickerEnable")}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(1)),u=i(n(0)),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},{template:'<div class="colorpicker-bar colorpicker-preview"><div /></div>',showText:!0,format:e.format},n)));return i.element=(0,u.default)(i.options.template),i.elementInner=i.element.find("div"),i}return a(t,e),s(t,[{key:"onCreate",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCreate",this).call(this,e),this.colorpicker.picker.append(this.element)}},{key:"onUpdate",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onUpdate",this).call(this,e),this.elementInner.css("backgroundColor",e.color.toRgbString()),this.options.showText&&(this.elementInner.html(e.color.toString(this.options.format||this.colorpicker.format)),e.color.isDark()?this.elementInner.css("color","white"):this.elementInner.css("color","black"))}}]),t}(c.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(2)),u=i(n(0)),d={barTemplate:'<div class="colorpicker-bar colorpicker-swatches"></div>',swatchTemplate:'<i class="colorpicker-swatch"></i>'},h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},d,n)))}return a(t,e),s(t,[{key:"isEnabled",value:function(){return this.getLength()>0}},{key:"onCreate",value:function(e){var n=this;if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCreate",this).call(this,e),this.isEnabled()){var i=this.colorpicker,o=(0,u.default)(this.options.barTemplate),r=!0===this.options.namesAsValues&&!Array.isArray(this.colors);u.default.each(this.colors,(function(e,t){var a=(0,u.default)(n.options.swatchTemplate).css("background-color",t).attr("data-name",e).attr("data-value",t).attr("title",e+": "+t);a.on("mousedown.colorpicker touchstart.colorpicker",(function(e){e.preventDefault(),i.setValue(r?(0,u.default)(this).data("name"):(0,u.default)(this).data("value"))})),o.append(a)})),i.picker.append(o)}}}]),t}(c.default);t.default=h}])})),function(e,t){
"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,(function(e){"use strict";function t(e){return"string"==typeof e}function n(e){return"number"==typeof e&&!me(e)}function i(e){return void 0===e}function o(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.apply(t,i.concat(o))}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ve.test(e)?Math.round(e*t)/t:e}function a(e){var t=e.match(ye);return t&&(t[1]!==be.protocol||t[2]!==be.hostname||t[3]!==be.port)}function s(e){var t=e.rotate,i=e.scaleX,o=e.scaleY,r=e.translateX,a=e.translateY,s=[];return n(r)&&0!==r&&s.push("translateX("+r+"px)"),n(a)&&0!==a&&s.push("translateY("+a+"px)"),n(t)&&0!==t&&s.push("rotate("+t+"deg)"),n(i)&&1!==i&&s.push("scaleX("+i+")"),n(o)&&1!==o&&s.push("scaleY("+o+")"),s.length?s.join(" "):"none"}function l(e,t){if(!e.naturalWidth||_e){var n=document.createElement("img");n.onload=function(){t(n.width,n.height)},n.src=e.src}else t(e.naturalWidth,e.naturalHeight)}function c(t){var n=e.extend({},t),i=[];return e.each(t,(function(t,o){delete n[t],e.each(n,(function(e,t){var n=Math.abs(o.startX-t.startX),r=Math.abs(o.startY-t.startY),a=Math.abs(o.endX-t.endX),s=Math.abs(o.endY-t.endY),l=Math.sqrt(n*n+r*r),c=(Math.sqrt(a*a+s*s)-l)/l;i.push(c)}))})),i.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),i[0]}function u(t,n){var i=t.pageX,o=t.pageY,r={endX:i,endY:o};return n?r:e.extend({startX:i,startY:o},r)}function d(t){var n=0,i=0,o=0;return e.each(t,(function(e,t){var r=t.startX,a=t.startY;n+=r,i+=a,o+=1})),{pageX:n/=o,pageY:i/=o}}function h(e){var t=e.aspectRatio,n=e.height,i=e.width,o=function(e){return Ce(e)&&e>0};return o(i)&&o(n)?n*t>i?n=i/t:i=n*t:o(i)?n=i/t:o(n)&&(i=n*t),{width:i,height:n}}function p(e){var t=e.width,n=e.height,i=e.degree;if(90===(i=Math.abs(i)%180))return{width:n,height:t};var o=i%90*Math.PI/180,r=Math.sin(o),a=Math.cos(o),s=t*a+n*r,l=t*r+n*a;return i>90?{width:l,height:s}:{width:s,height:l}}function f(t,n,i,o){var a=n.naturalWidth,s=n.naturalHeight,l=n.rotate,c=void 0===l?0:l,u=n.scaleX,d=void 0===u?1:u,p=n.scaleY,f=void 0===p?1:p,m=i.aspectRatio,g=i.naturalWidth,v=i.naturalHeight,b=o.fillColor,y=void 0===b?"transparent":b,w=o.imageSmoothingEnabled,_=void 0===w||w,C=o.imageSmoothingQuality,x=void 0===C?"low":C,k=o.maxWidth,S=void 0===k?1/0:k,E=o.maxHeight,T=void 0===E?1/0:E,A=o.minWidth,O=void 0===A?0:A,D=o.minHeight,I=void 0===D?0:D,P=h({aspectRatio:m,width:S,height:T}),N=h({aspectRatio:m,width:O,height:I}),M=Math.min(P.width,Math.max(N.width,g)),L=Math.min(P.height,Math.max(N.height,v)),$=document.createElement("canvas"),j=$.getContext("2d"),R=[-a/2,-s/2,a,s];return $.width=r(M),$.height=r(L),j.fillStyle=y,j.fillRect(0,0,M,L),j.save(),j.translate(M/2,L/2),j.rotate(c*Math.PI/180),j.scale(d,f),j.imageSmoothingEnabled=!!_,j.imageSmoothingQuality=x,j.drawImage.apply(j,[t].concat(fe(e.map(R,(function(e){return Math.floor(r(e))}))))),j.restore(),$}function m(e,t,n){var i="",o=void 0;for(n+=t,o=t;o<n;o+=1)i+=xe(e.getUint8(o));return i}function g(t){var n=t.replace(ke,""),i=atob(n),o=new ArrayBuffer(i.length),r=new Uint8Array(o);return e.each(r,(function(e){r[e]=i.charCodeAt(e)})),o}function v(t,n){var i=new Uint8Array(t),o="";return e.each(i,(function(e,t){o+=xe(t)})),"data:"+n+";base64,"+btoa(o)}function b(e){var t=new DataView(e),n=void 0,i=void 0,o=void 0,r=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var a=t.byteLength,s=2;s<a;){if(255===t.getUint8(s)&&225===t.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===m(t,o+4,4)){var c=t.getUint16(l);if(((i=18761===c)||19789===c)&&42===t.getUint16(l+2,i)){var u=t.getUint32(l+4,i);u>=8&&(r=l+u)}}}if(r){var d=t.getUint16(r,i),h=void 0,p=void 0;for(p=0;p<d;p+=1)if(h=r+12*p+2,274===t.getUint16(h,i)){h+=8,n=t.getUint16(h,i),t.setUint16(h,1,i);break}}return n}function y(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}e=e&&e.hasOwnProperty("default")?e.default:e;var w="undefined"!=typeof window?window:{},_="cropper",C="all",x="crop",k="move",S="zoom",E="e",T="w",A="s",O="n",D="ne",I="nw",P="se",N="sw",M=_+"-crop",L=_+"-disabled",$=_+"-hidden",j=_+"-hide",R=_+"-invisible",F=_+"-modal",B=_+"-move",H="action",z="preview",q="crop",U="move",W="none",V="crop",Y="cropend",K="cropmove",G="cropstart",Q="dblclick",X="error",Z="load",J=w.PointerEvent?"pointerdown":"touchstart mousedown",ee=w.PointerEvent?"pointermove":"touchmove mousemove",te=w.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",ne="ready",ie="resize",oe="wheel mousewheel DOMMouseScroll",re="zoom",ae=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,se=/^data:/,le=/^data:image\/jpeg;base64,/,ce=/^(img|canvas)$/i,ue={viewMode:0,dragMode:q,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!1,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},de='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',he=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),fe=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},me=Number.isNaN||w.isNaN,ge=Object.keys||function(t){var n=[];return e.each(t,(function(e){n.push(e)})),n},ve=/\.\d*(?:0|9){12}\d*$/i,be=w.location,ye=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,we=w.navigator,_e=we&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(we.userAgent),Ce=Number.isFinite||w.isFinite,xe=String.fromCharCode,ke=/^data:.*,/,Se={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.$element,t=this.options,n=this.$container,i=this.$cropper;i.addClass($),e.removeClass($),i.css(this.container={width:Math.max(n.width(),Number(t.minContainerWidth)||200),height:Math.max(n.height(),Number(t.minContainerHeight)||100)}),e.addClass($),i.removeClass($)},initCanvas:function(){var t=this.container,n=this.image,i=this.options.viewMode,o=Math.abs(n.rotate)%180==90,r=o?n.naturalHeight:n.naturalWidth,a=o?n.naturalWidth:n.naturalHeight,s=r/a,l=t.width,c=t.height;t.height*s>t.width?3===i?l=t.height*s:c=t.width/s:3===i?c=t.width/s:l=t.height*s;var u={aspectRatio:s,naturalWidth:r,naturalHeight:a,width:l,height:c};u.left=(t.width-l)/2,u.top=(t.height-c)/2,u.oldLeft=u.left,u.oldTop=u.top,this.canvas=u,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImage=e.extend({},n),this.initialCanvas=e.extend({},u)},limitCanvas:function(e,t){var n=this.options,i=this.container,o=this.canvas,r=this.cropBox,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&r;if(e){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;a>0&&(a>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===a&&(u*s>c?c=u*s:u=c/s)):c?c=Math.max(c,l?r.width:0):u?u=Math.max(u,l?r.height:0):l&&(c=r.width,(u=r.height)*s>c?c=u*s:u=c/s));var d=h({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,o.minWidth=c,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>0){var p=i.width-o.width,f=i.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+r.width-o.width),o.minTop=Math.min(r.top,r.top+r.height-o.height),o.maxLeft=r.left,o.maxTop=r.top,2===a&&(o.width>=i.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=i.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvas,i=this.image;if(t){var o=p({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=o.width,a=o.height,l=n.width*(r/n.naturalWidth),c=n.height*(a/n.naturalHeight);n.left-=(l-n.width)/2,n.top-=(c-n.height)/2,n.width=l,n.height=c,n.aspectRatio=r/a,n.naturalWidth=r,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,this.$canvas.css({width:n.width,height:n.height,transform:s({translateX:n.left,translateY:n.top})}),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvas,i=this.image,o=i.naturalWidth*(n.width/n.naturalWidth),r=i.naturalHeight*(n.height/n.naturalHeight);e.extend(i,{width:o,height:r,left:(n.width-o)/2,top:(n.height-r)/2}),this.$clone.css({width:i.width,height:i.height,transform:s(e.extend({translateX:i.left,translateY:i.top},i))}),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvas,i=t.aspectRatio,o=Number(t.autoCropArea)||.8,r={width:n.width,height:n.height};i&&(n.height*i>n.width?r.height=r.width/i:r.width=r.height*i),this.cropBox=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*o),r.height=Math.max(r.minHeight,r.height*o),r.left=n.left+(n.width-r.width)/2,r.top=n.top+(n.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBox=e.extend({},r)},limitCropBox:function(e,t){var n=this.options,i=this.container,o=this.canvas,r=this.cropBox,a=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=Math.min(i.width,a?o.width:i.width),d=Math.min(i.height,a?o.height:i.height);l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>u?d=u/s:u=d*s),r.minWidth=Math.min(l,u),r.minHeight=Math.min(c,d),r.maxWidth=u,r.maxHeight=d}t&&(a?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(i.width,o.left+o.width)-r.width,r.maxTop=Math.min(i.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var e=this.options,t=this.container,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&this.$face.data(H,n.width>=t.width&&n.height>=t.height?k:C),this.$cropBox.css({width:n.width,height:n.height,transform:s({translateX:n.left,translateY:n.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(V,this.getData())}},Ee={initPreview:function(){var t=this.crossOrigin,n=t?this.crossOriginUrl:this.url,i=document.createElement("img");t&&(i.crossOrigin=t),i.src=n;var o=e(i);this.$preview=e(this.options.preview),this.$clone2=o,this.$viewBox.html(o),this.$preview.each((function(i,o){var r=e(o),a=document.createElement("img");r.data(z,{width:r.width(),height:r.height(),html:r.html()}),t&&(a.crossOrigin=t),a.src=n,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',r.html(a)}))},resetPreview:function(){this.$preview.each((function(t,n){var i=e(n),o=i.data(z);i.css({width:o.width,height:o.height}).html(o.html).removeData(z)}))},preview:function(){var t=this.image,n=this.canvas,i=this.cropBox,o=i.width,r=i.height,a=t.width,l=t.height,c=i.left-n.left-t.left,u=i.top-n.top-t.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:a,height:l,transform:s(e.extend({translateX:-c,translateY:-u},t))}),this.$preview.each((function(n,i){var d=e(i),h=d.data(z),p=h.width,f=h.height,m=p,g=f,v=1;o&&(g=r*(v=p/o)),r&&g>f&&(m=o*(v=f/r),g=f),d.css({width:m,height:g}).find("img").css({width:a*v,height:l*v,transform:s(e.extend({translateX:-c*v,translateY:-u*v},t))})})))}},Te={bind:function(){var t=this.$element,n=this.options,i=this.$cropper;e.isFunction(n.cropstart)&&t.on(G,n.cropstart),e.isFunction(n.cropmove)&&t.on(K,n.cropmove),e.isFunction(n.cropend)&&t.on(Y,n.cropend),e.isFunction(n.crop)&&t.on(V,n.crop),e.isFunction(n.zoom)&&t.on(re,n.zoom),i.on(J,o(this.cropStart,this)),n.zoomable&&n.zoomOnWheel&&i.on(oe,o(this.wheel,this)),n.toggleDragModeOnDblclick&&i.on(Q,o(this.dblclick,this)),e(this.element.ownerDocument).on(ee,this.onCropMove=o(this.cropMove,this)).on(te,this.onCropEnd=o(this.cropEnd,this)),n.responsive&&e(window).on(ie,this.onResize=o(this.resize,this))},unbind:function(){var t=this.$element,n=this.options,i=this.$cropper;e.isFunction(n.cropstart)&&t.off(G,n.cropstart),e.isFunction(n.cropmove)&&t.off(K,n.cropmove),e.isFunction(n.cropend)&&t.off(Y,n.cropend),e.isFunction(n.crop)&&t.off(V,n.crop),e.isFunction(n.zoom)&&t.off(re,n.zoom),i.off(J,this.cropStart),n.zoomable&&n.zoomOnWheel&&i.off(oe,this.wheel),n.toggleDragModeOnDblclick&&i.off(Q,this.dblclick),e(this.element.ownerDocument).off(ee,this.onCropMove).off(te,this.onCropEnd),n.responsive&&e(window).off(ie,this.onResize)}},Ae={resize:function(){var t=this.options,n=this.$container,i=this.container,o=Number(t.minContainerWidth)||200,r=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=o||i.height<=r)){var a=n.width()/i.width;if(1!==a||n.height()!==i.height){var s=void 0,l=void 0;t.restore&&(s=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(e.each(s,(function(e,t){s[e]=t*a}))),this.setCropBoxData(e.each(l,(function(e,t){l[e]=t*a}))))}}},dblclick:function(){this.disabled||this.options.dragMode===W||this.setDragMode(this.$dragBox.hasClass(M)?U:q)},wheel:function(e){var t=this,n=e.originalEvent||e,i=Number(this.options.wheelZoomRatio)||.1;if(!this.disabled&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50);var o=1;n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),this.zoom(-o*i,e)}},cropStart:function(t){if(!this.disabled){var n=this.options,i=this.pointers,o=t.originalEvent,r=void 0;o&&o.changedTouches?e.each(o.changedTouches,(function(e,t){i[t.identifier]=u(t)})):i[o&&o.pointerId||0]=u(o||t),r=ge(i).length>1&&n.zoomable&&n.zoomOnTouch?S:e(t.target).data(H),ae.test(r)&&(this.trigger(G,{originalEvent:o,action:r}).isDefaultPrevented()||(t.preventDefault(),this.action=r,this.cropping=!1,r===x&&(this.cropping=!0,this.$dragBox.addClass(F))))}},cropMove:function(t){var n=this.action;if(!this.disabled&&n){var i=this.pointers,o=t.originalEvent;t.preventDefault(),this.trigger(K,{originalEvent:o,action:n}).isDefaultPrevented()||(o&&o.changedTouches?e.each(o.changedTouches,(function(t,n){e.extend(i[n.identifier],u(n,!0))})):e.extend(i[o&&o.pointerId||0],u(o||t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,i=this.pointers,o=t.originalEvent;o&&o.changedTouches?e.each(o.changedTouches,(function(e,t){delete i[t.identifier]})):delete i[o&&o.pointerId||0],n&&(t.preventDefault(),ge(i).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(F,this.cropped&&this.options.modal)),this.trigger(Y,{originalEvent:o,action:n}))}}},Oe={change:function(t){var n=this.options,i=this.pointers,o=this.container,r=this.canvas,a=this.cropBox,s=this.action,l=n.aspectRatio,u=a.left,d=a.top,h=a.width,p=a.height,f=u+h,m=d+p,g=0,v=0,b=o.width,y=o.height,w=!0,_=void 0;!l&&t.shiftKey&&(l=h&&p?h/p:1),this.limited&&(g=a.minLeft,v=a.minTop,b=g+Math.min(o.width,r.width,r.left+r.width),y=v+Math.min(o.height,r.height,r.top+r.height));var M=i[ge(i)[0]],L={x:M.endX-M.startX,y:M.endY-M.startY},j=function(e){switch(e){case E:f+L.x>b&&(L.x=b-f);break;case T:u+L.x<g&&(L.x=g-u);break;case O:d+L.y<v&&(L.y=v-d);break;case A:m+L.y>y&&(L.y=y-m)}};switch(s){case C:u+=L.x,d+=L.y;break;case E:if(L.x>=0&&(f>=b||l&&(d<=v||m>=y))){w=!1;break}j(E),h+=L.x,l&&(p=h/l,d-=L.x/l/2),h<0&&(s=T,h=0);break;case O:if(L.y<=0&&(d<=v||l&&(u<=g||f>=b))){w=!1;break}j(O),p-=L.y,d+=L.y,l&&(h=p*l,u+=L.y*l/2),p<0&&(s=A,p=0);break;case T:if(L.x<=0&&(u<=g||l&&(d<=v||m>=y))){w=!1;break}j(T),h-=L.x,u+=L.x,l&&(p=h/l,d+=L.x/l/2),h<0&&(s=E,h=0);break;case A:if(L.y>=0&&(m>=y||l&&(u<=g||f>=b))){w=!1;break}j(A),p+=L.y,l&&(h=p*l,u-=L.y*l/2),p<0&&(s=O,p=0);break;case D:if(l){if(L.y<=0&&(d<=v||f>=b)){w=!1;break}j(O),p-=L.y,d+=L.y,h=p*l}else j(O),j(E),L.x>=0?f<b?h+=L.x:L.y<=0&&d<=v&&(w=!1):h+=L.x,L.y<=0?d>v&&(p-=L.y,d+=L.y):(p-=L.y,d+=L.y);h<0&&p<0?(s=N,p=0,h=0):h<0?(s=I,h=0):p<0&&(s=P,p=0);break;case I:if(l){if(L.y<=0&&(d<=v||u<=g)){w=!1;break}j(O),p-=L.y,d+=L.y,h=p*l,u+=L.y*l}else j(O),j(T),L.x<=0?u>g?(h-=L.x,u+=L.x):L.y<=0&&d<=v&&(w=!1):(h-=L.x,u+=L.x),L.y<=0?d>v&&(p-=L.y,d+=L.y):(p-=L.y,d+=L.y);h<0&&p<0?(s=P,p=0,h=0):h<0?(s=D,h=0):p<0&&(s=N,p=0);break;case N:if(l){if(L.x<=0&&(u<=g||m>=y)){w=!1;break}j(T),h-=L.x,u+=L.x,p=h/l}else j(A),j(T),L.x<=0?u>g?(h-=L.x,u+=L.x):L.y>=0&&m>=y&&(w=!1):(h-=L.x,u+=L.x),L.y>=0?m<y&&(p+=L.y):p+=L.y;h<0&&p<0?(s=D,p=0,h=0):h<0?(s=P,h=0):p<0&&(s=I,p=0);break;case P:if(l){if(L.x>=0&&(f>=b||m>=y)){w=!1;break}j(E),p=(h+=L.x)/l}else j(A),j(E),L.x>=0?f<b?h+=L.x:L.y>=0&&m>=y&&(w=!1):h+=L.x,L.y>=0?m<y&&(p+=L.y):p+=L.y;h<0&&p<0?(s=I,p=0,h=0):h<0?(s=N,h=0):p<0&&(s=D,p=0);break;case k:this.move(L.x,L.y),w=!1;break;case S:this.zoom(c(i),t.originalEvent),w=!1;break;case x:if(!L.x||!L.y){w=!1;break}_=this.$cropper.offset(),u=M.startX-_.left,d=M.startY-_.top,h=a.minWidth,p=a.minHeight,L.x>0?s=L.y>0?P:D:L.x<0&&(u-=h,s=L.y>0?N:I),L.y<0&&(d-=p),this.cropped||(this.$cropBox.removeClass($),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(a.width=h,a.height=p,a.left=u,a.top=d,this.action=s,this.renderCropBox()),e.each(i,(function(e,t){t.startX=t.endX,t.startY=t.endY}))}},De={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(F),this.$cropBox.removeClass($)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=e.extend({},this.initialImage),this.canvas=e.extend({},this.initialCanvas),this.cropBox=e.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(e.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(F),this.$cropBox.addClass($))},replace:function(e,t){!this.disabled&&e&&(this.isImg&&this.$element.attr("src",e),t?(this.url=e,this.$clone.attr("src",e),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",e)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(e)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(L))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(L))},destroy:function(){var e=this.$element;this.loaded?(this.isImg&&this.replaced&&e.attr("src",this.originalUrl),this.unbuild(),e.removeClass($)):this.isImg?e.off(Z,this.start):this.$clone&&this.$clone.remove(),e.removeData(_)},move:function(e,t){var n=this.canvas,o=n.left,r=n.top;this.moveTo(i(e)?e:o+Number(e),i(t)?t:r+Number(t))},moveTo:function(e,t){var o=this.canvas,r=!1;i(t)&&(t=e),e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(n(e)&&(o.left=e,r=!0),n(t)&&(o.top=t,r=!0),r&&this.renderCanvas(!0))},zoom:function(e,t){var n=this.canvas;e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,t)},zoomTo:function(e,t){var n=this.options,i=this.pointers,o=this.canvas,r=o.width,a=o.height,s=o.naturalWidth,l=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*e,u=l*e,h=void 0;if(t&&(h=t.originalEvent),this.trigger(re,{originalEvent:h,oldRatio:r/s,ratio:c/s}).isDefaultPrevented())return;if(h){var p=this.$cropper.offset(),f=i&&ge(i).length?d(i):{pageX:t.pageX||h.pageX||0,pageY:t.pageY||h.pageY||0};o.left-=(c-r)*((f.pageX-p.left-o.left)/r),o.top-=(u-a)*((f.pageY-p.top-o.top)/a)}else o.left-=(c-r)/2,o.top-=(u-a)/2;o.width=c,o.height=u,this.renderCanvas(!0)}},rotate:function(e){this.rotateTo((this.image.rotate||0)+Number(e))},rotateTo:function(e){n(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=e%360,this.renderCanvas(!0,!0))},scaleX:function(e){var t=this.image.scaleY;this.scale(e,n(t)?t:1)},scaleY:function(e){var t=this.image.scaleX;this.scale(n(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.image,o=!1;e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(n(e)&&(i.scaleX=e,o=!0),n(t)&&(i.scaleY=t,o=!0),o&&this.renderCanvas(!0,!0))},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.image,o=this.canvas,r=this.cropBox,a=void 0;if(this.ready&&this.cropped){a={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var s=i.width/i.naturalWidth;e.each(a,(function(e,n){n/=s,a[e]=t?Math.round(n):n}))}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=i.rotate||0),n.scalable&&(a.scaleX=i.scaleX||1,a.scaleY=i.scaleY||1),a},setData:function(t){var i=this.options,o=this.image,r=this.canvas,a={};if(e.isFunction(t)&&(t=t.call(this.element)),this.ready&&!this.disabled&&e.isPlainObject(t)){var s=!1;i.rotatable&&n(t.rotate)&&t.rotate!==o.rotate&&(o.rotate=t.rotate,s=!0),i.scalable&&(n(t.scaleX)&&t.scaleX!==o.scaleX&&(o.scaleX=t.scaleX,s=!0),n(t.scaleY)&&t.scaleY!==o.scaleY&&(o.scaleY=t.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var l=o.width/o.naturalWidth;n(t.x)&&(a.left=t.x*l+r.left),n(t.y)&&(a.top=t.y*l+r.top),n(t.width)&&(a.width=t.width*l),n(t.height)&&(a.height=t.height*l),this.setCropBoxData(a)}},getContainerData:function(){return this.ready?e.extend({},this.container):{}},getImageData:function(){return this.loaded?e.extend({},this.image):{}},getCanvasData:function(){var t=this.canvas,n={};return this.ready&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],(function(e,i){n[i]=t[i]})),n},setCanvasData:function(t){var i=this.canvas,o=i.aspectRatio;e.isFunction(t)&&(t=t.call(this.$element)),this.ready&&!this.disabled&&e.isPlainObject(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(t.width)?(i.width=t.width,i.height=t.width/o):n(t.height)&&(i.height=t.height,i.width=t.height*o),this.renderCanvas(!0))},getCropBoxData:function(){var e=this.cropBox;return this.ready&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:{}},setCropBoxData:function(t){var i=this.cropBox,o=this.options.aspectRatio,r=void 0,a=void 0;e.isFunction(t)&&(t=t.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&e.isPlainObject(t)&&(n(t.left)&&(i.left=t.left),n(t.top)&&(i.top=t.top),n(t.width)&&t.width!==i.width&&(r=!0,i.width=t.width),n(t.height)&&t.height!==i.height&&(a=!0,i.height=t.height),o&&(r?i.height=i.width/o:a&&(i.width=i.height*o)),this.renderCropBox())},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvas,i=f(this.$clone[0],this.image,n,t);if(!this.cropped)return i;var o=this.getData(),a=o.x,s=o.y,l=o.width,c=o.height,u=l/c,d=h({aspectRatio:u,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),p=h({aspectRatio:u,width:t.minWidth||0,height:t.minHeight||0}),m=h({aspectRatio:u,width:t.width||l,height:t.height||c}),g=m.width,v=m.height;g=Math.min(d.width,Math.max(p.width,g)),v=Math.min(d.height,Math.max(p.height,v));var b=document.createElement("canvas"),y=b.getContext("2d");b.width=r(g),b.height=r(v),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,g,v);var w=t.imageSmoothingEnabled,_=void 0===w||w,C=t.imageSmoothingQuality;y.imageSmoothingEnabled=_,C&&(y.imageSmoothingQuality=C);var x=i.width,k=i.height,S=a,E=s,T=void 0,A=void 0,O=void 0,D=void 0,I=void 0,P=void 0;S<=-l||S>x?(S=0,T=0,O=0,I=0):S<=0?(O=-S,S=0,I=T=Math.min(x,l+S)):S<=x&&(O=0,I=T=Math.min(l,x-S)),T<=0||E<=-c||E>k?(E=0,A=0,D=0,P=0):E<=0?(D=-E,E=0,P=A=Math.min(k,c+E)):E<=k&&(D=0,P=A=Math.min(c,k-E));var N=[S,E,T,A];if(I>0&&P>0){var M=g/l;N.push(O*M,D*M,I*M,P*M)}return y.drawImage.apply(y,[i].concat(fe(e.map(N,(function(e){return Math.floor(r(e))}))))),b},setAspectRatio:function(e){var t=this.options;this.disabled||i(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(e){var t=this.options,n=void 0,i=void 0;this.loaded&&!this.disabled&&(n=e===q,i=t.movable&&e===U,e=n||i?e:W,this.$dragBox.data(H,e).toggleClass(M,n).toggleClass(B,i),t.cropBoxMovable||this.$face.data(H,e).toggleClass(M,n).toggleClass(B,i))}},Ie=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(he(this,t),!n||!ce.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.$element=e(n),this.options=e.extend({},ue,e.isPlainObject(i)&&i),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}return pe(t,[{key:"init",value:function(){var e=this.$element,t=void 0;if(e.is("img")){if(this.isImg=!0,t=e.attr("src")||"",this.originalUrl=t,!t)return;t=e.prop("src")}else e.is("canvas")&&window.HTMLCanvasElement&&(t=e[0].toDataURL());this.load(t)}},{key:"trigger",value:function(t,n){var i=e.Event(t,n);return this.$element.trigger(i),i}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.image={};var n=this.$element;if(this.options.checkOrientation&&window.ArrayBuffer)if(se.test(e))le.test(e)?this.read(g(e)):this.clone();else{var i=new XMLHttpRequest;i.onerror=function(){t.clone()},i.onload=function(){t.read(i.response)},i.open("get",e),i.responseType="arraybuffer",i.withCredentials="use-credentials"===n.prop("crossOrigin"),i.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.image,i=b(e),o=0,r=1,a=1;if(i>1){this.url=v(e,"image/jpeg");var s=y(i);o=s.rotate,r=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=r,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.$element,n=this.options,i=this.url,o="",r=void 0;n.checkCrossOrigin&&a(i)&&((o=t.prop("crossOrigin"))||(o="anonymous"),r=i),this.crossOrigin=o,this.crossOriginUrl=r;var s=document.createElement("img");o&&(s.crossOrigin=o),s.src=r||i;var l=e(s);this.$clone=l,this.isImg?this.element.complete?this.start():t.one(Z,e.proxy(this.start,this)):l.one(Z,e.proxy(this.start,this)).one(X,e.proxy(this.stop,this)).addClass(j).insertAfter(t)}},{key:"start",value:function(){var t=this,n=this.$clone,i=this.$element;this.isImg||(n.off(X,this.stop),i=n),l(i[0],(function(n,i){e.extend(t.image,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i}),t.loaded=!0,t.build()}))}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var t=this;if(this.loaded){this.ready&&this.unbuild();var n=this.$element,i=this.options,o=this.$clone,r=e(de),a=r.find("."+_+"-crop-box"),s=a.find("."+_+"-face");this.$container=n.parent(),this.$cropper=r,this.$canvas=r.find("."+_+"-canvas").append(o),this.$dragBox=r.find("."+_+"-drag-box"),this.$cropBox=a,this.$viewBox=r.find("."+_+"-view-box"),this.$face=s,n.addClass($).after(r),this.isImg||o.removeClass(j),this.initPreview(),this.bind(),i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,this.cropped=i.autoCrop,i.autoCrop?i.modal&&this.$dragBox.addClass(F):a.addClass($),i.guides||a.find("."+_+"-dashed").addClass($),i.center||a.find("."+_+"-center").addClass($),i.cropBoxMovable&&s.addClass(B).data(H,C),i.highlight||s.addClass(R),i.background&&r.addClass(_+"-bg"),i.cropBoxResizable||a.find("."+_+"-line,."+_+"-point").addClass($),this.setDragMode(i.dragMode),this.render(),this.ready=!0,this.setData(i.data),this.completing=setTimeout((function(){e.isFunction(i.ready)&&n.one(ne,i.ready),t.trigger(ne),t.trigger(V,t.getData()),t.completed=!0}),0)}}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(t){e.extend(ue,e.isPlainObject(t)&&t)}}]),t}();if(e.extend&&e.extend(Ie.prototype,Se,Ee,Te,Ae,Oe,De),e.fn){var Pe=e.fn.cropper;e.fn.cropper=function(n){for(var o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];var s=void 0;return this.each((function(i,o){var a=e(o),l=a.data(_);if(!l){if(/destroy/.test(n))return;var c=e.extend({},a.data(),e.isPlainObject(n)&&n);l=new Ie(o,c),a.data(_,l)}if(t(n)){var u=l[n];e.isFunction(u)&&(s=u.apply(l,r))}})),i(s)?this:s},e.fn.cropper.Constructor=Ie,e.fn.cropper.setDefaults=Ie.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=Pe,this}}})),$(document).ready((function(){$("#cropbox").cropper({aspectRatio:1,zoomable:!1,viewMode:0,data:{x:0,y:0,width:200,height:200},responsive:!0,background:!1,preview:".img-preview",crop:function(e){$("#user_crop_x").val(e.x),$("#user_crop_y").val(e.y),$("#user_crop_w").val(e.width),$("#user_crop_h").val(e.height)}}),$("#cropbox_profile").cropper({aspectRatio:1,zoomable:!1,viewMode:0,data:{x:0,y:0,width:200,height:200},responsive:!0,background:!1,preview:".img-preview",crop:function(e){$("#listing_crop_x").val(e.x),$("#listing_crop_y").val(e.y),$("#listing_crop_w").val(e.width),$("#listing_crop_h").val(e.height)}}),$("#cropbox_cover").cropper({zoomable:!1,viewMode:0,cropBoxResizable:!1,responsive:!0,data:{x:0,y:0,width:1170,height:351},crop:function(e){$("#listing_crop_x").val(e.x),$("#listing_crop_y").val(e.y),$("#listing_crop_w").val(e.width),$("#listing_crop_h").val(e.height)}})})),function(e,t){e.toastr=function(){var e={tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,fadeIn:300,fadeOut:1e3,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",
timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message"},n=function(e,t){return a({iconClass:o().iconClasses.error,message:e,title:t})},i=function(e){var n=t("#"+e.containerId);return n.length||(n=t("<div/>").attr("id",e.containerId).addClass(e.positionClass)).appendTo(t("body")),n},o=function(){return t.extend({},e,toastr.options)},r=function(e,t){return a({iconClass:o().iconClasses.info,message:e,title:t})},a=function(e){var n=o(),r=e.iconClass||n.iconClass,a=null,s=i(n),l=t("<div/>"),c=t("<div/>"),u=t("<div/>"),d={options:n,map:e};e.iconClass&&l.addClass(n.toastClass).addClass(r),e.title&&(c.append(e.title).addClass(n.titleClass),l.append(c)),e.message&&(u.append(e.message).addClass(n.messageClass),l.append(u));var h=function(){if(!(t(":focus",l).length>0)){var e=function(){return l.fadeOut(n.fadeOut)};t.when(e()).done((function(){l.is(":visible")||(l.remove(),0===s.children().length&&s.remove())}))}},p=function(){(n.timeOut>0||n.extendedTimeOut>0)&&(a=setTimeout(h,n.extendedTimeOut))},f=function(){clearTimeout(a),l.stop(!0,!0).fadeIn(n.fadeIn)};return l.hide(),s.prepend(l),l.fadeIn(n.fadeIn),n.timeOut>0&&(a=setTimeout(h,n.timeOut)),l.hover(f,p),n.tapToDismiss&&l.click(h),n.debug&&console.log(d),l};return{error:n,info:r,options:{},success:function(e,t){return a({iconClass:o().iconClasses.success,message:e,title:t})},warning:function(e,t){return a({iconClass:o().iconClasses.warning,message:e,title:t})}}}()}(window,jQuery),function(){var e,t,n,i,o,r,a,s,l=[].slice,c={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,o;if(n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[n])for(i=0,o=t.length;i<o;i++)t[i].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,o,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=o=0,r=n.length;o<r;i=++o)if(n[i]===t){n.splice(i,1);break}return this},e}(),e=function(e){function n(e,t){var o,r,a;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,o=null!=(a=n.optionsForElement(this.element))?a:{},this.options=i({},this.defaultOptions,o,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var i,o;return u(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,i,o,r,a;for(this.element.className=this.element.className+" dz-browser-not-supported",o=0,r=(a=this.element.getElementsByTagName("div")).length;o<r;o++)e=a[o],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,o,r,a,s,l,c,u,d,h,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),o=0,s=(u=e.previewElement.querySelectorAll("[data-dz-name]")).length;o<s;o++)u[o].textContent=this._renameFilename(e.name);for(r=0,l=(d=e.previewElement.querySelectorAll("[data-dz-size]")).length;r<l;r++)d[r].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),f=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===n.UPLOADING?n.confirm(f.options.dictCancelUploadConfirmation,(function(){return f.removeFile(e)})):f.options.dictRemoveFileConfirmation?n.confirm(f.options.dictRemoveFileConfirmation,(function(){return f.removeFile(e)})):f.removeFile(e)},p=[],a=0,c=(h=e.previewElement.querySelectorAll("[data-dz-remove]")).length;a<c;a++)i=h[a],p.push(i.addEventListener("click",t));return p}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,o,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=0,o=(r=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;i<o;i++)(n=r[i]).alt=e.name,n.src=t;return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){var n,i,o,r,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),a=[],i=0,o=(r=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;i<o;i++)n=r[i],a.push(n.textContent=t);return a}},errormultiple:a,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:a,uploadprogress:function(e,t){var n,i,o,r,a;if(e.previewElement){for(a=[],i=0,o=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;i<o;i++)"PROGRESS"===(n=r[i]).nodeName?a.push(n.value=t):a.push(n.style.width=t+"%");return a}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,addedfiles:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,n,i,o,r,a;for(i=arguments[0],r=0,a=(n=2<=arguments.length?l.call(arguments,1):[]).length;r<a;r++)for(e in t=n[r])o=t[e],i[e]=o;return i},n.prototype.getAcceptedFiles=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).accepted&&o.push(e);return o},n.prototype.getRejectedFiles=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).accepted||o.push(e);return o},n.prototype.getFilesWithStatus=function(e){var t,n,i,o,r;for(r=[],n=0,i=(o=this.files).length;n<i;n++)(t=o[n]).status===e&&r.push(t);return r},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var e,t,i,o,r;for(r=[],t=0,i=(o=this.files).length;t<i;t++)(e=o[t]).status!==n.UPLOADING&&e.status!==n.QUEUED||r.push(e);return r},n.prototype.init=function(){var e,t,i,o,r,a,s,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,i=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",(function(){var e,t,n,o;if((t=l.hiddenFileInput.files).length)for(n=0,o=t.length;n<o;n++)e=t[n],l.addFile(e);return l.emit("addedfiles",t),i()}))},i()),this.URL=null!=(a=window.URL)?a:window.webkitURL,o=0,r=(s=this.events).length;o<r;o++)e=s[o],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(e){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,i,o,r,a;if(n=0,t=0,this.getActiveFiles().length){for(o=0,r=(a=this.getActiveFiles()).length;o<r;o++)n+=(e=a[o]).upload.bytesSent,t+=e.upload.total;i=100*n/t}else i=100;return this.emit("totaluploadprogress",i,t,n)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},n.prototype.getFallbackForm=function(){var e,t,i,o;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(i),"FORM"!==this.element.tagName?(o=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:t)},n.prototype.getExistingFallback=function(){var e,t,n,i,o,r;for(t=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},i=0,o=(r=["div","form"]).length;i<o;i++)if(n=r[i],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,i,o,r,a;for(a=[],i=0,o=(r=this.listeners).length;i<o;i++)e=r[i],a.push(function(){var i,o;for(t in o=[],i=e.events)n=i[t],o.push(e.element.addEventListener(t,n,!1));return o}());return a},n.prototype.removeEventListeners=function(){var e,t,n,i,o,r,a;for(a=[],i=0,o=(r=this.listeners).length;i<o;i++)e=r[i],a.push(function(){var i,o;for(t in o=[],i=e.events)n=i[t],o.push(e.element.removeEventListener(t,n,!1));return o}());return a},n.prototype.disable=function(){var e,t,n,i,o;for(this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),o=[],t=0,n=(i=this.files).length;t<n;t++)e=i[t],o.push(this.cancelUpload(e));return o},n.prototype.enable=function(){return this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,i,o,r,a,s;if(n=0,i="b",e>0){for(t=a=0,s=(r=["TB","GB","MB","KB","b"]).length;a<s;t=++a)if(o=r[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){n=e/Math.pow(this.options.filesizeBase,4-t),i=o;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+i},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((n=e.dataTransfer.items)&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},n.prototype.handleFiles=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(this.addFile(t));return o},n.prototype._addFilesFromItems=function(e){var t,n,i,o,r;for(r=[],i=0,o=e.length;i<o;i++)null!=(n=e[i]).webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?r.push(this.addFile(n.getAsFile())):t.isDirectory?r.push(this._addFilesFromDirectory(t,t.name)):r.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?r.push(this.addFile(n.getAsFile())):r.push(void 0);return r},n.prototype._addFilesFromDirectory=function(e,t){var n,i,o,r;return n=e.createReader(),i=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},r=this,(o=function(){return n.readEntries((function(e){var n,i,a;if(e.length>0){for(i=0,a=e.length;i<a;i++)(n=e[i]).isFile?n.file((function(e){if(!r.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,r.addFile(e)})):n.isDirectory&&r._addFilesFromDirectory(n,t+"/"+n.name);o()}return null}),i)})()},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},n.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},n.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},n.prototype.removeFile=function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},n.prototype.removeAllFiles=function(e){var t,i,o,r;for(null==e&&(e=!1),i=0,o=(r=this.files.slice()).length;i<o;i++)((t=r[i]).status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n,i;return(n=new FileReader).onload=(i=this,function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n,i){var o,a;return o=document.createElement("img"),i&&(o.crossOrigin=i),o.onload=(a=this,function(){var t,i,s,l,c,u,d,h;if(e.width=o.width,e.height=o.height,null==(s=a.options.resize.call(a,e)).trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),i=(t=document.createElement("canvas")).getContext("2d"),t.width=s.trgWidth,t.height=s.trgHeight,r(i,o,null!=(c=s.srcX)?c:0,null!=(u=s.srcY)?u:0,s.srcWidth,s.srcHeight,null!=(d=s.trgX)?d:0,null!=(h=s.trgY)?h:0,s.trgWidth,s.trgHeight),l=t.toDataURL("image/png"),a.emit("thumbnail",e,l),null!=n)return n()}),null!=n&&(o.onerror=n),o.src=t},n.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,e=n=this.getUploadingFiles().length,!(n>=t)&&(i=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;e<t;){if(!i.length)return;this.processFile(i.shift()),e++}}},n.prototype.processFile=function(e){return this.processFiles([e])},n.prototype.processFiles=function(e){var t,i,o;for(i=0,o=e.length;i<o;i++)(t=e[i]).processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t;return function(){var n,i,o,r;for(r=[],n=0,i=(o=this.files).length;n<i;n++)(t=o[n]).xhr===e&&r.push(t);return r}.call(this)},n.prototype.cancelUpload=function(e){var t,i,o,r,a,s,l;if(e.status===n.UPLOADING){for(o=0,a=(i=this._getFilesWithXhr(e.xhr)).length;o<a;o++)(t=i[o]).status=n.CANCELED;for(e.xhr.abort(),r=0,s=i.length;r<s;r++)t=i[r],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==n.ADDED&&l!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},o=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,r,a,s,l,c,u,d,h,p,f,m,g,v,b,y,w,_,C,x,k,S,E,T,A,O,D,I,P,N,M,L,$,j;for(_=new XMLHttpRequest,C=0,E=e.length;C<E;C++)(t=e[C]).xhr=_;for(s in m=o(this.options.method,e),y=o(this.options.url,e),_.open(m,y,!0),_.withCredentials=!!this.options.withCredentials,v=null,j=this,a=function(){var n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(j._errorProcessing(e,v||j.options.dictResponseError.replace("{{statusCode}}",_.status),_));return o},b=function(n){return function(i){var o,r,a,s,l,c,u,d,h;if(null!=i)for(r=100*i.loaded/i.total,a=0,c=e.length;a<c;a++)(t=e[a]).upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(o=!0,r=100,s=0,u=e.length;s<u;s++)100===(t=e[s]).upload.progress&&t.upload.bytesSent===t.upload.total||(o=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(o)return}for(h=[],l=0,d=e.length;l<d;l++)t=e[l],h.push(n.emit("uploadprogress",t,r,t.upload.bytesSent));return h}}(this),_.onload=function(t){return function(i){var o;if(e[0].status!==n.CANCELED&&4===_.readyState){if(v=_.responseText,_.getResponseHeader("content-type")&&~_.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(e){i=e,v="Invalid JSON response from server."}return b(),200<=(o=_.status)&&o<300?t._finished(e,v,i):a()}}}(this),_.onerror=function(){if(e[0].status!==n.CANCELED)return a()},(null!=(I=_.upload)?I:_).onprogress=b,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(c,this.options.headers),c)(l=c[s])&&_.setRequestHeader(s,l);if(r=new FormData,this.options.params)for(f in P=this.options.params)w=P[f],r.append(f,w);for(x=0,T=e.length;x<T;x++)t=e[x],this.emit("sending",t,_,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,_,r),"FORM"===this.element.tagName)for(k=0,A=(N=this.element.querySelectorAll("input, textarea, select, button")).length;k<A;k++)if(h=(d=N[k]).getAttribute("name"),p=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(S=0,O=(M=d.options).length;S<O;S++)(g=M[S]).selected&&r.append(h,g.value);else(!p||"checkbox"!==(L=p.toLowerCase())&&"radio"!==L||d.checked)&&r.append(h,d.value);for(u=D=0,$=e.length-1;0<=$?D<=$:D>=$;u=0<=$?++D:--D)r.append(this._getParamName(u),e[u],this._renameFilename(e[u].name));return this.submitRequest(_,r,e)},n.prototype.submitRequest=function(e,t){return e.send(t)},n.prototype._finished=function(e,t,i){var o,r,a;for(r=0,a=e.length;r<a;r++)(o=e[r]).status=n.SUCCESS,this.emit("success",o,t,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n.prototype._errorProcessing=function(e,t,i){var o,r,a;for(r=0,a=e.length;r<a;r++)(o=e[r]).status=n.ERROR,this.emit("error",o,t,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},n}(t),e.version="4.3.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,o,r,a;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?r.push(i.push(t)):r.push(void 0);return r},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],o=0,r=i.length;o<r;o++)n=i[o],!1!==e.optionsForElement(n)?a.push(new e(n)):a.push(void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(n=0,i=(o=e.blacklistedBrowsers).length;n<i;n++)o[n].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},s=function(e,t){var n,i,o,r;for(r=[],i=0,o=e.length;i<o;i++)(n=e[i])!==t&&r.push(n);return r},n=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))},e.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,o,r,a,s,l;if(e instanceof Array){i=[];try{for(o=0,a=e.length;o<a;o++)n=e[o],i.push(this.getElement(n,t))}catch(e){e,i=null}}else if("string"==typeof e)for(i=[],r=0,s=(l=document.querySelectorAll(e)).length;r<s;r++)n=l[r],i.push(n);else null!=e.nodeType&&(i=[e])
;if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,o,r,a;if(!t)return!0;for(t=t.split(","),n=(i=e.type).replace(/\/.*$/,""),r=0,a=t.length;r<a;r++)if("."===(o=(o=t[r]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each((function(){return new e(this,t)}))}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",o=function(e){var t,n,i,o,r,a,s,l;for(e.naturalWidth,r=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=r,(n=t.getContext("2d")).drawImage(e,0,0),i=n.getImageData(0,0,1,r).data,l=0,o=r,a=r;a>l;)0===i[4*(a-1)+3]?o=a:l=a,a=o+l>>1;return 0===(s=a/r)?1:s},r=function(e,t,n,i,r,a,s,l,c,u){var d;return d=o(t),e.drawImage(t,n,i,r,a,s,l,c,u/d)},i=function(e,t){var n,i,o,r,a,s,l,c,u;if(o=!1,u=!0,i=e.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",r=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?e:i)[l](s+n.type,r,!1),!o&&(o=!0)?t.call(e,n.type||n):void 0},a=function(){try{c.doScroll("left")}catch(e){return e,void setTimeout(a,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(e){}u&&a()}return i[n](s+"DOMContentLoaded",r,!1),i[n](s+"readystatechange",r,!1),e[n](s+"load",r,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},i(window,e._autoDiscoverFunction)}.call(this);var mapList=[];$(document).ready((function(){$("#event-map-edit-canvas").length&&(window.map_lat=document.getElementById("event_event_latitude").value,window.map_long=document.getElementById("event_event_longitude").value,google.maps.event.addDomListener(window,"load",initialize),google.maps.event.addDomListener(window,"resize",(function(){var e=editmap.getCenter();google.maps.event.trigger(editmap,"resize"),editmap.setCenter(e)}))),$('div[id^="event-map-canvas-"]').length&&(google.maps.event.addDomListener(window,"load",initialize),google.maps.event.addDomListener(window,"resize",(function(){for(var e=0;e<mapList.length;e++){var t=mapList[e],n=t.getCenter();google.maps.event.trigger(t,"resize"),t.setCenter(n)}}))),$("#event-event-address-locate").length&&$("#event_event_full_address").length&&(setAddressLocateAbility(),$("#event_event_full_address").on("input",(function(){setAddressLocateAbility()})),$("#event-event-address-locate-info").length&&$("#event-event-address-locate").click((function(){$("#event-event-address-locate-info").show()})))})),function(e){"use strict";e.HSCore={init:function(){e(document).ready((function(){e('[data-toggle="tooltip"]').tooltip(),e('[data-toggle="popover"]').popover({html:!0}),e("[data-bg-img-src]").length&&e.HSCore.helpers.bgImage(e("[data-bg-img-src]")),e.HSCore.helpers.extendjQuery(),e.HSCore.helpers.detectIE(),e.HSCore.helpers.bootstrapNavOptions.init()})),e(window).on("load",(function(){}))},components:{},helpers:{Math:{getRandomValueFromRange:function(e,t,n){var i=n||!1;return Math.random(),i?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1))+e}},bgImage:function(t){if(t&&t.length)return t.each((function(t,n){var i=e(n),o=i.data("bg-img-src");o&&i.css("background-image","url("+o+")")}))},extendjQuery:function(){e.fn.extend({afterImagesLoaded:function(){var t=this.find('img[src!=""]');if(!t.length)return e.Deferred().resolve().promise();var n=[];return t.each((function(){var t=e.Deferred();n.push(t);var i=new Image;i.onload=function(){t.resolve()},i.onerror=function(){t.resolve()},i.src=this.src})),e.when.apply(e,n)}})},detectIE:function(){var e=window.navigator.userAgent;if(e.indexOf("Trident/")>0){var t=e.indexOf("rv:");parseInt(e.substring(t+3,e.indexOf(".",t)),10);document.querySelector("body").className+=" IE"}var n=e.indexOf("Edge/");if(n>0){parseInt(e.substring(n+5,e.indexOf(".",n)),10);document.querySelector("body").className+=" IE"}return!1},bootstrapNavOptions:{init:function(){this.mobileHideOnScroll()},mobileHideOnScroll:function(){var t=e(".navbar");if(t.length){var n=e(window),i={sm:576,md:768,lg:992,xl:1200};e("body").on("click.HSMobileHideOnScroll",".navbar-toggler",(function(t){var i=e(this).closest(".navbar");i.length&&i.data("mobile-menu-scroll-position",n.scrollTop()),t.preventDefault()})),n.on("scroll.HSMobileHideOnScroll",(function(){t.each((function(t,o){var r,a,s,l,c,u=e(o);u.hasClass("navbar-expand-xl")?c=i.xl:u.hasClass("navbar-expand-lg")?c=i.lg:u.hasClass("navbar-expand-md")?c=i.md:u.hasClass("navbar-expand-xs")&&(c=i.xs),n.width()>c||(r=u.find(".navbar-toggler"),(a=u.find(".navbar-collapse")).data("mobile-scroll-hide")&&a.length&&(s=u.data("mobile-menu-scroll-position"),Math.abs(n.scrollTop()-s)>40&&a.hasClass("show")&&(r.trigger("click"),(l=r.find(".is-active")).length&&l.removeClass("is-active"))))}))}))}}}},settings:{rtl:!1}},e.HSCore.init()}(jQuery),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(n){var i="ekkoLightbox",o=n.fn[i],r={title:"",footer:"",showArrows:!0,type:null,alwaysShowClose:!1,loadingMessage:'<div class="ekko-lightbox-loader"><div><div></div><div></div></div></div>',leftArrow:"<span>&#10094;</span>",rightArrow:"<span>&#10095;</span>",strings:{close:"Close",fail:"Failed to load image:",type:"Could not detect remote target type. Force the type using data-type"},doc:document,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}},a=function(){function i(t,o){var a=this;e(this,i),this._config=n.extend({},r,o),this._$modalArrows=null,this._galleryIndex=0,this._galleryName=null,this._padding=null,this._border=null,this._titleIsShown=!1,this._footerIsShown=!1,this._wantedWidth=0,this._wantedHeight=0,this._modalId="ekkoLightbox-"+Math.floor(1e3*Math.random()+1),this._$element=t instanceof jQuery?t:n(t);var s='<div class="modal-dialog" role="document"><div class="modal-content">'+('<div class="modal-header"'+(this._config.title||this._config.alwaysShowClose?"":' style="display:none"')+'><h4 class="modal-title">'+(this._config.title||"&nbsp;")+'</h4><button type="button" class="close" data-dismiss="modal" aria-label="'+this._config.strings.close+'"><span aria-hidden="true">&times;</span></button></div>')+'<div class="modal-body"><div class="ekko-lightbox-container"><div class="ekko-lightbox-item fade in show"></div><div class="ekko-lightbox-item fade"></div></div></div>'+('<div class="modal-footer"'+(this._config.footer?"":' style="display:none"')+">"+(this._config.footer||"&nbsp;")+"</div>")+"</div></div>";n(this._config.doc.body).append('<div id="'+this._modalId+'" class="ekko-lightbox modal fade" tabindex="-1" tabindex="-1" role="dialog" aria-hidden="true">'+s+"</div>"),this._$modal=n("#"+this._modalId,this._config.doc),this._$modalDialog=this._$modal.find(".modal-dialog").first(),this._$modalContent=this._$modal.find(".modal-content").first(),this._$modalBody=this._$modal.find(".modal-body").first(),this._$modalHeader=this._$modal.find(".modal-header").first(),this._$modalFooter=this._$modal.find(".modal-footer").first(),this._$lightboxContainer=this._$modalBody.find(".ekko-lightbox-container").first(),this._$lightboxBodyOne=this._$lightboxContainer.find("> div:first-child").first(),this._$lightboxBodyTwo=this._$lightboxContainer.find("> div:last-child").first(),this._border=this._calculateBorders(),this._padding=this._calculatePadding(),this._galleryName=this._$element.data("gallery"),this._galleryName&&(this._$galleryItems=n(document.body).find('*[data-gallery="'+this._galleryName+'"]'),this._galleryIndex=this._$galleryItems.index(this._$element),n(document).on("keydown.ekkoLightbox",this._navigationalBinder.bind(this)),this._config.showArrows&&this._$galleryItems.length>1&&(this._$lightboxContainer.append('<div class="ekko-lightbox-nav-overlay"><a href="#">'+this._config.leftArrow+'</a><a href="#">'+this._config.rightArrow+"</a></div>"),this._$modalArrows=this._$lightboxContainer.find("div.ekko-lightbox-nav-overlay").first(),this._$lightboxContainer.on("click","a:first-child",(function(e){return e.preventDefault(),a.navigateLeft()})),this._$lightboxContainer.on("click","a:last-child",(function(e){return e.preventDefault(),a.navigateRight()})))),this._$modal.on("show.bs.modal",this._config.onShow.bind(this)).on("shown.bs.modal",(function(){return a._toggleLoading(!0),a._handle(),a._config.onShown.call(a)})).on("hide.bs.modal",this._config.onHide.bind(this)).on("hidden.bs.modal",(function(){return a._galleryName&&(n(document).off("keydown.ekkoLightbox"),n(window).off("resize.ekkoLightbox")),a._$modal.remove(),a._config.onHidden.call(a)})).modal(this._config),n(window).on("resize.ekkoLightbox",(function(){a._resize(a._wantedWidth,a._wantedHeight)}))}return t(i,null,[{key:"Default",get:function(){return r}}]),t(i,[{key:"element",value:function(){return this._$element}},{key:"modal",value:function(){return this._$modal}},{key:"navigateTo",value:function(e){return e<0||e>this._$galleryItems.length-1?this:(this._galleryIndex=e,this._$element=n(this._$galleryItems.get(this._galleryIndex)),void this._handle())}},{key:"navigateLeft",value:function(){if(1!==this._$galleryItems.length)return 0===this._galleryIndex?this._galleryIndex=this._$galleryItems.length-1:this._galleryIndex--,this._config.onNavigate.call(this,"left",this._galleryIndex),this.navigateTo(this._galleryIndex)}},{key:"navigateRight",value:function(){if(1!==this._$galleryItems.length)return this._galleryIndex===this._$galleryItems.length-1?this._galleryIndex=0:this._galleryIndex++,this._config.onNavigate.call(this,"right",this._galleryIndex),this.navigateTo(this._galleryIndex)}},{key:"close",value:function(){return this._$modal.modal("hide")}},{key:"_navigationalBinder",value:function(e){return 39===(e=e||window.event).keyCode?this.navigateRight():37===e.keyCode?this.navigateLeft():void 0}},{key:"_detectRemoteType",value:function(e,t){return!(t=t||!1)&&this._isImage(e)&&(t="image"),!t&&this._getYoutubeId(e)&&(t="youtube"),!t&&this._getVimeoId(e)&&(t="vimeo"),!t&&this._getInstagramId(e)&&(t="instagram"),(!t||["image","youtube","vimeo","instagram","video","url"].indexOf(t)<0)&&(t="url"),t}},{key:"_isImage",value:function(e){return e&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)}},{key:"_containerToUse",value:function(){var e=this,t=this._$lightboxBodyTwo,n=this._$lightboxBodyOne;return this._$lightboxBodyTwo.hasClass("in")&&(t=this._$lightboxBodyOne,n=this._$lightboxBodyTwo),n.removeClass("in show"),setTimeout((function(){e._$lightboxBodyTwo.hasClass("in")||e._$lightboxBodyTwo.empty(),e._$lightboxBodyOne.hasClass("in")||e._$lightboxBodyOne.empty()}),500),t.addClass("in show"),t}},{key:"_handle",value:function(){var e=this._containerToUse();this._updateTitleAndFooter();var t=this._$element.attr("data-remote")||this._$element.attr("href"),n=this._detectRemoteType(t,this._$element.attr("data-type")||!1);if(["image","youtube","vimeo","instagram","video","url"].indexOf(n)<0)return this._error(this._config.strings.type);switch(n){case"image":this._preloadImage(t,e),this._preloadImageByIndex(this._galleryIndex,3);break;case"youtube":this._showYoutubeVideo(t,e);break;case"vimeo":this._showVimeoVideo(this._getVimeoId(t),e);break;case"instagram":this._showInstagramVideo(this._getInstagramId(t),e);break;case"video":this._showHtml5Video(t,e);break;default:this._loadRemoteContent(t,e)}return this}},{key:"_getYoutubeId",value:function(e){if(!e)return!1;var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return!(!t||11!==t[2].length)&&t[2]}},{key:"_getVimeoId",value:function(e){return!!(e&&e.indexOf("vimeo")>0)&&e}},{key:"_getInstagramId",value:function(e){return!!(e&&e.indexOf("instagram")>0)&&e}},{key:"_toggleLoading",value:function(e){return(e=e||!1)?(this._$modalDialog.css("display","none"),this._$modal.removeClass("in show"),n(".modal-backdrop").append(this._config.loadingMessage)):(this._$modalDialog.css("display","block"),this._$modal.addClass("in show"),n(".modal-backdrop").find(".ekko-lightbox-loader").remove()),this}},{key:"_calculateBorders",value:function(){return{top:this._totalCssByAttribute("border-top-width"),right:this._totalCssByAttribute("border-right-width"),bottom:this._totalCssByAttribute("border-bottom-width"),left:this._totalCssByAttribute("border-left-width")}}},{key:"_calculatePadding",value:function(){return{top:this._totalCssByAttribute("padding-top"),right:this._totalCssByAttribute("padding-right"),bottom:this._totalCssByAttribute("padding-bottom"),left:this._totalCssByAttribute("padding-left")}}},{key:"_totalCssByAttribute",value:function(e){return parseInt(this._$modalDialog.css(e),10)+parseInt(this._$modalContent.css(e),10)+parseInt(this._$modalBody.css(e),10)}},{key:"_updateTitleAndFooter",value:function(){var e=this._$element.data("title")||"",t=this._$element.data("footer")||"";return this._titleIsShown=!1,e||this._config.alwaysShowClose?(this._titleIsShown=!0,this._$modalHeader.css("display","").find(".modal-title").html(e||"&nbsp;")):this._$modalHeader.css("display","none"),this._footerIsShown=!1,t?(this._footerIsShown=!0,this._$modalFooter.css("display","").html(t)):this._$modalFooter.css("display","none"),this}},{key:"_showYoutubeVideo",value:function(e,t){var n=this._getYoutubeId(e),i=e.indexOf("&")>0?e.substr(e.indexOf("&")):"",o=this._$element.data("width")||560,r=this._$element.data("height")||o/(560/315);return this._showVideoIframe("//www.youtube.com/embed/"+n+"?badge=0&autoplay=1&html5=1"+i,o,r,t)}},{key:"_showVimeoVideo",value:function(e,t){var n=500,i=this._$element.data("height")||n/(560/315);return this._showVideoIframe(e+"?autoplay=1",n,i,t)}},{key:"_showInstagramVideo",value:function(e,t){var n=this._$element.data("width")||612,i=n+80;return e="/"!==e.substr(-1)?e+"/":e,t.html('<iframe width="'+n+'" height="'+i+'" src="'+e+'embed/" frameborder="0" allowfullscreen></iframe>'),this._resize(n,i),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_showVideoIframe",value:function(e,t,n,i){return n=n||t,i.html('<div class="embed-responsive embed-responsive-16by9"><iframe width="'+t+'" height="'+n+'" src="'+e+'" frameborder="0" allowfullscreen class="embed-responsive-item"></iframe></div>'),this._resize(t,n),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_showHtml5Video",value:function(e,t){var n=this._$element.data("width")||560,i=this._$element.data("height")||n/(560/315);return t.html('<div class="embed-responsive embed-responsive-16by9"><video width="'+n+'" height="'+i+'" src="'+e+'" preload="auto" autoplay controls class="embed-responsive-item"></video></div>'),this._resize(n,i),this._config.onContentLoaded.call(this),this._$modalArrows&&this._$modalArrows.css("display","none"),this._toggleLoading(!1),this}},{key:"_loadRemoteContent",value:function(e,t){var i=this,o=this._$element.data("width")||560,r=this._$element.data("height")||560,a=this._$element.data("disableExternalCheck")||!1;return this._toggleLoading(!1),a||this._isExternal(e)?(t.html('<iframe src="'+e+'" frameborder="0" allowfullscreen></iframe>'),this._config.onContentLoaded.call(this)):t.load(e,n.proxy((function(){return i._$element.trigger("loaded.bs.modal")}))),this._$modalArrows&&this._$modalArrows.css("display","none"),this._resize(o,r),this}},{key:"_isExternal",value:function(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host}},{key:"_error",value:function(e){return console.error(e),this._containerToUse().html(e),this._resize(300,300),this}},{key:"_preloadImageByIndex",value:function(e,t){if(this._$galleryItems){var i=n(this._$galleryItems.get(e),!1);if(void 0!==i){var o=i.attr("data-remote")||i.attr("href");return("image"===i.attr("data-type")||this._isImage(o))&&this._preloadImage(o,!1),t>0?this._preloadImageByIndex(e+1,t-1):void 0}}}},{key:"_preloadImage",value:function(e,t){var i=this;t=t||!1;var o=new Image;return t&&function(){var r=setTimeout((function(){t.append(i._config.loadingMessage)}),200);o.onload=function(){r&&clearTimeout(r),r=null;var e=n("<img />");return e.attr("src",o.src),e.addClass("img-fluid"),e.css("width","100%"),t.html(e),i._$modalArrows&&i._$modalArrows.css("display",""),i._resize(o.width,o.height),i._toggleLoading(!1),i._config.onContentLoaded.call(i)},o.onerror=function(){return i._toggleLoading(!1),i._error(i._config.strings.fail+"  "+e)}}(),o.src=e,o}},{key:"_resize",value:function(e,t){t=t||e,this._wantedWidth=e,this._wantedHeight=t;var i=this._padding.left+this._padding.right+this._border.left+this._border.right,o=Math.min(e+i,this._config.doc.body.clientWidth);e+i>o?(t*=(o-i)/e,e=o):e+=i;var r=0,a=0;this._footerIsShown&&(a=this._$modalFooter.outerHeight(!0)||55),this._titleIsShown&&(r=this._$modalHeader.outerHeight(!0)||67);var s=this._padding.top+this._padding.bottom+this._border.bottom+this._border.top,l=parseFloat(this._$modalDialog.css("margin-top"))+parseFloat(this._$modalDialog.css("margin-bottom")),c=Math.min(t,n(window).height()-s-l-r-a);if(t>c){var u=Math.min(c/t,1);e=Math.ceil(u*e)}this._$lightboxContainer.css("height",c),this._$modalDialog.css("width","auto").css("maxWidth",e);try{this._$modal.data("bs.modal")._handleUpdate()}catch(e){this._$modal.data("bs.modal").handleUpdate()}return this}}],[{key:"_jQueryInterface",value:function(e){var t=this;return e=e||{},this.each((function(){var o=n(t),r=n.extend({},i.Default,o.data(),"object"==typeof e&&e);new i(t,r)}))}}]),i}();n.fn[i]=a._jQueryInterface,n.fn[i].Constructor=a,n.fn[i].noConflict=function(){return n.fn[i]=o,a._jQueryInterface}}(jQuery)}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){"use strict";function t(e){if(e instanceof Date)return e;if(String(e).match(a))return String(e).match(/^[0-9]*$/)&&(e=Number(e)),String(e).match(/\-/)&&(e=String(e).replace(/\-/g,"/")),new Date(e);throw new Error("Couldn't cast `"+e+"` to a date object.")}function n(e){var t=e.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(t)}function i(e){return function(t){var i=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(i)for(var r=0,a=i.length;r<a;++r){var s=i[r].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=n(s[0]),u=s[1]||"",d=s[3]||"",h=null;s=s[2],l.hasOwnProperty(s)&&(h=l[s],h=Number(e[h])),null!==h&&("!"===u&&(h=o(d,h)),""===u&&h<10&&(h="0"+h.toString()),t=t.replace(c,h.toString()))}return t.replace(/%%/,"%")}}function o(e,t){var n="s",i="";return e&&(1===(e=e.replace(/(:|;|\s)/gi,"").split(/\,/)).length?n=e[0]:(i=e[0],n=e[1])),Math.abs(t)>1?n:i}var r=[],a=[],s={precision:100,elapse:!1,defer:!1};a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));var l={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},c=function(t,n,i){this.el=t,this.$el=e(t),this.interval=null,this.offset={},this.options=e.extend({},s),this.instanceNumber=r.length,r.push(this),this.$el.data("countdown-instance",this.instanceNumber),i&&("function"==typeof i?(this.$el.on("update.countdown",i),this.$el.on("stoped.countdown",i),this.$el.on("finish.countdown",i)):this.options=e.extend({},s,i)),this.setFinalDate(n),!1===this.options.defer&&this.start()};e.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var e=this;this.update(),this.interval=setInterval((function(){e.update.call(e)}),this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),r[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(e){this.finalDate=t(e)},update:function(){if(0!==this.$el.closest("html").length){var t,n=void 0!==e._data(this.el,"events"),i=new Date;t=this.finalDate.getTime()-i.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&t<0?0:Math.abs(t),this.totalSecsLeft!==t&&n&&(this.totalSecsLeft=t,this.elapsed=i>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-i.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))}else this.remove()},dispatchEvent:function(t){var n=e.Event(t+".countdown");n.finalDate=this.finalDate,n.elapsed=this.elapsed,n.offset=e.extend({},this.offset),n.strftime=i(this.offset),this.$el.trigger(n)}}),e.fn.countdown=function(){var t=Array.prototype.slice.call(arguments,0);return this.each((function(){var n=e(this).data("countdown-instance");if(void 0!==n){var i=r[n],o=t[0];c.prototype.hasOwnProperty(o)?i[o].apply(i,t.slice(1)):null===String(o).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(i.setFinalDate.call(i,o),i.start()):e.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,o))}else new c(this,t[0],t[1])}))}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)}(this,(function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){var i,o,r;i=e,r=n[o=t],o in i?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r}))}return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var a,s,l,c,u,d,h,p,f,m,g,v,b,y,w,_,C,x,k,S,E,T,A,O,D,I,P,N,M,L,$,j,R,F,B,H,z,q,U,W,V,Y,K,G,Q,X,Z,J,ee,te,ne,ie,oe,re,ae,se,le,ce,ue,de,he,pe,fe,me,ge,ve,be,ye,we,_e,Ce,xe,ke,Se,Ee,Te,Ae,Oe,De,Ie,Pe,Ne,Me,Le,$e,je,Re,Fe,Be,He,ze,qe,Ue,We,Ve,Ye,Ke,Ge,Qe,Xe,Ze,Je,et,tt,nt,it,ot,rt,at,st,lt,ct,ut,dt,ht,pt,ft,mt,gt,vt,bt,yt,wt,_t,Ct,xt,kt,St,Et,Tt,At,Ot,Dt,It,Pt,Nt,Mt,Lt,$t,jt,Rt,Ft,Bt,Ht,zt,qt,Ut,Wt,Vt,Yt,Kt,Gt,Qt,Xt,Zt,Jt,en,tn,nn,on,rn,an,sn,ln,cn,un,dn,hn,pn,fn,mn,gn,vn,bn,yn,wn,_n,Cn,xn,kn,Sn,En,Tn,An,On,Dn,In,Pn,Nn,Mn,Ln,$n,jn,Rn,Fn,Bn,Hn=function(e){function t(t){var n=this,o=!1;return e(this).one(i.TRANSITION_END,(function(){o=!0})),setTimeout((function(){o||i.triggerTransitionEnd(n)}),t),this}var n="transitionend",i={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(n)},supportsTransitionEnd:function(){return Boolean(n)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=n[o],a=t[o],s=a&&i.isElement(a)?"element":(l=a,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+s+'" but expected type "'+r+'".')}var l}};return e.fn.emulateTransitionEnd=t,e.event.special[i.TRANSITION_END]={bindType:n,delegateType:n,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},i}(t),zn=(s="alert",c="."+(l="bs.alert"),u=(a=t).fn[s],d={CLOSE:"close"+c,CLOSED:"closed"+c,CLICK_DATA_API:"click"+c+".data-api"},h="alert",p="fade",f="show",m=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){a.removeData(this._element,l),this._element=null},t._getRootElement=function(e){var t=Hn.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n||(n=a(e).closest("."+h)[0]),n},t._triggerCloseEvent=function(e){var t=a.Event(d.CLOSE);return a(e).trigger(t),t},t._removeElement=function(e){var t=this;if(a(e).removeClass(f),a(e).hasClass(p)){var n=Hn.getTransitionDurationFromElement(e);a(e).one(Hn.TRANSITION_END,(function(n){return t._destroyElement(e,n)})).emulateTransitionEnd(n)}else this._destroyElement(e)},t._destroyElement=function(e){a(e).detach().trigger(d.CLOSED).remove()},e._jQueryInterface=function(t){return this.each((function(){var n=a(this),i=n.data(l);i||(i=new e(this),n.data(l,i)),"close"===t&&i[t](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),e}(),a(document).on(d.CLICK_DATA_API,'[data-dismiss="alert"]',m._handleDismiss(new m)),a.fn[s]=m._jQueryInterface,a.fn[s].Constructor=m,a.fn[s].noConflict=function(){return a.fn[s]=u,m._jQueryInterface},m),qn=(v="button",y="."+(b="bs.button"),w=".data-api",_=(g=t).fn[v],C="active",x="btn",S='[data-toggle^="button"]',E='[data-toggle="buttons"]',T="input",A=".active",O=".btn",D={CLICK_DATA_API:"click"+y+w,FOCUS_BLUR_DATA_API:(k="focus")+y+w+" blur"+y+w},I=function(){function e(e){this._element=e}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,n=g(this._element).closest(E)[0];if(n){var i=this._element.querySelector(T);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(C))e=!1;else{var o=n.querySelector(A);o&&g(o).removeClass(C)}if(e){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!this._element.classList.contains(C),g(i).trigger("change")}i.focus(),t=!1}}t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(C)),e&&g(this._element).toggleClass(C)},t.dispose=function(){g.removeData(this._element,b),this._element=null},e._jQueryInterface=function(t){return this.each((function(){var n=g(this).data(b);n||(n=new e(this),g(this).data(b,n)),"toggle"===t&&n[t]()}))},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),e}(),g(document).on(D.CLICK_DATA_API,S,(function(e){e.preventDefault();var t=e.target;g(t).hasClass(x)||(t=g(t).closest(O)),I._jQueryInterface.call(g(t),"toggle")})).on(D.FOCUS_BLUR_DATA_API,S,(function(e){var t=g(e.target).closest(O)[0];g(t).toggleClass(k,/^focus(in)?$/.test(e.type))})),g.fn[v]=I._jQueryInterface,g.fn[v].Constructor=I,g.fn[v].noConflict=function(){return g.fn[v]=_,I._jQueryInterface},I),Un=(N="carousel",L="."+(M="bs.carousel"),$=".data-api",j=(P=t).fn[N],R={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},F={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},B="next",H="prev",z="left",q="right",U={SLIDE:"slide"+L,SLID:"slid"+L,KEYDOWN:"keydown"+L,MOUSEENTER:"mouseenter"+L,MOUSELEAVE:"mouseleave"+L,TOUCHEND:"touchend"+L,LOAD_DATA_API:"load"+L+$,CLICK_DATA_API:"click"+L+$},W="carousel",V="active",Y="slide",K="carousel-item-right",G="carousel-item-left",Q="carousel-item-next",X="carousel-item-prev",Z=".active",J=".active.carousel-item",ee=".carousel-item",te=".carousel-item-next, .carousel-item-prev",ne=".carousel-indicators",ie="[data-slide], [data-slide-to]",oe='[data-ride="carousel"]',re=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=P(e)[0],this._indicatorsElement=this._element.querySelector(ne),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(B)},t.nextWhenVisible=function(){!document.hidden&&P(this._element).is(":visible")&&"hidden"!==P(this._element).css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(H)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(te)&&(Hn.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(J);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)P(this._element).one(U.SLID,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var i=n<e?B:H;this._slide(i,this._items[e])}},t.dispose=function(){P(this._element).off(L),P.removeData(this._element,M),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=r({},R,e),Hn.typeCheckConfig(N,e,F),e},t._addEventListeners=function(){var e=this;this._config.keyboard&&P(this._element).on(U.KEYDOWN,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(P(this._element).on(U.MOUSEENTER,(function(t){return e.pause(t)})).on(U.MOUSELEAVE,(function(t){return e.cycle(t)})),"ontouchstart"in document.documentElement&&P(this._element).on(U.TOUCHEND,(function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval)})))},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(ee)):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var n=e===B,i=e===H,o=this._getItemIndex(t),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return t;var a=(o+(e===H?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},t._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(J)),o=P.Event(U.SLIDE,{relatedTarget:e,direction:t,from:i,to:n})
;return P(this._element).trigger(o),o},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(Z));P(t).removeClass(V);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&P(n).addClass(V)}},t._slide=function(e,t){var n,i,o,r=this,a=this._element.querySelector(J),s=this._getItemIndex(a),l=t||a&&this._getItemByDirection(e,a),c=this._getItemIndex(l),u=Boolean(this._interval);if(e===B?(n=G,i=Q,o=z):(n=K,i=X,o=q),l&&P(l).hasClass(V))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).isDefaultPrevented()&&a&&l){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(l);var d=P.Event(U.SLID,{relatedTarget:l,direction:o,from:s,to:c});if(P(this._element).hasClass(Y)){P(l).addClass(i),Hn.reflow(l),P(a).addClass(n),P(l).addClass(n);var h=Hn.getTransitionDurationFromElement(a);P(a).one(Hn.TRANSITION_END,(function(){P(l).removeClass(n+" "+i).addClass(V),P(a).removeClass(V+" "+i+" "+n),r._isSliding=!1,setTimeout((function(){return P(r._element).trigger(d)}),0)})).emulateTransitionEnd(h)}else P(a).removeClass(V),P(l).addClass(V),this._isSliding=!1,P(this._element).trigger(d);u&&this.cycle()}},e._jQueryInterface=function(t){return this.each((function(){var n=P(this).data(M),i=r({},R,P(this).data());"object"==typeof t&&(i=r({},i,t));var o="string"==typeof t?t:i.slide;if(n||(n=new e(this,i),P(this).data(M,n)),"number"==typeof t)n.to(t);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else i.interval&&(n.pause(),n.cycle())}))},e._dataApiClickHandler=function(t){var n=Hn.getSelectorFromElement(this);if(n){var i=P(n)[0];if(i&&P(i).hasClass(W)){var o=r({},P(i).data(),P(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),e._jQueryInterface.call(P(i),o),a&&P(i).data(M).to(a),t.preventDefault()}}},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return R}}]),e}(),P(document).on(U.CLICK_DATA_API,ie,re._dataApiClickHandler),P(window).on(U.LOAD_DATA_API,(function(){for(var e=[].slice.call(document.querySelectorAll(oe)),t=0,n=e.length;t<n;t++){var i=P(e[t]);re._jQueryInterface.call(i,i.data())}})),P.fn[N]=re._jQueryInterface,P.fn[N].Constructor=re,P.fn[N].noConflict=function(){return P.fn[N]=j,re._jQueryInterface},re),Wn=(se="collapse",ce="."+(le="bs.collapse"),ue=(ae=t).fn[se],de={toggle:!0,parent:""},he={toggle:"boolean",parent:"(string|element)"},pe={SHOW:"show"+ce,SHOWN:"shown"+ce,HIDE:"hide"+ce,HIDDEN:"hidden"+ce,CLICK_DATA_API:"click"+ce+".data-api"},fe="show",me="collapse",ge="collapsing",ve="collapsed",be="width",ye="height",we=".show, .collapsing",_e='[data-toggle="collapse"]',Ce=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=ae.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(_e)),i=0,o=n.length;i<o;i++){var r=n[i],a=Hn.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter((function(t){return t===e}));null!==a&&0<s.length&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){ae(this._element).hasClass(fe)?this.hide():this.show()},t.show=function(){var t,n,i=this;if(!(this._isTransitioning||ae(this._element).hasClass(fe)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(we)).filter((function(e){return e.getAttribute("data-parent")===i._config.parent}))).length&&(t=null),t&&(n=ae(t).not(this._selector).data(le))&&n._isTransitioning))){var o=ae.Event(pe.SHOW);if(ae(this._element).trigger(o),!o.isDefaultPrevented()){t&&(e._jQueryInterface.call(ae(t).not(this._selector),"hide"),n||ae(t).data(le,null));var r=this._getDimension();ae(this._element).removeClass(me).addClass(ge),this._element.style[r]=0,this._triggerArray.length&&ae(this._triggerArray).removeClass(ve).attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(r[0].toUpperCase()+r.slice(1)),s=Hn.getTransitionDurationFromElement(this._element);ae(this._element).one(Hn.TRANSITION_END,(function(){ae(i._element).removeClass(ge).addClass(me).addClass(fe),i._element.style[r]="",i.setTransitioning(!1),ae(i._element).trigger(pe.SHOWN)})).emulateTransitionEnd(s),this._element.style[r]=this._element[a]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&ae(this._element).hasClass(fe)){var t=ae.Event(pe.HIDE);if(ae(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",Hn.reflow(this._element),ae(this._element).addClass(ge).removeClass(me).removeClass(fe);var i=this._triggerArray.length;if(0<i)for(var o=0;o<i;o++){var r=this._triggerArray[o],a=Hn.getSelectorFromElement(r);null!==a&&(ae([].slice.call(document.querySelectorAll(a))).hasClass(fe)||ae(r).addClass(ve).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var s=Hn.getTransitionDurationFromElement(this._element);ae(this._element).one(Hn.TRANSITION_END,(function(){e.setTransitioning(!1),ae(e._element).removeClass(ge).addClass(me).trigger(pe.HIDDEN)})).emulateTransitionEnd(s)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){ae.removeData(this._element,le),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=r({},de,e)).toggle=Boolean(e.toggle),Hn.typeCheckConfig(se,e,he),e},t._getDimension=function(){return ae(this._element).hasClass(be)?be:ye},t._getParent=function(){var t=this,n=null;Hn.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(i));return ae(o).each((function(n,i){t._addAriaAndCollapsedClass(e._getTargetFromElement(i),[i])})),n},t._addAriaAndCollapsedClass=function(e,t){if(e){var n=ae(e).hasClass(fe);t.length&&ae(t).toggleClass(ve,!n).attr("aria-expanded",n)}},e._getTargetFromElement=function(e){var t=Hn.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each((function(){var n=ae(this),i=n.data(le),o=r({},de,n.data(),"object"==typeof t&&t?t:{});if(!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||(i=new e(this,o),n.data(le,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return de}}]),e}(),ae(document).on(pe.CLICK_DATA_API,_e,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=ae(this),n=Hn.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));ae(i).each((function(){var e=ae(this),n=e.data(le)?"toggle":t.data();Ce._jQueryInterface.call(e,n)}))})),ae.fn[se]=Ce._jQueryInterface,ae.fn[se].Constructor=Ce,ae.fn[se].noConflict=function(){return ae.fn[se]=ue,Ce._jQueryInterface},Ce),Vn=(ke="dropdown",Ee="."+(Se="bs.dropdown"),Te=".data-api",Ae=(xe=t).fn[ke],Oe=new RegExp("38|40|27"),De={HIDE:"hide"+Ee,HIDDEN:"hidden"+Ee,SHOW:"show"+Ee,SHOWN:"shown"+Ee,CLICK:"click"+Ee,CLICK_DATA_API:"click"+Ee+Te,KEYDOWN_DATA_API:"keydown"+Ee+Te,KEYUP_DATA_API:"keyup"+Ee+Te},Ie="disabled",Pe="show",Ne="dropup",Me="dropright",Le="dropleft",$e="dropdown-menu-right",je="position-static",Re='[data-toggle="dropdown"]',Fe=".dropdown form",Be=".dropdown-menu",He=".navbar-nav",ze=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",qe="top-start",Ue="top-end",We="bottom-start",Ve="bottom-end",Ye="right-start",Ke="left-start",Ge={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Qe={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Xe=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!xe(this._element).hasClass(Ie)){var t=e._getParentFromElement(this._element),i=xe(this._menu).hasClass(Pe);if(e._clearMenus(),!i){var o={relatedTarget:this._element},r=xe.Event(De.SHOW,o);if(xe(t).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=t:Hn.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&xe(t).addClass(je),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===xe(t).closest(He).length&&xe(document.body).children().on("mouseover",null,xe.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),xe(this._menu).toggleClass(Pe),xe(t).toggleClass(Pe).trigger(xe.Event(De.SHOWN,o))}}}},t.dispose=function(){xe.removeData(this._element,Se),xe(this._element).off(Ee),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;xe(this._element).on(De.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},t._getConfig=function(e){return e=r({},this.constructor.Default,xe(this._element).data(),e),Hn.typeCheckConfig(ke,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(Be))}return this._menu},t._getPlacement=function(){var e=xe(this._element.parentNode),t=We;return e.hasClass(Ne)?(t=qe,xe(this._menu).hasClass($e)&&(t=Ue)):e.hasClass(Me)?t=Ye:e.hasClass(Le)?t=Ke:xe(this._menu).hasClass($e)&&(t=Ve),t},t._detectNavbar=function(){return 0<xe(this._element).closest(".navbar").length},t._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=r({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},e._jQueryInterface=function(t){return this.each((function(){var n=xe(this).data(Se);if(n||(n=new e(this,"object"==typeof t?t:null),xe(this).data(Se,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},e._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=[].slice.call(document.querySelectorAll(Re)),i=0,o=n.length;i<o;i++){var r=e._getParentFromElement(n[i]),a=xe(n[i]).data(Se),s={relatedTarget:n[i]};if(t&&"click"===t.type&&(s.clickEvent=t),a){var l=a._menu;if(xe(r).hasClass(Pe)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&xe.contains(r,t.target))){var c=xe.Event(De.HIDE,s);xe(r).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&xe(document.body).children().off("mouseover",null,xe.noop),n[i].setAttribute("aria-expanded","false"),xe(l).removeClass(Pe),xe(r).removeClass(Pe).trigger(xe.Event(De.HIDDEN,s)))}}}},e._getParentFromElement=function(e){var t,n=Hn.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||xe(t.target).closest(Be).length)):Oe.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!xe(this).hasClass(Ie))){var n=e._getParentFromElement(this),i=xe(n).hasClass(Pe);if((i||27===t.which&&32===t.which)&&(!i||27!==t.which&&32!==t.which)){var o=[].slice.call(n.querySelectorAll(ze));if(0!==o.length){var r=o.indexOf(t.target);38===t.which&&0<r&&r--,40===t.which&&r<o.length-1&&r++,r<0&&(r=0),o[r].focus()}}else{if(27===t.which){var a=n.querySelector(Re);xe(a).trigger("focus")}xe(this).trigger("click")}}},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ge}},{key:"DefaultType",get:function(){return Qe}}]),e}(),xe(document).on(De.KEYDOWN_DATA_API,Re,Xe._dataApiKeydownHandler).on(De.KEYDOWN_DATA_API,Be,Xe._dataApiKeydownHandler).on(De.CLICK_DATA_API+" "+De.KEYUP_DATA_API,Xe._clearMenus).on(De.CLICK_DATA_API,Re,(function(e){e.preventDefault(),e.stopPropagation(),Xe._jQueryInterface.call(xe(this),"toggle")})).on(De.CLICK_DATA_API,Fe,(function(e){e.stopPropagation()})),xe.fn[ke]=Xe._jQueryInterface,xe.fn[ke].Constructor=Xe,xe.fn[ke].noConflict=function(){return xe.fn[ke]=Ae,Xe._jQueryInterface},Xe),Yn=(Je="modal",tt="."+(et="bs.modal"),nt=(Ze=t).fn[Je],it={backdrop:!0,keyboard:!0,focus:!0,show:!0},ot={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},rt={HIDE:"hide"+tt,HIDDEN:"hidden"+tt,SHOW:"show"+tt,SHOWN:"shown"+tt,FOCUSIN:"focusin"+tt,RESIZE:"resize"+tt,CLICK_DISMISS:"click.dismiss"+tt,KEYDOWN_DISMISS:"keydown.dismiss"+tt,MOUSEUP_DISMISS:"mouseup.dismiss"+tt,MOUSEDOWN_DISMISS:"mousedown.dismiss"+tt,CLICK_DATA_API:"click"+tt+".data-api"},at="modal-scrollbar-measure",st="modal-backdrop",lt="modal-open",ct="fade",ut="show",dt=".modal-dialog",ht='[data-toggle="modal"]',pt='[data-dismiss="modal"]',ft=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mt=".sticky-top",gt=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(dt),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){Ze(this._element).hasClass(ct)&&(this._isTransitioning=!0);var n=Ze.Event(rt.SHOW,{relatedTarget:e});Ze(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),Ze(document.body).addClass(lt),this._setEscapeEvent(),this._setResizeEvent(),Ze(this._element).on(rt.CLICK_DISMISS,pt,(function(e){return t.hide(e)})),Ze(this._dialog).on(rt.MOUSEDOWN_DISMISS,(function(){Ze(t._element).one(rt.MOUSEUP_DISMISS,(function(e){Ze(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var n=Ze.Event(rt.HIDE);if(Ze(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=Ze(this._element).hasClass(ct);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Ze(document).off(rt.FOCUSIN),Ze(this._element).removeClass(ut),Ze(this._element).off(rt.CLICK_DISMISS),Ze(this._dialog).off(rt.MOUSEDOWN_DISMISS),i){var o=Hn.getTransitionDurationFromElement(this._element);Ze(this._element).one(Hn.TRANSITION_END,(function(e){return t._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){Ze.removeData(this._element,et),Ze(window,document,this._element,this._backdrop).off(tt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=r({},it,e),Hn.typeCheckConfig(Je,e,ot),e},t._showElement=function(e){var t=this,n=Ze(this._element).hasClass(ct);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&Hn.reflow(this._element),Ze(this._element).addClass(ut),this._config.focus&&this._enforceFocus();var i=Ze.Event(rt.SHOWN,{relatedTarget:e}),o=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,Ze(t._element).trigger(i)};if(n){var r=Hn.getTransitionDurationFromElement(this._element);Ze(this._dialog).one(Hn.TRANSITION_END,o).emulateTransitionEnd(r)}else o()},t._enforceFocus=function(){var e=this;Ze(document).off(rt.FOCUSIN).on(rt.FOCUSIN,(function(t){document!==t.target&&e._element!==t.target&&0===Ze(e._element).has(t.target).length&&e._element.focus()}))},t._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?Ze(this._element).on(rt.KEYDOWN_DISMISS,(function(t){27===t.which&&(t.preventDefault(),e.hide())})):this._isShown||Ze(this._element).off(rt.KEYDOWN_DISMISS)},t._setResizeEvent=function(){var e=this;this._isShown?Ze(window).on(rt.RESIZE,(function(t){return e.handleUpdate(t)})):Ze(window).off(rt.RESIZE)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){Ze(document.body).removeClass(lt),e._resetAdjustments(),e._resetScrollbar(),Ze(e._element).trigger(rt.HIDDEN)}))},t._removeBackdrop=function(){this._backdrop&&(Ze(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,n=Ze(this._element).hasClass(ct)?ct:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=st,n&&this._backdrop.classList.add(n),Ze(this._backdrop).appendTo(document.body),Ze(this._element).on(rt.CLICK_DISMISS,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide())})),n&&Hn.reflow(this._backdrop),Ze(this._backdrop).addClass(ut),!e)return;if(!n)return void e();var i=Hn.getTransitionDurationFromElement(this._backdrop);Ze(this._backdrop).one(Hn.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){Ze(this._backdrop).removeClass(ut);var o=function(){t._removeBackdrop(),e&&e()};if(Ze(this._element).hasClass(ct)){var r=Hn.getTransitionDurationFromElement(this._backdrop);Ze(this._backdrop).one(Hn.TRANSITION_END,o).emulateTransitionEnd(r)}else o()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(ft)),n=[].slice.call(document.querySelectorAll(mt));Ze(t).each((function(t,n){var i=n.style.paddingRight,o=Ze(n).css("padding-right");Ze(n).data("padding-right",i).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")})),Ze(n).each((function(t,n){var i=n.style.marginRight,o=Ze(n).css("margin-right");Ze(n).data("margin-right",i).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}));var i=document.body.style.paddingRight,o=Ze(document.body).css("padding-right");Ze(document.body).data("padding-right",i).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(ft));Ze(e).each((function(e,t){var n=Ze(t).data("padding-right");Ze(t).removeData("padding-right"),t.style.paddingRight=n||""}));var t=[].slice.call(document.querySelectorAll(""+mt));Ze(t).each((function(e,t){var n=Ze(t).data("margin-right");void 0!==n&&Ze(t).css("margin-right",n).removeData("margin-right")}));var n=Ze(document.body).data("padding-right");Ze(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className=at,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,n){return this.each((function(){var i=Ze(this).data(et),o=r({},it,Ze(this).data(),"object"==typeof t&&t?t:{});if(i||(i=new e(this,o),Ze(this).data(et,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](n)}else o.show&&i.show(n)}))},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return it}}]),e}(),Ze(document).on(rt.CLICK_DATA_API,ht,(function(e){var t,n=this,i=Hn.getSelectorFromElement(this);i&&(t=document.querySelector(i));var o=Ze(t).data(et)?"toggle":r({},Ze(t).data(),Ze(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=Ze(t).one(rt.SHOW,(function(e){e.isDefaultPrevented()||a.one(rt.HIDDEN,(function(){Ze(n).is(":visible")&&n.focus()}))}));gt._jQueryInterface.call(Ze(t),o,this)})),Ze.fn[Je]=gt._jQueryInterface,Ze.fn[Je].Constructor=gt,Ze.fn[Je].noConflict=function(){return Ze.fn[Je]=nt,gt._jQueryInterface},gt),Kn=(bt="tooltip",wt="."+(yt="bs.tooltip"),_t=(vt=t).fn[bt],Ct="bs-tooltip",xt=new RegExp("(^|\\s)"+Ct+"\\S+","g"),Et={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(St={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(kt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},At="out",Ot={HIDE:"hide"+wt,HIDDEN:"hidden"+wt,SHOW:(Tt="show")+wt,SHOWN:"shown"+wt,INSERTED:"inserted"+wt,CLICK:"click"+wt,FOCUSIN:"focusin"+wt,FOCUSOUT:"focusout"+wt,MOUSEENTER:"mouseenter"+wt,MOUSELEAVE:"mouseleave"+wt},Dt="fade",It="show",Pt=".tooltip-inner",Nt=".arrow",Mt="hover",Lt="focus",$t="click",jt="manual",Rt=function(){function e(e,t){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=vt(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),vt(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(vt(this.getTipElement()).hasClass(It))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),vt.removeData(this.element,this.constructor.DATA_KEY),vt(this.element).off(this.constructor.EVENT_KEY),vt(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&vt(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===vt(this.element).css("display"))throw new Error("Please use show on visible elements");var t=vt.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){vt(this.element).trigger(t);var i=vt.contains(this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i)return;var o=this.getTipElement(),r=Hn.getUID(this.constructor.NAME);o.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&vt(o).addClass(Dt);var a="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,s=this._getAttachment(a);this.addAttachmentClass(s);var l=!1===this.config.container?document.body:vt(document).find(this.config.container);vt(o).data(this.constructor.DATA_KEY,this),vt.contains(this.element.ownerDocument.documentElement,this.tip)||vt(o).appendTo(l),vt(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:Nt},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),vt(o).addClass(It),"ontouchstart"in document.documentElement&&vt(document.body).children().on("mouseover",null,vt.noop);var c=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,vt(e.element).trigger(e.constructor.Event.SHOWN),t===At&&e._leave(null,e)};if(vt(this.tip).hasClass(Dt)){var u=Hn.getTransitionDurationFromElement(this.tip);vt(this.tip).one(Hn.TRANSITION_END,c).emulateTransitionEnd(u)}else c()}},t.hide=function(e){var t=this,n=this.getTipElement(),i=vt.Event(this.constructor.Event.HIDE),o=function(){t._hoverState!==Tt&&n.parentNode&&n.parentNode.removeChild(n),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),vt(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(vt(this.element).trigger(i),!i.isDefaultPrevented()){if(vt(n).removeClass(It),"ontouchstart"in document.documentElement&&vt(document.body).children().off("mouseover",null,vt.noop),this._activeTrigger[$t]=!1,this._activeTrigger[Lt]=!1,this._activeTrigger[Mt]=!1,vt(this.tip).hasClass(Dt)){var r=Hn.getTransitionDurationFromElement(n);vt(n).one(Hn.TRANSITION_END,o).emulateTransitionEnd(r)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){vt(this.getTipElement()).addClass(Ct+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||vt(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(vt(e.querySelectorAll(Pt)),this.getTitle()),vt(e).removeClass(Dt+" "+It)},t.setElementContent=function(e,t){var n=this.config.html;"object"==typeof t&&(t.nodeType||t.jquery)?n?vt(t).parent().is(e)||e.empty().append(t):e.text(vt(t).text()):e[n?"html":"text"](t)},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getAttachment=function(e){return St[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)vt(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(t!==jt){var n=t===Mt?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=t===Mt?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;vt(e.element).on(n,e.config.selector,(function(t){return e._enter(t)})).on(i,e.config.selector,(function(t){return e._leave(t)}))}vt(e.element).closest(".modal").on("hide.bs.modal",(function(){return e.hide()}))})),this.config.selector?this.config=r({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||vt(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),vt(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?Lt:Mt]=!0),vt(t.getTipElement()).hasClass(It)||t._hoverState===Tt?t._hoverState=Tt:(clearTimeout(t._timeout),t._hoverState=Tt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout((function(){t._hoverState===Tt&&t.show()}),t.config.delay.show):t.show())},t._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||vt(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),vt(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?Lt:Mt]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=At,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===At&&t.hide()}),t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){return"number"==typeof(e=r({},this.constructor.Default,vt(this.element).data(),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Hn.typeCheckConfig(bt,e,this.constructor.DefaultType),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=vt(this.getTipElement()),t=e.attr("class").match(xt);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(vt(e).removeClass(Dt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each((function(){var n=vt(this).data(yt),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,i),vt(this).data(yt,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Et}},{key:"NAME",get:function(){return bt}},{key:"DATA_KEY",get:function(){return yt}},{key:"Event",get:function(){return Ot}},{key:"EVENT_KEY",get:function(){return wt}},{key:"DefaultType",get:function(){return kt}}]),e}(),vt.fn[bt]=Rt._jQueryInterface,vt.fn[bt].Constructor=Rt,vt.fn[bt].noConflict=function(){return vt.fn[bt]=_t,Rt._jQueryInterface},Rt),Gn=(Bt="popover",zt="."+(Ht="bs.popover"),qt=(Ft=t).fn[Bt],Ut="bs-popover",Wt=new RegExp("(^|\\s)"+Ut+"\\S+","g"),Vt=r({},Kn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Yt=r({},Kn.DefaultType,{content:"(string|element|function)"}),Kt="fade",Qt=".popover-header",Xt=".popover-body",Zt={HIDE:"hide"+zt,HIDDEN:"hidden"+zt,SHOW:(Gt="show")+zt,SHOWN:"shown"+zt,INSERTED:"inserted"+zt,CLICK:"click"+zt,FOCUSIN:"focusin"+zt,FOCUSOUT:"focusout"+zt,MOUSEENTER:"mouseenter"+zt,MOUSELEAVE:"mouseleave"+zt},Jt=function(e){function t(){return e.apply(this,arguments)||this}var n,i;i=e,(n=t).prototype=Object.create(i.prototype),(n.prototype.constructor=n).__proto__=i;var r=t.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(e){Ft(this.getTipElement()).addClass(Ut+"-"+e)},r.getTipElement=function(){return this.tip=this.tip||Ft(this.config.template)[0],this.tip},r.setContent=function(){var e=Ft(this.getTipElement());this.setElementContent(e.find(Qt),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(Xt),t),e.removeClass(Kt+" "+Gt)},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var e=Ft(this.getTipElement()),t=e.attr("class").match(Wt)
;null!==t&&0<t.length&&e.removeClass(t.join(""))},t._jQueryInterface=function(e){return this.each((function(){var n=Ft(this).data(Ht),i="object"==typeof e?e:null;if((n||!/destroy|hide/.test(e))&&(n||(n=new t(this,i),Ft(this).data(Ht,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Vt}},{key:"NAME",get:function(){return Bt}},{key:"DATA_KEY",get:function(){return Ht}},{key:"Event",get:function(){return Zt}},{key:"EVENT_KEY",get:function(){return zt}},{key:"DefaultType",get:function(){return Yt}}]),t}(Kn),Ft.fn[Bt]=Jt._jQueryInterface,Ft.fn[Bt].Constructor=Jt,Ft.fn[Bt].noConflict=function(){return Ft.fn[Bt]=qt,Jt._jQueryInterface},Jt),Qn=(tn="scrollspy",on="."+(nn="bs.scrollspy"),rn=(en=t).fn[tn],an={offset:10,method:"auto",target:""},sn={offset:"number",method:"string",target:"(string|element)"},ln={ACTIVATE:"activate"+on,SCROLL:"scroll"+on,LOAD_DATA_API:"load"+on+".data-api"},cn="dropdown-item",un="active",dn='[data-spy="scroll"]',hn=".active",pn=".nav, .list-group",fn=".nav-link",mn=".nav-item",gn=".list-group-item",vn=".dropdown",bn=".dropdown-item",yn=".dropdown-toggle",wn="offset",_n="position",Cn=function(){function e(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+fn+","+this._config.target+" "+gn+","+this._config.target+" "+bn,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,en(this._scrollElement).on(ln.SCROLL,(function(e){return n._process(e)})),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?wn:_n,n="auto"===this._config.method?t:this._config.method,i=n===_n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var t,o=Hn.getSelectorFromElement(e);if(o&&(t=document.querySelector(o)),t){var r=t.getBoundingClientRect();if(r.width||r.height)return[en(t)[n]().top+i,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},t.dispose=function(){en.removeData(this._element,nn),en(this._scrollElement).off(on),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=r({},an,"object"==typeof e&&e?e:{})).target){var t=en(e.target).attr("id");t||(t=Hn.getUID(tn),en(e.target).attr("id",t)),e.target="#"+t}return Hn.typeCheckConfig(tn,e,sn),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(void 0===this._offsets[o+1]||e<this._offsets[o+1])&&this._activate(this._targets[o])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",");t=t.map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}));var n=en([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass(cn)?(n.closest(vn).find(yn).addClass(un),n.addClass(un)):(n.addClass(un),n.parents(pn).prev(fn+", "+gn).addClass(un),n.parents(pn).prev(mn).children(fn).addClass(un)),en(this._scrollElement).trigger(ln.ACTIVATE,{relatedTarget:e})},t._clear=function(){var e=[].slice.call(document.querySelectorAll(this._selector));en(e).filter(hn).removeClass(un)},e._jQueryInterface=function(t){return this.each((function(){var n=en(this).data(nn);if(n||(n=new e(this,"object"==typeof t&&t),en(this).data(nn,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return an}}]),e}(),en(window).on(ln.LOAD_DATA_API,(function(){for(var e=[].slice.call(document.querySelectorAll(dn)),t=e.length;t--;){var n=en(e[t]);Cn._jQueryInterface.call(n,n.data())}})),en.fn[tn]=Cn._jQueryInterface,en.fn[tn].Constructor=Cn,en.fn[tn].noConflict=function(){return en.fn[tn]=rn,Cn._jQueryInterface},Cn),Xn=(Sn="."+(kn="bs.tab"),En=(xn=t).fn.tab,Tn={HIDE:"hide"+Sn,HIDDEN:"hidden"+Sn,SHOW:"show"+Sn,SHOWN:"shown"+Sn,CLICK_DATA_API:"click"+Sn+".data-api"},An="dropdown-menu",On="active",Dn="disabled",In="fade",Pn="show",Nn=".dropdown",Mn=".nav, .list-group",Ln=".active",$n="> li > .active",jn='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Rn=".dropdown-toggle",Fn="> .dropdown-menu .active",Bn=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&xn(this._element).hasClass(On)||xn(this._element).hasClass(Dn))){var t,n,i=xn(this._element).closest(Mn)[0],o=Hn.getSelectorFromElement(this._element);if(i){var r="UL"===i.nodeName?$n:Ln;n=(n=xn.makeArray(xn(i).find(r)))[n.length-1]}var a=xn.Event(Tn.HIDE,{relatedTarget:this._element}),s=xn.Event(Tn.SHOW,{relatedTarget:n});if(n&&xn(n).trigger(a),xn(this._element).trigger(s),!s.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,i);var l=function(){var t=xn.Event(Tn.HIDDEN,{relatedTarget:e._element}),i=xn.Event(Tn.SHOWN,{relatedTarget:n});xn(n).trigger(t),xn(e._element).trigger(i)};t?this._activate(t,t.parentNode,l):l()}}},t.dispose=function(){xn.removeData(this._element,kn),this._element=null},t._activate=function(e,t,n){var i=this,o=("UL"===t.nodeName?xn(t).find($n):xn(t).children(Ln))[0],r=n&&o&&xn(o).hasClass(In),a=function(){return i._transitionComplete(e,o,n)};if(o&&r){var s=Hn.getTransitionDurationFromElement(o);xn(o).one(Hn.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},t._transitionComplete=function(e,t,n){if(t){xn(t).removeClass(Pn+" "+On);var i=xn(t.parentNode).find(Fn)[0];i&&xn(i).removeClass(On),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(xn(e).addClass(On),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),Hn.reflow(e),xn(e).addClass(Pn),e.parentNode&&xn(e.parentNode).hasClass(An)){var o=xn(e).closest(Nn)[0];if(o){var r=[].slice.call(o.querySelectorAll(Rn));xn(r).addClass(On)}e.setAttribute("aria-expanded",!0)}n&&n()},e._jQueryInterface=function(t){return this.each((function(){var n=xn(this),i=n.data(kn);if(i||(i=new e(this),n.data(kn,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},o(e,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),e}(),xn(document).on(Tn.CLICK_DATA_API,jn,(function(e){e.preventDefault(),Bn._jQueryInterface.call(xn(this),"show")})),xn.fn.tab=Bn._jQueryInterface,xn.fn.tab.Constructor=Bn,xn.fn.tab.noConflict=function(){return xn.fn.tab=En,Bn._jQueryInterface},Bn);!function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=Hn,e.Alert=zn,e.Button=qn,e.Carousel=Un,e.Collapse=Wn,e.Dropdown=Vn,e.Modal=Yn,e.Popover=Gn,e.Scrollspy=Qn,e.Tab=Xn,e.Tooltip=Kn,Object.defineProperty(e,"__esModule",{value:!0})})),window.dzsprx_self_options={},window.dzsprx_index=0,function(c){c.fn.dzsparallaxer=function(b){if(void 0===b&&void 0!==c(this).attr("data-options")&&""!=c(this).attr("data-options")){var n=c(this).attr("data-options");eval("window.dzsprx_self_options = "+n),b=c.extend({},window.dzsprx_self_options),window.dzsprx_self_options=c.extend({},{})}b=c.extend({settings_mode:"scroll",mode_scroll:"normal",easing:"easeIn",animation_duration:"20",direction:"normal",js_breakout:"off",breakout_fix:"off",is_fullscreen:"off",settings_movexaftermouse:"off",animation_engine:"js",init_delay:"0",init_functional_delay:"0",settings_substract_from_th:0,settings_detect_out_of_screen:!0,init_functional_remove_delay_on_scroll:"off",settings_makeFunctional:!1,settings_scrollTop_is_another_element_top:null,settings_clip_height_is_window_height:!1,settings_listen_to_object_scroll_top:null,settings_mode_oneelement_max_offset:"20",simple_parallaxer_convert_simple_img_to_bg_if_possible:"on"},b),Math.easeIn=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},Math.easeOutQuad=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},Math.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},b.settings_mode_oneelement_max_offset=parseInt(b.settings_mode_oneelement_max_offset,10);var m=parseInt(b.settings_mode_oneelement_max_offset,10);this.each((function(){function n(){if(1==b.settings_makeFunctional){var e=!1,t=document.URL,n=t.indexOf("://")+3,i=t.indexOf("/",n);if(-1<(t=t.substring(n,i)).indexOf("l")&&-1<t.indexOf("c")&&-1<t.indexOf("o")&&-1<t.indexOf("l")&&-1<t.indexOf("a")&&-1<t.indexOf("h")&&(e=!0),-1<t.indexOf("d")&&-1<t.indexOf("i")&&-1<t.indexOf("g")&&-1<t.indexOf("d")&&-1<t.indexOf("z")&&-1<t.indexOf("s")&&(e=!0),-1<t.indexOf("o")&&-1<t.indexOf("z")&&-1<t.indexOf("e")&&-1<t.indexOf("h")&&-1<t.indexOf("t")&&(e=!0),-1<t.indexOf("e")&&-1<t.indexOf("v")&&-1<t.indexOf("n")&&-1<t.indexOf("a")&&-1<t.indexOf("t")&&(e=!0),0==e)return}b.settings_scrollTop_is_another_element_top&&(z=b.settings_scrollTop_is_another_element_top),g=a.find(".dzsparallaxer--target").eq(0),0<a.find(".dzsparallaxer--blackoverlay").length&&(K=a.find(".dzsparallaxer--blackoverlay").eq(0)),0<a.find(".dzsparallaxer--fadeouttarget").length&&(ba=a.find(".dzsparallaxer--fadeouttarget").eq(0)),a.find(".dzsparallaxer--aftermouse").length&&a.find(".dzsparallaxer--aftermouse").each((function(){var e=c(this);L.push(e)})),a.hasClass("wait-readyall")||setTimeout((function(){B=Number(b.animation_duration)}),300),a.addClass("mode-"+b.settings_mode),a.addClass("animation-engine-"+b.animation_engine),h=a.height(),"on"==b.settings_movexaftermouse&&(x=a.width()),g&&(k=g.height(),"on"==b.settings_movexaftermouse&&(r=g.width())),b.settings_substract_from_th&&(k-=b.settings_substract_from_th),la=h,"2"==b.breakout_fix&&console.info(a.prev()),a.attr("data-responsive-reference-width")&&(M=Number(a.attr("data-responsive-reference-width"))),a.attr("data-responsive-optimal-height")&&(U=Number(a.attr("data-responsive-optimal-height"))),a.find(".dzsprxseparator--bigcurvedline").length&&a.find(".dzsprxseparator--bigcurvedline").each((function(){var e=c(this),t="#FFFFFF";e.attr("data-color")&&(t=e.attr("data-color")),e.append('<svg class="display-block" width="100%"  viewBox="0 0 2500 100" preserveAspectRatio="none" ><path class="color-bg" fill="'+t+'" d="M2500,100H0c0,0-24.414-1.029,0-6.411c112.872-24.882,2648.299-14.37,2522.026-76.495L2500,100z"/></svg>')})),a.find(".dzsprxseparator--2triangles").length&&a.find(".dzsprxseparator--2triangles").each((function(){var e=c(this),t="#FFFFFF";e.attr("data-color")&&(t=e.attr("data-color")),e.append('<svg class="display-block" width="100%"  viewBox="0 0 1500 100" preserveAspectRatio="none" ><polygon class="color-bg" fill="'+t+'" points="1500,100 0,100 0,0 750,100 1500,0 "/></svg>')})),a.find(".dzsprxseparator--triangle").length&&a.find(".dzsprxseparator--triangle").each((function(){var e=c(this),t="#FFFFFF";e.attr("data-color")&&(t=e.attr("data-color")),e.append('<svg class="display-block" width="100%"  viewBox="0 0 2200 100" preserveAspectRatio="none" ><polyline class="color-bg" fill="'+t+'" points="2200,100 0,100 0,0 2200,100 "/></svg>')})),a.get(0)&&(a.get(0).api_set_scrollTop_is_another_element_top=function(e){z=e}),"horizontal"==b.settings_mode&&(g.wrap('<div class="dzsparallaxer--target-con"></div>'),"20"!=b.animation_duration&&a.find(".horizontal-fog,.dzsparallaxer--target").css({animation:"slideshow "+Number(b.animation_duration)/1e3+"s linear infinite"})),is_touch_device()&&a.addClass("is-touch"),is_mobile()&&a.addClass("is-mobile"),0<a.find(".divimage").length||0<a.find("img").length?(0==(e=a.children(".divimage, img").eq(0)).length&&(e=a.find(".divimage, img").eq(0)),e.attr("data-src")?(V=e.attr("data-src"),c(window).on("scroll.dzsprx"+N,u),u()):aa()):aa(),"horizontal"==b.settings_mode&&(g.before(g.clone()),g.prev().addClass("cloner"),ca=g.parent().find(".cloner").eq(0))}function aa(){O||(O=!0,is_ie11()&&a.addClass("is-ie-11"),c(window).on("resize",W),W(),setInterval((function(){W(null,{call_from:"autocheck"})}),2e3),a.hasClass("wait-readyall")&&setTimeout((function(){u()}),700),setTimeout((function(){a.addClass("dzsprx-readyall"),u(),a.hasClass("wait-readyall")&&(B=Number(b.animation_duration))}),1e3),0<a.find("*[data-parallaxanimation]").length&&a.find("*[data-parallaxanimation]").each((function(){var a=c(this);if(a.attr("data-parallaxanimation")){null==I&&(I=[]),I.push(a);var b=a.attr("data-parallaxanimation");b=("window.aux_opts2 = "+b).replace(/'/g,'"');try{eval(b)}catch(e){console.info(b,e),window.aux_opts2=null}if(window.aux_opts2){for(w=0;w<window.aux_opts2.length;w++)0==isNaN(Number(window.aux_opts2[w].initial))&&(window.aux_opts2[w].initial=Number(window.aux_opts2[w].initial)),0==isNaN(Number(window.aux_opts2[w].mid))&&(window.aux_opts2[w].mid=Number(window.aux_opts2[w].mid)),0==isNaN(Number(window.aux_opts2[w].final))&&(window.aux_opts2[w].final=Number(window.aux_opts2[w].final));a.data("parallax_options",window.aux_opts2)}}})),da&&(D=!0,setTimeout((function(){D=!1}),da)),a.hasClass("simple-parallax")?(g.wrap('<div class="simple-parallax-inner"></div>'),"on"==b.simple_parallaxer_convert_simple_img_to_bg_if_possible&&g.attr("data-src")&&0==g.children().length&&g.parent().addClass("is-image"),0<m&&P()):P(),ma=setInterval(xa,1e3),setTimeout((function(){}),1500),a.hasClass("use-loading")&&(0<a.find(".divimage").length||0<a.children("img").length?0<a.find(".divimage").length&&(V&&(a.find(".divimage").eq(0).css("background-image","url("+V+")"),a.find(".dzsparallaxer--target-con .divimage").css("background-image","url("+V+")")),E=String(a.find(".divimage").eq(0).css("background-image")).split('"')[1],null==E&&(E=String(a.find(".divimage").eq(0).css("background-image")).split("url(")[1],E=String(E).split(")")[0]),F=new Image,F.onload=function(){a.addClass("loaded"),"horizontal"==b.settings_mode&&(console.info(F,E,F.naturalWidth,x,r),J=F.naturalWidth,ea=F.naturalHeight,r=J/ea*h,console.log(J,ea,r,h),g.hasClass("divimage"),console.info(ca),ca.css({left:"calc(-100% + 1px)"}),g.css({width:"100%"}),g.hasClass("repeat-pattern")&&(console.info("nw - ",J,"cw - ",x),r=Math.ceil(x/J)*J,console.info("tw - ",r)),a.find(".dzsparallaxer--target-con").css({width:r}))},F.src=E):a.addClass("loaded"),setTimeout((function(){a.addClass("loaded"),na()}),1e4)),a.get(0).api_set_update_func=function(e){G=e},a.get(0).api_handle_scroll=u,a.get(0).api_destroy=wa,a.get(0).api_destroy_listeners=ya,a.get(0).api_handle_resize=W,"scroll"!=b.settings_mode&&"oneelement"!=b.settings_mode||(c(window).off("scroll.dzsprx"+N),c(window).on("scroll.dzsprx"+N,u),u(),setTimeout(u,1e3),document&&document.addEventListener&&document.addEventListener("touchmove",fa,!1)),("mouse_body"==b.settings_mode||"on"==b.settings_movexaftermouse||L.length)&&c(document).on("mousemove",fa))}function wa(){G=null,oa=!0,G=null,c(window).off("scroll.dzsprx"+N,u),document&&document.addEventListener&&document.removeEventListener("touchmove",fa,!1)}function xa(){ha=!0}function ya(){console.info("DESTROY LISTENERS",a),clearInterval(ma),c(window).off("scroll.dzsprx"+N)}function W(e,t){x=a.width(),X=window.innerWidth,p=window.innerHeight;var n={call_from:"event"};if(t&&(n=c.extend(n,t)),!1!==O){if("oneelement"==b.settings_mode){var i=a.css("transform");a.css("transform","translate3d(0,0,0)")}if(y=parseInt(a.offset().top,10),"autocheck"==n.call_from&&4>Math.abs(pa-p)&&4>Math.abs(qa-y))return"oneelement"==b.settings_mode&&a.css("transform",i),!1;pa=p,qa=y,M&&U&&(x<M?a.height(x/M*U):a.height(U)),760>x?a.addClass("under-760"):a.removeClass("under-760"),500>x?a.addClass("under-500"):a.removeClass("under-500"),ia&&clearTimeout(ia),ia=setTimeout(na,700),"on"==b.js_breakout&&(a.css("width",X+"px"),a.css("margin-left","0"),0<a.offset().left&&a.css("margin-left","-"+a.offset().left+"px"))}}function na(){h=a.outerHeight(),k=g.outerHeight(),p=window.innerHeight,b.settings_substract_from_th&&(k-=b.settings_substract_from_th),b.settings_clip_height_is_window_height&&(h=window.innerHeight),0==a.hasClass("allbody")&&0==a.hasClass("dzsparallaxer---window-height")&&0==M&&(k<=la&&0<k?("oneelement"!=b.settings_mode&&0==a.hasClass("do-not-set-js-height")&&0==a.hasClass("height-is-based-on-content")&&a.height(k),h=a.height(),is_ie()&&10>=version_ie()?g.css("top","0"):g.css("transform",""),K&&K.css("opacity","0")):"oneelement"!=b.settings_mode&&0==a.hasClass("do-not-set-js-height")&&a.hasClass("height-is-based-on-content")),g.attr("data-forcewidth_ratio")&&(g.width(Number(g.attr("data-forcewidth_ratio"))*g.height()),g.width()<a.width()&&g.width(a.width())),clearTimeout(ra),ra=setTimeout(u,200)}function fa(e){if("mouse_body"==b.settings_mode){if(l=e.pageY-c(window).scrollTop(),0==k)return;var t=l/p*(h-k);0<t&&(t=0),t<h-k&&(t=h-k),1<(C=l/h)&&(C=1),0>C&&(C=0),Q=t}if("on"==b.settings_movexaftermouse){var n=e.pageX;0<(n=n/X*(x-r))&&(n=0),n<x-r&&(n=x-r),sa=n}if(L)for(n=e.pageX,e=e.clientY,(n=n/X*m*2-m)>m&&(n=m),n<-m&&(n=-m),(t=e/p*m*4-2*m)>m&&(t=m),t<-m&&(t=-m),e=0;e<L.length;e++)L[e].css({top:t,left:n},{queue:!1,duration:100})}function u(e,n){l=c(window).scrollTop(),t=0,y>l-p&&l<y+a.outerHeight()?D=!1:b.settings_detect_out_of_screen&&(D=!0),z&&(l=-parseInt(z.css("top"),10),z.data("targettop")&&(l=-z.data("targettop"))),b.settings_listen_to_object_scroll_top&&(l=b.settings_listen_to_object_scroll_top.val),isNaN(l)&&(l=0),e&&"on"==b.init_functional_remove_delay_on_scroll&&(D=!1);var i={force_vi_y:null,from:"",force_ch:null,force_th:null,force_th_only_big_diff:!0};if(n&&(i=c.extend(i,n)),b.settings_clip_height_is_window_height&&(h=window.innerHeight),null!=i.force_ch&&(h=i.force_ch),null!=i.force_th&&(i.force_th_only_big_diff?20<Math.abs(i.force_th-k)&&(k=i.force_th):k=i.force_th),!1===O&&(p=window.innerHeight,l+p>=a.offset().top&&aa()),0!=k&&!1!==O&&("scroll"==b.settings_mode||"oneelement"==b.settings_mode)){if("oneelement"==b.settings_mode){var o=(l-y+p)/p;a.attr("id"),0>o&&(o=0),1<o&&(o=1),"reverse"==b.direction&&(o=Math.abs(1-o)),Q=t=2*o*b.settings_mode_oneelement_max_offset-b.settings_mode_oneelement_max_offset,a.attr("id")}if("scroll"==b.settings_mode){if("fromtop"==b.mode_scroll&&(t=l/h*(h-k),"on"==b.is_fullscreen&&(t=l/(k-p)*(h-k),z&&(t=l/(z.height()-p)*(h-k))),"reverse"==b.direction&&(t=(1-l/h)*(h-k),"on"==b.is_fullscreen&&(t=(1-l/(k-p))*(h-k),z&&(t=(1-l/(z.height()-p))*(h-k))))),y=a.offset().top,z&&(y=-parseInt(z.css("top"),10)),o=(l-(y-p))/(y+h-(y-p)),"on"==b.is_fullscreen&&(o=l/(c("body").height()-p),z&&(o=l/(z.outerHeight()-p))),1<o&&(o=1),0>o&&(o=0),I)for(w=0;w<I.length;w++){var r=I[w],s=r.data("parallax_options");if(s)for(var u=0;u<s.length;u++){if(.5>=o){var d=2*o,f=2*o-1;0>f&&(f=-f),d=f*s[u].initial+d*s[u].mid}else 0>(f=(d=2*(o-.5))-1)&&(f=-f),d=f*s[u].mid+d*s[u].final;f=(f=s[u].value).replace(/{{val}}/g,d),r.css(s[u].property,f)}}"normal"==b.mode_scroll&&(t=o*(h-k),"reverse"==b.direction&&(t=(1-o)*(h-k)),a.hasClass("debug-target")&&console.info(b.mode_scroll,l,y,p,h,y+h,o)),"fromtop"==b.mode_scroll&&t<h-k&&(t=h-k),a.hasClass("simple-parallax")&&(0>(o=(l+p-y)/(p+k))&&(o=0),1<o&&(o=1),o=Math.abs(1-o),a.hasClass("is-mobile")&&(m=a.height()/2),t=2*o*m-m),ba&&(1<(o=Math.abs((l-y)/a.outerHeight()-1))&&(o=1),0>o&&(o=0),ba.css("opacity",o)),C=l/h,0==a.hasClass("simple-parallax")&&(0<t&&(t=0),t<h-k&&(t=h-k)),1<C&&(C=1),0>C&&(C=0),i.force_vi_y&&(t=i.force_vi_y),Q=t,ta=C,0!==B&&"css"!=b.animation_engine||(v=Q,0==D&&(a.hasClass("simple-parallax")?(g.parent().hasClass("is-image")||a.hasClass("simple-parallax--is-only-image"))&&g.css("background-position-y","calc(50% - "+parseInt(v,10)+"px)"):is_ie()&&10>=version_ie()?g.css("top",v+"px"):(g.css("transform","translate3d("+H+"px,"+v+"px,0)"),"oneelement"==b.settings_mode&&a.css("transform","translate3d("+H+"px,"+v+"px,0)"))))}}}function P(){return D?(requestAnimFrame(P),!1):(isNaN(v)&&(v=0),ha&&(ha=!1),"horizontal"!=b.settings_mode&&(0===B||"css"==b.animation_engine?(G&&G(v),requestAnimFrame(P),!1):(Y=Q-(R=v),Z=ta-(S=T),"easeIn"==b.easing&&(v=Number(Math.easeIn(1,R,Y,B).toFixed(5)),T=Number(Math.easeIn(1,S,Z,B).toFixed(5))),"easeOutQuad"==b.easing&&(v=Math.easeOutQuad(1,R,Y,B),T=Math.easeOutQuad(1,S,Z,B)),"easeInOutSine"==b.easing&&(v=Math.easeInOutSine(1,R,Y,B),T=Math.easeInOutSine(1,S,Z,B)),H=0,"on"==b.settings_movexaftermouse&&(ua=sa-(ja=H),H=Math.easeIn(1,ja,ua,B)),a.hasClass("simple-parallax")?g.parent().hasClass("is-image")&&g.css("background-position-y","calc(50% - "+parseInt(v,10)+"px)"):is_ie()&&10>=version_ie()?g.css("top",v+"px"):(g.css("transform","translate3d("+H+"px,"+v+"px,0)"),"oneelement"==b.settings_mode&&a.css("transform","translate3d("+H+"px,"+v+"px,0)")),K&&K.css("opacity",T),G&&G(v),!oa&&void requestAnimFrame(P))))}var a=c(this),g=null,ca=null,K=null,ba=null,N=window.dzsprx_index++,w=0,r=0,k=0,h=0,x=0,X=0,p=0,J=0,ea=0,pa=0,qa=0,la=0,ia=0,B=0,v=0,H=0,T=0,R=0,ja=0,S=0,Q=0,sa=0,ta=0,Y=0,ua=0,Z=0,G=null,z=null,l=0,t=0,C=0,y=0,V="",O=!1,ha=!1,I=null,oa=!1,D=!1,ka=0,da=0,ma=0,ra=0,M=0,U=0,L=[],F=null,E="";ka=Number(b.init_delay),da=Number(b.init_functional_delay),ka?setTimeout(n,ka):n()}))},window.dzsprx_init=function(e,t){if(void 0!==t&&void 0!==t.init_each&&1==t.init_each){var n,i=0;for(n in t)i++;1==i&&(t=void 0),c(e).each((function(){c(this).dzsparallaxer(t)}))}else c(e).dzsparallaxer(t)}}(jQuery),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},jQuery(document).ready((function(e){e(".dzsparallaxer---window-height").each((function(){function t(){n.height(window.innerHeight)}var n=e(this);e(window).on("resize",t),t()})),dzsprx_init(".dzsparallaxer.auto-init",{init_each:!0})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=window.Slick||{};(t=function(){function t(t,i){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,n){return e('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=e(t),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=e(t).data("slick")||{},r.options=e.extend({},r.defaults,i,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.instanceUid=n++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}var n=0;return t}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,n,i){var o=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=o.slideCount)return!1;o.unload(),"number"==typeof n?0===n&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):i?e(t).insertBefore(o.$slides.eq(n)):e(t).insertAfter(o.$slides.eq(n)):!0===i?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each((function(t,n){e(n).attr("data-slick-index",t)})),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,n){var i={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(t=-t),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,n):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,n):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),!1===o.options.vertical?(i[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(i)):(i[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(o.applyTransition(),t=Math.ceil(t),!1===o.options.vertical?i[o.animType]="translate3d("+t+"px, 0px, 0px)":i[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(i),n&&setTimeout((function(){o.disableTransition(),n.call()}),o.options.speed))},t.prototype.getNavTarget=function(){var t=this,n=t.options.asNavFor;return n&&null!==n&&(n=e(n).not(t.$slider)),n},t.prototype.asNavFor=function(t){var n=this.getNavTarget();null!==n&&"object"==typeof n&&n.each((function(){var n=e(this).slick("getSlick");n.unslicked||n.slideHandler(t,!0)}))},t.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,n,i=this;if(!0===i.options.dots){for(i.$slider.addClass("slick-dotted"),n=e("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)n.append(e("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each((function(t,n){e(n).attr("data-slick-index",t).data("originalStyling",e(n).attr("style")||"")})),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,n,i,o,r,a,s=this;if(i=document.createDocumentFragment(),r=s.$slider.children(),s.options.rows>1){for(a=s.options.slidesPerRow*s.options.rows,o=Math.ceil(r.length/a),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<s.options.rows;t++){var c=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var u=e*a+(t*s.options.slidesPerRow+n);r.get(u)&&c.appendChild(r.get(u))}l.appendChild(c)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,n){var i,o,r,a=this,s=!1,l=a.$slider.width(),c=window.innerWidth||e(window).width();if("window"===a.respondTo?r=c:"slider"===a.respondTo?r=l:"min"===a.respondTo&&(r=Math.min(c,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){for(i in o=null,a.breakpoints)a.breakpoints.hasOwnProperty(i)&&(!1===a.originalSettings.mobileFirst?r<a.breakpoints[i]&&(o=a.breakpoints[i]):r>a.breakpoints[i]&&(o=a.breakpoints[i]));null!==o?null!==a.activeBreakpoint?(o!==a.activeBreakpoint||n)&&(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),s=o):(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),s=o):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t),s=o),t||!1===s||a.$slider.trigger("breakpoint",[a,s])}},t.prototype.changeSlide=function(t,n){var i,o,r=this,a=e(t.currentTarget)
;switch(a.is("a")&&t.preventDefault(),a.is("li")||(a=a.closest("li")),i=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":o=0===i?r.options.slidesToScroll:r.options.slidesToShow-i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-o,!1,n);break;case"next":o=0===i?r.options.slidesToScroll:i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+o,!1,n);break;case"index":var s=0===t.data.index?0:t.data.index||a.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(s),!1,n),a.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,n;if(n=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),e(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){e(this).attr("style",e(this).data("originalStyling"))})),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,t||n.$slider.trigger("destroy",[n])},t.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout((function(){n.disableTransition(e),t.call()}),n.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",(function(n){n.stopImmediatePropagation();var i=e(this);setTimeout((function(){t.options.pauseOnFocus&&(t.focussed=i.is(":focus"),t.autoPlay())}),0)}))},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++i;else for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},t.prototype.getLeft=function(e){for(var t,n,i,o,r=this,a=0,s=[],l=[],c=0;c<r.$slides.length;c++)s[c]=r.$slides[c].clientHeight;(r.slideOffset=0,n=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),!0===r.options.vertical&&!0===r.options.infinite&&(n=r.$slides.last().outerHeight(!0)),a=n*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,a=(r.options.slidesToShow-(e-r.slideCount))*n*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,a=r.slideCount%r.options.slidesToScroll*n*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,a=(e+r.options.slidesToShow-r.slideCount)*n),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,a=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),!1===r.options.vertical)?t=e*r.slideWidth*-1+r.slideOffset:t=-1*(0!==(l=s.slice(0,e)).length?l.reduce((function(e,t){return e+t})):0)+a;return!0===r.options.variableWidth&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===r.options.centerMode&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,t+=(r.$list.width()-i.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,o=[];for(!1===t.options.infinite?e=t.slideCount:(n=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,e=2*t.slideCount);n<e;)o.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,n,i=this;return n=!0===i.options.centerMode?i.slideWidth*Math.floor(i.options.slidesToShow/2):0,!0===i.options.swipeToSlide?(i.$slideTrack.find(".slick-slide").each((function(o,r){if(r.offsetLeft-n+e(r).outerWidth()/2>-1*i.swipeLeft)return t=r,!1})),Math.abs(e(t).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var n=this;e(n.$slider).hasClass("slick-initialized")||(e(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),t&&n.$slider.trigger("init",[n]),!0===n.options.accessibility&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},t.prototype.initADA=function(){var t=this,n=Math.ceil(t.slideCount/t.options.slidesToShow),i=t.getNavigableIndexes().filter((function(e){return e>=0&&e<t.slideCount}));t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each((function(n){var o=i.indexOf(n);e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+n,tabindex:-1}),-1!==o&&e(this).attr({"aria-describedby":"slick-slide-control"+t.instanceUid+o})})),t.$dots.attr("role","tablist").find("li").each((function(o){var r=i[o];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+o,"aria-controls":"slick-slide"+t.instanceUid+r,"aria-label":o+1+" of "+n,"aria-selected":null,tabindex:"-1"})})).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var o=t.currentSlide,r=o+t.options.slidesToShow;o<r;o++)t.$slides.eq(o).attr("tabindex",0);t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each((function(){var t=e(this),n=e(this).attr("data-lazy"),i=e(this).attr("data-srcset"),o=e(this).attr("data-sizes")||r.$slider.attr("data-sizes"),a=document.createElement("img");a.onload=function(){t.animate({opacity:0},100,(function(){i&&(t.attr("srcset",i),o&&t.attr("sizes",o)),t.attr("src",n).animate({opacity:1},200,(function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")})),r.$slider.trigger("lazyLoaded",[r,t,n])}))},a.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,n])},a.src=n}))}var n,i,o,r=this;if(!0===r.options.centerMode?!0===r.options.infinite?o=(i=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(i=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),o=r.options.slidesToShow/2+1+2+r.currentSlide):(i=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,o=Math.ceil(i+r.options.slidesToShow),!0===r.options.fade&&(i>0&&i--,o<=r.slideCount&&o++)),n=r.$slider.find(".slick-slide").slice(i,o),"anticipated"===r.options.lazyLoad)for(var a=i-1,s=o,l=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)a<0&&(a=r.slideCount-1),n=(n=n.add(l.eq(a))).add(l.eq(s)),a--,s++;t(n),r.slideCount<=r.options.slidesToShow?t(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?t(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&t(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var n=this;n.unslicked||(n.$slider.trigger("afterChange",[n,t]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),!0===n.options.accessibility&&(n.initADA(),n.options.focusOnChange&&e(n.$slides.get(n.currentSlide)).attr("tabindex",0).focus()))},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var n,i,o,r,a,s=this,l=e("img[data-lazy]",s.$slider);l.length?(n=l.first(),i=n.attr("data-lazy"),o=n.attr("data-srcset"),r=n.attr("data-sizes")||s.$slider.attr("data-sizes"),(a=document.createElement("img")).onload=function(){o&&(n.attr("srcset",o),r&&n.attr("sizes",r)),n.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,n,i]),s.progressiveLazyLoad()},a.onerror=function(){t<3?setTimeout((function(){s.progressiveLazyLoad(t+1)}),500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,n,i]),s.progressiveLazyLoad())},a.src=i):s.$slider.trigger("allImagesLoaded",[s])},t.prototype.refresh=function(t){var n,i,o=this;i=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>i&&(o.currentSlide=i),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),n=o.currentSlide,o.destroy(!0),e.extend(o,o.initials,{currentSlide:n}),o.init(),t||o.changeSlide({data:{message:"index",index:n}},!1)},t.prototype.registerBreakpoints=function(){var t,n,i,o=this,r=o.options.responsive||null;if("array"===e.type(r)&&r.length){for(t in o.respondTo=o.options.respondTo||"window",r)if(i=o.breakpoints.length-1,r.hasOwnProperty(t)){for(n=r[t].breakpoint;i>=0;)o.breakpoints[i]&&o.breakpoints[i]===n&&o.breakpoints.splice(i,1),i--;o.breakpoints.push(n),o.breakpointSettings[n]=r[t].settings}o.breakpoints.sort((function(e,t){return o.options.mobileFirst?e-t:t-e}))}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout((function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()}),50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,n){var i=this;if(e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,i.slideCount<1||e<0||e>i.slideCount-1)return!1;i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},t.prototype.setCSS=function(e){var t,n,i=this,o={};!0===i.options.rtl&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",o[i.positionProp]=e,!1===i.transformsEnabled?i.$slideTrack.css(o):(o={},!1===i.cssTransitions?(o[i.animType]="translate("+t+", "+n+")",i.$slideTrack.css(o)):(o[i.animType]="translate3d("+t+", "+n+", 0px)",i.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,n=this;n.$slides.each((function(i,o){t=n.slideWidth*i*-1,!0===n.options.rtl?e(o).css({position:"relative",right:t,top:0,zIndex:n.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:n.options.zIndex-2,opacity:0})})),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,n,i,o,r,a=this,s=!1;if("object"===e.type(arguments[0])?(i=arguments[0],s=arguments[1],r="multiple"):"string"===e.type(arguments[0])&&(i=arguments[0],o=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)a.options[i]=o;else if("multiple"===r)e.each(i,(function(e,t){a.options[e]=t}));else if("responsive"===r)for(n in o)if("array"!==e.type(a.options.responsive))a.options.responsive=[o[n]];else{for(t=a.options.responsive.length-1;t>=0;)a.options.responsive[t].breakpoint===o[n].breakpoint&&a.options.responsive.splice(t,1),t--;a.options.responsive.push(o[n])}s&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,n,i,o,r=this;if(n=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode){var a=r.options.slidesToShow%2==0?1:0;t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t+a,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=r.options.slidesToShow+e,n.slice(i-t+1+a,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=r.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,i=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-o),i+o).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},t.prototype.setupInfinite=function(){var t,n,i,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(n=null,o.slideCount>o.options.slidesToShow)){for(i=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-i;t-=1)n=t-1,e(o.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<i+o.slideCount;t+=1)n=t,e(o.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each((function(){e(this).attr("id","")}))}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var n=this,i=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(i.attr("data-slick-index"));o||(o=0),n.slideCount<=n.options.slidesToShow?n.slideHandler(o,!1,!0):n.slideHandler(o)},t.prototype.slideHandler=function(e,t,n){var i,o,r,a,s,l=null,c=this;if(t=t||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e))if(!1===t&&c.asNavFor(e),i=e,l=c.getLeft(i),a=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?a:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,(function(){c.postSlide(i)})):c.postSlide(i));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,(function(){c.postSlide(i)})):c.postSlide(i));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=i<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+i:i>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:i-c.slideCount:i,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(s=(s=c.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==n?(c.fadeSlideOut(r),c.fadeSlide(o,(function(){c.postSlide(o)}))):c.postSlide(o),void c.animateHeight();!0!==n?c.animateSlide(l,(function(){c.postSlide(o)})):c.postSlide(o)}},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,n,i,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,n=Math.atan2(t,e),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?!1===o.options.rtl?"left":"right":i>=135&&i<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?i>=35&&i<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(){var e,t,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(t=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=t&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,t]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,n,i,o,r,a,s=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!s.dragging||s.scrolling||r&&1!==r.length)&&(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,s.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&a>4?(s.scrolling=!0,!1):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),void 0!==e.originalEvent&&s.touchObject.swipeLength>4&&(s.swiping=!0,e.preventDefault()),o=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(o=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=t+i*o:s.swipeLeft=t+i*(s.$list.height()/s.listWidth)*o,!0===s.options.verticalSwiping&&(s.swipeLeft=t+i*o),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},t.prototype.swipeStart=function(e){var t,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return n.touchObject={},!1;void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,n.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},
t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,n,i=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),a=i.length;for(e=0;e<a;e++)if("object"==typeof o||void 0===o?i[e].slick=new t(i[e],o):n=i[e].slick[o].apply(i[e].slick,r),void 0!==n)return n;return i}})),function(e){"use strict";e.HSCore.components.HSCountdown={_baseConfig:{yearsElSelector:".years",monthsElSelector:".months",daysElSelector:".days",hoursElSelector:".hours",minutesElSelector:".minutes",secondsElSelector:".seconds",circles:!1,wrpClass:"wrpClass",textClass:"textClass",valueStrokeClass:"valueStrokeClass",maxValueStrokeClass:"maxValueStrokeClass",styleWrapper:"styleWrapper",styleText:"styleText"},pageCollection:e(),_circlesIds:[0],init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCountdowns(),this.pageCollection},initCountdowns:function(){var t=this;this.collection.each((function(n,i){var o=e(i),r={endDate:o.data("end-date")?new Date(o.data("end-date")):new Date,startDate:o.data("start-date")?new Date(o.data("start-date")):new Date,yearsEl:o.find(t.config.yearsElSelector),yearsFormat:o.data("years-format"),monthsEl:o.find(t.config.monthsElSelector),monthsFormat:o.data("months-format"),daysEl:o.find(t.config.daysElSelector),daysFormat:o.data("days-format"),hoursEl:o.find(t.config.hoursElSelector),hoursFormat:o.data("hours-format"),minutesEl:o.find(t.config.minutesElSelector),minutesFormat:o.data("minutes-format"),secondsEl:o.find(t.config.secondsElSelector),secondsFormat:o.data("seconds-format")};t.config.circles&&o.data("start-date")?t._initPiesImplementation(o,r):t._initBaseImplementation(o,r),t.pageCollection=t.pageCollection.add(o)}))},_initBaseImplementation:function(e,t){e.countdown(t.endDate,(function(e){t.yearsEl.length&&t.yearsEl.text(e.strftime(t.yearsFormat)),t.monthsEl.length&&t.monthsEl.text(e.strftime(t.monthsFormat)),t.daysEl.length&&t.daysEl.text(e.strftime(t.daysFormat)),t.hoursEl.length&&t.hoursEl.text(e.strftime(t.hoursFormat)),t.minutesEl.length&&t.minutesEl.text(e.strftime(t.minutesFormat)),t.secondsEl.length&&t.secondsEl.text(e.strftime(t.secondsFormat))}))},_initPiesImplementation:function(e,t){var n=this,i=864e5;t.yearsEl.length&&n._preparePieItem(t.yearsEl,{maxValue:t.endDate.getFullYear()-t.startDate.getFullYear(),radius:e.data("circles-radius"),width:e.data("circles-stroke-width"),"fg-color":e.data("circles-fg-color"),"bg-color":e.data("circles-bg-color"),"additional-text":e.data("circles-additional-text"),"font-size":e.data("circles-font-size")}),t.monthsEl.length&&n._preparePieItem(t.monthsEl,{maxValue:Math.round(Math.abs((t.endDate.getTime()-t.startDate.getTime())/i))/12,radius:e.data("circles-radius"),width:e.data("circles-stroke-width"),"fg-color":e.data("circles-fg-color"),"bg-color":e.data("circles-bg-color"),"additional-text":e.data("circles-additional-text"),"font-size":e.data("circles-font-size")}),t.daysEl.length&&n._preparePieItem(t.daysEl,{maxValue:n._getDaysMaxValByFormat(t.daysFormat,t.startDate,t.endDate),radius:e.data("circles-radius"),width:e.data("circles-stroke-width"),"fg-color":e.data("circles-fg-color"),"bg-color":e.data("circles-bg-color"),"additional-text":e.data("circles-additional-text"),"font-size":e.data("circles-font-size")}),t.hoursEl.length&&n._preparePieItem(t.hoursEl,{maxValue:60,radius:e.data("circles-radius"),width:e.data("circles-stroke-width"),"fg-color":e.data("circles-fg-color"),"bg-color":e.data("circles-bg-color"),"additional-text":e.data("circles-additional-text"),"font-size":e.data("circles-font-size")}),t.minutesEl.length&&n._preparePieItem(t.minutesEl,{maxValue:60,radius:e.data("circles-radius"),width:e.data("circles-stroke-width"),"fg-color":e.data("circles-fg-color"),"bg-color":e.data("circles-bg-color"),"additional-text":e.data("circles-additional-text"),"font-size":e.data("circles-font-size")}),t.secondsEl.length&&n._preparePieItem(t.secondsEl,{maxValue:60,radius:e.data("circles-radius"),width:e.data("circles-stroke-width"),"fg-color":e.data("circles-fg-color"),"bg-color":e.data("circles-bg-color"),"additional-text":e.data("circles-additional-text"),"font-size":e.data("circles-font-size")}),e.countdown(t.endDate,(function(e){t.yearsEl.length&&t.yearsEl.data("circle").update(e.strftime(t.yearsFormat)),t.monthsEl.length&&t.monthsEl.data("circle").update(e.strftime(t.monthsFormat)),t.daysEl.length&&t.daysEl.data("circle").update(e.strftime(t.daysFormat)),t.hoursEl.length&&t.hoursEl.data("circle").update(e.strftime(t.hoursFormat)),t.minutesEl.length&&t.minutesEl.data("circle").update(e.strftime(t.minutesFormat)),t.secondsEl.length&&t.secondsEl.data("circle").update(e.strftime(t.secondsFormat))}))},_preparePieItem:function(e,t){var n=this,i=n._circlesIds[n._circlesIds.length-1]+1;n._circlesIds.push(i),e.attr("id","hs-countdown-element-"+i),e.data("circle",Circles.create({id:"hs-countdown-element-"+i,radius:t.radius||80,value:0,maxValue:t.maxValue||100,width:t.width||10,text:function(e){return e+(t["additional-text"]||"")},colors:[t["bg-color"]||"#eeeeee",t["fg-color"]||"#72c02c"],duration:0,wrpClass:n.config.wrpClass,textClass:n.config.textClass,valueStrokeClass:n.config.valueStrokeClass,maxValueStrokeClass:n.config.maxValueStrokeClass,styleWrapper:n.config.styleWrapper,styleText:n.config.styleText})),t["font-size"]&&e.find("."+n.config.textClass).css("font-size",t["font-size"]+"px")},_getDaysMaxValByFormat:function(e,t,n){var i=864e5;return"%D"===e?Math.round(Math.abs((n.getTime()-t.getTime())/i)):31}}}(jQuery),function(e){"use strict";e.HSCore.components.HSCounter={_baseConfig:{bounds:-100,debounce:10,time:6e3,fps:60,commaSeparated:!1},_pageCollection:e(),init:function(t,n){this.collection=e(t)&&e(t).length?e(t):e(),this.collection.length&&(this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCounters())},initCounters:function(){var t=this;appear({bounds:t.config.bounds,debounce:t.config.debounce,init:function(){t.collection.each((function(n,i){var o=e(i),r=parseInt(o.text(),10);o.text("0").data("value",r),t._pageCollection=t._pageCollection.add(o)}))},elements:function(){return document.querySelectorAll(t.config.itemSelector)},appear:function(n){var i=e(n),o=1,r=i.data("value"),a=parseInt(r/(t.config.time/t.config.fps),10),s=i.data("comma-separated"),l=i.data("reduce-thousands-to");0==a&&(a=1),i.data("intervalId",setInterval((function(){if(s?i.text(t.getCommaSeparatedValue(o+=a)):l?i.text(t.getCommaReducedValue(o+=a,l)):i.text(o+=a),o>r)return clearInterval(i.data("intervalId")),void(s?i.text(t.getCommaSeparatedValue(r)):l?i.text(t.getCommaReducedValue(r,l)):i.text(r))}),t.config.time/t.config.fps))}})},getCommaReducedValue:function(e,t){return parseInt(e/1e3,10)+t},getCommaSeparatedValue:function(e){switch((e=new String(e)).length){case 4:return e.substr(0,1)+","+e.substr(1);case 5:return e.substr(0,2)+","+e.substr(2);case 6:return e.substr(0,3)+","+e.substr(3);case 7:return(e=e.substr(0,1)+","+e.substr(1)).substr(0,5)+","+e.substr(5);case 8:return(e=e.substr(0,2)+","+e.substr(2)).substr(0,6)+","+e.substr(6);case 9:return(e=e.substr(0,3)+","+e.substr(3)).substr(0,7)+","+e.substr(7);case 10:return(e=(e=e.substr(0,1)+","+e.substr(1)).substr(0,5)+","+e.substr(5)).substr(0,9)+","+e.substr(9);default:return e}}}}(jQuery),function(e){"use strict";e.HSCore.components.HSCubeportfolio={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCubeportfolio(),this.pageCollection},initCubeportfolio:function(){var t=this,n=(t.config,t.pageCollection);this.collection.each((function(t,i){var o=e(i),r=o.data("controls"),a=o.data("layout"),s=o.data("x-gap"),l=o.data("y-gap"),c=o.data("animation"),u=o.data("caption-animation"),d=e(this).data("load-more-selector"),h=e(this).data("load-more-action"),p=e(this).data("load-items-amount"),f=[{width:1500,cols:3},{width:1100,cols:3},{width:800,cols:3},{width:480,cols:2,options:{caption:"",gapHorizontal:10,gapVertical:10}}],m=JSON.parse(i.getAttribute("data-media-queries"));o.cubeportfolio({filters:r,layoutMode:a,defaultFilter:"*",sortToPreventGaps:!0,gapHorizontal:s,gapVertical:l,animationType:c,gridAdjustment:"responsive",mediaQueries:m||f,caption:u||"overlayBottomAlong",displayType:"sequentially",displayTypeSpeed:100,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',appendItems:'<div class="logo cbp-item">my awesome content to append to plugin</div> <div class="logo cbp-item">my second awesome content to append to plugin</div>',singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"below",singlePageInlineInFocus:!0,singlePageInlineCallback:function(t){var n=this;e.ajax({url:t,type:"GET",dataType:"html",timeout:3e4}).done((function(t){n.updateSinglePageInline(t),e(".best_in_place").best_in_place()})).fail((function(){n.updateSinglePageInline("AJAX Error! Please refresh the page!")}))},singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageCallback:function(t){var n=this;e.ajax({url:t,type:"GET",dataType:"html",timeout:1e4}).done((function(e){n.updateSinglePage(e)})).fail((function(){n.updateSinglePage("AJAX Error! Please refresh the page!")}))},plugins:{loadMore:{selector:d,action:h,loadItems:p}}}),n=n.add(o)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSDatatables={_baseConfig:{paging:!0},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initDatatables(),this.pageCollection},initDatatables:function(){var t=this,n=t.config,i=t.pageCollection;this.collection.each((function(o,r){var a=e(r),s=a.data("dt-info"),l=a.data("dt-search"),c=a.data("dt-entries"),u=a.data("dt-pagination"),d=a.data("dt-details-invoker"),h=a.data("dt-page-length"),p=Boolean(a.data("dt-is-responsive")),f=Boolean(a.data("dt-is-selectable")),m=Boolean(a.data("dt-is-columns-search")),g=Boolean(a.data("dt-is-columns-search-thead-after")),v=Boolean(a.data("dt-is-show-paging")),b=a.data("dt-scroll-height"),y=a.data("dt-pagination-classes"),w=a.data("dt-pagination-items-classes"),_=a.data("dt-pagination-links-classes"),C=a.data("dt-pagination-next-classes"),x=a.data("dt-pagination-next-link-classes"),k=a.data("dt-pagination-next-link-markup"),S=a.data("dt-pagination-prev-classes"),E=a.data("dt-pagination-prev-link-classes"),T=a.data("dt-pagination-prev-link-markup"),A=a.data("dt-select-all-control"),O=a.DataTable({pageLength:h,responsive:p,scrollY:b||"",scrollCollapse:!!b,paging:v||n.paging,drawCallback:function(){var t=this.api().page.info();e(s).html("Showing "+(t.start+1)+" to "+t.end+" of "+t.recordsTotal+" Entries")}}),D=O.page.info();b&&e(O.context[0].nScrollBody).mCustomScrollbar({scrollbarPosition:"outside"}),e(l).on("keyup",(function(){O.search(this.value).draw()})),1==m&&O.columns().every((function(){var t=this;1==g&&e(".dataTables_scrollFoot").insertAfter(".dataTables_scrollHead"),e("input",this.footer()).on("keyup change",(function(){t.search()!==this.value&&t.search(this.value).draw()})),e("select",this.footer()).on("change",(function(){t.search()!==this.value&&t.search(this.value).draw()}))})),e(c).on("change",(function(){var n=e(this).val();O.page.len(n).draw(),1==v&&t.pagination(u,O,y,w,_,C,x,k,S,E,T,n)})),1==f&&e(a).on("change","input",(function(){e(this).parents("tr").toggleClass("checked")})),1==v&&t.pagination(u,O,y,w,_,C,x,k,S,E,T,D.pages),t.details(a,d,O),A&&t.selectAll(A,O,a),i=i.add(a)}))},pagination:function(t,n,i,o,r,a,s,l,c,u,d){for(var h=n.page.info(),p="",f=0;f<h.recordsTotal;f++)f%h.length==0&&(p+=f/h.length==0?'<li class="'+o+' active"><a id="datatablePaginationPage'+f/h.length+'" class="'+r+'" href="javascript:;" data-dt-page-to="'+f/h.length+'">'+(f/h.length+1)+"</a></li>":'<li class="'+o+'"><a id="'+t+f/h.length+'" class="'+r+'" href="javascript:;" data-dt-page-to="'+f/h.length+'">'+(f/h.length+1)+"</a></li>");e("#"+t).html('<ul class="'+i+'">\t\t\t\t<li class="'+c+'">\t\t\t\t  <a id="'+t+'Prev" class="'+u+'" href="javascript:;" aria-label="Previous">'+d+"</a>\t\t\t\t</li>"+p+'<li class="'+a+'">\t\t\t\t  <a id="'+t+'Next" class="'+s+'" href="javascript:;" aria-label="Next">'+l+"</a>\t\t\t\t</li>\t\t\t\t</ul>"),e("#"+t+" [data-dt-page-to]").on("click",(function(){var i=e(this).data("dt-page-to");n.page.info();e("#"+t+" [data-dt-page-to]").parent().removeClass("active"),e(this).parent().addClass("active"),n.page(i).draw("page")})),e("#"+t+"Next").on("click",(function(){var i=e("#"+t+" [data-dt-page-to]").parent();if(n.page("next").draw("page"),!i.next().find("[data-dt-page-to]").length)return!1;e("#"+t+" [data-dt-page-to]").parent().removeClass("active"),i.next().find("[data-dt-page-to]").parent().addClass("active")})),e("#"+t+"Prev").on("click",(function(){var i=e("#"+t+" [data-dt-page-to]").parent();if(n.page("previous").draw("page"),!i.prev().find("[data-dt-page-to]").length)return!1;e("#"+t+" [data-dt-page-to]").parent().removeClass("active"),i.prev().find("[data-dt-page-to]").parent().addClass("active")}))},format:function(e){return e},details:function(t,n,i){if(n){var o=this;e(t).on("click",n,(function(){var t=e(this).closest("tr"),n=i.row(t);n.child.isShown()?(n.child.hide(),t.removeClass("opened")):(n.child(o.format(t.data("details"))).show(),t.addClass("opened"))}))}},selectAll:function(t,n,i){e(t).on("click",(function(){var t=n.rows({search:"applied"}).nodes();e('input[type="checkbox"]',t).prop("checked",this.checked)})),e(i).find("tbody").on("change",'input[type="checkbox"]',(function(){if(!this.checked){var n=e(t).get(0);n&&n.checked&&"indeterminate"in n&&(n.indeterminate=!0)}}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSFancyBox={_baseConfig:{parentEl:"html",baseClass:"u-fancybox-theme",slideClass:"u-fancybox-slide",speed:1e3,slideSpeedCoefficient:1,infobar:!1,fullScreen:!0,thumbs:!0,closeBtn:!0,baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-content"><div class="fancybox-bg"></div><div class="fancybox-controls" style="position: relative; z-index: 99999;"><div class="fancybox-infobar"><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div></div><div class="fancybox-toolbar">{{BUTTONS}}</div></div><div class="fancybox-slider-wrap"><button data-fancybox-prev class="fancybox-arrow fancybox-arrow--left" title="Previous"></button><button data-fancybox-next class="fancybox-arrow fancybox-arrow--right" title="Next"></button><div class="fancybox-stage"></div></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',animationEffect:"fade"},pageCollection:e(),init:function(t,n){t&&(e(t).length&&(n=n&&e.isPlainObject(n)?e.extend(!0,{},this._baseConfig,n):this._baseConfig,this.initFancyBox(t,n)))},initFancyBox:function(t,n){var i=e(t);i.on("click",(function(){var t=e(this),n=t.data("speed"),i=t.data("fancybox"),o=Boolean(t.data("is-infinite")),r=t.data("slideshow-speed");e.fancybox.defaults.animationDuration=n,1==o&&(e.fancybox.defaults.loop=!0),i&&(e.fancybox.defaults.transitionEffect="slide",e.fancybox.defaults.slideShow.speed=r)})),i.fancybox(e.extend(!0,{},n,{beforeShow:function(t){e(t.$refs.container);var n=e(t.$refs.bg[0]),i=e(t.current.$slide),o=t.current.opts.$orig[0].dataset.animateIn,r=t.current.opts.$orig[0].dataset.animateOut,a=t.current.opts.$orig[0].dataset.speed,s=t.current.opts.$orig[0].dataset.overlayBg,l=t.current.opts.$orig[0].dataset.overlayBlurBg;if(o&&e("body").hasClass("u-first-slide-init")){var c=e(t.slides[t.prevPos].$slide);i.addClass("has-animation"),c.addClass("animated "+r),setTimeout((function(){i.addClass("animated "+o)}),a/2)}else if(o){c=e(t.slides[t.prevPos].$slide);i.addClass("has-animation"),i.addClass("animated "+o),e("body").addClass("u-first-slide-init"),i.on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",(function(){i.removeClass(o)}))}a?n.css("transition-duration",a+"ms"):n.css("transition-duration","1000ms"),s&&n.css("background-color",s),l&&e("body").addClass("u-blur-30")},beforeClose:function(t){e(t.$refs.container);var n=e(t.current.$slide),i=t.current.opts.$orig[0].dataset.animateIn,o=t.current.opts.$orig[0].dataset.animateOut,r=t.current.opts.$orig[0].dataset.overlayBlurBg;o&&(n.removeClass(i).addClass(o),e("body").removeClass("u-first-slide-init")),r&&e("body").removeClass("u-blur-30")}}))}}}(jQuery),function(e){"use strict";e.HSCore.helpers.HSFocusState={init:function(){var t=e('.js-focus-state input:not([type="checkbox"], [type="radio"]), .js-focus-state textarea, .js-focus-state select');t.length&&(t.on("focusin",(function(){e(this).closest(".js-focus-state").addClass("u-focus-state")})),t.on("focusout",(function(){e(this).closest(".js-focus-state").removeClass("u-focus-state")})))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSGMap={_baseConfig:{zoom:14,scrollwheel:!1,infoWindowTemplate:function(e,t,n,i,o){return'<img class="rounded-circle" src="'+e+'" alt="'+t+'"><div class="p-2"><strong class="d-block mb-1">'+n+'</strong><p class="mb-1"><i class="fa fa-map-marker mr-2"></i>'+i+'</p><h2 class="h6 mb-0">'+o+"</h2></div>"}},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initGMap(),this.pageCollection},initGMap:function(){var t=this,n=t.config,i=t.pageCollection;this.collection.each((function(t,o){var r,a=e(o),s=a.attr("id"),l=a.data("type"),c=a.data("lat"),u=a.data("lng"),d=a.data("zoom"),h=a.data("title"),p=JSON.parse(o.getAttribute("data-styles")),f=[],m=Boolean(a.data("polygon")),g=JSON.parse(o.getAttribute("data-polygon-cords")),v=JSON.parse(o.getAttribute("data-polygon-styles")),b=Boolean(a.data("polylines")),y=JSON.parse(o.getAttribute("data-polylines-cords")),w=JSON.parse(o.getAttribute("data-polylines-styles")),_=Boolean(a.data("routes")),C=JSON.parse(o.getAttribute("data-routes-cords")),x=JSON.parse(o.getAttribute("data-routes-styles")),k=Boolean(a.data("geolocation")),S=Boolean(a.data("geocoding")),E=a.data("cords-target"),T=Boolean(a.data("pin")),A=a.data("pin-icon"),O=Boolean(a.data("multiple-markers")),D=JSON.parse(o.getAttribute("data-markers-locations"));if("satellite"==l)(r=new google.maps.Map(document.getElementById(s),{zoom:d||n.zoom,scrollwheel:n.scrollwheel})).setCenter({lat:c,lng:u}),r.setMapTypeId(google.maps.MapTypeId.SATELLITE);else if("terrain"==l)(r=new google.maps.Map(document.getElementById(s),{zoom:d||n.zoom,scrollwheel:n.scrollwheel})).setCenter({lat:c,lng:u}),r.setMapTypeId(google.maps.MapTypeId.TERRAIN);else if("street-view"==l)(r=new google.maps.StreetViewPanorama(document.getElementById(s),{zoom:d||n.zoom,scrollwheel:n.scrollwheel})).setPosition({lat:c,lng:u});else if("static"==l)e(document).ready((function(){r=GMaps.staticMapURL({size:[2048,2048],lat:c,lng:u,zoom:d||n.zoom}),e("#"+s).css("background-image","url("+r+")")}));else if("custom"==l){var I,P=p.length;for(t=0;t<P;t++){var N=p[t][0],M=p[t][1],L=p[t][2],$=e.extend({},f[t]);""!=N&&($.featureType=N),""!=M&&($.elementType=M),$.stylers=L,f.push($)}if(r=new GMaps({div:"#"+s,lat:c,lng:u,zoom:d||n.zoom,scrollwheel:n.scrollwheel,styles:f}),T&&1!=O&&r.addMarker({lat:c,lng:u,title:h,icon:A}),T&&1==O)for(I=0;I<D.length;I++)r.addMarker({title:D[I][1],lat:D[I][2],lng:D[I][3],icon:D[I][0],infoWindow:{content:n.infoWindowTemplate(D[I][4],D[I][5],D[I][6],D[I][7],D[I][8]),maxWidth:150}})}else r=new GMaps({div:"#"+s,lat:c,lng:u,zoom:d||n.zoom,scrollwheel:n.scrollwheel}),T&&r.addMarker({lat:c,lng:u,title:h,icon:A});if(T&&"satellite"==l||"terrain"==l||"street-view"==l){var j=new google.maps.Marker({position:{lat:c,lng:u},map:r});if(A){var R=new google.maps.MarkerImage(A);j.setIcon(R)}h&&j.setOptions({title:h})}if(1==O&&"terrain"==l){var F,B,H=new google.maps.InfoWindow;for(B=0;B<D.length;B++)F=new google.maps.Marker({position:new google.maps.LatLng(D[B][1],D[B][2]),map:r}),google.maps.event.addListener(F,"click",function(e,t){return function(){H.setContent(D[t][0]),H.open(r,e)}}(F,B))}k||google.maps.event.addDomListener(window,"resize",(function(){setTimeout((function(){r.setCenter({lat:c,lng:u})}),100)})),m&&e(document).ready((function(){r.drawPolygon({paths:g,strokeColor:v.strokeColor,strokeOpacity:v.strokeOpacity,strokeWeight:v.strokeWeight,fillColor:v.fillColor,fillOpacity:v.fillOpacity})})),b&&e(document).ready((function(){r.drawPolyline({path:y,strokeColor:w.strokeColor,strokeOpacity:w.strokeOpacity,strokeWeight:w.strokeWeight})})),_&&e(document).ready((function(){r.drawRoute({origin:C[0],destination:C[1],travelMode:x.travelMode,strokeColor:x.strokeColor,strokeOpacity:x.strokeOpacity,strokeWeight:x.strokeWeight})})),k&&GMaps.geolocate({success:function(e){r.setCenter({lat:e.coords.latitude,lng:e.coords.longitude}),r.addMarker({lat:e.coords.latitude,lng:e.coords.longitude,title:h,icon:A}),google.maps.event.addDomListener(window,"resize",(function(){setTimeout((function(){r.setCenter({lat:e.coords.latitude,lng:e.coords.longitude})}),100)}))},error:function(e){alert("Geolocation failed: "+e.message)},not_supported:function(){alert("Your browser does not support geolocation")}}),S&&e(document).ready((function(){var t=e(E).closest("form");e(t).submit((function(t){t.preventDefault(),GMaps.geocode({address:e(E).val().trim(),callback:function(e,t){if("OK"==t){var n=e[0].geometry.location;r.setCenter(n.lat(),n.lng()),r.addMarker({lat:n.lat(),lng:n.lng()}),c=n.lat(),u=n.lng()}}})}))})),i=i.add(a)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSGoTo={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initGoTo(),this.pageCollection},initGoTo:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=e(i),r=o.data("target"),a=Boolean(o.data("is-referenced-to-page")),s=o.data("type"),l=o.data("show-effect"),c=o.data("hide-effect"),u=JSON.parse(i.getAttribute("data-position")),d=e(o.data("compensation")).outerHeight(),h=o.data("offset-top"),p=function(){return d?r?e(r).offset().top-d:0:r?e(r).offset().top:0};"static"===s?o.css({display:"inline-block"}):o.addClass("animated").css({display:"inline-block",position:s,opacity:0}),"fixed"!==s&&"absolute"!==s||o.css(u),o.on("click",(function(t){a||(t.preventDefault(),e("html, body").stop().animate({scrollTop:p()},800))})),o.data("offset-top")||o.hasClass("js-animation-was-fired")||"static"===s||o.offset().top<=e(window).height()&&(o.show(),setTimeout((function(){o.addClass("js-animation-was-fired "+l).css({opacity:""})}))),"static"!==s&&(e(window).on("scroll",(function(){if(o.data("offset-top"))e(window).scrollTop()>=h&&!o.hasClass("js-animation-was-fired")?(o.show(),setTimeout((function(){o.addClass("js-animation-was-fired "+l).css({opacity:""})}))):e(window).scrollTop()<=h&&o.hasClass("js-animation-was-fired")&&(o.removeClass("js-animation-was-fired "+l),setTimeout((function(){o.addClass(c).css({opacity:0})}),100),setTimeout((function(){o.removeClass(c).hide()}),400));else{var t=o.offset().top;o.hasClass("js-animation-was-fired")||e(window).scrollTop()>=t-e(window).height()&&(o.show(),setTimeout((function(){o.addClass("js-animation-was-fired "+l).css({opacity:""})})))}})),e(window).trigger("scroll")),t=t.add(o)}))}}}(jQuery),function(e){"use strict";function t(t,n,i){t&&t.length&&(this.element=t,this.config=n,this.observers=i&&e.isPlainObject(i)?i:{},this.viewport="xs",this.checkViewport())}function n(e){if(e&&e.length)return this.element=e,this.defaultState=!0,this.reinit=function(){this.destroy().init().check()},!0}function i(e){n.call(this,e)&&this.init()}function o(e){n.call(this,e)&&this.init()}function r(e){n.call(this,e)&&this.init()}function a(t,i){n.call(this,t)&&(this.config={fixPointSelf:!1},i&&e.isPlainObject(i)&&(this.config=e.extend(!0,{},this.config,i)),this.init())}function s(e){n.call(this,e)&&this.init()}function l(t,i){n.call(this,t)&&(this.config={fixPointSelf:!1},i&&e.isPlainObject(i)&&(this.config=e.extend(!0,{},this.config,i)),this.init())}function c(t,i){n.call(this,t)&&(this.config={animated:!0},i&&e.isPlainObject(i)&&(this.config=e.extend(!0,{},this.config,i)),this.init())}function u(t,i){n.call(this,t)&&(this.config=i&&e.isPlainObject(i)?e.extend(!0,{},this.config,i):{},this.init())}function d(e){n.call(this,e)}e.HSCore.components.HSHeader={_baseConfig:{headerFixMoment:0,headerFixEffect:"slide",breakpointsMap:{md:768,sm:576,lg:992,xl:1200}},init:function(n){if(n&&1===n.length&&!n.data("HSHeader")){var i=this;return this.element=n,this.config=e.extend(!0,{},this._baseConfig,n.data()),this.observers=this._detectObservers(),this.fixMediaDifference(this.element),this.element.data("HSHeader",new t(this.element,this.config,this.observers)),e(window).on("scroll.uHeader",(function(){e(window).scrollTop()<e(n).data("header-fix-moment")-100&&!0===e(n).data("effect-compensation")?e(n).css({top:-e(window).scrollTop()}).addClass(e(n).data("effect-compensation-start-class")).removeClass(e(n).data("effect-compensation-end-class")):!0===e(n).data("effect-compensation")&&e(n).css({top:0}).addClass(e(n).data("effect-compensation-end-class")).removeClass(e(n).data("effect-compensation-start-class")),e(window).scrollTop()>5&&!e(n).hasClass(".u-scrolled")?e(n).addClass("u-scrolled"):e(n).removeClass("u-scrolled"),n.data("HSHeader").notify()})).on("resize.uHeader",(function(){i.resizeTimeOutId&&clearTimeout(i.resizeTimeOutId),i.resizeTimeOutId=setTimeout((function(){n.data("HSHeader").checkViewport().update()}),100)})).trigger("scroll.uHeader"),this.element}},_detectObservers:function(){if(this.element&&this.element.length){var e={xs:[],sm:[],md:[],lg:[],xl:[]};return this.element.hasClass("u-header--has-hidden-element")&&e.xs.push(new c(this.element)),this.element.hasClass("u-header--sticky-top")&&(this.element.hasClass("u-header--show-hide")?e.xs.push(new o(this.element)):this.element.hasClass("u-header--toggle-section")&&e.xs.push(new s(this.element)),this.element.hasClass("u-header--change-logo")&&e.xs.push(new a(this.element)),this.element.hasClass("u-header--change-appearance")&&e.xs.push(new l(this.element))),this.element.hasClass("u-header--floating")&&e.xs.push(new u(this.element)),this.element.hasClass("u-header--invulnerable")&&e.xs.push(new d(this.element)),this.element.hasClass("u-header--sticky-bottom")&&(this.element.hasClass("u-header--change-appearance")&&e.xs.push(new l(this.element)),this.element.hasClass("u-header--change-logo")&&e.xs.push(new a(this.element))),(this.element.hasClass("u-header--abs-top")||this.element.hasClass("u-header--static"))&&(this.element.hasClass("u-header--show-hide")&&e.xs.push(new r(this.element)),this.element.hasClass("u-header--change-logo")&&e.xs.push(new a(this.element)),this.element.hasClass("u-header--change-appearance")&&e.xs.push(new l(this.element))),(this.element.hasClass("u-header--abs-bottom")||this.element.hasClass("u-header--abs-top-2nd-screen"))&&(e.xs.push(new i(this.element)),this.element.hasClass("u-header--change-appearance")&&e.xs.push(new l(this.element,{fixPointSelf:!0})),this.element.hasClass("u-header--change-logo")&&e.xs.push(new a(this.element,{fixPointSelf:!0}))),this.element.hasClass("u-header--has-hidden-element-sm")&&e.sm.push(new c(this.element)),this.element.hasClass("u-header--sticky-top-sm")&&(this.element.hasClass("u-header--show-hide-sm")?e.sm.push(new o(this.element)):this.element.hasClass("u-header--toggle-section-sm")&&e.sm.push(new s(this.element)),this.element.hasClass("u-header--change-logo-sm")&&e.sm.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-sm")&&e.sm.push(new l(this.element))),this.element.hasClass("u-header--floating-sm")&&e.sm.push(new u(this.element)),this.element.hasClass("u-header--invulnerable-sm")&&e.sm.push(new d(this.element)),this.element.hasClass("u-header--sticky-bottom-sm")&&(this.element.hasClass("u-header--change-appearance-sm")&&e.sm.push(new l(this.element)),this.element.hasClass("u-header--change-logo-sm")&&e.sm.push(new a(this.element))),(this.element.hasClass("u-header--abs-top-sm")||this.element.hasClass("u-header--static-sm"))&&(this.element.hasClass("u-header--show-hide-sm")&&e.sm.push(new r(this.element)),this.element.hasClass("u-header--change-logo-sm")&&e.sm.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-sm")&&e.sm.push(new l(this.element))),(this.element.hasClass("u-header--abs-bottom-sm")||this.element.hasClass("u-header--abs-top-2nd-screen-sm"))&&(e.sm.push(new i(this.element)),this.element.hasClass("u-header--change-appearance-sm")&&e.sm.push(new l(this.element,{fixPointSelf:!0})),this.element.hasClass("u-header--change-logo-sm")&&e.sm.push(new a(this.element,{fixPointSelf:!0}))),this.element.hasClass("u-header--has-hidden-element-md")&&e.md.push(new c(this.element)),this.element.hasClass("u-header--sticky-top-md")&&(console.log(1),this.element.hasClass("u-header--show-hide-md")?e.md.push(new o(this.element)):this.element.hasClass("u-header--toggle-section-md")&&e.md.push(new s(this.element)),this.element.hasClass("u-header--change-logo-md")&&e.md.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-md")&&e.md.push(new l(this.element))),this.element.hasClass("u-header--floating-md")&&e.md.push(new u(this.element)),this.element.hasClass("u-header--invulnerable-md")&&e.md.push(new d(this.element)),this.element.hasClass("u-header--sticky-bottom-md")&&(this.element.hasClass("u-header--change-appearance-md")&&e.md.push(new l(this.element)),this.element.hasClass("u-header--change-logo-md")&&e.md.push(new a(this.element))),(this.element.hasClass("u-header--abs-top-md")||this.element.hasClass("u-header--static-md"))&&(this.element.hasClass("u-header--show-hide-md")&&e.md.push(new r(this.element)),this.element.hasClass("u-header--change-logo-md")&&e.md.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-md")&&e.md.push(new l(this.element))),(this.element.hasClass("u-header--abs-bottom-md")||this.element.hasClass("u-header--abs-top-2nd-screen-md"))&&(e.md.push(new i(this.element)),this.element.hasClass("u-header--change-appearance-md")&&e.md.push(new l(this.element,{fixPointSelf:!0})),this.element.hasClass("u-header--change-logo-md")&&e.md.push(new a(this.element,{fixPointSelf:!0}))),this.element.hasClass("u-header--has-hidden-element-lg")&&e.lg.push(new c(this.element)),this.element.hasClass("u-header--sticky-top-lg")&&(this.element.hasClass("u-header--show-hide-lg")?e.lg.push(new o(this.element)):this.element.hasClass("u-header--toggle-section-lg")&&e.lg.push(new s(this.element)),this.element.hasClass("u-header--change-logo-lg")&&e.lg.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-lg")&&e.lg.push(new l(this.element))),this.element.hasClass("u-header--floating-lg")&&e.lg.push(new u(this.element)),this.element.hasClass("u-header--invulnerable-lg")&&e.lg.push(new d(this.element)),this.element.hasClass("u-header--sticky-bottom-lg")&&(this.element.hasClass("u-header--change-appearance-lg")&&e.lg.push(new l(this.element)),this.element.hasClass("u-header--change-logo-lg")&&e.lg.push(new a(this.element))),(this.element.hasClass("u-header--abs-top-lg")||this.element.hasClass("u-header--static-lg"))&&(this.element.hasClass("u-header--show-hide-lg")&&e.lg.push(new r(this.element)),this.element.hasClass("u-header--change-logo-lg")&&e.lg.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-lg")&&e.lg.push(new l(this.element))),(this.element.hasClass("u-header--abs-bottom-lg")||this.element.hasClass("u-header--abs-top-2nd-screen-lg"))&&(e.lg.push(new i(this.element)),this.element.hasClass("u-header--change-appearance-lg")&&e.lg.push(new l(this.element,{fixPointSelf:!0})),this.element.hasClass("u-header--change-logo-lg")&&e.lg.push(new a(this.element,{fixPointSelf:!0}))),
this.element.hasClass("u-header--has-hidden-element-xl")&&e.xl.push(new c(this.element)),this.element.hasClass("u-header--sticky-top-xl")&&(this.element.hasClass("u-header--show-hide-xl")?e.xl.push(new o(this.element)):this.element.hasClass("u-header--toggle-section-xl")&&e.xl.push(new s(this.element)),this.element.hasClass("u-header--change-logo-xl")&&e.xl.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-xl")&&e.xl.push(new l(this.element))),this.element.hasClass("u-header--floating-xl")&&e.xl.push(new u(this.element)),this.element.hasClass("u-header--invulnerable-xl")&&e.xl.push(new d(this.element)),this.element.hasClass("u-header--sticky-bottom-xl")&&(this.element.hasClass("u-header--change-appearance-xl")&&e.xl.push(new l(this.element)),this.element.hasClass("u-header--change-logo-xl")&&e.xl.push(new a(this.element))),(this.element.hasClass("u-header--abs-top-xl")||this.element.hasClass("u-header--static-xl"))&&(this.element.hasClass("u-header--show-hide-xl")&&e.xl.push(new r(this.element)),this.element.hasClass("u-header--change-logo-xl")&&e.xl.push(new a(this.element)),this.element.hasClass("u-header--change-appearance-xl")&&e.xl.push(new l(this.element))),(this.element.hasClass("u-header--abs-bottom-xl")||this.element.hasClass("u-header--abs-top-2nd-screen-xl"))&&(e.xl.push(new i(this.element)),this.element.hasClass("u-header--change-appearance-xl")&&e.xl.push(new l(this.element,{fixPointSelf:!0})),this.element.hasClass("u-header--change-logo-xl")&&e.xl.push(new a(this.element,{fixPointSelf:!0}))),e}},fixMediaDifference:function(e){var t;e&&e.length&&e.filter('[class*="u-header--side"]').length&&(e.hasClass("u-header--side-left-xl")||e.hasClass("u-header--side-right-xl")?(t=e.find(".navbar-expand-xl")).length&&t.removeClass("navbar-expand-xl").addClass("navbar-expand-lg"):e.hasClass("u-header--side-left-lg")||e.hasClass("u-header--side-right-lg")?(t=e.find(".navbar-expand-lg")).length&&t.removeClass("navbar-expand-lg").addClass("navbar-expand-md"):e.hasClass("u-header--side-left-md")||e.hasClass("u-header--side-right-md")?(t=e.find(".navbar-expand-md")).length&&t.removeClass("navbar-expand-md").addClass("navbar-expand-sm"):(e.hasClass("u-header--side-left-sm")||e.hasClass("u-header--side-right-sm"))&&(t=e.find(".navbar-expand-sm")).length&&t.removeClass("navbar-expand-sm").addClass("navbar-expand"))}},t.prototype.checkViewport=function(){var t=e(window);return t.width()>this.config.breakpointsMap.sm&&this.observers.sm.length?(this.prevViewport=this.viewport,this.viewport="sm",this.element[0].dataset.headerFixMoment&&t.scrollTop()>this.element[0].dataset.headerFixMoment&&(void 0===this.config.breakpointsMap.sm?this.element.removeClass("js-header-fix-moment"):this.element.addClass("js-header-fix-moment")),this):t.width()>this.config.breakpointsMap.md&&this.observers.md.length?(this.prevViewport=this.viewport,this.viewport="md",this.element[0].dataset.headerFixMoment&&t.scrollTop()>this.element[0].dataset.headerFixMoment&&(void 0===this.config.breakpointsMap.md?this.element.removeClass("js-header-fix-moment"):this.element.addClass("js-header-fix-moment")),this):t.width()>this.config.breakpointsMap.lg&&this.observers.lg.length?(this.prevViewport=this.viewport,this.viewport="lg",this.element[0].dataset.headerFixMoment&&t.scrollTop()>this.element[0].dataset.headerFixMoment&&(void 0===this.config.breakpointsMap.lg?this.element.removeClass("js-header-fix-moment"):this.element.addClass("js-header-fix-moment")),this):t.width()>this.config.breakpointsMap.xl&&this.observers.xl.length?(this.prevViewport=this.viewport,this.viewport="xl",this.element[0].dataset.headerFixMoment&&t.scrollTop()>this.element[0].dataset.headerFixMoment&&(void 0===this.config.breakpointsMap.xl?this.element.removeClass("js-header-fix-moment"):this.element.addClass("js-header-fix-moment")),this):(this.prevViewport&&(this.prevViewport=this.viewport),this.element[0].dataset.headerFixMoment&&t.scrollTop()>this.element[0].dataset.headerFixMoment&&(void 0===this.config.breakpointsMap.xs?this.element.removeClass("js-header-fix-moment"):this.element.addClass("js-header-fix-moment")),this.viewport="xs",this)},t.prototype.notify=function(){return this.prevViewport&&(this.observers[this.prevViewport].forEach((function(e){e.destroy()})),this.prevViewport=null),this.observers[this.viewport].forEach((function(e){e.check()})),this},t.prototype.update=function(){for(var e in this.observers)this.observers[e].forEach((function(e){e.destroy()}));return this.prevViewport=null,this.observers[this.viewport].forEach((function(e){e.reinit()})),this},i.prototype.init=function(){return this.defaultState=!0,this.offset=this.element.offset().top,this},i.prototype.destroy=function(){return this.toDefaultState(),this},i.prototype.check=function(){var t=e(window).scrollTop();return t>this.offset&&this.defaultState?this.changeState():t<this.offset&&!this.defaultState&&this.toDefaultState(),this},i.prototype.changeState=function(){return this.element.addClass("js-header-fix-moment"),this.defaultState=!this.defaultState,this},i.prototype.toDefaultState=function(){return this.element.removeClass("js-header-fix-moment"),this.defaultState=!this.defaultState,this},o.prototype.init=function(){return this.direction="down",this.delta=0,this.defaultState=!0,this.offset=isFinite(this.element.data("header-fix-moment"))&&0!==this.element.data("header-fix-moment")?this.element.data("header-fix-moment"):5,this.effect=this.element.data("header-fix-effect")?this.element.data("header-fix-effect"):"show-hide",this},o.prototype.destroy=function(){return this.toDefaultState(),this},o.prototype.checkDirection=function(){return e(window).scrollTop()>this.delta?this.direction="down":this.direction="up",this.delta=e(window).scrollTop(),this},o.prototype.toDefaultState=function(){switch(this.effect){case"slide":this.element.removeClass("u-header--moved-up");break;case"fade":this.element.removeClass("u-header--faded");break;default:this.element.removeClass("u-header--invisible")}return this.defaultState=!this.defaultState,this},o.prototype.changeState=function(){switch(this.effect){case"slide":this.element.addClass("u-header--moved-up");break;case"fade":this.element.addClass("u-header--faded");break;default:this.element.addClass("u-header--invisible")}return this.defaultState=!this.defaultState,this},o.prototype.check=function(){var t=e(window).scrollTop();return this.checkDirection(),t>=this.offset&&this.defaultState&&"down"===this.direction?this.changeState():this.defaultState||"up"!==this.direction||this.toDefaultState(),this},r.prototype.init=function(){return!this.defaultState&&e(window).scrollTop()>this.offset||(this.defaultState=!0,this.transitionDuration=1e3*parseFloat(getComputedStyle(this.element.get(0))["transition-duration"],10),this.offset=isFinite(this.element.data("header-fix-moment"))&&this.element.data("header-fix-moment")>this.element.outerHeight()?this.element.data("header-fix-moment"):this.element.outerHeight()+100,this.effect=this.element.data("header-fix-effect")?this.element.data("header-fix-effect"):"show-hide"),this},r.prototype.destroy=function(){return!this.defaultState&&e(window).scrollTop()>this.offset||(this.element.removeClass("u-header--untransitioned"),this._removeCap()),this},r.prototype._insertCap=function(){switch(this.element.addClass("js-header-fix-moment u-header--untransitioned"),this.element.hasClass("u-header--static")&&e("html").css("padding-top",this.element.outerHeight()),this.effect){case"fade":this.element.addClass("u-header--faded");break;case"slide":this.element.addClass("u-header--moved-up");break;default:this.element.addClass("u-header--invisible")}this.capInserted=!0},r.prototype._removeCap=function(){var t=this;this.element.removeClass("js-header-fix-moment"),this.element.hasClass("u-header--static")&&e("html").css("padding-top",0),this.removeCapTimeOutId&&clearTimeout(this.removeCapTimeOutId),this.removeCapTimeOutId=setTimeout((function(){t.element.removeClass("u-header--moved-up u-header--faded u-header--invisible")}),10),this.capInserted=!1},r.prototype.check=function(){var t=e(window);t.scrollTop()>this.element.outerHeight()&&!this.capInserted?this._insertCap():t.scrollTop()<=this.element.outerHeight()&&this.capInserted&&this._removeCap(),t.scrollTop()>this.offset&&this.defaultState?this.changeState():t.scrollTop()<=this.offset&&!this.defaultState&&this.toDefaultState()},r.prototype.changeState=function(){switch(this.element.removeClass("u-header--untransitioned"),this.animationTimeoutId&&clearTimeout(this.animationTimeoutId),this.effect){case"fade":this.element.removeClass("u-header--faded");break;case"slide":this.element.removeClass("u-header--moved-up");break;default:this.element.removeClass("u-header--invisible")}this.defaultState=!this.defaultState},r.prototype.toDefaultState=function(){var e=this;switch(this.animationTimeoutId=setTimeout((function(){e.element.addClass("u-header--untransitioned")}),this.transitionDuration),this.effect){case"fade":this.element.addClass("u-header--faded");break;case"slide":this.element.addClass("u-header--moved-up");break;default:this.element.addClass("u-header--invisible")}this.defaultState=!this.defaultState},a.prototype.init=function(){return this.element.hasClass("js-header-fix-moment")&&(this.hasFixedClass=!0,this.element.removeClass("js-header-fix-moment")),this.config.fixPointSelf?this.offset=this.element.offset().top:this.offset=isFinite(this.element.data("header-fix-moment"))?this.element.data("header-fix-moment"):0,this.hasFixedClass&&(this.hasFixedClass=!1,this.element.addClass("js-header-fix-moment")),this.imgs=this.element.find(".u-header__logo-img"),this.defaultState=!0,this.mainLogo=this.imgs.filter(".u-header__logo-img--main"),this.additionalLogo=this.imgs.not(".u-header__logo-img--main"),this.imgs.length,this},a.prototype.destroy=function(){return this.toDefaultState(),this},a.prototype.check=function(){var t=e(window);return this.imgs.length?(t.scrollTop()>this.offset&&this.defaultState?this.changeState():t.scrollTop()<=this.offset&&!this.defaultState&&this.toDefaultState(),this):this},a.prototype.changeState=function(){return this.mainLogo.length&&this.mainLogo.removeClass("u-header__logo-img--main"),this.additionalLogo.length&&this.additionalLogo.addClass("u-header__logo-img--main"),this.defaultState=!this.defaultState,this},a.prototype.toDefaultState=function(){return this.mainLogo.length&&this.mainLogo.addClass("u-header__logo-img--main"),this.additionalLogo.length&&this.additionalLogo.removeClass("u-header__logo-img--main"),this.defaultState=!this.defaultState,this},s.prototype.init=function(){return this.offset=isFinite(this.element.data("header-fix-moment"))?this.element.data("header-fix-moment"):5,this.section=this.element.find(".u-header__section--hidden"),this.defaultState=!0,this.sectionHeight=this.section.length?this.section.outerHeight():0,this},s.prototype.destroy=function(){return this.section.length&&this.element.css({"margin-top":0}),this},s.prototype.check=function(){if(!this.section.length)return this;var t=e(window).scrollTop();return t>this.offset&&this.defaultState?this.changeState():t<=this.offset&&!this.defaultState&&this.toDefaultState(),this},s.prototype.changeState=function(){var e=this;return this.element.stop().animate({"margin-top":-1*e.sectionHeight-1}),this.defaultState=!this.defaultState,this},s.prototype.toDefaultState=function(){return this.element.stop().animate({"margin-top":0}),this.defaultState=!this.defaultState,this},l.prototype.init=function(){return this.element.hasClass("js-header-fix-moment")&&(this.hasFixedClass=!0,this.element.removeClass("js-header-fix-moment")),this.config.fixPointSelf?this.offset=this.element.offset().top:this.offset=isFinite(this.element.data("header-fix-moment"))?this.element.data("header-fix-moment"):5,this.hasFixedClass&&(this.hasFixedClass=!1,this.element.addClass("js-header-fix-moment")),this.sections=this.element.find("[data-header-fix-moment-classes]"),this.defaultState=!0,this},l.prototype.destroy=function(){return this.toDefaultState(),this},l.prototype.check=function(){if(!this.sections.length)return this;var t=e(window).scrollTop();return t>this.offset&&this.defaultState?this.changeState():t<=this.offset&&!this.defaultState&&this.toDefaultState(),this},l.prototype.changeState=function(){return this.sections.each((function(t,n){var i=e(n),o=i.data("header-fix-moment-classes"),r=i.data("header-fix-moment-exclude");(o||r)&&(i.addClass(o+" js-header-change-moment"),i.removeClass(r))})),this.defaultState=!this.defaultState,this},l.prototype.toDefaultState=function(){return this.sections.each((function(t,n){var i=e(n),o=i.data("header-fix-moment-classes"),r=i.data("header-fix-moment-exclude");(o||r)&&(i.removeClass(o+" js-header-change-moment"),i.addClass(r))})),this.defaultState=!this.defaultState,this},c.prototype.init=function(){return this.offset=isFinite(this.element.data("header-fix-moment"))?this.element.data("header-fix-moment"):5,this.elements=this.element.find(".u-header--hidden-element"),this.defaultState=!0,this},c.prototype.destroy=function(){return this.toDefaultState(),this},c.prototype.check=function(){if(!this.elements.length)return this;var t=e(window).scrollTop();return t>this.offset&&this.defaultState?this.changeState():t<=this.offset&&!this.defaultState&&this.toDefaultState(),this},c.prototype.changeState=function(){return this.config.animated?this.elements.stop().slideUp():this.elements.hide(),this.defaultState=!this.defaultState,this},c.prototype.toDefaultState=function(){return this.config.animated?this.elements.stop().slideDown():this.elements.show(),this.defaultState=!this.defaultState,this},u.prototype.init=function(){return this.offset=this.element.offset().top,this.sections=this.element.find(".u-header__section"),this.defaultState=!0,this},u.prototype.destroy=function(){return this.toDefaultState(),this},u.prototype.check=function(){var t=e(window).scrollTop();return t>this.offset&&this.defaultState?this.changeState():t<=this.offset&&!this.defaultState&&this.toDefaultState(),this},u.prototype.changeState=function(){return this.element.addClass("js-header-fix-moment").addClass(this.element.data("header-fix-moment-classes")).removeClass(this.element.data("header-fix-moment-exclude")),this.sections.length&&this.sections.each((function(t,n){var i=e(n);i.addClass(i.data("header-fix-moment-classes")).removeClass(i.data("header-fix-moment-exclude"))})),this.defaultState=!this.defaultState,this},u.prototype.toDefaultState=function(){return this.element.removeClass("js-header-fix-moment").removeClass(this.element.data("header-fix-moment-classes")).addClass(this.element.data("header-fix-moment-exclude")),this.sections.length&&this.sections.each((function(t,n){var i=e(n);i.removeClass(i.data("header-fix-moment-classes")).addClass(i.data("header-fix-moment-exclude"))})),this.defaultState=!this.defaultState,this},d.prototype.check=function(){return this},d.prototype.init=function(){return this},d.prototype.destroy=function(){return this},d.prototype.changeState=function(){return this},d.prototype.toDefaultState=function(){return this}}(jQuery),function(e){"use strict";e.HSCore.helpers.HSHamburgers={_baseConfig:{afterOpen:function(){},afterClose:function(){}},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initHamburgers(),this.pageCollection},initHamburgers:function(){var t=this,n=t.config,i=t.pageCollection;t&&e(t).length&&this.collection.each((function(t,o){var r,a=e(o);a.closest("button").length?a.closest("button").get(0).addEventListener("click",(function(t){var i=e(this).find(o);r&&clearTimeout(r),r=setTimeout((function(){i.toggleClass("is-active"),i.hasClass("is-active")?n.afterOpen():n.afterClose()}),10),t.preventDefault()}),!1):a.get(0).addEventListener("click",(function(t){var n=e(this);r&&clearTimeout(r),r=setTimeout((function(){n.toggleClass("is-active")}),10),t.preventDefault()}),!1),e(document).on("keyup.HSHeaderSide",(function(e){e.keyCode&&27===e.keyCode&&n.afterClose()})),i=i.add(a)}))}}}(jQuery),function(e){"use strict";function t(t,n,i){var o=this;this.element=t,this.config=n,this.effect=i,this.overlay=e("<div></div>",{class:o.config.overlayClass}),Object.defineProperty(this,"isShown",{get:function(){return o.effect.isShown()}}),Object.defineProperty(this,"sections",{get:function(){return o.element.find(o.config.sectionsContainerSelector)}}),this.element.append(this.overlay),this.effect.init(this.element,this.overlay,this.config.afterOpen,this.config.afterClose),this._bindEvents(),e.HSCore.components.HSScrollBar&&this.sections.length&&e.HSCore.components.HSScrollBar.init(this.sections)}function n(){this._isShown=!1}e.HSCore.components.HSHeaderFullscreen={_baseConfig:{afterOpen:function(){},afterClose:function(){},overlayClass:"u-fullscreen__overlay",sectionsContainerSelector:".u-fullscreen__content"},_pageCollection:e(),init:function(i,o){var r=this;return i&&(i=e(i)).length?(o=o&&e.isPlainObject(o)?o:{},this._bindGlobalEvents(),i.each((function(){var i=e(this),a=e.extend(!0,{},r._baseConfig,o,i.data());i.data("HSHeaderFullscreen")||(i.data("HSHeaderFullscreen",new t(i,a,new n)),r._pageCollection=r._pageCollection.add(i))}))):e()},_bindGlobalEvents:function(){var t=this;e(window).on("resize.HSHeaderFullscreen",(function(){t.resizeTimeOutId&&clearTimeout(t.resizeTimeOutId),t.resizeTimeOutId=setTimeout((function(){t._pageCollection.each((function(t,n){var i=e(n).data("HSHeaderFullscreen");i&&i.update()}))}),50)})),e(document).on("keyup.HSHeaderFullscreen",(function(n){n.keyCode&&27==n.keyCode&&t._pageCollection.each((function(t,n){var i=e(n).data("HSHeaderFullscreen"),o=i.invoker;i&&(o.length&&o.find(".is-active").length&&o.find(".is-active").removeClass("is-active"),i.hide())}))}))}},t.prototype._bindEvents=function(){var t=this;return this.invoker=e('[data-target="#'+this.element.attr("id")+'"]'),this.invoker.length&&this.invoker.off("click.HSHeaderFullscreen").on("click.HSHeaderFullscreen",(function(e){t[t.isShown?"hide":"show"](),e.preventDefault()})),this},t.prototype.update=function(){return!!this.effect&&(this.effect.update(),this)},t.prototype.show=function(){return!!this.effect&&(this.effect.show(),this)},t.prototype.hide=function(){return!!this.effect&&(this.effect.hide(),this)},n.prototype.init=function(e,t,n,i){var o=this;return this.element=e,this.overlay=t,this.afterOpen=n,this.afterClose=i,this.overlay.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(e){o.isShown()&&"transform"==e.originalEvent.propertyName?o.afterOpen.call(o.element,o.overlay):o.isShown()||"transform"!=e.originalEvent.propertyName||o.afterClose.call(o.element,o.overlay),e.stopPropagation(),e.preventDefault()})),this.update(),this.overlay.addClass(this.element.data("overlay-classes")),this},n.prototype.destroy=function(){return this.overlay.css({width:"auto",height:"auto"}),this.element.removeClass("u-fullscreen--showed"),this},n.prototype.update=function(){var t=e(window),n=t.width(),i=t.height();return this.overlay.css({width:n>i?1.5*n:1.5*i,height:n>i?1.5*n:1.5*i}),this},n.prototype.show=function(){return this.element.addClass("u-fullscreen--showed"),this._isShown=!0,this},n.prototype.hide=function(){return this.element.removeClass("u-fullscreen--showed"),this._isShown=!1,this},n.prototype.isShown=function(){return this._isShown}}(jQuery),function(e){"use strict";e.HSCore.components.HSInstagram={_baseConfig:{resolution:"standard_resolution",get:"user",limit:"12",template:'<div class="col-md-3"><a href="{{link}}" target="_blank"><img class="img-fluid" src="{{image}}" /></a></div>'},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.instaInit(),this.pageCollection},instaInit:function(){var t,n,i;n=(t=this).config,i=t.pageCollection,this.collection.each((function(t,o){var r=e(o),a=r.attr("id"),s=r.data("user-id"),l=r.data("client-id"),c=r.data("token"),u=r.data("get"),d=r.data("limit"),h=r.data("template");new Instafeed({resolution:n.resolution,get:null!=u?u:n.get,limit:null!=d?d:n.limit,template:null!=h?h:n.template,userId:s,clientId:l,accessToken:c,target:a}).run(),i=i.add(r)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSMalihuScrollBar={_baseConfig:{scrollInertia:150,theme:"minimal-dark"},_pageCollection:e(),init:function(t,n){if(t&&t.length){var i=this;return n=n&&e.isPlainObject(n)?e.extend(!0,{},n,this._baseConfig):this._baseConfig,t.each((function(t,o){var r,a,s=e(o),l=e.extend(!0,{},n,s.data());s.mCustomScrollbar(l),r=s.find(".mCSB_scrollTools"),a=s.find(".mCSB_dragger_bar"),r.length&&s.data("scroll-classes")&&r.addClass(s.data("scroll-classes")),a.length&&s.data("scroll-thumb-classes")&&a.addClass(s.data("scroll-thumb-classes")),i._pageCollection=i._pageCollection.add(s)}))}},destroy:function(t){if(!t&&!t.length)return e();var n=this;return t.each((function(t,i){var o=e(i);o.mCustomScrollbar("destroy"),n._pageCollection=n._pageCollection.not(o)}))}}}(jQuery),function(e){"use strict";function t(n,i){var o=this;this.$element=e(n),this.options=e.extend(!0,{},t.defaults,i),this._items=e(),Object.defineProperties(this,{itemsSelector:{get:function(){return o.options.classMap.hasSubMenu+","+o.options.classMap.hasMegaMenu}},_tempChain:{value:null,writable:!0},state:{value:null,writable:!0}}),this.initialize()}function n(e,t,n,i){var o=this;this.$element=e,this.menu=t,this.options=n,this.$container=i,Object.defineProperties(this,{itemClass:{get:function(){return"mega-menu"===o.options.type?o.options.classMap.hasMegaMenu:o.options.classMap.hasSubMenu}},activeItemClass:{get:function(){return"mega-menu"===o.options.type?o.options.classMap.hasMegaMenuActive:o.options.classMap.hasSubMenuActive}},menuClass:{get:function(){return"mega-menu"===o.options.type?o.options.classMap.megaMenu:o.options.classMap.subMenu}},isOpened:{get:function(){return this.$element.hasClass(this.activeItemClass.slice(1))}}}),this.menu.addClass("animated").on("click.HSMegaMenu",(function(){o._updateMenuBounds()})),this.$element.data("max-width")&&this.menu.css("max-width",this.$element.data("max-width")),this.$element.data("position")&&this.menu.addClass("hs-position-"+this.$element.data("position")),this.options.animationOut&&this.menu.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(e){o.menu.hasClass(o.options.animationOut)&&(o.$element.removeClass(o.activeItemClass.slice(1)),o.options.afterClose.call(o,o.$element,o.menu)),o.menu.hasClass(o.options.animationIn)&&o.options.afterOpen.call(o,o.$element,o.menu),e.stopPropagation(),e.preventDefault()}))}function i(){return"ontouchstart"in window}t.defaults={event:"hover",direction:"horizontal",breakpoint:991,animationIn:!1,animationOut:!1,rtl:!1,hideTimeOut:300,sideBarRatio:1/4,pageContainer:e("body"),classMap:{initialized:".hs-menu-initialized",mobileState:".hs-mobile-state",subMenu:".hs-sub-menu",hasSubMenu:".hs-has-sub-menu",hasSubMenuActive:".hs-sub-menu-opened",megaMenu:".hs-mega-menu",hasMegaMenu:".hs-has-mega-menu",hasMegaMenuActive:".hs-mega-menu-opened"},mobileSpeed:400,mobileEasing:"linear",beforeOpen:function(){},beforeClose:function(){},afterOpen:function(){},afterClose:function(){}},t.prototype.initialize=function(){var t=this,n=e(window);return this.options.rtl&&this.$element.addClass("hs-rtl"),this.$element.addClass(this.options.classMap.initialized.slice(1)).addClass("hs-menu-"+this.options.direction),n.on("resize.HSMegaMenu",(function(){t.resizeTimeOutId&&clearTimeout(t.resizeTimeOutId),t.resizeTimeOutId=setTimeout((function(){window.innerWidth<=t.options.breakpoint&&"desktop"==t.state?t.initMobileBehavior():window.innerWidth>t.options.breakpoint&&"mobile"==t.state&&t.initDesktopBehavior(),t.refresh()}),50)})),e(document).on("click.HSMegaMenu",(function(n){var i=e(n.target).parents(t.itemsSelector);t.closeAll(i.add(e(n.target)))})).on("keyup.HSMegaMenu",(function(e){e.keyCode&&27==e.keyCode&&t.closeAll()})),window.innerWidth<=this.options.breakpoint?this.initMobileBehavior():window.innerWidth>this.options.breakpoint&&this.initDesktopBehavior(),this.smartPositions(),this},t.prototype.smartPositions=function(){var t=this;this.$element.find(this.options.classMap.subMenu).each((function(i,o){n.smartPosition(e(o),t.options)}))},t.prototype.bindEvents=function(){var t=this;"hover"!==this.options.event||i()?(this.$element.on("click.HSMegaMenu",i()?this.options.classMap.hasMegaMenu+" > a, "+this.options.classMap.hasSubMenu+" > a":this.options.classMap.hasMegaMenu+':not([data-event="hover"]) > a,'+this.options.classMap.hasSubMenu+':not([data-event="hover"]) > a',(function(n){var i,o=e(this).parent();o.parents(t.itemsSelector);o.data("HSMenuItem")||t.initMenuItem(o,t.getType(o)),t.closeAll(o.add(o.parents(t.itemsSelector))),(i=o.addClass("hs-event-prevented").data("HSMenuItem")).isOpened?i.hide():i.show(),n.preventDefault(),n.stopPropagation()})),i()||this.$element.on("mouseenter.HSMegaMenu",this.options.classMap.hasMegaMenu+'[data-event="hover"],'+this.options.classMap.hasSubMenu+'[data-event="hover"]',(function(n){var i=e(this),o=i.parents(t.itemsSelector);i.data("HSMenuItem")||t.initMenuItem(i,t.getType(i)),t.closeAll(i.add(o)),o.add(i).each((function(t,n){var i=e(n).data("HSMenuItem");i.hideTimeOutId&&clearTimeout(i.hideTimeOutId),i.show()})),n.preventDefault(),n.stopPropagation()})).on("mouseleave.HSMegaMenu",this.options.classMap.hasMegaMenu+'[data-event="hover"],'+this.options.classMap.hasSubMenu+'[data-event="hover"]',(function(n){e(this).data("HSMenuItem").hideTimeOutId=setTimeout((function(){t.closeAll(e(n.relatedTarget).parents(t.itemsSelector))}),t.options.hideTimeOut),n.preventDefault(),n.stopPropagation()}))):this.$element.on("mouseenter.HSMegaMenu",this.options.classMap.hasMegaMenu+':not([data-event="click"]),'+this.options.classMap.hasSubMenu+':not([data-event="click"])',(function(n){var i=e(this),o=i.parents(t.itemsSelector);i.data("HSMenuItem")||t.initMenuItem(i,t.getType(i)),o=o.add(i),t.closeAll(o),o.each((function(t,n){var i=e(n).data("HSMenuItem");i.hideTimeOutId&&clearTimeout(i.hideTimeOutId),i.show()})),t._items=t._items.not(o),t._tempChain=o,n.preventDefault(),n.stopPropagation()})).on("mouseleave.HSMegaMenu",this.options.classMap.hasMegaMenu+':not([data-event="click"]),'+this.options.classMap.hasSubMenu+':not([data-event="click"])',(function(n){var i=e(this).data("HSMenuItem"),o=e(n.relatedTarget).parents(t.itemsSelector);i.hideTimeOutId=setTimeout((function(){t.closeAll(o)}),t.options.hideTimeOut),t._items=t._items.add(t._tempChain),t._tempChain=null,n.preventDefault(),n.stopPropagation()})).on("click.HSMegaMenu",this.options.classMap.hasMegaMenu+'[data-event="click"] > a, '+this.options.classMap.hasSubMenu+'[data-event="click"] > a',(function(n){var i,o=e(this).parent('[data-event="click"]');o.data("HSMenuItem")||t.initMenuItem(o,t.getType(o)),t.closeAll(o.add(o.parents(t.itemsSelector))),(i=o.data("HSMenuItem")).isOpened?i.hide():i.show(),n.preventDefault(),n.stopPropagation()}))},t.prototype.initMenuItem=function(t,i){var o=this,r=new n(t,t.children(o.options.classMap["mega-menu"===i?"megaMenu":"subMenu"]),e.extend(!0,{type:i},o.options,t.data()),o.$element);t.data("HSMenuItem",r),this._items=this._items.add(t)},t.prototype.initMobileBehavior=function(){var t=this;this.state="mobile",this.$element.off(".HSMegaMenu").addClass(this.options.classMap.mobileState.slice(1)).on("click.HSMegaMenu",t.options.classMap.hasSubMenu+" > a, "+t.options.classMap.hasMegaMenu+" > a",(function(n){var i,o=e(this).parent();o.data("HSMenuItem")||t.initMenuItem(o,t.getType(o)),t.closeAll(o.parents(t.itemsSelector).add(o)),i=o.data("HSMenuItem"),console.log(i.isOpened),i.isOpened?i.mobileHide():i.mobileShow(),n.preventDefault(),n.stopPropagation()})).find(this.itemsSelector).not(this.options.classMap.hasSubMenuActive+","+this.options.classMap.hasMegaMenuActive).children(this.options.classMap.subMenu+","+this.options.classMap.megaMenu).hide()},t.prototype.initDesktopBehavior=function(){this.state="desktop",this.$element.removeClass(this.options.classMap.mobileState.slice(1)).off(".HSMegaMenu").find(this.itemsSelector).not(this.options.classMap.hasSubMenuActive+","+this.options.classMap.hasMegaMenuActive).children(this.options.classMap.subMenu+","+this.options.classMap.megaMenu).hide(),this.bindEvents()},t.prototype.closeAll=function(t){var n=this;return this._items.not(t&&t.length?t:e()).each((function(t,i){e(i).removeClass("hs-event-prevented").data("HSMenuItem")["mobile"==n.state?"mobileHide":"hide"]()}))},t.prototype.getType=function(e){return e&&e.length?e.hasClass(this.options.classMap.hasSubMenu.slice(1))?"sub-menu":e.hasClass(this.options.classMap.hasMegaMenu.slice(1))?"mega-menu":null:null},t.prototype.getState=function(){return this.state},t.prototype.refresh=function(){return this._items.add(this._tempChain).each((function(t,n){e(n).data("HSMenuItem")._updateMenuBounds()}))},n.prototype.show=function(){return this.menu.length?(this.$element.addClass(this.activeItemClass.slice(1)),"horizontal"==this.options.direction&&this.smartPosition(this.menu,this.options),this._updateMenuBounds(),this.options.animationOut?this.menu.removeClass(this.options.animationOut):this.options.afterOpen.call(this,this.$element,this.menu),this.options.animationIn&&this.menu.addClass(this.options.animationIn),this):this},n.prototype.hide=function(){return this.menu.length?(this.options.animationOut||this.$element.removeClass(this.activeItemClass.slice(1)),this.options.animationIn&&this.menu.removeClass(this.options.animationIn),this.options.animationOut?this.menu.addClass(this.options.animationOut):this.options.afterClose.call(this,this.$element,this.menu),this):this},n.prototype.mobileShow=function(){var e=this;return this.menu.length?(this.menu.removeClass(this.options.animationIn).removeClass(this.options.animationOut).stop().slideDown({duration:e.options.mobileSpeed,easing:e.options.mobileEasing,complete:function(){e.options.afterOpen.call(e,e.$element,e.menu)}}),this.$element.addClass(this.activeItemClass.slice(1)),this):this},n.prototype.mobileHide=function(){var e=this;return this.menu.length?(this.menu.stop().slideUp({duration:e.options.mobileSpeed,easing:e.options.mobileEasing,complete:function(){e.options.afterClose.call(e,e.$element,e.menu)}}),this.$element.removeClass(this.activeItemClass.slice(1)),this):this},n.prototype.smartPosition=function(e,t){n.smartPosition(e,t)},n.smartPosition=function(t,n){if(t||t.length){e(window);t.removeClass("hs-reversed"),n.rtl?t.offset().left<0&&t.addClass("hs-reversed"):t.offset().left+t.outerWidth()>window.innerWidth&&t.addClass("hs-reversed")}},n.prototype._updateMenuBounds=function(){var t="auto";if("vertical"==this.options.direction&&"mega-menu"==this.options.type){if(this.$container&&"desktop"==this.$container.data("HSMegaMenu").getState()?(this.options.pageContainer.length||(this.options.pageContainer=e("body")),t=this.options.pageContainer.outerWidth()*(1-this.options.sideBarRatio)):t="auto",this.menu.css({width:t,height:"auto"}),this.menu.outerHeight()>this.$container.outerHeight())return;this.menu.css("height","100%")}},e.fn.HSMegaMenu=function(n){return this.each((function(){var i=e(this);i.data("HSMegaMenu")||i.data("HSMegaMenu",new t(i,n))}))}}(jQuery);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Custombox;!function(e){var t="custombox",n=t+"-open",i=t+"-close",o=t+"-lock",r="animateFrom",a=["top","right","bottom","left"],s=["slide","blur","flip","rotate","letmein","makeway","slip","corner","slidetogether","push","contentscale"],l=["blur","makeway","slip","push","contentscale"],c=["letmein","makeway","slip","corner","slidetogether","door","push","contentscale"],u=["corner","slidetogether","scale","door","push","contentscale"],d=["fall","sidefall","flip","sign","slit","letmein","makeway","slip"],h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"check",value:function(e,t){return e.indexOf(t)>-1}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ")
;if(t>0)return!isNaN(parseInt(e.substring(t+5,e.indexOf(".",t)),10));if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return!isNaN(parseInt(e.substring(n+3,e.indexOf(".",n)),10))}var i=e.indexOf("Edge/");return i>0&&!isNaN(parseInt(e.substring(i+5,e.indexOf(".",i)),10))}}]),e}(),p=function(){function e(){_classCallCheck(this,e),this.position=document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,document.documentElement.classList.add(t+"-perspective")}return _createClass(e,[{key:"remove",value:function(){document.documentElement.classList.remove(t+"-perspective"),window.scrollTo(0,this.position)}}]),e}(),f=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.keys(n).forEach((function(t){e[t]&&_extends(n[t],e[t])})),n}return _inherits(t,e),t}((function e(){_classCallCheck(this,e),this.overlay={color:"#000",opacity:.48,close:!0,speedIn:300,speedOut:300,onOpen:null,onComplete:null,onClose:null,active:!0},this.content={id:null,target:null,container:null,clone:!1,animateFrom:"top",animateTo:"top",positionX:"center",positionY:"center",width:null,effect:"fadein",speedIn:300,speedOut:300,delay:150,fullscreen:!1,onOpen:null,onComplete:null,onClose:null,close:!0},this.loader={active:!0,color:"#FFF",background:"#999",speed:1e3}})),m=function(){function e(n){_classCallCheck(this,e),this.options=n,this.element=document.createElement("div"),this.element.classList.add(t+"-loader"),this.element.style.borderColor=this.options.loader.background,this.element.style.borderTopColor=this.options.loader.color,this.element.style.animationDuration=this.options.loader.speed+"ms",document.body.appendChild(this.element)}return _createClass(e,[{key:"show",value:function(){this.element.style.display="block"}},{key:"destroy",value:function(){this.element.parentElement.removeChild(this.element)}}]),e}(),g=function(){function e(n){if(_classCallCheck(this,e),this.options=n,"loading"===document.readyState)throw new Error("You need to instantiate Custombox when the document is fully loaded");var i=document.querySelector(this.options.content.container);if(i)this.element=i;else if(document.querySelector("."+t+"-container"))document.querySelector("."+t+"-container")&&(this.element=document.querySelector("."+t+"-container"));else{for(this.element=document.createElement("div");document.body.firstChild;)this.element.appendChild(document.body.firstChild);document.body.appendChild(this.element)}this.element.classList.add(t+"-container"),this.element.classList.add(t+"-"+this.options.content.effect),this.element.style.animationDuration=this.options.content.speedIn+"ms",h.check(s,this.options.content.effect)&&this.setAnimation()}return _createClass(e,[{key:"bind",value:function(e){var t=this;return e===i&&(h.check(s,this.options.content.effect)&&this.setAnimation("animateTo"),this.element.classList.remove(n)),this.element.classList.add(e),new Promise((function(e){return t.listener().then((function(){return e()}))}))}},{key:"remove",value:function(){this.element.classList.remove(i),this.element.classList.remove(t+"-"+this.options.content.effect),this.element.style.removeProperty("animation-duration");var e=document.querySelectorAll("."+t+"-content"),n=document.querySelector(this.options.content.container);if(!e.length)if(n)for(var o=this.element.className.split(" "),r=0,a=o.length;r<a;r++)o[r].startsWith(t+"-")&&this.element.classList.remove(o[r]);else{for(var s=document.querySelector("."+t+"-container");s.firstChild;)s.parentNode.insertBefore(s.firstChild,s);s.parentNode.removeChild(s)}}},{key:"listener",value:function(){var e=this;return new Promise((function(t){h.isIE()?setTimeout(t,e.options.content.speedIn):e.element.addEventListener("animationend",(function(){return t()}),!0)}))}},{key:"setAnimation",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=0,i=a.length;n<i;n++)this.element.classList.contains(t+"-"+a[n])&&this.element.classList.remove(t+"-"+a[n]);this.element.classList.add(t+"-"+this.options.content[e])}}]),e}(),v=function(){function e(n){_classCallCheck(this,e),this.options=n,this.element=document.createElement("div"),this.element.style.backgroundColor=this.options.overlay.color,this.element.classList.add(t+"-overlay"),this.setAnimation()}return _createClass(e,[{key:"bind",value:function(e){var o=this;if(e===i)h.check(c,this.options.content.effect)&&this.toggleAnimation("animateTo"),this.element.classList.add(i),this.element.classList.remove(n);else document.body.appendChild(this.element),this.element.classList.add(t+"-"+this.options.content.effect),this.element.classList.add(n);return new Promise((function(e){return o.listener().then((function(){return e()}))}))}},{key:"remove",value:function(){try{this.element.parentNode.removeChild(this.element),this.style.parentNode.removeChild(this.style)}catch(e){}}},{key:"createSheet",value:function(){return this.style=document.createElement("style"),this.style.setAttribute("id",t+"-overlay-"+Date.now()),document.head.appendChild(this.style),this.style.sheet}},{key:"listener",value:function(){var e=this;return new Promise((function(t){h.isIE()?setTimeout(t,e.options.overlay.speedIn):e.element.addEventListener("animationend",(function(){return t()}),!0)}))}},{key:"setAnimation",value:function(){var e=this.createSheet();if(h.check(c,this.options.content.effect)?(this.element.style.opacity=this.options.overlay.opacity.toString(),this.element.style.animationDuration=this.options.overlay.speedIn+"ms",this.toggleAnimation()):(e.insertRule("."+t+"-overlay { animation: CloseFade "+this.options.overlay.speedOut+"ms; }",0),e.insertRule("."+n+"."+t+"-overlay { animation: OpenFade "+this.options.overlay.speedIn+"ms; opacity: "+this.options.overlay.opacity+" }",0),e.insertRule("@keyframes OpenFade { from {opacity: 0} to {opacity: "+this.options.overlay.opacity+"} }",0),e.insertRule("@keyframes CloseFade { from {opacity: "+this.options.overlay.opacity+"} to {opacity: 0} }",0)),h.check(u,this.options.content.effect)){var i=this.options.overlay.speedIn;h.check(u,this.options.content.effect)&&(i=this.options.content.speedIn),this.element.style.animationDuration=i+"ms"}}},{key:"toggleAnimation",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=0,i=a.length;n<i;n++)this.element.classList.contains(t+"-"+a[n])&&this.element.classList.remove(t+"-"+a[n]);this.element.classList.add(t+"-"+this.options.content[e])}}]),e}(),b=function(){function e(n){_classCallCheck(this,e),this.options=n,this.element=document.createElement("div"),this.element.style.animationDuration=this.options.content.speedIn+"ms",this.options.content.id&&this.element.setAttribute("id",t+"-"+this.options.content.id),h.check(u,this.options.content.effect)||(this.element.style.animationDelay=this.options.content.delay+"ms"),this.element.classList.add(t+"-content"),this.options.content.fullscreen?this.element.classList.add(t+"-fullscreen"):(this.element.classList.add(t+"-x-"+this.options.content.positionX),this.element.classList.add(t+"-y-"+this.options.content.positionY)),h.check(s,this.options.content.effect)&&this.setAnimation()}return _createClass(e,[{key:"fetch",value:function(){var e=this;return new Promise((function(n,i){var o=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,r=e.options.content.target.match(o);if(r&&11==r[2].length){var a=document.createElement("div"),s=document.createElement("iframe");if(s.setAttribute("src","https://www.youtube.com/embed/"+r[2]),s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen",""),s.setAttribute("width","100%"),s.setAttribute("height","100%"),a.appendChild(s),!e.options.content.fullscreen){var l=window.innerWidth>560?560:window.innerWidth,c=window.innerHeight>315?315:window.innerHeight,u=parseInt(e.options.content.width,10);e.options.content.width&&window.innerWidth>u&&(c=Math.round(c*u/l),l=u),s.setAttribute("width",l+"px"),s.setAttribute("height",c+"px")}e.element.appendChild(a),n()}else if("#"!==e.options.content.target.charAt(0)&&"."!==e.options.content.target.charAt(0)){var d=new XMLHttpRequest;d.open("GET",e.options.content.target),d.onload=function(){if(200===d.status){e.element.insertAdjacentHTML("beforeend",d.response);var t=e.element.firstChild;try{t.style.display="block"}catch(e){i(new Error("The ajax response need a wrapper element"))}e.options.content.width&&(t.style.flexBasis=e.options.content.width),n()}else i(new Error(d.statusText))},d.onerror=function(){return i(new Error("Network error"))},d.send()}else{var h=document.querySelector(e.options.content.target);h?(e.options.content.clone?(h=h.cloneNode(!0)).removeAttribute("id"):(e.reference=document.createElement("div"),e.reference.classList.add(t+"-reference"),e.reference.setAttribute("style",h.getAttribute("style")),h.parentNode.insertBefore(e.reference,h.nextSibling)),h.style.display="block",e.options.content.width&&(h.style.flexBasis=e.options.content.width),e.element.appendChild(h),n()):i(new Error("The element doesn't exist"))}}))}},{key:"bind",value:function(e){var o=this;if(e===i)this.element.style.animationDelay="0ms",this.element.style.animationDuration=this.options.content.speedOut+"ms",this.element.classList.remove(n),this.element.classList.add(i),this.setAnimation("animateTo");else document.body.appendChild(this.element),this.element.classList.add(t+"-"+this.options.content.effect),this.element.classList.add(n);return new Promise((function(e){return o.listener().then((function(){return e()}))}))}},{key:"remove",value:function(){var e=new RegExp("^[#|.]");!this.options.content.clone&&e.test(this.options.content.target)&&(this.element.childNodes[0].setAttribute("style",this.reference.getAttribute("style")),this.reference.parentNode.insertBefore(this.element.childNodes[0],this.reference.nextSibling),this.reference.parentNode.removeChild(this.reference));try{this.element.parentNode.removeChild(this.element)}catch(e){}}},{key:"listener",value:function(){var e=this;return new Promise((function(t){h.isIE()?setTimeout(t,e.options.content.speedIn):e.element.addEventListener("animationend",(function(){return t()}),!0)}))}},{key:"setAnimation",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=0,i=a.length;n<i;n++)this.element.classList.contains(t+"-"+a[n])&&this.element.classList.remove(t+"-"+a[n]);this.element.classList.add(t+"-"+this.options.content[e])}}]),e}(),y=function(){function r(t){_classCallCheck(this,r),this.action=function(t){27===t.keyCode&&e.modal.close()},this.options=new f(t)}return _createClass(r,[{key:"open",value:function(){var e=this;this.build(),this.options.loader.active&&this.loader.show(),this.content.fetch().then((function(){h.check(d,e.options.content.effect)&&(e.scroll=new p),e.options.overlay.active?(e.dispatchEvent("overlay.onOpen"),e.overlay.bind(n).then((function(){e.dispatchEvent("overlay.onComplete"),e.options.loader.active&&e.loader.destroy()}))):e.options.loader.active&&e.loader.destroy(),e.container&&e.container.bind(n),document.body.classList.add(o),e.content.bind(n).then((function(){return e.dispatchEvent("content.onComplete")})),e.dispatchEvent("content.onOpen"),e.listeners()})).catch((function(t){throw e.options.loader.active&&e.loader.destroy(),t}))}},{key:"build",value:function(){this.options.loader.active&&(this.loader=new m(this.options)),h.check(l,this.options.content.effect)&&(this.container=new g(this.options)),this.options.overlay.active&&(this.overlay=new v(this.options)),this.content=new b(this.options)}},{key:"_close",value:function(){var e=this,t=[this.content.bind(i).then((function(){return e.content.remove()}))];this.options.overlay.active&&t.push(this.overlay.bind(i).then((function(){e.scroll&&e.scroll.remove(),e.overlay.remove(),e.dispatchEvent("overlay.onClose")}))),this.container&&t.push(this.container.bind(i).then((function(){return e.container.remove()}))),Promise.all(t).then((function(){e.options.content.close&&document.removeEventListener("keydown",e.action,!0),e.dispatchEvent("content.onClose"),document.body.classList.remove(o)}))}},{key:"dispatchEvent",value:function(e){var n=e.replace(".on",":").toLowerCase(),i=new CustomEvent(t+":"+n),o=Object.create(this.options);document.dispatchEvent(i);try{e.split(".").reduce((function(e,t){return e[t]}),o).call()}catch(e){}}},{key:"listeners",value:function(){var e=this,n=window.getComputedStyle(this.content.element).getPropertyValue("animation-fill-mode");document.addEventListener("fullscreenchange",(function(){window.getComputedStyle(e.content.element).getPropertyValue("animation-fill-mode")===n?e.content.element.style.animationFillMode="backwards":e.content.element.style.animationFillMode=n}),!0),this.options.content.close&&document.addEventListener("keydown",this.action,!0),this.options.overlay.close&&this.content.element.addEventListener("click",(function(t){t.target===e.content.element&&e._close()}),!0),this.content.element.addEventListener(t+":close",(function(){e._close()}),!0)}}],[{key:"close",value:function(e){var n=new CustomEvent(t+":close"),i=document.querySelectorAll("."+t+"-content");e&&(i=document.querySelectorAll("#"+t+"-"+e));try{i[i.length-1].dispatchEvent(n)}catch(e){throw new Error("Custombox is not instantiated")}}},{key:"closeAll",value:function(){for(var e=new CustomEvent(t+":close"),n=document.querySelectorAll("."+t+"-content"),i=n.length,o=0;o<i;o++)n[o].dispatchEvent(e)}}]),r}();e.modal=y}(Custombox||(Custombox={})),function(e){"use strict";e.HSCore.components.HSModalWindow={_baseConfig:{bounds:100,debounce:50,overlayOpacity:.48,overlayColor:"#000000",speed:400,type:"onscroll",effect:"fadein",onOpen:function(){},onClose:function(){},onComplete:function(){}},_pageCollection:e(),init:function(t,n){var i=e(t);if(i.length)return(n=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig).selector=t,this._pageCollection=this._pageCollection.add(i.not(this._pageCollection)),n.autonomous?this.initAutonomousModalWindows(i,n):this.initBaseModalWindows(i,n)},initBaseModalWindows:function(t,n){return t.on("click",(function(t){if("Custombox"in window){var i=e(this),o=i.data("modal-target"),r=i.data("modal-effect")||n.effect;o&&e(o).length&&(new Custombox.modal({content:{target:o,effect:r,onOpen:function(){n.onOpen.call(e(o))},onClose:function(){n.onClose.call(e(o))},onComplete:function(){n.onComplete.call(e(o))}},overlay:{color:i.data("overlay-color")||n.overlayColor,opacity:i.data("overlay-opacity")||n.overlayOpacity,speedIn:i.data("speed")||n.speed,speedOut:i.data("speed")||n.speed}}).open(),t.preventDefault())}}))},initAutonomousModalWindows:function(t,n){var i=this;return t.each((function(t,o){var r=e(o);switch(r.data("modal-type")){case"hashlink":i.initHashLinkPopup(r,n);break;case"onscroll":i.initOnScrollPopup(r,n);break;case"beforeunload":i.initBeforeUnloadPopup(r,n);break;case"ontarget":i.initOnTargetPopup(r,n);break;case"aftersometime":i.initAfterSomeTimePopup(r,n)}}))},initHashLinkPopup:function(t,n){var i=e(window.location.hash),o=e("#"+t.attr("id"));i.length&&i.attr("id")==t.attr("id")&&new Custombox.modal({content:{target:"#"+t.attr("id"),effect:t.data("effect")||n.effect,onOpen:function(){n.onOpen.call(e(o))},onClose:function(){n.onClose.call(e(o))},onComplete:function(){n.onComplete.call(e(o))}},overlay:{color:t.data("overlay-color")||n.overlayColor,opacity:t.data("overlay-opacity")||n.overlayOpacity,speedIn:t.data("speed")||n.speed,speedOut:t.data("speed")||n.speed}}).open()},initOnScrollPopup:function(t,n){var i=e(window),o=t.data("breakpoint")?t.data("breakpoint"):0,r=e("#"+t.attr("id"));i.on("scroll.popup",(function(){i.scrollTop()+i.height()>=o&&(new Custombox.modal({content:{target:"#"+t.attr("id"),effect:t.data("effect")||n.effect,onOpen:function(){n.onOpen.call(e(r))},onClose:function(){n.onClose.call(e(r))},onComplete:function(){n.onComplete.call(e(r))}},overlay:{color:t.data("overlay-color")||n.overlayColor,opacity:t.data("overlay-opacity")||n.overlayOpacity,speedIn:t.data("speed")||n.speed,speedOut:t.data("speed")||n.speed}}).open(),i.off("scroll.popup"))})),i.trigger("scroll.popup")},initBeforeUnloadPopup:function(t,n){var i,o=0,r=e("#"+t.attr("id"));window.addEventListener("mousemove",(function(a){i&&clearTimeout(i),i=setTimeout((function(){a.clientY<10&&!o&&(o++,new Custombox.modal({content:{target:"#"+t.attr("id"),effect:t.data("effect")||n.effect,onOpen:function(){n.onOpen.call(e(r))},onClose:function(){n.onClose.call(e(r))},onComplete:function(){n.onComplete.call(e(r))}},overlay:{color:t.data("overlay-color")||n.overlayColor,opacity:t.data("overlay-opacity")||n.overlayOpacity,speedIn:t.data("speed")||n.speed,speedOut:t.data("speed")||n.speed}}).open())}),10)}))},initOnTargetPopup:function(t,n){var i=t.data("target");i&&e(i).length&&appear({bounds:n.bounds,debounce:n.debounce,elements:function(){return document.querySelectorAll(i)},appear:function(){new Custombox.modal({content:{target:"#"+t.attr("id"),effect:t.data("effect")||n.effect,onOpen:function(){n.onOpen.call(e(i))},onClose:function(){n.onClose.call(e(i))},onComplete:function(){n.onComplete.call(e(i))}},overlay:{color:t.data("overlay-color")||n.overlayColor,opacity:t.data("overlay-opacity")||n.overlayOpacity,speedIn:t.data("speed")||n.speed,speedOut:t.data("speed")||n.speed}}).open()}})},initAfterSomeTimePopup:function(t,n){var i=e("#"+t.attr("id"));setTimeout((function(){new Custombox.modal({content:{target:"#"+t.attr("id"),effect:t.data("effect")||n.effect,onOpen:function(){n.onOpen.call(e(i))},onClose:function(){n.onClose.call(e(i))},onComplete:function(){n.onComplete.call(e(i))}},overlay:{color:t.data("overlay-color")||n.overlayColor,opacity:t.data("overlay-opacity")||n.overlayOpacity,speedIn:t.data("speed")||n.speed,speedOut:t.data("speed")||n.speed}}).open()}),t.data("delay")?t.data("delay"):10)}}}(jQuery),function(e){"use strict";function t(t,n){if(t&&t.length){var i=this;this.element=t,this.config=n&&e.isPlainObject(n)?e.extend(!0,{},n,t.data()):t.data(),isFinite(this.config.animationDelay)||(this.config.animationDelay=0),isFinite(this.config.animationDuration)||(this.config.animationDuration=1e3),t.css({"animation-duration":i.config.animationDuration+"ms"})}}e.HSCore.components.HSOnScrollAnimation={_baseConfig:{bounds:-100,debounce:50,inViewportClass:"u-in-viewport",animation:"fadeInUp",animationOut:!1,animationDelay:0,animationDuration:500,afterShow:function(){},onShown:function(){},onHidden:function(){}},_pageCollection:e(),init:function(n,i){if(n&&e(n).length){var o=this;return this.config=i&&e.isPlainObject(i)?e.extend(!0,{},this._baseConfig,i):this._baseConfig,appear({bounds:o.config.bounds,reappear:!1,debounce:o.config.debounce,elements:function(){return document.querySelectorAll(n)},init:function(){e(n).each((function(n,i){var r=e(i);/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?r.addClass(o.config.inViewportClass):r.data("HSAnimationElement")||(r.data("HSAnimationElement",new t(r,o.config)),o._pageCollection=o._pageCollection.add(r))}))},appear:function(t){var n=e(t);/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||n.hasClass(o.config.inViewportClass)||n.data("HSAnimationElement").show()}}),this._pageCollection}}},t.prototype.show=function(){var e=this;this.config.animationDelay?this.timeOutId=setTimeout((function(){e.element.removeClass(e.config.animationOut).addClass(e.config.animation+" "+e.config.inViewportClass),e.config.afterShow.call(e.element),e.callbackTimeoutId=setTimeout((function(){e.config.onShown.call(e.element)}),e.config.animationDuration)}),this.config.animationDelay):(this.element.removeClass(this.config.animationOut).addClass(this.config.animation+" "+this.config.inViewportClass),this.config.afterShow.call(this.element),this.callbackTimeoutId=setTimeout((function(){e.config.onShown.call(e.element)}),this.config.animationDuration))},t.prototype.hide=function(){var e=this;this.element.hasClass(this.config.inViewportClass)&&(this.config.animationOut?(this.element.removeClass(this.config.animation).addClass(this.config.animationOut),this.callbackTimeoutId=setTimeout((function(){e.element.removeClass(e.config.inViewportClass),e.config.onHidden.call(e.element)}),this.config.animationDuration)):(this.element.removeClass(this.config.inViewportClass+" "+this.config.animation),this.config.onHidden.call(this.element)))}}(jQuery),function(e){"use strict";e.HSCore.components.HSProgressBar={_baseConfig:{bounds:-100,debounce:10,time:1e3,fps:60,rtl:!1,direction:"horizontal",useProgressElement:!1,indicatorSelector:"progress-bar-indicator",moveElementSelector:!1,moveElementTo:"currentPosition",onChange:function(){},beforeUpdate:function(){},afterUpdate:function(){},onMoveElementChange:function(){},beforeMoveElementUpdate:function(){},afterMoveElementUpdate:function(){}},_pageCollection:e(),init:function(t,n){if(t&&e(t).length)return this.extendHorizontalProgressBar(),this.extendVerticalProgressBar(),this._initProgressBar(t,n&&e.isPlainObject(n)?e.extend(!0,{},this._baseConfig,n):this._baseConfig)},_initProgressBar:function(t,n){var i=this,o=e();return appear({bounds:n.bounds,debounce:n.debounce,init:function(){e(t).each((function(t,r){var a=e(r);"horizontal"===n.direction?a.data("ProgressBar",new i.HorizontalProgressBar(a,n)):a.data("ProgressBar",new i.VerticalProgressBar(a,n)),o=o.add(a),i._pageCollection=i._pageCollection.add(a)}))},elements:function(){return document.querySelectorAll(t)},appear:function(t){e(t).data("ProgressBar").update(e(t).data("value"))}}),o},HorizontalProgressBar:function(t,n){this.element=t,this.indicator=this.element.find(n.indicatorSelector),this.config=n,this.moveElement=n.moveElementSelector?t.parent().find(n.moveElementSelector):e(),this.moveElement.length&&(n.rtl?this.moveElement.css({left:"auto",right:0,"margin-right":this.moveElement.outerWidth()/-2}):this.moveElement.css({left:0,"margin-left":this.moveElement.outerWidth()/-2})),this.config.useProgressElement?(this.element.data("value",this.element.attr("value")),this.element.attr("value",0)):(this.element.data("value",this.indicator.length?Math.round(this.indicator.outerWidth()/this.element.outerWidth()*100):0),this.indicator.css("width","0%"))},VerticalProgressBar:function(e,t){this.element=e,this.config=t,this.indicator=e.find(t.indicatorSelector),this.indicator.length&&(e.data("value",parseInt(this.indicator.css("height"),10)/this.indicator.parent().outerHeight()*100),this.indicator.css("height",0))},extendHorizontalProgressBar:function(){this.HorizontalProgressBar.prototype.update=function(e){var t=this;if(this.config.useProgressElement){var n=this.config.time/this.config.fps,i=parseInt(e/n,10),o=0;t=this;if(0==i&&(i=1),this.config.beforeUpdate.call(this.element),this.moveElement.length&&this.config.beforeMoveElementUpdate.call(this.moveElement),t.config.moveElementSelector&&"end"==t.config.moveElementTo){var r=0,a=parseInt(100/n,10);0==a&&(a=1);var s=setInterval((function(){t.moveSubElement(r+=a),t.moveElement.length&&t.config.onMoveElementChange.call(t.moveElement,r+=a),r>100&&(clearInterval(s),t.moveSubElement(100),t.moveElement.length&&t.config.afterMoveElementUpdate.call(t.moveElement))}),n)}this.element.data("intervalId",setInterval((function(){var n=o+=i;t.element.attr("value",n),t.config.onChange.call(t.element,n),t.config.moveElementSelector&&"currentPosition"==t.config.moveElementTo&&t.moveSubElement(n),o>e&&(t.element.attr("value",e),t.config.moveElementSelector&&"currentPosition"==t.config.moveElementTo&&t.moveSubElement(e),clearInterval(t.element.data("intervalId")),t.config.afterUpdate.call(t.element))}),n))}else this.indicator.length&&this.indicator.stop().animate({width:e+"%"},{duration:t.config.time,complete:function(){t.config.afterUpdate.call(t.element)}})},this.HorizontalProgressBar.prototype.moveSubElement=function(e){if(this.moveElement.length){this.moveElement.css(this.config.rtl?"right":"left",e+"%")}}},extendVerticalProgressBar:function(){this.VerticalProgressBar.prototype.update=function(e){this.indicator.stop().animate({height:e+"%"})}},get:function(){return this._pageCollection},getAPI:function(e){return this._pageCollection.eq(e).length?this._pageCollection.eq(e).data("ProgressBar"):null}}}(jQuery),function(e){"use strict";e.HSCore.components.HSQantityCounter={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCountQty(),this.pageCollection},initCountQty:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=e(i),r=o.find(".js-plus"),a=o.find(".js-minus"),s=o.find(".js-result"),l=parseInt(s.val());r.on("click",(function(e){e.preventDefault(),l+=1,s.val(l)})),a.on("click",(function(e){if(e.preventDefault(),!(l>=1))return!1;l-=1,s.val(l)})),t=t.add(o)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSRangeDatepicker={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initRangeDatepicker(),this.pageCollection},initRangeDatepicker:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=e(i),r=o.data("rp-wrapper"),a=Boolean(o.data("rp-is-inline")),s=o.data("rp-type"),l=o.data("rp-date-format"),c=JSON.parse(i.getAttribute("data-rp-default-date")),u=o.data("rp-is-disable-future-dates"),d=o.data("rp-is-disable-past-dates");o.flatpickr({inline:a,mode:s||"single",dateFormat:l||"d M Y",defaultDate:c,appendTo:e(r)[0],maxDate:!!u&&"today",minDate:!!d&&"today",locale:{firstDayOfWeek:1,weekdays:{shorthand:["Su","Mo","Tu","We","Th","Fr","Sa"]},rangeSeparator:" - "}}),o.css({width:7.5*o.val().length}),t=t.add(o)}))}}}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.flatpickr=t()}(this,(function(){"use strict";function e(e,t,n){var i;return void 0===n&&(n=!1),function(){var o=this,r=arguments;null!==i&&clearTimeout(i),i=window.setTimeout((function(){i=null,n||e.apply(o,r)}),t),n&&!i&&e.apply(o,r)}}function t(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function n(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function i(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function o(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function r(e,t){var n=i("div","numInputWrapper"),o=i("input","numInput "+e),r=i("span","arrowUp"),a=i("span","arrowDown");if(o.type="text",o.pattern="\\d*",void 0!==t)for(var s in t)o.setAttribute(s,t[s]);return n.appendChild(o),n.appendChild(r),n.appendChild(a),n}function a(a,s){function d(e){return e.bind(pe)}function p(){var e=pe.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(pe.calendarContainer.style.visibility="hidden",pe.calendarContainer.style.display="block",void 0!==pe.daysContainer){var t=(pe.days.offsetWidth+1)*e.showMonths;pe.daysContainer.style.width=t+"px",pe.calendarContainer.style.width=t+(void 0!==pe.weekWrapper?pe.weekWrapper.offsetWidth:0)+"px",pe.calendarContainer.style.removeProperty("visibility"),pe.calendarContainer.style.removeProperty("display")}}))}function m(e){if(0!==pe.selectedDates.length){void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==pe.amPM&&e.target===pe.amPM&&(pe.amPM.textContent=pe.l10n.amPM[c(pe.amPM.textContent===pe.l10n.amPM[0])]);var i=parseFloat(n.getAttribute("data-min")),o=parseFloat(n.getAttribute("data-max")),r=parseFloat(n.getAttribute("data-step")),a=parseInt(n.value,10),s=a+r*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var u=n===pe.hourElement,d=n===pe.minuteElement;s<i?(s=o+s+c(!u)+(c(u)&&c(!pe.amPM)),d&&N(void 0,-1,pe.hourElement)):o<s&&(s=n===pe.hourElement?s-o-c(!pe.amPM):i,d&&N(void 0,1,pe.hourElement)),pe.amPM&&u&&(1===r?s+a===23:Math.abs(s-a)>r)&&(pe.amPM.textContent=pe.l10n.amPM[c(pe.amPM.textContent===pe.l10n.amPM[0])]),n.value=l(s)}}(e);var t=pe._input.value;_(),de(),pe._input.value!==t&&pe._debouncedChange()}}function _(){if(void 0!==pe.hourElement&&void 0!==pe.minuteElement){var e,n,i=(parseInt(pe.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(pe.minuteElement.value,10)||0)%60,r=void 0!==pe.secondElement?(parseInt(pe.secondElement.value,10)||0)%60:0;void 0!==pe.amPM&&(e=i,n=pe.amPM.textContent,i=e%12+12*c(n===pe.l10n.amPM[1]));var a=void 0!==pe.config.minTime||pe.config.minDate&&pe.minDateHasTime&&pe.latestSelectedDateObj&&0===t(pe.latestSelectedDateObj,pe.config.minDate,!0);if(void 0!==pe.config.maxTime||pe.config.maxDate&&pe.maxDateHasTime&&pe.latestSelectedDateObj&&0===t(pe.latestSelectedDateObj,pe.config.maxDate,!0)){var s=void 0!==pe.config.maxTime?pe.config.maxTime:pe.config.maxDate;(i=Math.min(i,s.getHours()))===s.getHours()&&(o=Math.min(o,s.getMinutes())),o===s.getMinutes()&&(r=Math.min(r,s.getSeconds()))}if(a){var l=void 0!==pe.config.minTime?pe.config.minTime:pe.config.minDate;(i=Math.max(i,l.getHours()))===l.getHours()&&(o=Math.max(o,l.getMinutes())),o===l.getMinutes()&&(r=Math.max(r,l.getSeconds()))}E(i,o,r)}}function k(e){var t=e||pe.latestSelectedDateObj;t&&E(t.getHours(),t.getMinutes(),t.getSeconds())}function S(){var e=pe.config.defaultHour,t=pe.config.defaultMinute,n=pe.config.defaultSeconds;if(void 0!==pe.config.minDate){var i=pe.config.minDate.getHours(),o=pe.config.minDate.getMinutes();(e=Math.max(e,i))===i&&(t=Math.max(o,t)),e===i&&t===o&&(n=pe.config.minDate.getSeconds())}if(void 0!==pe.config.maxDate){var r=pe.config.maxDate.getHours(),a=pe.config.maxDate.getMinutes();(e=Math.min(e,r))===r&&(t=Math.min(a,t)),e===r&&t===a&&(n=pe.config.maxDate.getSeconds())}E(e,t,n)}function E(e,t,n){void 0!==pe.latestSelectedDateObj&&pe.latestSelectedDateObj.setHours(e%24,t,n||0,0),pe.hourElement&&pe.minuteElement&&!pe.isMobile&&(pe.hourElement.value=l(pe.config.time_24hr?e:(12+e)%12+12*c(e%12==0)),pe.minuteElement.value=l(t),void 0!==pe.amPM&&(pe.amPM.textContent=pe.l10n.amPM[c(12<=e)]),void 0!==pe.secondElement&&(pe.secondElement.value=l(n)))}function T(e){var t=parseInt(e.target.value)+(e.delta||0);(1<t/1e3||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&Y(t)}function A(e,t,n,i){return t instanceof Array?t.forEach((function(t){return A(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return A(e,t,n,i)})):(e.addEventListener(t,n,i),void pe._handlers.push({element:e,event:t,handler:n,options:i}))}function O(e){return function(t){1===t.which&&e(t)}}function D(){se("onChange")}function I(e){var t=void 0!==e?pe.parseDate(e):pe.latestSelectedDateObj||(pe.config.minDate&&pe.config.minDate>pe.now?pe.config.minDate:pe.config.maxDate&&pe.config.maxDate<pe.now?pe.config.maxDate:pe.now);try{void 0!==t&&(pe.currentYear=t.getFullYear(),pe.currentMonth=t.getMonth())}catch(e){e.message="Invalid date supplied: "+t,pe.config.errorHandler(e)}pe.redraw()}function P(e){~e.target.className.indexOf("arrow")&&N(e,e.target.classList.contains("arrowUp")?1:-1)}function N(e,t,n){var i=e&&e.target,o=n||i&&i.parentNode&&i.parentNode.firstChild,r=le("increment");r.delta=t,o&&o.dispatchEvent(r)}function M(e,o,r,a){var s,l=K(o,!0),c=i("span","flatpickr-day "+e,o.getDate().toString());return c.dateObj=o,c.$i=a,c.setAttribute("aria-label",pe.formatDate(o,pe.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===t(o,pe.now)&&((pe.todayDateElem=c).classList.add("today"),c.setAttribute("aria-current","date")),l?(c.tabIndex=-1,ce(o)&&(c.classList.add("selected"),pe.selectedDateElem=c,"range"===pe.config.mode&&(n(c,"startRange",pe.selectedDates[0]&&0===t(o,pe.selectedDates[0],!0)),n(c,"endRange",pe.selectedDates[1]&&0===t(o,pe.selectedDates[1],!0)),"nextMonthDay"===e&&c.classList.add("inRange")))):c.classList.add("disabled"),"range"===pe.config.mode&&(s=o,!("range"!==pe.config.mode||pe.selectedDates.length<2)&&0<=t(s,pe.selectedDates[0])&&t(s,pe.selectedDates[1])<=0&&!ce(o)&&c.classList.add("inRange")),pe.weekNumbers&&1===pe.config.showMonths&&"prevMonthDay"!==e&&r%7==1&&pe.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+pe.config.getWeek(o)+"</span>"),se("onDayCreate",c),c}function L(e){e.focus(),"range"===pe.config.mode&&X(e)}function $(e){
for(var t=0<e?0:pe.config.showMonths-1,n=0<e?pe.config.showMonths:-1,i=t;i!=n;i+=e)for(var o=pe.daysContainer.children[i],r=0<e?0:o.children.length-1,a=0<e?o.children.length:-1,s=r;s!=a;s+=e){var l=o.children[s];if(-1===l.className.indexOf("hidden")&&K(l.dateObj))return l}}function j(e,t){var n=G(document.activeElement),i=void 0!==e?e:n?document.activeElement:void 0!==pe.selectedDateElem&&G(pe.selectedDateElem)?pe.selectedDateElem:void 0!==pe.todayDateElem&&G(pe.todayDateElem)?pe.todayDateElem:$(0<t?1:-1);return void 0===i?pe._input.focus():n?void function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():pe.currentMonth,i=0<t?pe.config.showMonths:-1,o=0<t?1:-1,r=n-pe.currentMonth;r!=i;r+=o)for(var a=pe.daysContainer.children[r],s=n-pe.currentMonth===r?e.$i+t:t<0?a.children.length-1:0,l=a.children.length,c=s;0<=c&&c<l&&c!=(0<t?l:-1);c+=o){var u=a.children[c];if(-1===u.className.indexOf("hidden")&&K(u.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return L(u)}pe.changeMonth(o),j($(o),0)}(i,t):L(i)}function R(e,t){for(var n=(new Date(e,t,1).getDay()-pe.l10n.firstDayOfWeek+7)%7,o=pe.utils.getDaysInMonth((t-1+12)%12),r=pe.utils.getDaysInMonth(t),a=window.document.createDocumentFragment(),s=1<pe.config.showMonths,l=s?"prevMonthDay hidden":"prevMonthDay",c=s?"nextMonthDay hidden":"nextMonthDay",u=o+1-n,d=0;u<=o;u++,d++)a.appendChild(M(l,new Date(e,t-1,u),u,d));for(u=1;u<=r;u++,d++)a.appendChild(M("",new Date(e,t,u),u,d));for(var h=r+1;h<=42-n&&(1===pe.config.showMonths||d%7!=0);h++,d++)a.appendChild(M(c,new Date(e,t+1,h%r),h,d));var p=i("div","dayContainer");return p.appendChild(a),p}function F(){if(void 0!==pe.daysContainer){o(pe.daysContainer),pe.weekNumbers&&o(pe.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<pe.config.showMonths;t++){var n=new Date(pe.currentYear,pe.currentMonth,1);n.setMonth(pe.currentMonth+t),e.appendChild(R(n.getFullYear(),n.getMonth()))}pe.daysContainer.appendChild(e),pe.days=pe.daysContainer.firstChild,"range"===pe.config.mode&&1===pe.selectedDates.length&&X()}}function B(){var e=i("div","flatpickr-month"),t=window.document.createDocumentFragment(),n=i("span","cur-month"),o=r("cur-year",{tabindex:"-1"}),a=o.childNodes[0];a.setAttribute("aria-label",pe.l10n.yearAriaLabel),pe.config.minDate&&a.setAttribute("data-min",pe.config.minDate.getFullYear().toString()),pe.config.maxDate&&(a.setAttribute("data-max",pe.config.maxDate.getFullYear().toString()),a.disabled=!!pe.config.minDate&&pe.config.minDate.getFullYear()===pe.config.maxDate.getFullYear());var s=i("div","flatpickr-current-month");return s.appendChild(n),s.appendChild(o),t.appendChild(s),e.appendChild(t),{container:e,yearElement:a,monthElement:n}}function H(){o(pe.monthNav),pe.monthNav.appendChild(pe.prevMonthNav);for(var e=pe.config.showMonths;e--;){var t=B();pe.yearElements.push(t.yearElement),pe.monthElements.push(t.monthElement),pe.monthNav.appendChild(t.container)}pe.monthNav.appendChild(pe.nextMonthNav)}function z(){pe.weekdayContainer?o(pe.weekdayContainer):pe.weekdayContainer=i("div","flatpickr-weekdays");for(var e=pe.config.showMonths;e--;){var t=i("div","flatpickr-weekdaycontainer");pe.weekdayContainer.appendChild(t)}return q(),pe.weekdayContainer}function q(){var e=pe.l10n.firstDayOfWeek,t=pe.l10n.weekdays.shorthand.concat();0<e&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=pe.config.showMonths;n--;)pe.weekdayContainer.children[n].innerHTML="\n      <span class=flatpickr-weekday>\n        "+t.join("</span><span class=flatpickr-weekday>")+"\n      </span>\n      "}function U(e,t){void 0===t&&(t=!0);var n=t?e:e-pe.currentMonth;n<0&&!0===pe._hidePrevMonthArrow||0<n&&!0===pe._hideNextMonthArrow||(pe.currentMonth+=n,(pe.currentMonth<0||11<pe.currentMonth)&&(pe.currentYear+=11<pe.currentMonth?1:-1,pe.currentMonth=(pe.currentMonth+12)%12,se("onYearChange")),F(),se("onMonthChange"),ue())}function W(e){return!(!pe.config.appendTo||!pe.config.appendTo.contains(e))||pe.calendarContainer.contains(e)}function V(e){if(pe.isOpen&&!pe.config.inline){var t=W(e.target),n=e.target===pe.input||e.target===pe.altInput||pe.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(pe.input)||~e.path.indexOf(pe.altInput)),i="blur"===e.type?n&&e.relatedTarget&&!W(e.relatedTarget):!n&&!t,o=!pe.config.ignoredFocusElements.some((function(t){return t.contains(e.target)}));i&&o&&(pe.close(),"range"===pe.config.mode&&1===pe.selectedDates.length&&(pe.clear(!1),pe.redraw()))}}function Y(e){if(!(!e||pe.config.minDate&&e<pe.config.minDate.getFullYear()||pe.config.maxDate&&e>pe.config.maxDate.getFullYear())){var t=e,n=pe.currentYear!==t;pe.currentYear=t||pe.currentYear,pe.config.maxDate&&pe.currentYear===pe.config.maxDate.getFullYear()?pe.currentMonth=Math.min(pe.config.maxDate.getMonth(),pe.currentMonth):pe.config.minDate&&pe.currentYear===pe.config.minDate.getFullYear()&&(pe.currentMonth=Math.max(pe.config.minDate.getMonth(),pe.currentMonth)),n&&(pe.redraw(),se("onYearChange"))}}function K(e,n){void 0===n&&(n=!0);var i=pe.parseDate(e,void 0,n);if(pe.config.minDate&&i&&t(i,pe.config.minDate,void 0!==n?n:!pe.minDateHasTime)<0||pe.config.maxDate&&i&&0<t(i,pe.config.maxDate,void 0!==n?n:!pe.maxDateHasTime))return!1;if(0===pe.config.enable.length&&0===pe.config.disable.length)return!0;if(void 0===i)return!1;for(var o,r=0<pe.config.enable.length,a=r?pe.config.enable:pe.config.disable,s=0;s<a.length;s++){if("function"==typeof(o=a[s])&&o(i))return r;if(o instanceof Date&&void 0!==i&&o.getTime()===i.getTime())return r;if("string"==typeof o&&void 0!==i){var l=pe.parseDate(o,void 0,!0);return l&&l.getTime()===i.getTime()?r:!r}if("object"==typeof o&&void 0!==i&&o.from&&o.to&&i.getTime()>=o.from.getTime()&&i.getTime()<=o.to.getTime())return r}return!r}function G(e){return void 0!==pe.daysContainer&&-1===e.className.indexOf("hidden")&&pe.daysContainer.contains(e)}function Q(e){var t=e.target===pe._input,n=pe.config.allowInput,i=pe.isOpen&&(!n||!t),o=pe.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return pe.setDate(pe._input.value,!0,e.target===pe.altInput?pe.config.altFormat:pe.config.dateFormat),e.target.blur();pe.open()}else if(W(e.target)||i||o){var r=!!pe.timeContainer&&pe.timeContainer.contains(e.target);switch(e.keyCode){case 13:r?m():oe(e);break;case 27:e.preventDefault(),ie();break;case 8:case 46:t&&!pe.config.allowInput&&(e.preventDefault(),pe.clear());break;case 37:case 39:if(r)pe.hourElement&&pe.hourElement.focus();else if(e.preventDefault(),void 0!==pe.daysContainer&&(!1===n||G(document.activeElement))){var a=39===e.keyCode?1:-1;e.ctrlKey?(U(a),j($(1),0)):j(void 0,a)}break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;pe.daysContainer?e.ctrlKey?(Y(pe.currentYear-s),j($(1),0)):r||j(void 0,7*s):pe.config.enableTime&&(!r&&pe.hourElement&&pe.hourElement.focus(),m(e),pe._debouncedChange());break;case 9:if(!r)break;var l=[pe.hourElement,pe.minuteElement,pe.secondElement,pe.amPM].filter((function(e){return e})),c=l.indexOf(e.target);if(-1!==c){var u=l[c+(e.shiftKey?-1:1)];void 0!==u&&(e.preventDefault(),u.focus())}}}if(void 0!==pe.amPM&&e.target===pe.amPM)switch(e.key){case pe.l10n.amPM[0].charAt(0):case pe.l10n.amPM[0].charAt(0).toLowerCase():pe.amPM.textContent=pe.l10n.amPM[0],_(),de();break;case pe.l10n.amPM[1].charAt(0):case pe.l10n.amPM[1].charAt(0).toLowerCase():pe.amPM.textContent=pe.l10n.amPM[1],_(),de()}se("onKeyDown",e)}function X(e){if(1===pe.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled"))){for(var t=e?e.dateObj.getTime():pe.days.firstElementChild.dateObj.getTime(),n=pe.parseDate(pe.selectedDates[0],void 0,!0).getTime(),i=Math.min(t,pe.selectedDates[0].getTime()),o=Math.max(t,pe.selectedDates[0].getTime()),r=pe.daysContainer.lastChild.lastChild.dateObj.getTime(),a=!1,s=0,l=0,c=i;c<r;c+=w.DAY)K(new Date(c),!0)||(a=a||i<c&&c<o,c<n&&(!s||s<c)?s=c:n<c&&(!l||c<l)&&(l=c));for(var u=0;u<pe.config.showMonths;u++)for(var d=pe.daysContainer.children[u],h=pe.daysContainer.children[u-1],p=function(i){var o=d.children[i],r=o.dateObj.getTime(),c=0<s&&r<s||0<l&&l<r;return c?(o.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){o.classList.remove(e)})),"continue"):a&&!c?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){o.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<pe.selectedDates[0].getTime()?"startRange":"endRange"),!d.contains(e)&&0<u&&h&&h.lastChild.dateObj.getTime()>=r||(n<t&&r===n?o.classList.add("startRange"):t<n&&r===n&&o.classList.add("endRange"),s<=r&&(0===l||r<=l)&&y(r,n,t)&&o.classList.add("inRange")))))},f=0,m=d.children.length;f<m;f++)p(f)}}function Z(){!pe.isOpen||pe.config.static||pe.config.inline||te()}function J(e){return function(t){var n=pe.config["_"+e+"Date"]=pe.parseDate(t,pe.config.dateFormat),i=pe.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(pe["min"===e?"minDateHasTime":"maxDateHasTime"]=0<n.getHours()||0<n.getMinutes()||0<n.getSeconds()),pe.selectedDates&&(pe.selectedDates=pe.selectedDates.filter((function(e){return K(e)})),pe.selectedDates.length||"min"!==e||k(n),de()),pe.daysContainer&&(ne(),void 0!==n?pe.currentYearElement[e]=n.getFullYear().toString():pe.currentYearElement.removeAttribute(e),pe.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function ee(){"object"!=typeof pe.config.locale&&void 0===x.l10ns[pe.config.locale]&&pe.config.errorHandler(new Error("flatpickr: invalid locale "+pe.config.locale)),pe.l10n=Object.assign({},x.l10ns.default,"object"==typeof pe.config.locale?pe.config.locale:"default"!==pe.config.locale?x.l10ns[pe.config.locale]:void 0),f.K="("+pe.l10n.amPM[0]+"|"+pe.l10n.amPM[1]+"|"+pe.l10n.amPM[0].toLowerCase()+"|"+pe.l10n.amPM[1].toLowerCase()+")",pe.formatDate=v(pe),pe.parseDate=b({config:pe.config,l10n:pe.l10n})}function te(e){if(void 0!==pe.calendarContainer){se("onPreCalendarPosition");var t=e||pe._positionElement,i=Array.prototype.reduce.call(pe.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=pe.calendarContainer.offsetWidth,r=pe.config.position.split(" "),a=r[0],s=1<r.length?r[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===a||"below"!==a&&c<i&&l.top>i,d=window.pageYOffset+l.top+(u?-i-2:t.offsetHeight+2);if(n(pe.calendarContainer,"arrowTop",!u),n(pe.calendarContainer,"arrowBottom",u),!pe.config.inline){var h=window.pageXOffset+l.left-(null!=s&&"center"===s?(o-l.width)/2:0),p=window.document.body.offsetWidth-l.right,f=h+o>window.document.body.offsetWidth;n(pe.calendarContainer,"rightMost",f),pe.config.static||(pe.calendarContainer.style.top=d+"px",f?(pe.calendarContainer.style.left="auto",pe.calendarContainer.style.right=p+"px"):(pe.calendarContainer.style.left=h+"px",pe.calendarContainer.style.right="auto"))}}}function ne(){pe.config.noCalendar||pe.isMobile||(ue(),F())}function ie(){pe._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(pe.close,0):pe.close()}function oe(e){e.preventDefault(),e.stopPropagation();var n=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(e.target,(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==n){var i=n,o=pe.latestSelectedDateObj=new Date(i.dateObj.getTime()),r=(o.getMonth()<pe.currentMonth||o.getMonth()>pe.currentMonth+pe.config.showMonths-1)&&"range"!==pe.config.mode;if(pe.selectedDateElem=i,"single"===pe.config.mode)pe.selectedDates=[o];else if("multiple"===pe.config.mode){var a=ce(o);a?pe.selectedDates.splice(parseInt(a),1):pe.selectedDates.push(o)}else"range"===pe.config.mode&&(2===pe.selectedDates.length&&pe.clear(!1),pe.selectedDates.push(o),0!==t(o,pe.selectedDates[0],!0)&&pe.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(_(),r){var s=pe.currentYear!==o.getFullYear();pe.currentYear=o.getFullYear(),pe.currentMonth=o.getMonth(),s&&se("onYearChange"),se("onMonthChange")}if(ue(),F(),de(),pe.config.enableTime&&setTimeout((function(){return pe.showTimeInput=!0}),50),r||"range"===pe.config.mode||1!==pe.config.showMonths?pe.selectedDateElem&&pe.selectedDateElem.focus():L(i),void 0!==pe.hourElement&&setTimeout((function(){return void 0!==pe.hourElement&&pe.hourElement.select()}),451),pe.config.closeOnSelect){var l="single"===pe.config.mode&&!pe.config.enableTime,c="range"===pe.config.mode&&2===pe.selectedDates.length&&!pe.config.enableTime;(l||c)&&ie()}D()}}function re(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return pe.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[pe.parseDate(e,t)];else if("string"==typeof e)switch(pe.config.mode){case"single":case"time":n=[pe.parseDate(e,t)];break;case"multiple":n=e.split(pe.config.conjunction).map((function(e){return pe.parseDate(e,t)}));break;case"range":n=e.split(pe.l10n.rangeSeparator).map((function(e){return pe.parseDate(e,t)}))}else pe.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));pe.selectedDates=n.filter((function(e){return e instanceof Date&&K(e,!1)})),"range"===pe.config.mode&&pe.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ae(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?pe.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:pe.parseDate(e.from,void 0),to:pe.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function se(e,t){var n=pe.config[e];if(void 0!==n&&0<n.length)for(var i=0;n[i]&&i<n.length;i++)n[i](pe.selectedDates,pe.input.value,pe,t);"onChange"===e&&(pe.input.dispatchEvent(le("change")),pe.input.dispatchEvent(le("input")))}function le(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ce(e){for(var n=0;n<pe.selectedDates.length;n++)if(0===t(pe.selectedDates[n],e))return""+n;return!1}function ue(){pe.config.noCalendar||pe.isMobile||!pe.monthNav||(pe.yearElements.forEach((function(e,t){var n=new Date(pe.currentYear,pe.currentMonth,1);n.setMonth(pe.currentMonth+t),pe.monthElements[t].textContent=h(n.getMonth(),pe.config.shorthandCurrentMonth,pe.l10n)+" ",e.value=n.getFullYear().toString()})),pe._hidePrevMonthArrow=void 0!==pe.config.minDate&&(pe.currentYear===pe.config.minDate.getFullYear()?pe.currentMonth<=pe.config.minDate.getMonth():pe.currentYear<pe.config.minDate.getFullYear()),pe._hideNextMonthArrow=void 0!==pe.config.maxDate&&(pe.currentYear===pe.config.maxDate.getFullYear()?pe.currentMonth+1>pe.config.maxDate.getMonth():pe.currentYear>pe.config.maxDate.getFullYear()))}function de(e){if(void 0===e&&(e=!0),0===pe.selectedDates.length)return pe.clear(e);void 0!==pe.mobileInput&&pe.mobileFormatStr&&(pe.mobileInput.value=void 0!==pe.latestSelectedDateObj?pe.formatDate(pe.latestSelectedDateObj,pe.mobileFormatStr):"");var t="range"!==pe.config.mode?pe.config.conjunction:pe.l10n.rangeSeparator;pe.input.value=pe.selectedDates.map((function(e){return pe.formatDate(e,pe.config.dateFormat)})).join(t),void 0!==pe.altInput&&(pe.altInput.value=pe.selectedDates.map((function(e){return pe.formatDate(e,pe.config.altFormat)})).join(t)),!1!==e&&se("onValueUpdate")}function he(e){e.preventDefault();var t=pe.prevMonthNav.contains(e.target),n=pe.nextMonthNav.contains(e.target);t||n?U(t?-1:1):0<=pe.yearElements.indexOf(e.target)?e.target.select():e.target.classList.contains("arrowUp")?pe.changeYear(pe.currentYear+1):e.target.classList.contains("arrowDown")&&pe.changeYear(pe.currentYear-1)}var pe={config:Object.assign({},x.defaultConfig),l10n:g};pe.parseDate=b({config:pe.config,l10n:pe.l10n}),pe._handlers=[],pe._bind=A,pe._setHoursFromDate=k,pe._positionCalendar=te,pe.changeMonth=U,pe.changeYear=Y,pe.clear=function(e){void 0===e&&(e=!0),pe.input.value="",void 0!==pe.altInput&&(pe.altInput.value=""),void 0!==pe.mobileInput&&(pe.mobileInput.value=""),pe.selectedDates=[],pe.latestSelectedDateObj=void 0,!(pe.showTimeInput=!1)===pe.config.enableTime&&S(),pe.redraw(),e&&se("onChange")},pe.close=function(){pe.isOpen=!1,pe.isMobile||(pe.calendarContainer.classList.remove("open"),pe._input.classList.remove("active")),se("onClose")},pe._createElement=i,pe.destroy=function(){void 0!==pe.config&&se("onDestroy");for(var e=pe._handlers.length;e--;){var t=pe._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(pe._handlers=[],pe.mobileInput)pe.mobileInput.parentNode&&pe.mobileInput.parentNode.removeChild(pe.mobileInput),pe.mobileInput=void 0;else if(pe.calendarContainer&&pe.calendarContainer.parentNode)if(pe.config.static&&pe.calendarContainer.parentNode){var n=pe.calendarContainer.parentNode;for(n.lastChild&&n.removeChild(n.lastChild);n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}else pe.calendarContainer.parentNode.removeChild(pe.calendarContainer);pe.altInput&&(pe.input.type="text",pe.altInput.parentNode&&pe.altInput.parentNode.removeChild(pe.altInput),delete pe.altInput),pe.input&&(pe.input.type=pe.input._type,pe.input.classList.remove("flatpickr-input"),pe.input.removeAttribute("readonly"),pe.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete pe[e]}catch(e){}}))},pe.isEnabled=K,pe.jumpToDate=I,pe.open=function(e,t){if(void 0===t&&(t=pe._positionElement),!0===pe.isMobile)return e&&(e.preventDefault(),e.target&&e.target.blur()),setTimeout((function(){void 0!==pe.mobileInput&&pe.mobileInput.focus()}),0),void se("onOpen");if(!pe._input.disabled&&!pe.config.inline){var n=pe.isOpen;pe.isOpen=!0,n||(pe.calendarContainer.classList.add("open"),pe._input.classList.add("active"),se("onOpen"),te(t)),!0===pe.config.enableTime&&!0===pe.config.noCalendar&&(0===pe.selectedDates.length&&(pe.setDate(void 0!==pe.config.minDate?new Date(pe.config.minDate.getTime()):new Date,!1),S(),de()),!1!==pe.config.allowInput||void 0!==e&&pe.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return pe.hourElement.select()}),50))}},pe.redraw=ne,pe.set=function(e,t){null!==e&&"object"==typeof e?Object.assign(pe.config,e):(pe.config[e]=t,void 0!==fe[e]&&fe[e].forEach((function(e){return e()}))),pe.redraw(),I()},pe.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=pe.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return pe.clear(t);re(e,n),pe.showTimeInput=0<pe.selectedDates.length,pe.latestSelectedDateObj=pe.selectedDates[0],pe.redraw(),I(),k(),de(t),t&&se("onChange")},pe.toggle=function(e){if(!0===pe.isOpen)return pe.close();pe.open(e)};var fe={locale:[ee,q],showMonths:[H,p,z]};return function(){pe.element=pe.input=a,pe.isOpen=!1,function(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],n=Object.assign({},s,JSON.parse(JSON.stringify(a.dataset||{}))),i={};pe.config.parseDate=n.parseDate,pe.config.formatDate=n.formatDate,Object.defineProperty(pe.config,"enable",{get:function(){return pe.config._enable},set:function(e){pe.config._enable=ae(e)}}),Object.defineProperty(pe.config,"disable",{get:function(){return pe.config._disable},set:function(e){pe.config._disable=ae(e)}});var o="time"===n.mode;n.dateFormat||!n.enableTime&&!o||(i.dateFormat=n.noCalendar||o?"H:i"+(n.enableSeconds?":S":""):x.defaultConfig.dateFormat+" H:i"+(n.enableSeconds?":S":"")),n.altInput&&(n.enableTime||o)&&!n.altFormat&&(i.altFormat=n.noCalendar||o?"h:i"+(n.enableSeconds?":S K":" K"):x.defaultConfig.altFormat+" h:i"+(n.enableSeconds?":S":"")+" K"),Object.defineProperty(pe.config,"minDate",{get:function(){return pe.config._minDate},set:J("min")}),Object.defineProperty(pe.config,"maxDate",{get:function(){return pe.config._maxDate},set:J("max")});var r=function(e){return function(t){pe.config["min"===e?"_minTime":"_maxTime"]=pe.parseDate(t,"H:i")}};Object.defineProperty(pe.config,"minTime",{get:function(){return pe.config._minTime},set:r("min")}),Object.defineProperty(pe.config,"maxTime",{get:function(){return pe.config._maxTime},set:r("max")}),"time"===n.mode&&(pe.config.noCalendar=!0,pe.config.enableTime=!0),Object.assign(pe.config,i,n);for(var l=0;l<e.length;l++)pe.config[e[l]]=!0===pe.config[e[l]]||"true"===pe.config[e[l]];for(var c=t.length;c--;)void 0!==pe.config[t[c]]&&(pe.config[t[c]]=u(pe.config[t[c]]||[]).map(d));pe.isMobile=!pe.config.disableMobile&&!pe.config.inline&&"single"===pe.config.mode&&!pe.config.disable.length&&!pe.config.enable.length&&!pe.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var h=0;h<pe.config.plugins.length;h++){var p=pe.config.plugins[h](pe)||{};for(var f in p)~t.indexOf(f)?pe.config[f]=u(p[f]).map(d).concat(pe.config[f]):void 0===n[f]&&(pe.config[f]=p[f])}se("onParseConfig")}(),ee(),function(){if(pe.input=pe.config.wrap?a.querySelector("[data-input]"):a,!pe.input)return pe.config.errorHandler(new Error("Invalid input element specified"));pe.input._type=pe.input.type,pe.input.type="text",pe.input.classList.add("flatpickr-input"),pe._input=pe.input,pe.config.altInput&&(pe.altInput=i(pe.input.nodeName,pe.input.className+" "+pe.config.altInputClass),pe._input=pe.altInput,pe.altInput.placeholder=pe.input.placeholder,pe.altInput.disabled=pe.input.disabled,pe.altInput.required=pe.input.required,pe.altInput.tabIndex=pe.input.tabIndex,pe.altInput.type="text",pe.input.setAttribute("type","hidden"),!pe.config.static&&pe.input.parentNode&&pe.input.parentNode.insertBefore(pe.altInput,pe.input.nextSibling)),pe.config.allowInput||pe._input.setAttribute("readonly","readonly"),pe._positionElement=pe.config.positionElement||pe._input}(),function(){pe.selectedDates=[],pe.now=pe.parseDate(pe.config.now)||new Date;var e=pe.config.defaultDate||("INPUT"!==pe.input.nodeName&&"TEXTAREA"!==pe.input.nodeName||!pe.input.placeholder||pe.input.value!==pe.input.placeholder?pe.input.value:null);e&&re(e,pe.config.dateFormat);var t=0<pe.selectedDates.length?pe.selectedDates[0]:pe.config.minDate&&pe.config.minDate.getTime()>pe.now.getTime()?pe.config.minDate:pe.config.maxDate&&pe.config.maxDate.getTime()<pe.now.getTime()?pe.config.maxDate:pe.now;pe.currentYear=t.getFullYear(),pe.currentMonth=t.getMonth(),0<pe.selectedDates.length&&(pe.latestSelectedDateObj=pe.selectedDates[0]),void 0!==pe.config.minTime&&(pe.config.minTime=pe.parseDate(pe.config.minTime,"H:i")),void 0!==pe.config.maxTime&&(pe.config.maxTime=pe.parseDate(pe.config.maxTime,"H:i")),pe.minDateHasTime=!!pe.config.minDate&&(0<pe.config.minDate.getHours()||0<pe.config.minDate.getMinutes()||0<pe.config.minDate.getSeconds()),pe.maxDateHasTime=!!pe.config.maxDate&&(0<pe.config.maxDate.getHours()||0<pe.config.maxDate.getMinutes()||0<pe.config.maxDate.getSeconds()),Object.defineProperty(pe,"showTimeInput",{get:function(){return pe._showTimeInput},set:function(e){pe._showTimeInput=e,pe.calendarContainer&&n(pe.calendarContainer,"showTimeInput",e),pe.isOpen&&te()}})}(),pe.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=pe.currentMonth),void 0===t&&(t=pe.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:pe.l10n.daysInMonth[e]}},pe.isMobile||function(){var e=window.document.createDocumentFragment();if(pe.calendarContainer=i("div","flatpickr-calendar"),pe.calendarContainer.tabIndex=-1,!pe.config.noCalendar){if(e.appendChild((pe.monthNav=i("div","flatpickr-months"),pe.yearElements=[],pe.monthElements=[],pe.prevMonthNav=i("span","flatpickr-prev-month"),pe.prevMonthNav.innerHTML=pe.config.prevArrow,pe.nextMonthNav=i("span","flatpickr-next-month"),pe.nextMonthNav.innerHTML=pe.config.nextArrow,H(),Object.defineProperty(pe,"_hidePrevMonthArrow",{get:function(){return pe.__hidePrevMonthArrow},set:function(e){pe.__hidePrevMonthArrow!==e&&(n(pe.prevMonthNav,"disabled",e),pe.__hidePrevMonthArrow=e)}}),Object.defineProperty(pe,"_hideNextMonthArrow",{get:function(){return pe.__hideNextMonthArrow},set:function(e){pe.__hideNextMonthArrow!==e&&(n(pe.nextMonthNav,"disabled",e),pe.__hideNextMonthArrow=e)}}),pe.currentYearElement=pe.yearElements[0],ue(),pe.monthNav)),pe.innerContainer=i("div","flatpickr-innerContainer"),pe.config.weekNumbers){var t=function(){pe.calendarContainer.classList.add("hasWeeks");var e=i("div","flatpickr-weekwrapper");e.appendChild(i("span","flatpickr-weekday",pe.l10n.weekAbbreviation));var t=i("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),o=t.weekWrapper,a=t.weekNumbers;pe.innerContainer.appendChild(o),pe.weekNumbers=a,pe.weekWrapper=o}pe.rContainer=i("div","flatpickr-rContainer"),pe.rContainer.appendChild(z()),pe.daysContainer||(pe.daysContainer=i("div","flatpickr-days"),pe.daysContainer.tabIndex=-1),F(),pe.rContainer.appendChild(pe.daysContainer),pe.innerContainer.appendChild(pe.rContainer),e.appendChild(pe.innerContainer)}pe.config.enableTime&&e.appendChild(function(){pe.calendarContainer.classList.add("hasTime"),pe.config.noCalendar&&pe.calendarContainer.classList.add("noCalendar"),pe.timeContainer=i("div","flatpickr-time"),pe.timeContainer.tabIndex=-1;var e=i("span","flatpickr-time-separator",":"),t=r("flatpickr-hour");pe.hourElement=t.childNodes[0];var n=r("flatpickr-minute");if(pe.minuteElement=n.childNodes[0],pe.hourElement.tabIndex=pe.minuteElement.tabIndex=-1,pe.hourElement.value=l(pe.latestSelectedDateObj?pe.latestSelectedDateObj.getHours():pe.config.time_24hr?pe.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(pe.config.defaultHour)),pe.minuteElement.value=l(pe.latestSelectedDateObj?pe.latestSelectedDateObj.getMinutes():pe.config.defaultMinute),pe.hourElement.setAttribute("data-step",pe.config.hourIncrement.toString()),pe.minuteElement.setAttribute("data-step",pe.config.minuteIncrement.toString()),pe.hourElement.setAttribute("data-min",pe.config.time_24hr?"0":"1"),pe.hourElement.setAttribute("data-max",pe.config.time_24hr?"23":"12"),pe.minuteElement.setAttribute("data-min","0"),pe.minuteElement.setAttribute("data-max","59"),pe.timeContainer.appendChild(t),pe.timeContainer.appendChild(e),pe.timeContainer.appendChild(n),pe.config.time_24hr&&pe.timeContainer.classList.add("time24hr"),pe.config.enableSeconds){pe.timeContainer.classList.add("hasSeconds");var o=r("flatpickr-second");pe.secondElement=o.childNodes[0],pe.secondElement.value=l(pe.latestSelectedDateObj?pe.latestSelectedDateObj.getSeconds():pe.config.defaultSeconds),pe.secondElement.setAttribute("data-step",pe.minuteElement.getAttribute("data-step")),pe.secondElement.setAttribute("data-min",pe.minuteElement.getAttribute("data-min")),pe.secondElement.setAttribute("data-max",pe.minuteElement.getAttribute("data-max")),pe.timeContainer.appendChild(i("span","flatpickr-time-separator",":")),pe.timeContainer.appendChild(o)}return pe.config.time_24hr||(pe.amPM=i("span","flatpickr-am-pm",pe.l10n.amPM[c(11<(pe.latestSelectedDateObj?pe.hourElement.value:pe.config.defaultHour))]),pe.amPM.title=pe.l10n.toggleTitle,pe.amPM.tabIndex=-1,pe.timeContainer.appendChild(pe.amPM)),pe.timeContainer}()),n(pe.calendarContainer,"rangeMode","range"===pe.config.mode),n(pe.calendarContainer,"animate",!0===pe.config.animate),n(pe.calendarContainer,"multiMonth",1<pe.config.showMonths),pe.calendarContainer.appendChild(e);var s=void 0!==pe.config.appendTo&&void 0!==pe.config.appendTo.nodeType;if((pe.config.inline||pe.config.static)&&(pe.calendarContainer.classList.add(pe.config.inline?"inline":"static"),pe.config.inline&&(!s&&pe.element.parentNode?pe.element.parentNode.insertBefore(pe.calendarContainer,pe._input.nextSibling):void 0!==pe.config.appendTo&&pe.config.appendTo.appendChild(pe.calendarContainer)),pe.config.static)){var u=i("div","flatpickr-wrapper");pe.element.parentNode&&pe.element.parentNode.insertBefore(u,pe.element),u.appendChild(pe.element),pe.altInput&&u.appendChild(pe.altInput),u.appendChild(pe.calendarContainer)}pe.config.static||pe.config.inline||(void 0!==pe.config.appendTo?pe.config.appendTo:window.document.body).appendChild(pe.calendarContainer)}(),function(){if(pe.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(pe.element.querySelectorAll("[data-"+e+"]"),(function(t){return A(t,"click",pe[e])}))})),pe.isMobile)return function(){var e=pe.config.enableTime?pe.config.noCalendar?"time":"datetime-local":"date";pe.mobileInput=i("input",pe.input.className+" flatpickr-mobile"),pe.mobileInput.step=pe.input.getAttribute("step")||"any",pe.mobileInput.tabIndex=1,pe.mobileInput.type=e,pe.mobileInput.disabled=pe.input.disabled,pe.mobileInput.required=pe.input.required,pe.mobileInput.placeholder=pe.input.placeholder,pe.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",0<pe.selectedDates.length&&(pe.mobileInput.defaultValue=pe.mobileInput.value=pe.formatDate(pe.selectedDates[0],pe.mobileFormatStr)),pe.config.minDate&&(pe.mobileInput.min=pe.formatDate(pe.config.minDate,"Y-m-d")),pe.config.maxDate&&(pe.mobileInput.max=pe.formatDate(pe.config.maxDate,"Y-m-d")),pe.input.type="hidden",void 0!==pe.altInput&&(pe.altInput.type="hidden");try{pe.input.parentNode&&pe.input.parentNode.insertBefore(pe.mobileInput,pe.input.nextSibling)}catch(e){}A(pe.mobileInput,"change",(function(e){pe.setDate(e.target.value,!1,pe.mobileFormatStr),se("onChange"),se("onClose")}))}();var t=e(Z,50);pe._debouncedChange=e(D,C),pe.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&A(pe.daysContainer,"mouseover",(function(e){"range"===pe.config.mode&&X(e.target)})),A(window.document.body,"keydown",Q),pe.config.static||A(pe._input,"keydown",Q),pe.config.inline||pe.config.static||A(window,"resize",t),void 0!==window.ontouchstart?A(window.document,"click",V):A(window.document,"mousedown",O(V)),A(window.document,"focus",V,{capture:!0}),!0===pe.config.clickOpens&&(A(pe._input,"focus",pe.open),A(pe._input,"mousedown",O(pe.open))),void 0!==pe.daysContainer&&(A(pe.monthNav,"mousedown",O(he)),A(pe.monthNav,["keyup","increment"],T),A(pe.daysContainer,"mousedown",O(oe))),void 0!==pe.timeContainer&&void 0!==pe.minuteElement&&void 0!==pe.hourElement&&(A(pe.timeContainer,["increment"],m),A(pe.timeContainer,"blur",m,{capture:!0}),A(pe.timeContainer,"mousedown",O(P)),A([pe.hourElement,pe.minuteElement],["focus","click"],(function(e){return e.target.select()})),void 0!==pe.secondElement&&A(pe.secondElement,"focus",(function(){return pe.secondElement&&pe.secondElement.select()})),void 0!==pe.amPM&&A(pe.amPM,"mousedown",O((function(e){m(e),D()}))))}(),(pe.selectedDates.length||pe.config.noCalendar)&&(pe.config.enableTime&&k(pe.config.noCalendar?pe.latestSelectedDateObj||pe.config.minDate:void 0),de(!1)),p(),pe.showTimeInput=0<pe.selectedDates.length||pe.config.noCalendar;var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!pe.isMobile&&t&&te(),se("onReady")}(),pe}function s(e,t){for(var n=Array.prototype.slice.call(e),i=[],o=0;o<n.length;o++){var r=n[o];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=a(r,t||{}),i.push(r._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}var l=function(e){return("0"+e).slice(-2)},c=function(e){return!0===e?1:0},u=function(e){return e instanceof Array?e:[e]},d=function(){},h=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},p={D:d,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*c(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){var n=parseInt(t);return new Date(e.getFullYear(),0,2+7*(n-1),0,0,0,0)},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:d,m:function(e,t){
e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},w:d,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},f={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},m={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[m.w(e,t,n)]},F:function(e,t,n){return h(m.n(e,t,n)-1,!1,t)},G:function(e,t,n){return l(m.h(e,t,n))},H:function(e){return l(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[c(11<e.getHours())]},M:function(e,t){return h(e.getMonth(),!0,t)},S:function(e){return l(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return l(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return l(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return l(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},g={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(3<t&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year"},v=function(e){var t=e.config,n=void 0===t?_:t,i=e.l10n,o=void 0===i?g:i;return function(e,t,i){if(void 0!==n.formatDate)return n.formatDate(e,t);var r=i||o;return t.split("").map((function(t,i,o){return m[t]&&"\\"!==o[i-1]?m[t](e,r,n):"\\"!==t?t:""})).join("")}},b=function(e){var t=e.config,n=void 0===t?_:t,i=e.l10n,o=void 0===i?g:i;return function(e,t,i,r){if(0===e||e){var a,s=r||o,l=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var c=t||(n||_).dateFormat,u=String(e).trim();if("today"===u)a=new Date,i=!0;else if(/Z$/.test(u)||/GMT$/.test(u))a=new Date(e);else if(n&&n.parseDate)a=n.parseDate(e,c);else{a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d,h=[],m=0,g=0,v="";m<c.length;m++){var b=c[m],y="\\"===b,w="\\"===c[m-1]||y;if(f[b]&&!w){v+=f[b];var C=new RegExp(v).exec(e);C&&(d=!0)&&h["Y"!==b?"push":"unshift"]({fn:p[b],val:C[++g]})}else y||(v+=".");h.forEach((function(e){var t=e.fn,n=e.val;return a=t(a,n,s)||a}))}a=d?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===i&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+l))}}},y=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},w={DAY:864e5},_={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};"function"!=typeof Object.assign&&(Object.assign=function(e){if(!e)throw TypeError("Cannot convert undefined or null to object");for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var o=function(){var t=n[r];t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0;r<n.length;r++)o();return e});var C=300;"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return s(this,e)},HTMLElement.prototype.flatpickr=function(e){return s([this],e)});var x=function(e,t){return e instanceof NodeList?s(e,t):s("string"==typeof e?window.document.querySelectorAll(e):[e],t)};return x.defaultConfig=_,x.l10ns={en:Object.assign({},g),default:Object.assign({},g)},x.localize=function(e){x.l10ns.default=Object.assign({},x.l10ns.default,e)},x.setDefaults=function(e){x.defaultConfig=Object.assign({},x.defaultConfig,e)},x.parseDate=b({}),x.formatDate=v({}),x.compareDates=t,"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return s(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=x),x})),function(e){"use strict";e.HSCore.components.HSScrollEffect={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initScrollEffect(),this.pageCollection},initScrollEffect:function(){var t=this,n=t.pageCollection;this.collection.each((function(i,o){var r=e(o),a=r.offset().top,s=r.data("scroll-effect"),l=r.data("scroll-effect-speed");console.log(a),e(window).on("scroll",(function(){if(e(window).scrollTop()>a){var n=r.offset().top;"smoothFadeToBottom"===s&&t.effectSmoothFadeToBottom(r,n,l)}else t.killEffectSmoothFadeToBottom(r)})),e('a[href="#"],a[href="#!"]').on("click",(function(){t.killEffectSmoothFadeToBottom(r)})),n=n.add(r)}))},effectSmoothFadeToBottom:function(t,n,i){e(t).css({opacity:1-(e(window).scrollTop()-n)/i,top:(e(window).scrollTop()-n)/2})},killEffectSmoothFadeToBottom:function(t){e(t).css({opacity:1,top:""})}}}(jQuery),function(e){"use strict";function t(t,n){this.element=t,this.config=n,this._items=e(),this._makeItems(),this._bindEvents()}function n(t,n){var i=this;this.element=t,this.config=n,Object.defineProperty(this,"section",{value:e(i.element.attr("href"))}),Object.defineProperty(this,"offset",{get:function(){var e=n.parent,t=getComputedStyle(e.get(0)),o=t.position,r=i.section.offset().top;return e.length&&"fixed"==o&&0==parseInt(t.top)&&(r=r-e.outerHeight()-parseInt(t.marginTop)),i.config.over.length&&(r-=i.config.over.outerHeight()),r}})}e.HSCore.components.HSScrollNav={_baseConfig:{duration:400,easing:"linear",over:e(),sectionClass:"u-scroll-nav-section",activeItemClass:"active",activeSectionClass:"active",afterShow:function(){},beforeShow:function(){},parent:e(".u-header")},_pageCollection:e(),init:function(n,i){var o=this;return n&&n.length?(n.each((function(n,r){var a=e(r),s=i&&e.isPlainObject(i)?e.extend(!0,{},o._baseConfig,i,a.data()):e.extend(!0,{},o._baseConfig,a.data());a.data("HSScrollNav")||(a.data("HSScrollNav",new t(a,s)),o._pageCollection=o._pageCollection.add(a))})),e(window).on("scroll.HSScrollNav",(function(){o._pageCollection.each((function(t,n){e(n).data("HSScrollNav").highlight()}))})).trigger("scroll.HSScrollNav"),n):e()}},t.prototype._makeItems=function(){var t=this;this.element.find('a[href^="#"]').each((function(i,o){var r=e(o);r.data("HSScrollNavSection")||(r.data("HSScrollNavSection",new n(r,t.config)),t._items=t._items.add(r))}))},t.prototype._bindEvents=function(){var t=this;this.element.on("click.HSScrollNav",'a[href^="#"]',(function(n){var i=this,o=e(this).data("HSScrollNavSection"),r=e(t.element).parent(),a=r.attr("id"),s=window.innerWidth,l=Boolean(t.element[0].dataset.mobileDestroy);s<=769&&!0===l?(e('[data-target="#'+a+'"]').trigger("click"),e('[data-target="#'+a+'"] > .u-hamburger__box').removeClass("is-active"),r.on("hidden.bs.collapse",(function(){t._lockHightlight=!0,t.current&&t.current.unhighlight(),i.blur(),t.current=e(i).data("HSScrollNavSection"),t.current.highlight(),o.show((function(){t._lockHightlight=!1}))}))):(t._lockHightlight=!0,t.current&&t.current.unhighlight(),i.blur(),t.current=e(i).data("HSScrollNavSection"),t.current.highlight(),o.show((function(){t._lockHightlight=!1}))),n.preventDefault()}))},t.prototype.highlight=function(){var t,n;if(this._items.length&&!this._lockHightlight){if((n=e(window).scrollTop())+e(window).height()===e(document).height())return this.current=this._items.last().data("HSScrollNavSection"),this.unhighlight(),this.current.highlight(),void this.current.changeHash();this._items.each((function(i,o){var r=e(o).data("HSScrollNavSection");r.section;n>r.offset&&(t=r)})),t&&this.current!=t&&(this.unhighlight(),t.highlight(),this.current&&t.changeHash(),this.current=t)}},t.prototype.unhighlight=function(){this._items.each((function(t,n){e(n).data("HSScrollNavSection").unhighlight()}))},n.prototype.show=function(t){var n=this;this.section.length&&(n.config.beforeShow.call(n.section),this.changeHash(),e("html, body").stop().animate({scrollTop:n.offset+3},{duration:n.config.duration,easing:n.config.easing,complete:function(){e("html, body").stop().animate({scrollTop:n.offset+3},{duration:n.config.duration,easing:n.config.easing,complete:function(){n.config.afterShow.call(n.section),e.isFunction(t)&&t()}})}}))},n.prototype.changeHash=function(){this.section.attr("id",""),e(this.config.sectionClass).removeClass(this.config.activeSectionClass),this.section.addClass(this.config.activeSectionClass),window.location.hash=this.element.attr("href"),this.section.attr("id",this.element.attr("href").slice(1))},n.prototype.highlight=function(){var e=this.element.parent("li");e.length&&e.addClass(this.config.activeItemClass)},n.prototype.unhighlight=function(){var e=this.element.parent("li");e.length&&e.removeClass(this.config.activeItemClass)}}(jQuery),function(e){"use strict";e.HSCore.components.HSSelectPicker={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initSelectPicker(),this.pageCollection},initSelectPicker:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=e(i);o.selectpicker(),o.on("loaded.bs.select",(function(){var e=o.siblings(".dropdown-menu ").find(".bs-searchbox"),t=o.data("searchbox-classes");t&&e.addClass(t)})),t=t.add(o)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSShowAnimation={_baseConfig:{afterShow:function(){}},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initShowEffect(),this.pageCollection},initShowEffect:function(){var t=this,n=t.config,i=t.pageCollection;this.collection.each((function(o,r){var a=e(r),s=a.data("link-group"),l=e(a.data("target")),c=l.data("target-group"),u=a.data("animation-in");a.on("click",(function(i){i.preventDefault(),e(this).hasClass("active")||(e('[data-link-group="'+s+'"]').removeClass("active"),a.addClass("active"),u?t.addAnimation(l,c,u,n):t.hideShow(l,c,n))})),i=i.add(a)}))},hideShow:function(t,n,i){e('[data-target-group="'+n+'"]').hide().css("opacity",0),t.show().css("opacity",1),i.afterShow()},addAnimation:function(t,n,i,o){e('[data-target-group="'+n+'"]').hide().css("opacity",0).removeClass("animated "+i),t.show(),o.afterShow(),setTimeout((function(){t.css("opacity",1).addClass("animated "+i)}),50)}}}(jQuery),function(e){"use strict";e.HSCore.components.HSSlickCarousel={_baseConfig:{autoplay:!1,infinite:!0},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initSlickCarousel(),this.pageCollection},initSlickCarousel:function(){var t=this,n=(t.config,t.pageCollection);this.collection.each((function(i,o){var r=e(o),a=r.attr("id"),s=r.data("nav-for"),l=r.data("is-thumbs"),c=r.data("arrows-classes"),u=r.data("arrow-left-classes"),d=r.data("arrow-right-classes"),h=r.data("pagi-classes"),p=r.data("pagi-helper"),f=r.data("pagi-icons"),m='<div class="js-prev '+c+" "+u+'"></div>',g='<div class="js-next '+c+" "+d+'"></div>',v=r.data("slides-show"),b=r.data("slides-scroll"),y=r.data("autoplay"),w=r.data("animation"),_=r.data("easing"),C=r.data("fade"),x=r.data("speed"),k=r.data("rows"),S=r.data("center-mode"),E=r.data("center-padding"),T=r.data("pause-hover"),A=r.data("variable-width"),O=r.data("initial-slide"),D=r.data("vertical"),I=r.data("rtl"),P=r.data("in-effect"),N=r.data("out-effect"),M=r.data("infinite"),L=r.data("title-pos-inside"),$=r.data("focus-on-select"),j=r.data("lazy-load"),R=r.data("adaptive-height"),F=r.data("numbered-pagination"),B=JSON.parse(o.getAttribute("data-responsive"));r.find("[data-slide-type]").length&&t.videoSupport(r),r.on("init",(function(t,n){e(n.$slides).css("height","auto"),l&&v>=e(n.$slides).length&&r.addClass("slick-transform-off")})),r.on("init",(function(t,n){var i=e(n.$slides)[n.currentSlide],o=e(i).find("[data-scs-animation-in]");e(o).each((function(){var t=e(this).data("scs-animation-in"),n=e(this).data("scs-animation-delay"),i=e(this).data("scs-animation-duration");e(this).css({"animation-delay":n+"ms","animation-duration":i+"ms"}),e(this).addClass("animated "+t).css("opacity",1)}))})),P&&N&&r.on("init",(function(t,n){e(n.$slides).addClass("single-slide")})),p&&r.on("init",(function(){var e=r.find(".js-pagination");e.length&&e.append('<span class="u-dots-helper"></span>')})),l&&e("#"+a).on("click",".slick-slide",(function(t){t.stopPropagation();var n=e(this).data("slick-index");e("#"+a).slick("slickCurrentSlide")!==n&&e("#"+a).slick("slickGoTo",n)})),r.on("init",(function(){var t=r.find(".js-pagination");t.length&&e(t[0].children[0]).addClass("slick-current")})),r.on("init",(function(t,n){var i=e(n.$slides)[0],o=e(i).find("[data-scs-animation-in]");e(o).each((function(){var t=e(this).data("scs-animation-in");e(this).addClass("animated "+t).css("opacity",1)}))})),F&&r.on("init",(function(t,n){e(F).html('<span class="u-paging__current">1</span><span class="u-paging__divider"></span><span class="u-paging__total">'+n.slideCount+"</span>")})),r.slick({autoplay:!!y,autoplaySpeed:x||3e3,cssEase:w||"ease",easing:_||"linear",fade:!!C,infinite:!!M,initialSlide:O?O-1:0,slidesToShow:v||1,slidesToScroll:b||1,centerMode:!!S,variableWidth:!!A,pauseOnHover:!!T,rows:k||1,vertical:!!D,verticalSwiping:!!D,rtl:!!I,centerPadding:E||0,focusOnSelect:!!$,lazyLoad:j||!1,asNavFor:s||!1,prevArrow:!!c&&m,nextArrow:!!c&&g,dots:!!h,dotsClass:"js-pagination "+h,adaptiveHeight:!!R,customPaging:function(t,n){var i=e(t.$slides[n]).data("title");return i&&f?"<span>"+i+"</span>"+f:f?"<span></span>"+f:i&&L?"<span>"+i+"</span>":i&&!L?'<span></span><strong class="u-dot-title">'+i+"</strong>":"<span></span>"},responsive:B}),r.on("beforeChange",(function(t,n,i,o){var a=e(n.$slides)[o],s=e(n.$slides)[i],l=r.find(".js-pagination"),c=e(a).find("[data-scs-animation-in]"),u=e(s).find("[data-scs-animation-in]");e(u).each((function(){var t=e(this).data("scs-animation-in");e(this).removeClass("animated "+t)})),e(c).each((function(){e(this).css("opacity",0)})),l.length&&(i>o?(e(l[0].children).removeClass("slick-active-right"),e(l[0].children[o]).addClass("slick-active-right")):e(l[0].children).removeClass("slick-active-right"),e(l[0].children).removeClass("slick-current"),setTimeout((function(){e(l[0].children[o]).addClass("slick-current")}),.25))})),F&&r.on("beforeChange",(function(t,n,i,o){var r=(o||0)+1;e(F).html('<span class="u-paging__current">'+r+'</span><span class="u-paging__divider"></span><span class="u-paging__total">'+n.slideCount+"</span>")})),r.on("afterChange",(function(t,n,i){var o=e(n.$slides)[i],r=e(o).find("[data-scs-animation-in]");e(r).each((function(){var t=e(this).data("scs-animation-in"),n=e(this).data("scs-animation-delay"),i=e(this).data("scs-animation-duration");e(this).css({"animation-delay":n+"ms","animation-duration":i+"ms"}),e(this).addClass("animated "+t).css("opacity",1)}))})),P&&N&&(r.on("afterChange",(function(t,n){e(n.$slides).removeClass("animated set-position "+P+" "+N)})),r.on("beforeChange",(function(t,n,i){e(n.$slides[i]).addClass("animated "+N)})),r.on("setPosition",(function(t,n){e(n.$slides[n.currentSlide]).addClass("animated set-position "+P)}))),n=n.add(r)}))},videoSupport:function(t){t.length&&t.on("beforeChange",(function(t,n,i){var o,r=e(n.$slides[i]).data("slide-type"),a=e(n.$slides[i]).find("iframe").get(0);if("vimeo"==r)o={method:"pause",value:"true"};else{if("youtube"!=r)return!1;o={event:"command",func:"pauseVideo"}}null!=a&&a.contentWindow.postMessage(JSON.stringify(o),"*")}))},initTextAnimation:function(t,n){if(window.TextFx&&window.anime&&t.length){var i=t.find(n);i.length&&(i.each((function(t,n){var i=e(n);i.data("TextFx")||i.data("TextFx",new TextFx(i.get(0)))})),t.on("beforeChange",(function(e,t,i,o){var r=t.$slider.find(".slick-track").children(),a=r.eq(i),s=r.eq(o);a=a.find(n),s=s.find(n),a.length&&a.data("TextFx").hide(a.data("effect")?a.data("effect"):"fx1"),s.length&&s.data("TextFx").show(s.data("effect")?s.data("effect"):"fx1")})))}}}}(jQuery),function(e){"use strict";e.HSCore.components.HSStepForm={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initStepForm(),this.pageCollection},initStepForm:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=e(i),r=o.data("progress-id"),a=e(r).find("> *"),s=o.data("steps-id"),l=e(s).find("> *"),c=e(s).find("> .active");l.not(".active").hide(),a.eq(c.index()).addClass("active"),e("[data-next-step]").on("click",(function(t){if(!e(i).valid())return!1;t.preventDefault();var n=e(this).data("next-step");a.removeClass("active"),a.eq(e(n).index()-1).addClass("u-checked"),a.eq(e(n).index()).addClass("active"),l.hide().removeClass("active"),e(n).fadeIn(400).addClass("active")})),e("[data-previous-step]").on("click",(function(t){t.preventDefault();var n=e(this).data("previous-step");a.removeClass("active"),a.eq(e(n).index()-1).addClass("u-checked"),a.eq(e(n).index()).addClass("active"),l.hide().removeClass("active"),e(n).fadeIn(400).addClass("active")})),t=t.add(o)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSStickyBlock={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initStickyBlock(),this.pageCollection},initStickyBlock:function(){var t=this,n=(t.config,t.pageCollection),i=window.innerWidth;this.collection.each((function(o,r){var a=e(r),s=a.attr("class").replace(t.config.itemSelector.substring(1),""),l=a.outerHeight(),c=a.outerWidth(),u=a.parent().width(),d=a.offset().top,h=a.offset().left,p=e.isNumeric(a.data("start-point"))?a.data("start-point"):e(a.data("start-point")).offset().top,f=e.isNumeric(a.data("end-point"))?a.data("end-point"):e(a.data("end-point")).offset().top,m=a.data("has-sticky-header"),g=a.data("sticky-view"),v=a.data("offset-target"),b=e(v).outerHeight(),y=a.data("offset-top"),w=a.data("offset-bottom");if(e(".collapse").on("hidden.bs.collapse",(function(){f=e.isNumeric(a.data("end-point"))?a.data("end-point"):e(a.data("end-point")).offset().top})),e(".collapse").on("shown.bs.collapse",(function(){f=e.isNumeric(a.data("end-point"))?a.data("end-point"):e(a.data("end-point")).offset().top})),a.length&&!(l>f-p)){t.killSticky(a),"sm"==g&&i<=576||"md"==g&&i<=768||"lg"==g&&i<=992||"xl"==g&&i<=1200?(a.addClass("die-sticky"),t.killSticky(a)):a.removeClass("die-sticky"),e(window).on("resize",(function(){var n=window.innerWidth;a.css({height:""}),"sm"==g&&n<=576||"md"==g&&n<=768||"lg"==g&&n<=992||"xl"==g&&n<=1200?(a.addClass("die-sticky"),t.killSticky(a)):a.removeClass("die-sticky").css({top:"",left:""}),setTimeout((function(){var t=e(this).scrollTop();l=a.outerHeight(),c=a.outerWidth(),u=a.parent().width(),d=a.offset().top,h=a.offset().left,p=e.isNumeric(a.data("start-point"))?a.data("start-point"):e(a.data("start-point")).offset().top,f=e.isNumeric(a.data("end-point"))?a.data("end-point"):e(a.data("end-point")).offset().top,b=e(v).outerHeight(),!0===m?a.not(".die-sticky").css({top:t+b>=f-l?f-l-d:b,left:h,width:u}):a.not(".die-sticky").css({top:t>=f-l?f-l-d:0,left:h,width:u})}),400)}));var _=e(this).scrollTop();t.addShadow(a,m?_+b:_,l,c,o,s,p,f),t.addSticky(a,m?_+b:_,l,u,h,p,f),e(window).on("scroll",(function(){var n=e(this).scrollTop();t.addShadow(a,m?n+b:n,l,u,o,s,p,f,y),t.addSticky(a,m?n+b:n,l,u,h,p,f,m?b:0,y),t.removeSticky(a,m?n+b:n,p,y),f&&t.addAbsolute(a,l,o,d,m?n+b:n,f,y,w)})),e(window).trigger("scroll"),e('a[href="#"],a[href="#!"]').on("click",(function(){t.killSticky(a)})),n=n.add(a)}}))},addSticky:function(e,t,n,i,o,r,a,s,l){console.log(t),console.log(r),console.log(t>=r-l),t>=r-l&&t<a&&e.not(".die-sticky").removeClass("position-relative").css({top:"",left:"",width:"",height:""}).addClass("position-fixed m-0").css({top:s+l,left:o,width:i,height:n})},removeSticky:function(e,t,n,i){t<=n-i&&e.not(".die-sticky").removeClass("position-fixed m-0").css({left:""})},addAbsolute:function(e,t,n,i,o,r,a,s){e.hasClass("position-relative")||o>=r-t-a-s&&e.not(".die-sticky").removeClass("position-fixed m-0").addClass("position-relative").css({top:r-t-i-s,left:""})},addShadow:function(t,n,i,o,r,a,s,l,c,u){if(n>s-c&&n<l-i-u){if(e("#shadow"+r).length)return;t.not(".die-sticky").before('<div id="shadow'+r+'" class="'+a+'" style="height: '+i+"px; width: "+o+"px; margin-top: "+c+'px; background-color: transparent !important;"></div>')}else{if(!e("#shadow"+r).length)return;e("#shadow"+r).remove()}},killSticky:function(e){e.removeClass("position-fixed m-0").css({top:"",left:"",width:"",height:"","z-index":"1"})}}}(jQuery),function(e){"use strict";function t(t,n){this.isInit=!0,this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="bootstrap-tagsinput"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(n),this.isInit=!1}function n(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function i(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}function o(e){return e?l.text(e).html():""}function r(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}function a(t,n){var i=!1;return e.each(n,(function(e,n){if("number"==typeof n&&t.which===n)return i=!0,!1;if(t.which===n.which){var o=!n.hasOwnProperty("altKey")||t.altKey===n.altKey,r=!n.hasOwnProperty("shiftKey")||t.shiftKey===n.shiftKey,a=!n.hasOwnProperty("ctrlKey")||t.ctrlKey===n.ctrlKey;if(o&&r&&a)return i=!0,!1}})),i}var s={tagClass:function(){return"label label-info"},focusClass:"focus",itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},itemTitle:function(){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};t.prototype={constructor:t,add:function(t,n,i){var r=this;if(!(r.options.maxTags&&r.itemsArray.length>=r.options.maxTags)&&(!1===t||t)){if("string"==typeof t&&r.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!r.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(r.isSelect&&!r.multiple&&r.itemsArray.length>0&&r.remove(r.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var a=r.options.delimiterRegex?r.options.delimiterRegex:r.options.delimiter,s=t.split(a);if(s.length>1){for(var l=0;l<s.length;l++)this.add(s[l],!0);return void(n||r.pushVal(r.options.triggerChange))}}var c=r.options.itemValue(t),u=r.options.itemText(t),d=r.options.tagClass(t),h=r.options.itemTitle(t),p=e.grep(r.itemsArray,(function(e){return r.options.itemValue(e)===c}))[0];if(!p||r.options.allowDuplicates){if(!(r.items().toString().length+t.length+1>r.options.maxInputLength)){var f=e.Event("beforeItemAdd",{item:t,cancel:!1,options:i});if(r.$element.trigger(f),!f.cancel){r.itemsArray.push(t);var m=e('<span class="tag '+o(d)+(null!==h?'" title="'+h:"")+'">'+o(u)+'<span data-role="remove"></span></span>');m.data("item",t),r.findInputWrapper().before(m),m.after(" ");var g=e('option[value="'+encodeURIComponent(c)+'"]',r.$element).length||e('option[value="'+o(c)+'"]',r.$element).length;if(r.isSelect&&!g){var v=e("<option selected>"+o(u)+"</option>");v.data("item",t),v.attr("value",c),r.$element.append(v)}n||r.pushVal(r.options.triggerChange),r.options.maxTags!==r.itemsArray.length&&r.items().toString().length!==r.options.maxInputLength||r.$container.addClass("bootstrap-tagsinput-max"),e(".typeahead, .twitter-typeahead",r.$container).length&&r.$input.typeahead("val",""),this.isInit?r.$element.trigger(e.Event("itemAddedOnInit",{item:t,options:i})):r.$element.trigger(e.Event("itemAdded",{item:t,options:i}))}}}else if(r.options.onTagExists){var b=e(".tag",r.$container).filter((function(){return e(this).data("item")===p}));r.options.onTagExists(t,b)}}}},remove:function(t,n,i){var o=this;if(o.objectItems&&(t=(t="object"==typeof t?e.grep(o.itemsArray,(function(e){return o.options.itemValue(e)==o.options.itemValue(t)})):e.grep(o.itemsArray,(function(e){return o.options.itemValue(e)==t})))[t.length-1]),t){var r=e.Event("beforeItemRemove",{item:t,cancel:!1,options:i});if(o.$element.trigger(r),r.cancel)return;e(".tag",o.$container).filter((function(){return e(this).data("item")===t})).remove(),e("option",o.$element).filter((function(){return e(this).data("item")===t})).remove(),-1!==e.inArray(t,o.itemsArray)&&o.itemsArray.splice(e.inArray(t,o.itemsArray),1)}n||o.pushVal(o.options.triggerChange),o.options.maxTags>o.itemsArray.length&&o.$container.removeClass("bootstrap-tagsinput-max"),o.$element.trigger(e.Event("itemRemoved",{item:t,options:i}))},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;e(".tag",t.$container).each((function(){var n=e(this),i=n.data("item"),r=t.options.itemValue(i),a=t.options.itemText(i),s=t.options.tagClass(i);(n.attr("class",null),n.addClass("tag "+o(s)),n.contents().filter((function(){return 3==this.nodeType}))[0].nodeValue=o(a),t.isSelect)&&e("option",t.$element).filter((function(){return e(this).data("item")===i})).attr("value",r)}))},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),(function(e){return t.options.itemValue(e).toString()}));t.$element.val(n,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var o=this;if(o.options=e.extend({},s,t),o.objectItems&&(o.options.freeInput=!1),n(o.options,"itemValue"),n(o.options,"itemText"),i(o.options,"tagClass"),o.options.typeahead){var l=o.options.typeahead||{};i(l,"source"),o.$input.typeahead(e.extend({},l,{source:function(t,n){function i(e){for(var t=[],i=0;i<e.length;i++){var a=o.options.itemText(e[i]);r[a]=e[i],t.push(a)}n(t)}this.map={};var r=this.map,a=l.source(t);e.isFunction(a.success)?a.success(i):e.isFunction(a.then)?a.then(i):e.when(a).then(i)},updater:function(e){return o.add(this.map[e]),this.map[e]},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))}if(o.options.typeaheadjs){var c=o.options.typeaheadjs;e.isArray(c)||(c=[null,c]);var u=c[1].valueKey,d=u?function(e){return e[u]}:function(e){return e};e.fn.typeahead.apply(o.$input,c).on("typeahead:selected",e.proxy((function(e,t){o.add(d(t)),o.$input.typeahead("val","")}),o))}o.$container.on("click",e.proxy((function(){o.$element.attr("disabled")||o.$input.removeAttr("disabled"),o.$input.focus()}),o)),o.options.addOnBlur&&o.options.freeInput&&o.$input.on("focusout",e.proxy((function(){0===e(".typeahead, .twitter-typeahead",o.$container).length&&(o.add(o.$input.val()),o.$input.val(""))}),o)),o.$container.on({focusin:function(){o.$container.addClass(o.options.focusClass)},focusout:function(){o.$container.removeClass(o.options.focusClass)}}),o.$container.on("keydown","input",e.proxy((function(t){var n=e(t.target),i=o.findInputWrapper();if(o.$element.attr("disabled"))o.$input.attr("disabled","disabled");else{switch(t.which){case 8:if(0===r(n[0])){var a=i.prev();a.length&&o.remove(a.data("item"))}break;case 46:if(0===r(n[0])){var s=i.next();s.length&&o.remove(s.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var c=i.next();0===n.val().length&&c[0]&&(c.after(i),n.focus())}var u=n.val().length;Math.ceil(u/5),n.attr("size",Math.max(this.inputSize,n.val().length))}}),o)),o.$container.on("keypress","input",e.proxy((function(t){var n=e(t.target);if(o.$element.attr("disabled"))o.$input.attr("disabled","disabled");else{var i=n.val(),r=o.options.maxChars&&i.length>=o.options.maxChars;o.options.freeInput&&(a(t,o.options.confirmKeys)||r)&&(0!==i.length&&(o.add(r?i.substr(0,o.options.maxChars):i),n.val("")),!1===o.options.cancelConfirmKeysOnEmpty&&t.preventDefault());var s=n.val().length;Math.ceil(s/5),n.attr("size",Math.max(this.inputSize,n.val().length))}}),o)),o.$container.on("click","[data-role=remove]",e.proxy((function(t){o.$element.attr("disabled")||o.remove(e(t.target).closest(".tag").data("item"))}),o)),o.options.itemValue===s.itemValue&&("INPUT"===o.$element[0].tagName?o.add(o.$element.val()):e("option",o.$element).each((function(){o.add(e(this).attr("value"),!0)})))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(n,i,o){var r=[];return this.each((function(){var a=e(this).data("tagsinput");if(a)if(n||i){if(void 0!==a[n]){if(3===a[n].length&&void 0!==o)var s=a[n](i,null,o);else s=a[n](i);void 0!==s&&r.push(s)}}else r.push(a);else a=new t(this,n),e(this).data("tagsinput",a),r.push(a),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())})),
"string"==typeof n?r.length>1?r:r[0]:r},e.fn.tagsinput.Constructor=t;var l=e("<div />");e((function(){e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()}))}(window.jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,(function(e){"use strict";function t(e){return e[0]}function n(e){return e[e.length-1]}function i(e){return e.slice(1)}function o(t,n){return e.inArray(n,t)}function r(e,t){return-1!==o(e,t)}function a(t){return t&&e(t).hasClass("note-editable")}function s(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function l(e){return e&&3===e.nodeType}function c(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(e.nodeName.toUpperCase())}function u(e){return!a(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())}function d(e){return!(f(e)||h(e)||ke(e)||u(e)||Ce(e)||Se(e)||xe(e))}function h(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())}function p(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())}function f(e){return p(e)||Se(e)||a(e)}function m(e){return l(e)?e.nodeValue.length:e?e.childNodes.length:0}function g(e){var t=m(e);return 0===t||!l(e)&&1===t&&e.innerHTML===Ae||!(!ce.all(e.childNodes,l)||""!==e.innerHTML)}function v(e){c(e)||m(e)||(e.innerHTML=Ae)}function b(e,t){for(;e;){if(t(e))return e;if(a(e))break;e=e.parentNode}return null}function y(e,t){t=t||le.fail;var n=[];return b(e,(function(e){return a(e)||n.push(e),t(e)})),n}function w(e,t){t=t||le.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n}function _(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function C(t,n){return e.each(n,(function(e,n){t.appendChild(n)})),t}function x(e){return 0===e.offset}function k(e){return e.offset===m(e.node)}function S(e){return x(e)||k(e)}function E(e,t){for(;e&&e!==t;){if(0!==A(e))return!1;e=e.parentNode}return!0}function T(e,t){if(!t)return!1;for(;e&&e!==t;){if(A(e)!==m(e.parentNode)-1)return!1;e=e.parentNode}return!0}function A(e){for(var t=0;e=e.previousSibling;)t+=1;return t}function O(e){return!!(e&&e.childNodes&&e.childNodes.length)}function D(e,t){var n,i;if(0===e.offset){if(a(e.node))return null;n=e.node.parentNode,i=A(e.node)}else O(e.node)?i=m(n=e.node.childNodes[e.offset-1]):(n=e.node,i=t?0:e.offset-1);return{node:n,offset:i}}function I(e,t){var n,i;if(m(e.node)===e.offset){if(a(e.node))return null;n=e.node.parentNode,i=A(e.node)+1}else O(e.node)?(n=e.node.childNodes[e.offset],i=0):(n=e.node,i=t?m(e.node):e.offset+1);return{node:n,offset:i}}function P(e,t){return e.node===t.node&&e.offset===t.offset}function N(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(S(e)&&(l(e.node)||i)){if(x(e))return e.node;if(k(e))return e.node.nextSibling}if(l(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],r=_(e.node.cloneNode(!1),e.node);return C(r,w(o)),n||(v(e.node),v(r)),r}function M(e,t,n){var i=y(t.node,le.eq(e));return i.length?1===i.length?N(t,n):i.reduce((function(e,i){return e===t.node&&(e=N(t,n)),N({node:i,offset:e?A(e):m(i)},n)})):null}function L(e){return document.createElement(e)}function j(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){for(var i=[],o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}}function R(e,t){var n=Oe(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n}function F(e,t){var n,i,o=e.parentElement(),r=document.body.createTextRange(),a=ce.from(o.childNodes);for(n=0;n<a.length;n++)if(!De.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",e)>=0)break;i=a[n]}if(0!==n&&De.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(i||o),s.collapse(!i),l=i?i.nextSibling:o.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&De.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),o=l,n=u}return{cont:o,offset:n}}function B(e){var t=function(e,n){var i,o;if(De.isText(e)){var r=De.listPrev(e,le.not(De.isText)),a=ce.last(r).previousSibling;i=a||e.parentNode,n+=ce.sum(ce.tail(r),De.nodeLength),o=!a}else{if(i=e.childNodes[n]||e,De.isText(i))return t(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=t(e.node,e.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n}e=e&&e.hasOwnProperty("default")?e.default:e;var H,z=function(){function t(e,t,n,i){this.markup=e,this.children=t,this.options=n,this.callback=i}return t.prototype.render=function(t){var n=e(this.markup);if(this.options&&this.options.contents&&n.html(this.options.contents),this.options&&this.options.className&&n.addClass(this.options.className),this.options&&this.options.data&&e.each(this.options.data,(function(e,t){n.attr("data-"+e,t)})),this.options&&this.options.click&&n.on("click",this.options.click),this.children){var i=n.find(".note-children-container");this.children.forEach((function(e){e.render(i.length?i:n)}))}return this.callback&&this.callback(n,this.options),this.options&&this.options.callback&&this.options.callback(n),t&&t.append(n),n},t}(),q=function(t,n){return function(){var i="object"==typeof arguments[1]?arguments[1]:arguments[0],o=e.isArray(arguments[0])?arguments[0]:[];return i&&i.children&&(o=i.children),new z(t,o,i,n)}},U=q('<div class="note-editor note-frame card"/>'),W=q('<div class="note-toolbar-wrapper"><div class="note-toolbar card-header" role="toolbar"></div></div>'),V=q('<div class="note-editing-area"/>'),Y=q('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),K=q('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),G=q(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),Q=q('<div class="note-editor"/>'),X=q(['<output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),Z=q('<div class="note-btn-group btn-group">'),J=q('<div class="dropdown-menu" role="list">',(function(t,n){var i=e.isArray(n.items)?n.items.map((function(e){var t="string"==typeof e?e:e.value||"",i=n.template?n.template(e):e,o="object"==typeof e?e.option:void 0;return'<a class="dropdown-item" href="#" data-value="'+t+'"'+(void 0!==o?' data-option="'+o+'"':"")+' role="listitem" aria-label="'+e+'">'+i+"</a>"})).join(""):n.items;t.html(i).attr({"aria-label":n.title})})),ee=q('<div class="dropdown-menu note-check" role="list">',(function(t,n){var i=e.isArray(n.items)?n.items.map((function(e){var t="string"==typeof e?e:e.value||"",i=n.template?n.template(e):e;return'<a class="dropdown-item" href="#" data-value="'+t+'" role="listitem" aria-label="'+e+'">'+re(n.checkClassName)+" "+i+"</a>"})).join(""):n.items;t.html(i).attr({"aria-label":n.title})})),te=q('<div class="note-color-palette"/>',(function(e,t){for(var n=[],i=0,o=t.colors.length;i<o;i++){for(var r=t.eventName,a=t.colors[i],s=t.colorsName[i],l=[],c=0,u=a.length;c<u;c++){var d=a[c],h=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',r,'" ','data-value="',d,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(n.join("")),t.tooltip&&e.find(".note-color-btn").tooltip({container:t.container,trigger:"hover",placement:"bottom"})})),ne=q('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',(function(e,t){t.fade&&e.addClass("fade"),e.attr({"aria-label":t.title}),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <h4 class="modal-title">'+t.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))})),ie=q(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),(function(e,t){var n=void 0!==t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()})),oe=q('<label class="custom-control custom-checkbox"></label>',(function(e,t){t.id&&e.attr("for",t.id),e.html([' <input role="checkbox" type="checkbox" class="custom-control-input"'+(t.id?' id="'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',' <span class="custom-control-indicator"></span>',' <span class="custom-control-description">'+(t.text?t.text:"")+"</span>","</label>"].join(""))})),re=function(e,t){return"<"+(t=t||"i")+' class="'+e+'"/>'},ae={editor:U,toolbar:W,editingArea:V,codable:Y,editable:K,statusbar:G,airEditor:Q,airEditable:X,buttonGroup:Z,dropdown:J,dropdownButtonContents:function(e){return e},dropdownCheck:ee,palette:te,dialog:ne,popover:ie,icon:re,checkbox:oe,options:{},button:function(e,t){return q('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',(function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip,"aria-label":t.tooltip}).tooltip({container:t.container,trigger:"hover",placement:"bottom"})}))(e,t)},toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?ae.airEditor([ae.editingArea([ae.airEditable()])]):ae.editor([ae.toolbar(),ae.editingArea([ae.codable(),ae.editable()]),ae.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}},se=0,le={eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,n){return t[e]===n[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(n){return e(n)&&t(n)}},invoke:function(e,t){return function(){return e[t].apply(e,arguments)}},uniqueId:function(e){var t=++se+"";return e?e+t:t},rect2bnd:function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})).join("")},debounce:function(e,t,n){var i,o=this;return function(){var r=o,a=arguments,s=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,a)}),t),s&&e.apply(r,a)}}},ce={head:t,last:n,initial:function(e){return e.slice(0,e.length-1)},tail:i,prev:function(e,t){var n=o(e,t);return-1===n?null:e[n-1]},next:function(e,t){var n=o(e,t);return-1===n?null:e[n+1]},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(t(o))return o}},contains:r,all:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!t(e[n]))return!1;return!0},sum:function(e,t){return t=t||le.self,e.reduce((function(e,n){return e+t(n)}),0)},from:function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=e[i];return t},isEmpty:function(e){return!e||!e.length},clusterBy:function(e,o){return e.length?i(e).reduce((function(e,t){var i=n(e);return o(n(i),t)?i[i.length]=t:e[e.length]=[t],e}),[[t(e)]]):[]},compact:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,i=e.length;n<i;n++)r(t,e[n])||t.push(e[n]);return t}},ue="function"==typeof define&&define.amd,de=navigator.userAgent,he=/MSIE|Trident/i.test(de);if(he){var pe=/MSIE (\d+[.]\d+)/.exec(de);pe&&(H=parseFloat(pe[1])),(pe=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(de))&&(H=parseFloat(pe[1]))}var fe=/Edge\/\d+/.test(de),me=!!window.CodeMirror;if(!me&&ue)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),me=!0}catch(e){}else if("undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),me=!0}catch(e){}else void 0!==require.specified&&(me=require.specified("codemirror"));var ge="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,ve=he||fe?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",be={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:he,isEdge:fe,isFF:!fe&&/firefox/i.test(de),isPhantom:/PhantomJS/i.test(de),isWebkit:!fe&&/webkit/i.test(de),isChrome:!fe&&/chrome/i.test(de),isSafari:!fe&&/safari/i.test(de),browserVersion:H,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:ue,isSupportTouch:ge,hasCodeMirror:me,isFontInstalled:function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",t+","+n).width();return i.remove(),o!==r},isW3CRangeSupport:!!document.createRange,inputEventName:ve},ye=String.fromCharCode(160),we=s("PRE"),_e=s("LI"),Ce=s("TABLE"),xe=s("DATA"),ke=s("HR"),Se=s("BLOCKQUOTE"),Ee=s("A"),Te=s("BODY"),Ae=be.isMSIE&&be.browserVersion<11?"&nbsp;":"<br>",Oe=s("TEXTAREA"),De={NBSP_CHAR:ye,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:Ae,emptyPara:"<p>"+Ae+"</p>",makePredByNodeName:s,isEditable:a,isControlSizing:function(t){return t&&e(t).hasClass("note-control-sizing")},isText:l,isElement:function(e){return e&&1===e.nodeType},isVoid:c,isPara:u,isPurePara:function(e){return u(e)&&!_e(e)},isHeading:function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},isInline:d,isBlock:le.not(d),isBodyInline:function(e){return d(e)&&!b(e,u)},isBody:Te,isParaInline:function(e){return d(e)&&!!b(e,u)},isPre:we,isList:h,isTable:Ce,isData:xe,isCell:p,isBlockquote:Se,isBodyContainer:f,isAnchor:Ee,isDiv:s("DIV"),isLi:_e,isBR:s("BR"),isSpan:s("SPAN"),isB:s("B"),isU:s("U"),isS:s("S"),isI:s("I"),isImg:s("IMG"),isTextarea:Oe,isEmpty:g,isEmptyAnchor:le.and(Ee,g),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||le.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:m,isLeftEdgePoint:x,isRightEdgePoint:k,isEdgePoint:S,isLeftEdgeOf:E,isRightEdgeOf:T,isLeftEdgePointOf:function(e,t){return x(e)&&E(e.node,t)},isRightEdgePointOf:function(e,t){return k(e)&&T(e.node,t)},prevPoint:D,nextPoint:I,isSamePoint:P,isVisiblePoint:function(e){if(l(e.node)||!O(e.node)||g(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!c(t)||n&&!c(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=D(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=I(e)}return null},isCharPoint:function(e){if(!l(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==ye},walkPoint:function(e,t,n,i){for(var o=e;o&&(n(o),!P(o,t));)o=I(o,i&&e.node!==o.node&&t.node!==o.node)},ancestor:b,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===m(e);){if(t(e))return e;if(a(e))break;e=e.parentNode}return null},listAncestor:y,lastAncestor:function(e,t){var n=y(e);return ce.last(n.filter(t))},listNext:w,listPrev:function(e,t){t=t||le.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(e,t){var n=[];return t=t||le.ok,function i(o){e!==o&&t(o)&&n.push(o);for(var r=0,a=o.childNodes.length;r<a;r++)i(o.childNodes[r])}(e),n},commonAncestor:function(t,n){for(var i=y(t),o=n;o;o=o.parentNode)if(e.inArray(o,i)>-1)return o;return null},wrap:function(t,n){var i=t.parentNode,o=e("<"+n+">")[0];return i.insertBefore(o,t),o.appendChild(t),o},insertAfter:_,appendChildNodes:C,position:A,hasChildren:O,makeOffsetPath:function(e,t){return y(t,le.eq(e)).map(A).reverse()},fromOffsetPath:function(e,t){for(var n=e,i=0,o=t.length;i<o;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},splitTree:M,splitPoint:function(e,t){var n,i,o=t?u:f,r=y(e.node,o),a=ce.last(r)||e.node;o(a)?(n=r[r.length-2],i=a):i=(n=a).parentNode;var s=n&&M(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||i!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:i}},create:L,createText:function(e){return document.createTextNode(e)},remove:j,removeWhile:function(e,t){for(;e&&!a(e)&&t(e);){var n=e.parentNode;j(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=L(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),C(n,ce.from(e.childNodes)),_(n,e),j(e),n},html:function(t,n){var i=R(t);return n&&(i=i.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||o?"\n":"")})),i=e.trim(i)),i},value:R,posFromPlaceholder:function(t){var n=e(t),i=n.offset(),o=n.outerHeight(!0);return{left:i.left,top:i.top+o}},attachEvents:function(e,t){Object.keys(t).forEach((function(n){e.on(n,t[n])}))},detachEvents:function(e,t){Object.keys(t).forEach((function(n){e.off(n,t[n])}))},isCustomStyleTag:function(e){return e&&!l(e)&&ce.contains(e.classList,"note-styletag")}};e.summernote=e.summernote||{lang:{}},e.extend(e.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Ie={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Pe={isEdit:function(e){return ce.contains([Ie.BACKSPACE,Ie.TAB,Ie.ENTER,Ie.SPACE,Ie.DELETE],e)},isMove:function(e){return ce.contains([Ie.LEFT,Ie.UP,Ie.RIGHT,Ie.DOWN],e)},nameFromCode:le.invertObject(Ie),code:Ie},Ne=function(){function t(e,t,n,i){this.sc=e,this.so=t,this.ec=n,this.eo=i,this.isOnEditable=this.makeIsOn(De.isEditable),this.isOnList=this.makeIsOn(De.isList),this.isOnAnchor=this.makeIsOn(De.isAnchor),this.isOnCell=this.makeIsOn(De.isCell),this.isOnData=this.makeIsOn(De.isData)}return t.prototype.nativeRange=function(){if(be.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}var t=B({node:this.sc,offset:this.so});return t.setEndPoint("EndToEnd",B({node:this.ec,offset:this.eo})),t},t.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},t.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},t.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},t.prototype.select=function(){var e=this.nativeRange();if(be.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},t.prototype.scrollIntoView=function(t){var n=e(t).height();return t.scrollTop+n<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+n-this.sc.offsetTop)),this},t.prototype.normalize=function(){var e=function(e,t){if(De.isVisiblePoint(e)&&!De.isEdgePoint(e)||De.isVisiblePoint(e)&&De.isRightEdgePoint(e)&&!t||De.isVisiblePoint(e)&&De.isLeftEdgePoint(e)&&t||De.isVisiblePoint(e)&&De.isBlock(e.node)&&De.isEmpty(e.node))return e;var n=De.ancestor(e.node,De.isBlock);if((De.isLeftEdgePointOf(e,n)||De.isVoid(De.prevPoint(e).node))&&!t||(De.isRightEdgePointOf(e,n)||De.isVoid(De.nextPoint(e).node))&&t){if(De.isVisiblePoint(e))return e;t=!t}return(t?De.nextPointUntil(De.nextPoint(e),De.isVisiblePoint):De.prevPointUntil(De.prevPoint(e),De.isVisiblePoint))||e},n=e(this.getEndPoint(),!1),i=this.isCollapsed()?n:e(this.getStartPoint(),!0);return new t(i.node,i.offset,n.node,n.offset)},t.prototype.nodes=function(e,t){e=e||le.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return De.walkPoint(o,r,(function(t){var o;De.isEditable(t.node)||(i?(De.isLeftEdgePoint(t)&&s.push(t.node),De.isRightEdgePoint(t)&&ce.contains(s,t.node)&&(o=t.node)):o=n?De.ancestor(t.node,e):t.node,o&&e(o)&&a.push(o))}),!0),ce.unique(a)},t.prototype.commonAncestor=function(){return De.commonAncestor(this.sc,this.ec)},t.prototype.expand=function(e){var n=De.ancestor(this.sc,e),i=De.ancestor(this.ec,e);if(!n&&!i)return new t(this.sc,this.so,this.ec,this.eo);var o=this.getPoints();return n&&(o.sc=n,o.so=0),i&&(o.ec=i,o.eo=De.nodeLength(i)),new t(o.sc,o.so,o.ec,o.eo)},t.prototype.collapse=function(e){return e?new t(this.sc,this.so,this.sc,this.so):new t(this.ec,this.eo,this.ec,this.eo)},t.prototype.splitText=function(){var e=this.sc===this.ec,n=this.getPoints();return De.isText(this.ec)&&!De.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),De.isText(this.sc)&&!De.isEdgePoint(this.getStartPoint())&&(n.sc=this.sc.splitText(this.so),n.so=0,e&&(n.ec=n.sc,n.eo=this.eo-this.so)),new t(n.sc,n.so,n.ec,n.eo)},t.prototype.deleteContents=function(){if(this.isCollapsed())return this;var n=this.splitText(),i=n.nodes(null,{fullyContains:!0}),o=De.prevPointUntil(n.getStartPoint(),(function(e){return!ce.contains(i,e.node)})),r=[];return e.each(i,(function(e,t){var n=t.parentNode;o.node!==n&&1===De.nodeLength(n)&&r.push(n),De.remove(t,!1)})),e.each(r,(function(e,t){De.remove(t,!1)})),new t(o.node,o.offset,o.node,o.offset).normalize()},t.prototype.makeIsOn=function(e){return function(){var t=De.ancestor(this.sc,e);return!!t&&t===De.ancestor(this.ec,e)}},t.prototype.isLeftEdgeOf=function(e){if(!De.isLeftEdgePoint(this.getStartPoint()))return!1;var t=De.ancestor(this.sc,e);return t&&De.isLeftEdgeOf(this.sc,t)},t.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},t.prototype.wrapBodyInlineWithPara=function(){if(De.isBodyContainer(this.sc)&&De.isEmpty(this.sc))return this.sc.innerHTML=De.emptyPara,new t(this.sc.firstChild,0,this.sc.firstChild,0);var e,n=this.normalize();if(De.isParaInline(this.sc)||De.isPara(this.sc))return n;if(De.isInline(n.sc)){var i=De.listAncestor(n.sc,le.not(De.isInline));e=ce.last(i),De.isInline(e)||(e=i[i.length-2]||n.sc.childNodes[n.so])}else e=n.sc.childNodes[n.so>0?n.so-1:0];var o=De.listPrev(e,De.isParaInline).reverse();if((o=o.concat(De.listNext(e.nextSibling,De.isParaInline))).length){var r=De.wrap(ce.head(o),"p");De.appendChildNodes(r,ce.tail(o))}return this.normalize()},t.prototype.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=De.splitPoint(t.getStartPoint(),De.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},t.prototype.pasteHTML=function(t){var n=e("<div></div>").html(t)[0],i=ce.from(n.childNodes),o=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map((function(e){return o.insertNode(e)})).reverse()},t.prototype.toString=function(){var e=this.nativeRange();return be.isW3CRangeSupport?e.toString():e.text},t.prototype.getWordRange=function(e){var n=this.getEndPoint();if(!De.isCharPoint(n))return this;var i=De.prevPointUntil(n,(function(e){return!De.isCharPoint(e)}));return e&&(n=De.nextPointUntil(n,(function(e){return!De.isCharPoint(e)}))),new t(i.node,i.offset,n.node,n.offset)},t.prototype.bookmark=function(e){return{s:{path:De.makeOffsetPath(e,this.sc),offset:this.so},e:{path:De.makeOffsetPath(e,this.ec),offset:this.eo}}},t.prototype.paraBookmark=function(e){return{s:{path:ce.tail(De.makeOffsetPath(ce.head(e),this.sc)),offset:this.so},e:{path:ce.tail(De.makeOffsetPath(ce.last(e),this.ec)),offset:this.eo}}},t.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},t}(),Me={create:function(e,t,n,i){if(4===arguments.length)return new Ne(e,t,n,i);if(2===arguments.length)return new Ne(e,t,n=e,i=t);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0])).collapse(De.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var e,t,n,i;if(be.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(De.isBody(o.anchorNode))return null;var r=o.getRangeAt(0);e=r.startContainer,t=r.startOffset,n=r.endContainer,i=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=F(l,!0),u=F(s,!1);De.isText(c.node)&&De.isLeftEdgePoint(c)&&De.isTextNode(u.node)&&De.isRightEdgePoint(u)&&u.node.nextSibling===c.node&&(c=u),e=c.cont,t=c.offset,n=u.cont,i=u.offset}return new Ne(e,t,n,i)},createFromNode:function(e){var t=e,n=0,i=e,o=De.nodeLength(i);return De.isVoid(t)&&(n=De.listPrev(t).length-1,t=t.parentNode),De.isBR(i)?(o=De.listPrev(i).length-1,i=i.parentNode):De.isVoid(i)&&(o=De.listPrev(i).length,i=i.parentNode),this.create(t,n,i,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=De.fromOffsetPath(e,t.s.path),i=t.s.offset,o=De.fromOffsetPath(e,t.e.path),r=t.e.offset;return new Ne(n,i,o,r)},createFromParaBookmark:function(e,t){var n=e.s.offset,i=e.e.offset,o=De.fromOffsetPath(ce.head(t),e.s.path),r=De.fromOffsetPath(ce.last(t),e.e.path);return new Ne(o,n,r,i)}},Le=function(){function e(e){this.stack=[],this.stackOffset=-1,this.$editable=e,this.editable=e[0]}return e.prototype.makeSnapshot=function(){var e=Me.create(this.editable);return{contents:this.$editable.html(),bookmark:e?e.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},e.prototype.applySnapshot=function(e){null!==e.contents&&this.$editable.html(e.contents),null!==e.bookmark&&Me.createFromBookmark(this.editable,e.bookmark).select()},e.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},e.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},e.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},e.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},e}(),$e=function(){function t(){}return t.prototype.jQueryCSS=function(t,n){if(be.jqueryVersion<1.9){var i={};return e.each(n,(function(e,n){i[n]=t.css(n)})),i}return t.css(n)},t.prototype.fromNode=function(e){var t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{};return t["font-size"]=parseInt(t["font-size"],10),t},t.prototype.stylePara=function(t,n){e.each(t.nodes(De.isPara,{includeAncestor:!0}),(function(t,i){e(i).css(n)}))},t.prototype.styleNodes=function(t,n){t=t.splitText();var i=n&&n.nodeName||"SPAN",o=!(!n||!n.expandClosestSibling),r=!(!n||!n.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(De.create(i))];var a=De.makePredByNodeName(i),s=t.nodes(De.isText,{fullyContains:!0}).map((function(e){return De.singleChildAncestor(e,a)||De.wrap(e,i)}));if(o){if(r){var l=t.nodes();a=le.and(a,(function(e){return ce.contains(l,e)}))}return s.map((function(t){var n=De.withClosestSiblings(t,a),i=ce.head(n),o=ce.tail(n);return e.each(o,(function(e,t){De.appendChildNodes(i,t.childNodes),De.remove(t)})),ce.head(n)}))}return s},t.prototype.current=function(t){var n=e(De.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(n);try{i=e.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||i["font-family"]})}catch(e){}if(t.isOnList()){var o=e.inArray(i["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1
;i["list-style"]=o?"unordered":"ordered"}else i["list-style"]="none";var r=De.ancestor(t.sc,De.isPara);if(r&&r.style["line-height"])i["line-height"]=r.style.lineHeight;else{var a=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=a.toFixed(1)}return i.anchor=t.isOnAnchor()&&De.ancestor(t.sc,De.isAnchor),i.ancestors=De.listAncestor(t.sc,De.isEditable),i.range=t,i},t}(),je=function(){function t(){}return t.prototype.insertOrderedList=function(e){this.toggleList("OL",e)},t.prototype.insertUnorderedList=function(e){this.toggleList("UL",e)},t.prototype.indent=function(t){var n=this,i=Me.create(t).wrapBodyInlineWithPara(),o=i.nodes(De.isPara,{includeAncestor:!0}),r=ce.clusterBy(o,le.peq2("parentNode"));e.each(r,(function(t,i){var o=ce.head(i);De.isLi(o)?n.wrapList(i,o.parentNode.nodeName):e.each(i,(function(t,n){e(n).css("marginLeft",(function(e,t){return(parseInt(t,10)||0)+25}))}))})),i.select()},t.prototype.outdent=function(t){var n=this,i=Me.create(t).wrapBodyInlineWithPara(),o=i.nodes(De.isPara,{includeAncestor:!0}),r=ce.clusterBy(o,le.peq2("parentNode"));e.each(r,(function(t,i){var o=ce.head(i);De.isLi(o)?n.releaseList([i]):e.each(i,(function(t,n){e(n).css("marginLeft",(function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""}))}))})),i.select()},t.prototype.toggleList=function(t,n){var i=this,o=Me.create(n).wrapBodyInlineWithPara(),r=o.nodes(De.isPara,{includeAncestor:!0}),a=o.paraBookmark(r),s=ce.clusterBy(r,le.peq2("parentNode"));if(ce.find(r,De.isPurePara)){var l=[];e.each(s,(function(e,n){l=l.concat(i.wrapList(n,t))})),r=l}else{var c=o.nodes(De.isList,{includeAncestor:!0}).filter((function(n){return!e.nodeName(n,t)}));c.length?e.each(c,(function(e,n){De.replace(n,t)})):r=this.releaseList(s,!0)}Me.createFromParaBookmark(a,r).select()},t.prototype.wrapList=function(e,t){var n=ce.head(e),i=ce.last(e),o=De.isList(n.previousSibling)&&n.previousSibling,r=De.isList(i.nextSibling)&&i.nextSibling,a=o||De.insertAfter(De.create(t||"UL"),i);return e=e.map((function(e){return De.isPurePara(e)?De.replace(e,"LI"):e})),De.appendChildNodes(a,e),r&&(De.appendChildNodes(a,ce.from(r.childNodes)),De.remove(r)),e},t.prototype.releaseList=function(t,n){var i=[];return e.each(t,(function(t,o){var r=ce.head(o),a=ce.last(o),s=n?De.lastAncestor(r,De.isList):r.parentNode,l=s.childNodes.length>1?De.splitTree(s,{node:a.parentNode,offset:De.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,c=De.splitTree(s,{node:r.parentNode,offset:De.position(r)},{isSkipPaddingBlankHTML:!0});o=n?De.listDescendant(c,De.isLi):ce.from(c.childNodes).filter(De.isLi),!n&&De.isList(s.parentNode)||(o=o.map((function(e){return De.replace(e,"P")}))),e.each(ce.from(o).reverse(),(function(e,t){De.insertAfter(t,s)}));var u=ce.compact([s,c,l]);e.each(u,(function(t,n){var i=[n].concat(De.listDescendant(n,De.isList));e.each(i.reverse(),(function(e,t){De.nodeLength(t)||De.remove(t,!0)}))})),i=i.concat(o)})),i},t}(),Re=function(){function t(){this.bullet=new je}return t.prototype.insertTab=function(e,t){var n=De.createText(new Array(t+1).join(De.NBSP_CHAR));(e=e.deleteContents()).insertNode(n,!0),(e=Me.create(n,t)).select()},t.prototype.insertParagraph=function(t){var n=Me.create(t);n=(n=n.deleteContents()).wrapBodyInlineWithPara();var i,o=De.ancestor(n.sc,De.isPara);if(o){if(De.isEmpty(o)&&De.isLi(o))return void this.bullet.toggleList(o.parentNode.nodeName);if(De.isEmpty(o)&&De.isPara(o)&&De.isBlockquote(o.parentNode))De.insertAfter(o,o.parentNode),i=o;else{i=De.splitTree(o,n.getStartPoint());var r=De.listDescendant(o,De.isEmptyAnchor);r=r.concat(De.listDescendant(i,De.isEmptyAnchor)),e.each(r,(function(e,t){De.remove(t)})),(De.isHeading(i)||De.isPre(i)||De.isCustomStyleTag(i))&&De.isEmpty(i)&&(i=De.replace(i,"p"))}}else{var a=n.sc.childNodes[n.so];i=e(De.emptyPara)[0],a?n.sc.insertBefore(i,a):n.sc.appendChild(i)}Me.create(i,0).normalize().select().scrollIntoView(t)},t}(),Fe=function(e,t,n,i){function o(e,t,n,i,o,r,a){var s={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};d[e]||(d[e]=[]),d[e][t]=s}function r(e,t){if(!d[e])return t;if(!d[e][t])return t;for(var n=t;d[e][n];)if(n++,!d[e][n])return n}function a(e,t){var n=r(e.rowIndex,t.cellIndex),i=t.colSpan>1,a=t.rowSpan>1,l=e.rowIndex===u.rowPos&&t.cellIndex===u.colPos;o(e.rowIndex,n,e,t,a,i,!1);var c=t.attributes.rowSpan?parseInt(t.attributes.rowSpan.value,10):0;if(c>1)for(var d=1;d<c;d++){var h=e.rowIndex+d;s(h,n,t,l),o(h,n,e,t,!0,i,!0)}var p=t.attributes.colSpan?parseInt(t.attributes.colSpan.value,10):0;if(p>1)for(var f=1;f<p;f++){var m=r(e.rowIndex,n+f);s(e.rowIndex,m,t,l),o(e.rowIndex,m,e,t,a,!0,!0)}}function s(e,t,n,i){e===u.rowPos&&u.colPos>=n.cellIndex&&n.cellIndex<=t&&!i&&u.colPos++}function l(e){switch(t){case Fe.where.Column:if(e.isColSpan)return Fe.resultAction.SubtractSpanCount;break;case Fe.where.Row:if(!e.isVirtual&&e.isRowSpan)return Fe.resultAction.AddCell;if(e.isRowSpan)return Fe.resultAction.SubtractSpanCount}return Fe.resultAction.RemoveCell}function c(e){switch(t){case Fe.where.Column:if(e.isColSpan)return Fe.resultAction.SumSpanCount;if(e.isRowSpan&&e.isVirtual)return Fe.resultAction.Ignore;break;case Fe.where.Row:if(e.isRowSpan)return Fe.resultAction.SumSpanCount;if(e.isColSpan&&e.isVirtual)return Fe.resultAction.Ignore}return Fe.resultAction.AddCell}var u={colPos:0,rowPos:0},d=[],h=[];this.getActionList=function(){for(var e,i,o,r=t===Fe.where.Row?u.rowPos:-1,a=t===Fe.where.Column?u.colPos:-1,s=0,p=!0;p;){var f=r>=0?r:s,m=a>=0?a:s,g=d[f];if(!g)return p=!1,h;var v=g[m];if(!v)return p=!1,h;var b=Fe.resultAction.Ignore;switch(n){case Fe.requestAction.Add:b=c(v);break;case Fe.requestAction.Delete:b=l(v)}h.push((e=b,i=f,o=m,{baseCell:v.baseCell,action:e,virtualTable:{rowIndex:i,cellIndex:o}})),s++}return h},e&&e.tagName&&("td"===e.tagName.toLowerCase()||"th"===e.tagName.toLowerCase())?(u.colPos=e.cellIndex,e.parentElement&&e.parentElement.tagName&&"tr"===e.parentElement.tagName.toLowerCase()?u.rowPos=e.parentElement.rowIndex:console.error("Impossible to identify start Row point.",e)):console.error("Impossible to identify start Cell point.",e),function(){for(var e=i.rows,t=0;t<e.length;t++)for(var n=e[t].cells,o=0;o<n.length;o++)a(e[t],n[o])}()};Fe.where={Row:0,Column:1},Fe.requestAction={Add:0,Delete:1},Fe.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Be,He=function(){function t(){}return t.prototype.tab=function(e,t){var n=De.ancestor(e.commonAncestor(),De.isCell),i=De.ancestor(n,De.isTable),o=De.listDescendant(i,De.isCell),r=ce[t?"prev":"next"](o,n);r&&Me.create(r,0).select()},t.prototype.addRow=function(t,n){for(var i=De.ancestor(t.commonAncestor(),De.isCell),o=e(i).closest("tr"),r=this.recoverAttributes(o),a=e("<tr"+r+"></tr>"),s=new Fe(i,Fe.where.Row,Fe.requestAction.Add,e(o).closest("table")[0]).getActionList(),l=0;l<s.length;l++){var c=s[l],u=this.recoverAttributes(c.baseCell);switch(c.action){case Fe.resultAction.AddCell:a.append("<td"+u+">"+De.blank+"</td>");break;case Fe.resultAction.SumSpanCount:if("top"===n&&(c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var d=e("<div></div>").append(e("<td"+u+">"+De.blank+"</td>").removeAttr("rowspan")).html();a.append(d);break}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===n)o.before(a);else{if(i.rowSpan>1){var p=o[0].rowIndex+(i.rowSpan-2);return void e(e(o).parent().find("tr")[p]).after(e(a))}o.after(a)}},t.prototype.addCol=function(t,n){var i=De.ancestor(t.commonAncestor(),De.isCell),o=e(i).closest("tr");e(o).siblings().push(o);for(var r=new Fe(i,Fe.where.Column,Fe.requestAction.Add,e(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++){var s=r[a],l=this.recoverAttributes(s.baseCell);switch(s.action){case Fe.resultAction.AddCell:"right"===n?e(s.baseCell).after("<td"+l+">"+De.blank+"</td>"):e(s.baseCell).before("<td"+l+">"+De.blank+"</td>");break;case Fe.resultAction.SumSpanCount:if("right"===n){var c=parseInt(s.baseCell.colSpan,10);c++,s.baseCell.setAttribute("colSpan",c)}else e(s.baseCell).before("<td"+l+">"+De.blank+"</td>")}}},t.prototype.recoverAttributes=function(e){var t="";if(!e)return t;for(var n=e.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(t+=" "+n[i].name+"='"+n[i].value+"'");return t},t.prototype.deleteRow=function(t){for(var n=De.ancestor(t.commonAncestor(),De.isCell),i=e(n).closest("tr"),o=i.children("td, th").index(e(n)),r=i[0].rowIndex,a=new Fe(n,Fe.where.Row,Fe.requestAction.Delete,e(i).closest("table")[0]).getActionList(),s=0;s<a.length;s++)if(a[s]){var l=a[s].baseCell,c=a[s].virtualTable,u=l.rowSpan&&l.rowSpan>1,d=u?parseInt(l.rowSpan,10):0;switch(a[s].action){case Fe.resultAction.Ignore:continue;case Fe.resultAction.AddCell:var h=i.next("tr")[0];if(!h)continue;var p=i[0].cells[o];u&&(d>2?(d--,h.insertBefore(p,h.cells[o]),h.cells[o].setAttribute("rowSpan",d),h.cells[o].innerHTML=""):2===d&&(h.insertBefore(p,h.cells[o]),h.cells[o].removeAttribute("rowSpan"),h.cells[o].innerHTML=""));continue;case Fe.resultAction.SubtractSpanCount:u&&(d>2?(d--,l.setAttribute("rowSpan",d),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")):2===d&&(l.removeAttribute("rowSpan"),c.rowIndex!==r&&l.cellIndex===o&&(l.innerHTML="")));continue;case Fe.resultAction.RemoveCell:continue}}i.remove()},t.prototype.deleteCol=function(t){for(var n=De.ancestor(t.commonAncestor(),De.isCell),i=e(n).closest("tr"),o=i.children("td, th").index(e(n)),r=new Fe(n,Fe.where.Column,Fe.requestAction.Delete,e(i).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a])switch(r[a].action){case Fe.resultAction.Ignore:continue;case Fe.resultAction.SubtractSpanCount:var s=r[a].baseCell;if(s.colSpan&&s.colSpan>1){var l=s.colSpan?parseInt(s.colSpan,10):0;l>2?(l--,s.setAttribute("colSpan",l),s.cellIndex===o&&(s.innerHTML="")):2===l&&(s.removeAttribute("colSpan"),s.cellIndex===o&&(s.innerHTML=""))}continue;case Fe.resultAction.RemoveCell:De.remove(r[a].baseCell,!0);continue}},t.prototype.createTable=function(t,n,i){for(var o,r=[],a=0;a<t;a++)r.push("<td>"+De.blank+"</td>");o=r.join("");for(var s,l=[],c=0;c<n;c++)l.push("<tr>"+o+"</tr>");s=l.join("");var u=e("<table>"+s+"</table>");return i&&i.tableClassName&&u.addClass(i.tableClassName),u[0]},t.prototype.deleteTable=function(t){var n=De.ancestor(t.commonAncestor(),De.isCell);e(n).closest("table").remove()},t}(),ze=function(){function t(t){var n=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new $e,this.table=new He,this.typing=new Re,this.bullet=new je,this.history=new Le(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var i=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,r=i.length;o<r;o++)this[i[o]]=function(e){return function(t){n.beforeCommand(),document.execCommand(e,!1,t),n.afterCommand(!0)}}(i[o]),this.context.memo("help."+i[o],this.lang.help[i[o]]);for(this.fontName=this.wrapCommand((function(e){return n.fontStyling("font-family","'"+e+"'")})),this.fontSize=this.wrapCommand((function(e){return n.fontStyling("font-size",e+"px")})),o=1;o<=6;o++)this["formatH"+o]=function(e){return function(){n.formatBlock("H"+e)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand((function(){n.typing.insertParagraph(n.editable)})),this.insertOrderedList=this.wrapCommand((function(){n.bullet.insertOrderedList(n.editable)})),this.insertUnorderedList=this.wrapCommand((function(){n.bullet.insertUnorderedList(n.editable)})),this.indent=this.wrapCommand((function(){n.bullet.indent(n.editable)})),this.outdent=this.wrapCommand((function(){n.bullet.outdent(n.editable)})),this.insertNode=this.wrapCommand((function(t){n.isLimited(e(t).text().length)||(n.createRange().insertNode(t),Me.createFromNodeAfter(t).select())})),this.insertText=this.wrapCommand((function(e){if(!n.isLimited(e.length)){var t=n.createRange().insertNode(De.createText(e));Me.create(t,De.nodeLength(t)).select()}})),this.pasteHTML=this.wrapCommand((function(e){if(!n.isLimited(e.length)){var t=n.createRange().pasteHTML(e);Me.createFromNodeAfter(ce.last(t)).select()}})),this.formatBlock=this.wrapCommand((function(e,t){var i=n.options.callbacks.onApplyCustomStyle;i?i.call(n,t,n.context,n.onFormatBlock):n.onFormatBlock(e,t)})),this.insertHorizontalRule=this.wrapCommand((function(){var e=n.createRange().insertNode(De.create("HR"));e.nextSibling&&Me.create(e.nextSibling,0).normalize().select()})),this.lineHeight=this.wrapCommand((function(e){n.style.stylePara(n.createRange(),{lineHeight:e})})),this.createLink=this.wrapCommand((function(t){var i=t.url,o=t.text,r=t.isNewWindow,a=t.range||n.createRange(),s=a.toString()!==o;"string"==typeof i&&(i=i.trim()),i=n.options.onCreateLink?n.options.onCreateLink(i):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i)?i:"http://"+i;var l=[];if(s){var c=(a=a.deleteContents()).insertNode(e("<A>"+o+"</A>")[0]);l.push(c)}else l=n.style.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(l,(function(t,n){e(n).attr("href",i),r?e(n).attr("target","_blank"):e(n).removeAttr("target")}));var u=Me.createFromNodeBefore(ce.head(l)).getStartPoint(),d=Me.createFromNodeAfter(ce.last(l)).getEndPoint();Me.create(u.node,u.offset,d.node,d.offset).select()})),this.color=this.wrapCommand((function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)})),this.foreColor=this.wrapCommand((function(e){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,e)})),this.insertTable=this.wrapCommand((function(e){var t=e.split("x");n.createRange().deleteContents().insertNode(n.table.createTable(t[0],t[1],n.options))})),this.removeMedia=this.wrapCommand((function(){var t=e(n.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=e(n.restoreTarget()).detach(),n.context.triggerEvent("media.delete",t,n.$editable)})),this.floatMe=this.wrapCommand((function(t){var i=e(n.restoreTarget());i.toggleClass("note-float-left","left"===t),i.toggleClass("note-float-right","right"===t),i.css("float",t)})),this.resize=this.wrapCommand((function(t){e(n.restoreTarget()).css({width:100*t+"%",height:""})}))}return t.prototype.initialize=function(){var e=this;this.$editable.on("keydown",(function(t){if(t.keyCode===Pe.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1})).on("keyup",(function(t){e.context.triggerEvent("keyup",t)})).on("focus",(function(t){e.context.triggerEvent("focus",t)})).on("blur",(function(t){e.context.triggerEvent("blur",t)})).on("mousedown",(function(t){e.context.triggerEvent("mousedown",t)})).on("mouseup",(function(t){e.context.triggerEvent("mouseup",t)})).on("scroll",(function(t){e.context.triggerEvent("scroll",t)})).on("paste",(function(t){e.context.triggerEvent("paste",t)})),this.$editable.html(De.html(this.$note)||De.emptyPara),this.$editable.on(be.inputEventName,le.debounce((function(){e.context.triggerEvent("change",e.$editable.html())}),100)),this.$editor.on("focusin",(function(t){e.context.triggerEvent("focusin",t)})).on("focusout",(function(t){e.context.triggerEvent("focusout",t)})),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},t.prototype.destroy=function(){this.$editable.off()},t.prototype.handleKeyMap=function(e){var t=this.options.keyMap[be.isMac?"mac":"pc"],n=[];e.metaKey&&n.push("CMD"),e.ctrlKey&&!e.altKey&&n.push("CTRL"),e.shiftKey&&n.push("SHIFT");var i=Pe.nameFromCode[e.keyCode];i&&n.push(i);var o=t[n.join("+")];o?!1!==this.context.invoke(o)&&e.preventDefault():Pe.isEdit(e.keyCode)&&this.afterCommand()},t.prototype.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&ce.contains([66,73,85],e.keyCode)&&e.preventDefault()},t.prototype.isLimited=function(e,t){return e=e||0,(void 0===t||!(Pe.isMove(t.keyCode)||t.ctrlKey||t.metaKey||ce.contains([Pe.code.BACKSPACE,Pe.code.DELETE],t.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+e>=this.options.maxTextLength},t.prototype.createRange=function(){return this.focus(),Me.create(this.editable)},t.prototype.saveRange=function(e){this.lastRange=this.createRange(),e&&this.lastRange.collapse().select()},t.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},t.prototype.saveTarget=function(e){this.$editable.data("target",e)},t.prototype.clearTarget=function(){this.$editable.removeData("target")},t.prototype.restoreTarget=function(){return this.$editable.data("target")},t.prototype.currentStyle=function(){var e=Me.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)},t.prototype.styleFromNode=function(e){return this.style.fromNode(e)},t.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},t.prototype.afterCommand=function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html())},t.prototype.tab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}},t.prototype.untab=function(){var e=this.createRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(0===this.options.tabSize)return!1},t.prototype.wrapCommand=function(e){var t=this;return function(){t.beforeCommand(),e.apply(t,arguments),t.afterCommand()}},t.prototype.insertImage=function(t,n){var i,o=this;return(i=t,e.Deferred((function(t){var n=e("<img>");n.one("load",(function(){n.off("error abort"),t.resolve(n)})).one("error abort",(function(){n.off("load").detach(),t.reject(n)})).css({display:"none"}).appendTo(document.body).attr("src",i)})).promise()).then((function(e){o.beforeCommand(),"function"==typeof n?n(e):("string"==typeof n&&e.attr("data-filename",n),e.css("width",Math.min(o.$editable.width(),e.width()))),e.show(),Me.create(o.editable).insertNode(e[0]),Me.createFromNodeAfter(e[0]).select(),o.afterCommand()})).fail((function(e){o.context.triggerEvent("image.upload.error",e)}))},t.prototype.insertImages=function(t){var n=this;e.each(t,(function(t,i){var o,r=i.name;n.options.maximumImageFileSize&&n.options.maximumImageFileSize<i.size?n.context.triggerEvent("image.upload.error",n.lang.image.maximumFileSizeError):(o=i,e.Deferred((function(t){e.extend(new FileReader,{onload:function(e){var n=e.target.result;t.resolve(n)},onerror:function(e){t.reject(e)}}).readAsDataURL(o)})).promise()).then((function(e){return n.insertImage(e,r)})).fail((function(){n.context.triggerEvent("image.upload.error")}))}))},t.prototype.insertImagesOrCallback=function(e){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImages(e)},t.prototype.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=Me.createFromNode(De.ancestor(e.sc,De.isAnchor))),e.toString()},t.prototype.onFormatBlock=function(t,n){if(t=be.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),n&&n.length){var i=n[0].className||"";if(i){var o=this.createRange();e([o.sc,o.ec]).closest(t).addClass(i)}}},t.prototype.formatPara=function(){this.formatBlock("P")},t.prototype.fontStyling=function(t,n){var i=this.createRange();if(i){var o=this.style.styleNodes(i);if(e(o).css(t,n),i.isCollapsed()){var r=ce.head(o);r&&!De.nodeLength(r)&&(r.innerHTML=De.ZERO_WIDTH_NBSP_CHAR,Me.createFromNodeAfter(r.firstChild).select(),this.$editable.data("bogus",r))}}},t.prototype.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=De.ancestor(e.sc,De.isAnchor);(e=Me.createFromNode(t)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},t.prototype.getLinkInfo=function(){var t=this.createRange().expand(De.isAnchor),n=e(ce.head(t.nodes(De.isAnchor))),i={range:t,text:t.toString(),url:n.length?n.attr("href"):""};return n.length&&(i.isNewWindow="_blank"===n.attr("target")),i},t.prototype.addRow=function(e){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addRow(t,e),this.afterCommand())},t.prototype.addCol=function(e){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.addCol(t,e),this.afterCommand())},t.prototype.deleteRow=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())},t.prototype.deleteCol=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())},t.prototype.deleteTable=function(){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())},t.prototype.resizeTo=function(e,t,n){var i;if(n){var o=e.y/e.x,r=t.data("ratio");i={width:r>o?e.x:e.y/r,height:r>o?e.x*r:e.y}}else i={width:e.x,height:e.y};t.css(i)},t.prototype.hasFocus=function(){return this.$editable.is(":focus")},t.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},t.prototype.isEmpty=function(){return De.isEmpty(this.$editable[0])||De.emptyPara===this.$editable.html()},t.prototype.empty=function(){this.context.invoke("code",De.emptyPara)},t.prototype.normalizeContent=function(){this.$editable[0].normalize()},t}(),qe=function(){function e(e){this.context=e,this.$editable=e.layoutInfo.editable}return e.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},e.prototype.pasteByEvent=function(e){var t=e.originalEvent.clipboardData;if(t&&t.items&&t.items.length){var n=ce.head(t.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),this.context.invoke("editor.afterCommand")}},e}(),Ue=function(){function t(t){this.context=t,this.$eventListener=e(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=e(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return t.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},t.prototype.attachDragAndDropEvent=function(){var t=this,n=e(),i=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(e){var o=t.context.invoke("codeview.isActivated"),r=t.$editor.width()>0&&t.$editor.height()>0;o||n.length||!r||(t.$editor.addClass("dragover"),t.$dropzone.width(t.$editor.width()),t.$dropzone.height(t.$editor.height()),i.text(t.lang.image.dragImageHere)),n=n.add(e.target)},this.documentEventHandlers.onDragleave=function(e){(n=n.not(e.target)).length||t.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){n=e(),t.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",(function(){t.$dropzone.addClass("hover"),i.text(t.lang.image.dropImage)})).on("dragleave",(function(){t.$dropzone.removeClass("hover"),i.text(t.lang.image.dragImageHere)})),this.$dropzone.on("drop",(function(n){var i=n.originalEvent.dataTransfer;n.preventDefault(),i&&i.files&&i.files.length?(t.$editable.focus(),t.context.invoke("editor.insertImagesOrCallback",i.files)):e.each(i.types,(function(n,o){var r=i.getData(o);o.toLowerCase().indexOf("text")>-1?t.context.invoke("editor.pasteHTML",r):e(r).each((function(e,n){t.context.invoke("editor.insertNode",n)}))}))})).on("dragover",!1)},t.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach((function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])})),this.documentEventHandlers={}},t}();be.hasCodeMirror&&(be.isSupportAmd?require(["codemirror"],(function(e){Be=e})):Be=window.CodeMirror);var We=function(){function e(e){this.context=e,this.$editor=e.layoutInfo.editor,this.$editable=e.layoutInfo.editable,this.$codable=e.layoutInfo.codable,this.options=e.options}return e.prototype.sync=function(){this.isActivated()&&be.hasCodeMirror&&this.$codable.data("cmEditor").save()},e.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},e.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},e.prototype.activate=function(){var e=this;if(this.$codable.val(De.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),be.hasCodeMirror){var t=Be.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new Be.TernServer(this.options.codemirror.tern);t.ternServer=n,t.on("cursorActivity",(function(e){n.updateArgHints(e)}))}t.on("blur",(function(n){e.context.triggerEvent("blur.codeview",t.getValue(),n)})),t.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",t)}else this.$codable.on("blur",(function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}))},e.prototype.deactivate=function(){if(be.hasCodeMirror){var e=this.$codable.data("cmEditor");this.$codable.val(e.getValue()),e.toTextArea()}var t=De.value(this.$codable,this.options.prettifyHtml)||De.emptyPara,n=this.$editable.html()!==t;this.$editable.html(t),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),n&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},e.prototype.destroy=function(){this.isActivated()&&this.deactivate()},e}(),Ve=function(){function t(t){this.$document=e(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}return t.prototype.initialize=function(){var e=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",(function(t){t.preventDefault(),t.stopPropagation();var n=e.$editable.offset().top-e.$document.scrollTop(),i=function(t){var i=t.clientY-(n+24);i=e.options.minheight>0?Math.max(i,e.options.minheight):i,i=e.options.maxHeight>0?Math.min(i,e.options.maxHeight):i,e.$editable.height(i)};e.$document.on("mousemove",i).one("mouseup",(function(){e.$document.off("mousemove",i)}))}))},t.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},t}(),Ye=function(){function t(t){var n=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=e(window),this.$scrollbar=e("html, body"),this.onResize=function(){n.resizeTo({h:n.$window.height()-n.$toolbar.outerHeight()})}}return t.prototype.resizeTo=function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)},t.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},t.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},t}(),Ke=function(){function t(t){var n=this;this.context=t,this.$document=e(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(e,t){n.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}}}return t.prototype.initialize=function(){var t=this;this.$handle=e(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",(function(e){if(De.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=t.$handle.find(".note-control-selection").data("target"),i=n.offset(),o=t.$document.scrollTop(),r=function(e){t.context.invoke("editor.resizeTo",{x:e.clientX-i.left,y:e.clientY-(i.top-o)},n,!e.shiftKey),t.update(n[0])};t.$document.on("mousemove",r).one("mouseup",(function(e){e.preventDefault(),t.$document.off("mousemove",r),t.context.invoke("editor.afterCommand")})),n.data("ratio")||n.data("ratio",n.height()/n.width())}})),this.$handle.on("wheel",(function(e){e.preventDefault(),t.update()}))},t.prototype.destroy=function(){this.$handle.remove()},t.prototype.update=function(t){if(this.context.isDisabled())return!1;var n=De.isImg(t),i=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t),n){var o=e(t),r=o.position(),a={left:r.left+parseInt(o.css("marginLeft"),10),top:r.top+parseInt(o.css("marginTop"),10)},s={w:o.outerWidth(!1),h:o.outerHeight(!1)};i.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",o);var l=new Image;l.src=o.attr("src");var c=s.w+"x"+s.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";i.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",t)}else this.hide();return n},t.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},t}(),Ge=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Qe=function(){function t(e){var t=this;this.context=e,this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}}}return t.prototype.initialize=function(){this.lastWordRange=null},t.prototype.destroy=function(){this.lastWordRange=null},t.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),n=t.match(Ge)
;if(n&&(n[1]||n[2])){var i=n[1]?t:"http://"+t,o=e("<a />").html(t).attr("href",i)[0];this.lastWordRange.insertNode(o),this.lastWordRange=null,this.context.invoke("editor.focus")}}},t.prototype.handleKeydown=function(e){if(ce.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}},t.prototype.handleKeyup=function(e){ce.contains([Pe.code.ENTER,Pe.code.SPACE],e.keyCode)&&this.replace()},t}(),Xe=function(){function e(e){var t=this;this.$note=e.layoutInfo.note,this.events={"summernote.change":function(){t.$note.val(e.invoke("code"))}}}return e.prototype.shouldInitialize=function(){return De.isTextarea(this.$note[0])},e}(),Ze=function(){function t(e){var t=this;this.context=e,this.$editingArea=e.layoutInfo.editingArea,this.options=e.options,this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}}}return t.prototype.shouldInitialize=function(){return!!this.options.placeholder},t.prototype.initialize=function(){var t=this;this.$placeholder=e('<div class="note-placeholder">'),this.$placeholder.on("click",(function(){t.context.invoke("focus")})).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},t.prototype.destroy=function(){this.$placeholder.remove()},t.prototype.update=function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)},t}(),Je=function(){function t(t){this.ui=e.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=le.invertObject(this.options.keyMap[be.isMac?"mac":"pc"])}return t.prototype.representShortcut=function(e){var t=this.invertedKeyMap[e];return this.options.shortcuts&&t?(be.isMac&&(t=t.replace("CMD","\u2318").replace("SHIFT","\u21e7"))," ("+(t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},t.prototype.button=function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)},t.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},t.prototype.destroy=function(){delete this.fontInstalledMap},t.prototype.isFontInstalled=function(e){return this.fontInstalledMap.hasOwnProperty(e)||(this.fontInstalledMap[e]=be.isFontInstalled(e)||ce.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]},t.prototype.isFontDeservedToAdd=function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===e.inArray(t,["sans-serif","serif","monospace","cursive","fantasy"])},t.prototype.addToolbarButtons=function(){var t=this;this.context.memo("button.style",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.magic),t.options),tooltip:t.lang.style.style,data:{toggle:"dropdown"}}),t.ui.dropdown({className:"dropdown-style",items:t.options.styleTags,title:t.lang.style.style,template:function(e){"string"==typeof e&&(e={tag:e,title:t.lang.style.hasOwnProperty(e)?t.lang.style[e]:e});var n=e.tag,i=e.title;return"<"+n+(e.style?' style="'+e.style+'" ':"")+(e.className?' class="'+e.className+'"':"")+">"+i+"</"+n+">"},click:t.context.createInvokeHandler("editor.formatBlock")})]).render()}));for(var n=function(e){var n=i.options.styleTags[e];i.context.memo("button.style."+n,(function(){return t.button({className:"note-btn-style-"+n,contents:'<div data-value="'+n+'">'+n.toUpperCase()+"</div>",tooltip:t.lang.style[n],click:t.context.createInvokeHandler("editor.formatBlock")}).render()}))},i=this,o=0,r=this.options.styleTags.length;o<r;o++)n(o);this.context.memo("button.bold",(function(){return t.button({className:"note-btn-bold",contents:t.ui.icon(t.options.icons.bold),tooltip:t.lang.font.bold+t.representShortcut("bold"),click:t.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()})),this.context.memo("button.italic",(function(){return t.button({className:"note-btn-italic",contents:t.ui.icon(t.options.icons.italic),tooltip:t.lang.font.italic+t.representShortcut("italic"),click:t.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()})),this.context.memo("button.underline",(function(){return t.button({className:"note-btn-underline",contents:t.ui.icon(t.options.icons.underline),tooltip:t.lang.font.underline+t.representShortcut("underline"),click:t.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()})),this.context.memo("button.clear",(function(){return t.button({contents:t.ui.icon(t.options.icons.eraser),tooltip:t.lang.font.clear+t.representShortcut("removeFormat"),click:t.context.createInvokeHandler("editor.removeFormat")}).render()})),this.context.memo("button.strikethrough",(function(){return t.button({className:"note-btn-strikethrough",contents:t.ui.icon(t.options.icons.strikethrough),tooltip:t.lang.font.strikethrough+t.representShortcut("strikethrough"),click:t.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()})),this.context.memo("button.superscript",(function(){return t.button({className:"note-btn-superscript",contents:t.ui.icon(t.options.icons.superscript),tooltip:t.lang.font.superscript,click:t.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()})),this.context.memo("button.subscript",(function(){return t.button({className:"note-btn-subscript",contents:t.ui.icon(t.options.icons.subscript),tooltip:t.lang.font.subscript,click:t.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()})),this.context.memo("button.fontname",(function(){var n=t.context.invoke("editor.currentStyle");return e.each(n["font-family"].split(","),(function(n,i){i=i.trim().replace(/['"]+/g,""),t.isFontDeservedToAdd(i)&&-1===e.inArray(i,t.options.fontNames)&&t.options.fontNames.push(i)})),t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontname"/>',t.options),tooltip:t.lang.font.name,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:t.options.icons.menuCheck,items:t.options.fontNames.filter(t.isFontInstalled.bind(t)),title:t.lang.font.name,template:function(e){return"<span style=\"font-family: '"+e+"'\">"+e+"</span>"},click:t.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()})),this.context.memo("button.fontsize",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',t.options),tooltip:t.lang.font.size,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:t.options.icons.menuCheck,items:t.options.fontSizes,title:t.lang.font.size,click:t.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()})),this.context.memo("button.color",(function(){return t.ui.buttonGroup({className:"note-color",children:[t.button({className:"note-current-color-button",contents:t.ui.icon(t.options.icons.font+" note-recent-color"),tooltip:t.lang.color.recent,click:function(n){var i=e(n.currentTarget);t.context.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(e){e.find(".note-recent-color").css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents("",t.options),tooltip:t.lang.color.more,data:{toggle:"dropdown"}}),t.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+t.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',t.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+t.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',t.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(n){n.find(".note-holder").each((function(n,i){var o=e(i);o.append(t.ui.palette({colors:t.options.colors,colorsName:t.options.colorsName,eventName:o.data("event"),container:t.options.container,tooltip:t.options.tooltip}).render())}))},click:function(n){var i=e(n.target),o=i.data("event"),r=i.data("value");if(o&&r){var a="backColor"===o?"background-color":"color",s=i.closest(".note-color").find(".note-recent-color"),l=i.closest(".note-color").find(".note-current-color-button");s.css(a,r),l.attr("data-"+o,r),t.context.invoke("editor."+o,r)}}})]}).render()})),this.context.memo("button.ul",(function(){return t.button({contents:t.ui.icon(t.options.icons.unorderedlist),tooltip:t.lang.lists.unordered+t.representShortcut("insertUnorderedList"),click:t.context.createInvokeHandler("editor.insertUnorderedList")}).render()})),this.context.memo("button.ol",(function(){return t.button({contents:t.ui.icon(t.options.icons.orderedlist),tooltip:t.lang.lists.ordered+t.representShortcut("insertOrderedList"),click:t.context.createInvokeHandler("editor.insertOrderedList")}).render()}));var a=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),s=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),l=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),c=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),u=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",le.invoke(a,"render")),this.context.memo("button.justifyCenter",le.invoke(s,"render")),this.context.memo("button.justifyRight",le.invoke(l,"render")),this.context.memo("button.justifyFull",le.invoke(c,"render")),this.context.memo("button.outdent",le.invoke(u,"render")),this.context.memo("button.indent",le.invoke(d,"render")),this.context.memo("button.paragraph",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.alignLeft),t.options),tooltip:t.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),t.ui.dropdown([t.ui.buttonGroup({className:"note-align",children:[a,s,l,c]}),t.ui.buttonGroup({className:"note-list",children:[u,d]})])]).render()})),this.context.memo("button.height",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.textHeight),t.options),tooltip:t.lang.font.height,data:{toggle:"dropdown"}}),t.ui.dropdownCheck({items:t.options.lineHeights,checkClassName:t.options.icons.menuCheck,className:"dropdown-line-height",title:t.lang.font.height,click:t.context.createInvokeHandler("editor.lineHeight")})]).render()})),this.context.memo("button.table",(function(){return t.ui.buttonGroup([t.button({className:"dropdown-toggle",contents:t.ui.dropdownButtonContents(t.ui.icon(t.options.icons.table),t.options),tooltip:t.lang.table.table,data:{toggle:"dropdown"}}),t.ui.dropdown({title:t.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){e.find(".note-dimension-picker-mousecatcher").css({width:t.options.insertTableMaxSize.col+"em",height:t.options.insertTableMaxSize.row+"em"}).mousedown(t.context.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler.bind(t))}}).render()})),this.context.memo("button.link",(function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.link+t.representShortcut("linkDialog.show"),click:t.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.picture",(function(){return t.button({contents:t.ui.icon(t.options.icons.picture),tooltip:t.lang.image.image,click:t.context.createInvokeHandler("imageDialog.show")}).render()})),this.context.memo("button.video",(function(){return t.button({contents:t.ui.icon(t.options.icons.video),tooltip:t.lang.video.video,click:t.context.createInvokeHandler("videoDialog.show")}).render()})),this.context.memo("button.hr",(function(){return t.button({contents:t.ui.icon(t.options.icons.minus),tooltip:t.lang.hr.insert+t.representShortcut("insertHorizontalRule"),click:t.context.createInvokeHandler("editor.insertHorizontalRule")}).render()})),this.context.memo("button.fullscreen",(function(){return t.button({className:"btn-fullscreen",contents:t.ui.icon(t.options.icons.arrowsAlt),tooltip:t.lang.options.fullscreen,click:t.context.createInvokeHandler("fullscreen.toggle")}).render()})),this.context.memo("button.codeview",(function(){return t.button({className:"btn-codeview",contents:t.ui.icon(t.options.icons.code),tooltip:t.lang.options.codeview,click:t.context.createInvokeHandler("codeview.toggle")}).render()})),this.context.memo("button.redo",(function(){return t.button({contents:t.ui.icon(t.options.icons.redo),tooltip:t.lang.history.redo+t.representShortcut("redo"),click:t.context.createInvokeHandler("editor.redo")}).render()})),this.context.memo("button.undo",(function(){return t.button({contents:t.ui.icon(t.options.icons.undo),tooltip:t.lang.history.undo+t.representShortcut("undo"),click:t.context.createInvokeHandler("editor.undo")}).render()})),this.context.memo("button.help",(function(){return t.button({contents:t.ui.icon(t.options.icons.question),tooltip:t.lang.options.help,click:t.context.createInvokeHandler("helpDialog.show")}).render()}))},t.prototype.addImagePopoverButtons=function(){var e=this;this.context.memo("button.imageSize100",(function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()})),this.context.memo("button.imageSize50",(function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()})),this.context.memo("button.imageSize25",(function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()})),this.context.memo("button.floatLeft",(function(){return e.button({contents:e.ui.icon(e.options.icons.alignLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()})),this.context.memo("button.floatRight",(function(){return e.button({contents:e.ui.icon(e.options.icons.alignRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()})),this.context.memo("button.floatNone",(function(){return e.button({contents:e.ui.icon(e.options.icons.alignJustify),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()})),this.context.memo("button.removeMedia",(function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()}))},t.prototype.addLinkPopoverButtons=function(){var e=this;this.context.memo("button.linkDialogShow",(function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()})),this.context.memo("button.unlink",(function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()}))},t.prototype.addTablePopoverButtons=function(){var e=this;this.context.memo("button.addRowUp",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()})),this.context.memo("button.addRowDown",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()})),this.context.memo("button.addColLeft",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()})),this.context.memo("button.addColRight",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()})),this.context.memo("button.deleteRow",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()})),this.context.memo("button.deleteCol",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()})),this.context.memo("button.deleteTable",(function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()}))},t.prototype.build=function(t,n){for(var i=0,o=n.length;i<o;i++){for(var r=n[i],a=e.isArray(r)?r[0]:r,s=e.isArray(r)?1===r.length?[r[0]]:r[1]:[r],l=this.ui.buttonGroup({className:"note-"+a}).render(),c=0,u=s.length;c<u;c++){var d=this.context.memo("button."+s[c]);d&&l.append("function"==typeof d?d(this.context):d)}l.appendTo(t)}},t.prototype.updateCurrentStyle=function(t){var n=this,i=t||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(i,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var r=o["font-family"].split(",").map((function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")})),a=ce.find(r,this.isFontInstalled.bind(this));i.find(".dropdown-fontname a").each((function(t,n){var i=e(n),o=i.data("value")+""==a+"";i.toggleClass("checked",o)})),i.find(".note-current-fontname").text(a).css("font-family",a)}if(o["font-size"]){var s=o["font-size"];i.find(".dropdown-fontsize a").each((function(t,n){var i=e(n),o=i.data("value")+""==s+"";i.toggleClass("checked",o)})),i.find(".note-current-fontsize").text(s)}if(o["line-height"]){var l=o["line-height"];i.find(".dropdown-line-height li a").each((function(t,i){var o=e(i).data("value")+""==l+"";n.className=o?"checked":""}))}},t.prototype.updateBtnStates=function(t,n){var i=this;e.each(n,(function(e,n){i.ui.toggleBtnActive(t.find(e),n())}))},t.prototype.tableMoveHandler=function(t){var n,i=e(t.target.parentNode),o=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),a=i.find(".note-dimension-picker-highlighted"),s=i.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var l=e(t.target).offset();n={x:t.pageX-l.left,y:t.pageY-l.top}}else n={x:t.offsetX,y:t.offsetY};var c=Math.ceil(n.x/18)||1,u=Math.ceil(n.y/18)||1;a.css({width:c+"em",height:u+"em"}),r.data("value",c+"x"+u),c>3&&c<this.options.insertTableMaxSize.col&&s.css({width:c+1+"em"}),u>3&&u<this.options.insertTableMaxSize.row&&s.css({height:u+1+"em"}),o.html(c+" x "+u)},t}(),et=function(){function t(t){this.context=t,this.$window=e(window),this.$document=e(document),this.ui=e.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.followScroll=this.followScroll.bind(this)}return t.prototype.shouldInitialize=function(){return!this.options.airMode},t.prototype.initialize=function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",(function(){e.context.invoke("buttons.updateCurrentStyle")})),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},t.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},t.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$toolbar.parent(".note-toolbar-wrapper"),n=this.$editor.outerHeight(),i=this.$editor.width(),o=this.$toolbar.height();t.css({height:o});var r=0;this.options.otherStaticBar&&(r=e(this.options.otherStaticBar).outerHeight());var a=this.$document.scrollTop(),s=this.$editor.offset().top;a>s-r&&a<s+n-r-o?this.$toolbar.css({position:"fixed",top:r,width:i}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},t.prototype.changeContainer=function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},t.prototype.updateFullscreen=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)},t.prototype.updateCodeview=function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()},t.prototype.activate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!0)},t.prototype.deactivate=function(e){var t=this.$toolbar.find("button");e||(t=t.not(".btn-codeview")),this.ui.toggleBtn(t,!1)},t}(),tt=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,n=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":e("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),i='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:n,footer:i}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(e,t){e.on("keypress",(function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))},t.prototype.toggleLinkBtn=function(e,t,n){this.ui.toggleBtn(e,t.val()&&n.val())},t.prototype.showLinkDialog=function(t){var n=this;return e.Deferred((function(e){var i=n.$dialog.find(".note-link-text"),o=n.$dialog.find(".note-link-url"),r=n.$dialog.find(".note-link-btn"),a=n.$dialog.find("input[type=checkbox]");n.ui.onDialogShown(n.$dialog,(function(){n.context.triggerEvent("dialog.shown"),t.url||(t.url=t.text),i.val(t.text);var s=function(){n.toggleLinkBtn(r,i,o),t.text=i.val()};i.on("input",s).on("paste",(function(){setTimeout(s,0)}));var l=function(){n.toggleLinkBtn(r,i,o),t.text||i.val(o.val())};o.on("input",l).on("paste",(function(){setTimeout(l,0)})).val(t.url),be.isSupportTouch||o.trigger("focus"),n.toggleLinkBtn(r,i,o),n.bindEnterKey(o,r),n.bindEnterKey(i,r);var c=void 0!==t.isNewWindow?t.isNewWindow:n.context.options.linkTargetBlank;a.prop("checked",c),r.one("click",(function(r){r.preventDefault(),e.resolve({range:t.range,url:o.val(),text:i.val(),isNewWindow:a.is(":checked")}),n.ui.hideDialog(n.$dialog)}))})),n.ui.onDialogHidden(n.$dialog,(function(){i.off("input paste keypress"),o.off("input paste keypress"),r.off("click"),"pending"===e.state()&&e.reject()})),n.ui.showDialog(n.$dialog)})).promise()},t.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then((function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)})).fail((function(){e.context.invoke("editor.restoreRange")}))},t}(),nt=function(){function t(t){var n=this;this.context=t,this.ui=e.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return t.prototype.shouldInitialize=function(){return!ce.isEmpty(this.options.popover.link)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(e){e.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var n=De.ancestor(t.sc,De.isAnchor),i=e(n).attr("href");this.$popover.find("a").attr("href",i).html(i);var o=De.posFromPlaceholder(n);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),it=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t="";if(this.options.maximumImageFileSize){var n=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),i=1*(this.options.maximumImageFileSize/Math.pow(1024,n)).toFixed(2)+" "+" KMGTP"[n]+"B";t="<small>"+this.lang.image.maximumFileSize+" : "+i+"</small>"}var o=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',t,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:r}).render().appendTo(e)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(e,t){e.on("keypress",(function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))},t.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then((function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)})).fail((function(){e.context.invoke("editor.restoreRange")}))},t.prototype.showImageDialog=function(){var t=this;return e.Deferred((function(e){var n=t.$dialog.find(".note-image-input"),i=t.$dialog.find(".note-image-url"),o=t.$dialog.find(".note-image-btn");t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),n.replaceWith(n.clone().on("change",(function(t){e.resolve(t.target.files||t.target.value)})).val("")),o.click((function(t){t.preventDefault(),e.resolve(i.val())})),i.on("keyup paste",(function(){var e=i.val();t.ui.toggleBtn(o,e)})).val(""),be.isSupportTouch||i.trigger("focus"),t.bindEnterKey(i,o)})),t.ui.onDialogHidden(t.$dialog,(function(){n.off("change"),i.off("keyup paste keypress"),o.off("click"),"pending"===e.state()&&e.reject()})),t.ui.showDialog(t.$dialog)}))},t}(),ot=function(){function t(t){var n=this;this.context=t,this.ui=e.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){n.hide()}}}return t.prototype.shouldInitialize=function(){return!ce.isEmpty(this.options.popover.image)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(e){if(De.isImg(e)){var t=De.posFromPlaceholder(e),n=De.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:t.left,top:this.options.popatmouse?event.pageY:Math.min(t.top,n.top)})}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),rt=function(){function t(t){var n=this;this.context=t,this.ui=e.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(e,t){n.update(t.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}}}return t.prototype.shouldInitialize=function(){return!ce.isEmpty(this.options.popover.table)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),be.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(e){if(this.context.isDisabled())return!1;var t=De.isCell(e);if(t){var n=De.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide();return t},t.prototype.hide=function(){this.$popover.hide()},t}(),at=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){
var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),n='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:t,footer:n}).render().appendTo(e)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(e,t){e.on("keypress",(function(e){e.keyCode===Pe.code.ENTER&&(e.preventDefault(),t.trigger("click"))}))},t.prototype.createVideoNode=function(t){var n,i=t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),o=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),a=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),s=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),c=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),u=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=t.match(/^.+.(mp4|m4v)$/),h=t.match(/^.+.(ogg|ogv)$/),p=t.match(/^.+.(webm)$/);if(i&&11===i[1].length){var f=i[1];n=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f).attr("width","640").attr("height","360")}else if(o&&o[0].length)n=e("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)n=e("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(a&&a[3].length)n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+a[3]).attr("width","640").attr("height","360");else if(s&&s[2].length)n=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+s[2]).attr("width","640").attr("height","360");else if(l&&l[1].length)n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]);else if(c&&c[1].length||u&&u[2].length){var m=c&&c[1].length?c[1]:u[2];n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+m+"&amp;auto=0")}else{if(!(d||h||p))return!1;n=e("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return n.addClass("note-video-clip"),n[0]},t.prototype.show=function(){var e=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then((function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var n=e.createVideoNode(t);n&&e.context.invoke("editor.insertNode",n)})).fail((function(){e.context.invoke("editor.restoreRange")}))},t.prototype.showVideoDialog=function(t){var n=this;return e.Deferred((function(e){var i=n.$dialog.find(".note-video-url"),o=n.$dialog.find(".note-video-btn");n.ui.onDialogShown(n.$dialog,(function(){n.context.triggerEvent("dialog.shown"),i.val(t).on("input",(function(){n.ui.toggleBtn(o,i.val())})),be.isSupportTouch||i.trigger("focus"),o.click((function(t){t.preventDefault(),e.resolve(i.val())})),n.bindEnterKey(i,o)})),n.ui.onDialogHidden(n.$dialog,(function(){i.off("input"),o.off("click"),"pending"===e.state()&&e.reject()})),n.ui.showDialog(n.$dialog)}))},t}(),st=function(){function t(t){this.context=t,this.ui=e.summernote.ui,this.$body=e(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var e=this.options.dialogsInBody?this.$body:this.$editor,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a> \xb7 ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:t,callback:function(e){e.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.createShortcutList=function(){var t=this,n=this.options.keyMap[be.isMac?"mac":"pc"];return Object.keys(n).map((function(i){var o=n[i],r=e('<div><div class="help-list-item"/></div>');return r.append(e("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(e("<span/>").html(t.context.memo("help."+o)||o)),r.html()})).join("")},t.prototype.showHelpDialog=function(){var t=this;return e.Deferred((function(e){t.ui.onDialogShown(t.$dialog,(function(){t.context.triggerEvent("dialog.shown"),e.resolve()})),t.ui.showDialog(t.$dialog)})).promise()},t.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then((function(){e.context.invoke("editor.restoreRange")}))},t}(),lt=function(){function t(t){var n=this;this.context=t,this.ui=e.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(e,t){be.isFF||t.relatedTarget&&De.ancestor(t.relatedTarget,le.eq(n.$popover[0]))||n.hide()}}}return t.prototype.shouldInitialize=function(){return this.options.airMode&&!ce.isEmpty(this.options.popover.air)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content");this.context.invoke("buttons.build",e,this.options.popover.air)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){var e=this.context.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var t=ce.last(e.range.getClientRects());if(t){var n=le.rect2bnd(t);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-20,top:n.top+n.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),ct=function(){function t(t){var n=this;this.context=t,this.ui=e.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=e.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)},"summernote.disable summernote.dialog.shown":function(){n.hide()}}}return t.prototype.shouldInitialize=function(){return this.hints.length>0},t.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",(function(){t.$content.find(".active").removeClass("active"),e(t).addClass("active"),t.replace()}))},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},t.prototype.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},t.prototype.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},t.prototype.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var t=this.nodeFromItem(e);this.lastWordRange.insertNode(t),Me.createFromNode(t).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},t.prototype.nodeFromItem=function(e){var t=this.hints[e.data("index")],n=e.data("item"),i=t.content?t.content(n):n;return"string"==typeof i&&(i=De.createText(i)),i},t.prototype.createItemTemplates=function(t,n){var i=this.hints[t];return n.map((function(n){var o=e('<div class="note-hint-item"/>');return o.append(i.template?i.template(n):n+""),o.data({index:t,item:n}),o}))},t.prototype.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===Pe.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===Pe.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===Pe.code.DOWN&&(e.preventDefault(),this.moveDown()))},t.prototype.searchKeyword=function(e,t,n){var i=this.hints[e];if(i&&i.match.test(t)&&i.search){var o=i.match.exec(t);i.search(o[1],n)}else n()},t.prototype.createGroup=function(t,n){var i=this,o=e('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,n,(function(e){(e=e||[]).length&&(o.html(i.createItemTemplates(t,e)),i.show())})),o},t.prototype.handleKeyup=function(e){var t=this;if(!ce.contains([Pe.code.ENTER,Pe.code.UP,Pe.code.DOWN],e.keyCode)){var n=this.context.invoke("editor.createRange").getWordRange(),i=n.toString();if(this.hints.length&&i){this.$content.empty();var o=le.rect2bnd(ce.last(n.getClientRects()));o&&(this.$popover.hide(),this.lastWordRange=n,this.hints.forEach((function(e,n){e.match.test(i)&&t.createGroup(n,i).appendTo(t.$content)})),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:o.left,top:o.top-this.$popover.outerHeight()-5}):this.$popover.css({left:o.left,top:o.top+o.height+5}))}else this.hide()}},t.prototype.show=function(){this.$popover.show()},t.prototype.hide=function(){this.$popover.hide()},t}(),ut=function(){function t(t,n){this.ui=e.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=n,this.initialize()}return t.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},t.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},t.prototype.reset=function(){var e=this.isDisabled();this.code(De.emptyPara),this._destroy(),this._initialize(),e&&this.disable()},t.prototype._initialize=function(){var t=this,n=e.extend({},this.options.buttons);Object.keys(n).forEach((function(e){t.memo("button."+e,n[e])}));var i=e.extend({},this.options.modules,e.summernote.plugins||{});Object.keys(i).forEach((function(e){t.module(e,i[e],!0)})),Object.keys(this.modules).forEach((function(e){t.initializeModule(e)}))},t.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach((function(t){e.removeModule(t)})),Object.keys(this.memos).forEach((function(t){e.removeMemo(t)})),this.triggerEvent("destroy",this)},t.prototype.code=function(e){var t=this.invoke("codeview.isActivated");if(void 0===e)return this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html();t?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e)},t.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},t.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},t.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},t.prototype.triggerEvent=function(){var e=ce.head(arguments),t=ce.tail(ce.from(arguments)),n=this.options.callbacks[le.namespaceToCamel(e,"on")];n&&n.apply(this.$note[0],t),this.$note.trigger("summernote."+e,t)},t.prototype.initializeModule=function(e){var t=this.modules[e];t.shouldInitialize=t.shouldInitialize||le.ok,t.shouldInitialize()&&(t.initialize&&t.initialize(),t.events&&De.attachEvents(this.$note,t.events))},t.prototype.module=function(e,t,n){if(1===arguments.length)return this.modules[e];this.modules[e]=new t(this),n||this.initializeModule(e)},t.prototype.removeModule=function(e){var t=this.modules[e];t.shouldInitialize()&&(t.events&&De.detachEvents(this.$note,t.events),t.destroy&&t.destroy()),delete this.modules[e]},t.prototype.memo=function(e,t){if(1===arguments.length)return this.memos[e];this.memos[e]=t},t.prototype.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},t.prototype.createInvokeHandlerAndUpdateState=function(e,t){var n=this;return function(i){n.createInvokeHandler(e,t)(i),n.invoke("buttons.updateCurrentStyle")}},t.prototype.createInvokeHandler=function(t,n){var i=this;return function(o){o.preventDefault();var r=e(o.target);i.invoke(t,n||r.closest("[data-value]").data("value"),r)}},t.prototype.invoke=function(){var e=ce.head(arguments),t=ce.tail(ce.from(arguments)),n=e.split("."),i=n.length>1,o=i&&ce.head(n),r=i?ce.last(n):ce.head(n),a=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,t):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,t):void 0},t}();e.fn.extend({summernote:function(){var t=e.type(ce.head(arguments)),n="string"===t,i="object"===t,o=e.extend({},e.summernote.options,i?ce.head(arguments):{});o.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[o.lang]),o.icons=e.extend(!0,{},e.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!be.isSupportTouch:o.tooltip,this.each((function(t,n){var i=e(n);if(!i.data("summernote")){var r=new ut(i,o);i.data("summernote",r),i.data("summernote").triggerEvent("init",r.layoutInfo)}}));var r=this.first();if(r.length){var a=r.data("summernote");if(n)return a.invoke.apply(a,ce.from(arguments));o.focus&&a.invoke("editor.focus")}return this}}),e.summernote=e.extend(e.summernote,{version:"0.8.10",ui:ae,dom:De,plugins:{},options:{modules:{editor:ze,clipboard:qe,dropzone:Ue,codeview:We,statusbar:Ve,fullscreen:Ye,handle:Ke,hintPopover:ct,autoLink:Qe,autoSync:Xe,placeholder:Ze,buttons:Je,toolbar:et,linkDialog:tt,linkPopover:nt,imageDialog:it,imagePopover:ot,tablePopover:rt,videoDialog:at,helpDialog:st,airPopover:lt},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})})),function(e){"use strict";e.HSCore.components.HSSummernoteEditor={_baseConfig:{height:100,placeholder:""},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initSummernoteEditor(),this.pageCollection},initSummernoteEditor:function(){var t=this,n=t.config,i=t.pageCollection;this.collection.each((function(t,o){var r=e(o),a=r.data("height")?r.data("height"):n.height,s=r.data("mentions")?JSON.parse(o.getAttribute("data-mentions")):[],l=r.data("placeholder")?r.data("placeholder"):n.placeholder;console.log(s),r.summernote({height:a,placeholder:l,hint:!!r.data("mentions")&&{mentions:s,match:/\B@(\w*)$/,search:function(t,n){n(e.grep(this.mentions,(function(e){return 0==e.indexOf(t)})))},content:function(e){return"@"+e}}}),i=i.add(r)}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSToggleState={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initToggleState(),this.pageCollection},initToggleState:function(){var t=this,n=t.pageCollection;this.collection.each((function(i,o){var r=e(o),a=r.data("target"),s=r.data("slaves");r.on("click",(function(n){n.preventDefault(),r.toggleClass("toggled"),s&&(r.hasClass("toggled")?e(s).addClass("toggled"):e(s).removeClass("toggled")),t.checkedState(r,a,"toggled")})),e(s).on("click",(function(t){t.preventDefault(),e('[data-slaves="'+s+'"]').removeClass("toggled")})),n=n.add(r)}))},checkedState:function(t,n,i){e(t).hasClass(i)?e(n).prop("checked",!0):e(n).prop("checked",!1)}}}(jQuery),appear=function(){"use strict";function e(){var e=window.scrollY||window.pageYOffset;null!=n&&(o.velocity=e-n,o.delta=o.velocity>=0?o.velocity:-1*o.velocity),n=e,i&&clearTimeout(i),i=setTimeout((function(){n=null}),30)}function t(e,t){var n=e.getBoundingClientRect();return n.top+n.height>=0&&n.left+n.width>=0&&n.bottom-n.height<=(window.innerHeight||document.documentElement.clientHeight)+t&&n.right-n.width<=(window.innerWidth||document.documentElement.clientWidth)+t}var n=null,i=0,o={};return addEventListener("scroll",e,!1),function(e){return function(){function e(e,t){return function(){var n=this,i=arguments;clearTimeout(u),u=setTimeout((function(){e.apply(n,i)}),t)}}function n(){o.delta<b.delta.speed&&(d||(d=!0,s(),setTimeout((function(){d=!1}),b.delta.timeout))),e((function(){s()}),b.debounce)()}function i(){s(),addEventListener("scroll",n,!1),addEventListener("resize",n,!1)}function r(){f=[],u&&clearTimeout(u),a()}function a(){removeEventListener("scroll",n,!1),removeEventListener("resize",n,!1)}function s(){h||(f.forEach((function(e,n){e&&t(e,b.bounds)?m[n]&&(m[n]=!1,g++,b.appear&&b.appear(e),b.disappear||b.reappear||(f[n]=null)):(!1===m[n]&&(b.disappear&&b.disappear(e),v++,b.reappear||(f[n]=null)),m[n]=!0)})),b.reappear||b.appear&&(!b.appear||g!==c)||b.disappear&&(!b.disappear||v!==c)||(h=!0,a(),b.done&&b.done()))}function l(){var e;if(!p&&(p=!0,b.init&&b.init(),e="function"==typeof b.elements?b.elements():b.elements)){c=e.length;for(var t=0;t<c;t+=1)f.push(e[t]),m.push(!0);i()}}var c,u,d,h,p=!1,f=[],m=[],g=0,v=0,b={};return function(e){b={init:(e=e||{}).init,elements:e.elements,appear:e.appear,disappear:e.disappear,done:e.done,reappear:e.reappear,bounds:e.bounds||0,debounce:e.debounce||50,delta:{speed:e.deltaSpeed||50,timeout:e.deltaTimeout||500}},addEventListener("DOMContentLoaded",l,!1);var t=!1;Function("/*@cc_on return document.documentMode===10@*/")()&&(t=!0);var n="complete"===document.readyState||"loaded"===document.readyState;return t?n&&l():(n||"interactive"===document.readyState)&&l(),{trigger:function(){s()},pause:function(){a()},resume:function(){i()},destroy:function(){r()}}}}()(e)}}(),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.Circles=t()}(this,(function(){"use strict";var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},t=function(e){var t=e.id;if(this._el=document.getElementById(t),null!==this._el){this._radius=e.radius||10,this._duration=void 0===e.duration?500:e.duration,this._value=0,this._maxValue=e.maxValue||100,this._text=void 0===e.text?function(e){return this.htmlifyNumber(e)}:e.text,this._strokeWidth=e.width||10,this._colors=e.colors||["#EEE","#F00"],this._svg=null,this._movingPath=null,this._wrapContainer=null,this._textContainer=null,this._wrpClass=e.wrpClass||"circles-wrp",this._textClass=e.textClass||"circles-text",this._valClass=e.valueStrokeClass||"circles-valueStroke",this._maxValClass=e.maxValueStrokeClass||"circles-maxValueStroke",this._styleWrapper=!1!==e.styleWrapper,this._styleText=!1!==e.styleText;var n=Math.PI/180*270;this._start=-Math.PI/180*90,this._startPrecise=this._precise(this._start),this._circ=n-this._start,this._generate().update(e.value||0)}};return t.prototype={VERSION:"0.0.6",_generate:function(){return this._svgSize=2*this._radius,this._radiusAdjusted=this._radius-this._strokeWidth/2,this._generateSvg()._generateText()._generateWrapper(),this._el.innerHTML="",this._el.appendChild(this._wrapContainer),this},_setPercentage:function(e){this._movingPath.setAttribute("d",this._calculatePath(e,!0)),this._textContainer.innerHTML=this._getText(this.getValueFromPercent(e))},_generateWrapper:function(){return this._wrapContainer=document.createElement("div"),this._wrapContainer.className=this._wrpClass,this._styleWrapper&&(this._wrapContainer.style.position="relative",this._wrapContainer.style.display="inline-block"),this._wrapContainer.appendChild(this._svg),this._wrapContainer.appendChild(this._textContainer),this},_generateText:function(){if(this._textContainer=document.createElement("div"),this._textContainer.className=this._textClass,this._styleText){var e={position:"absolute",top:0,left:0,textAlign:"center",width:"100%",fontSize:.7*this._radius+"px",height:this._svgSize+"px",lineHeight:this._svgSize+"px"};for(var t in e)this._textContainer.style[t]=e[t]}return this._textContainer.innerHTML=this._getText(0),this},_getText:function(e){return this._text?(void 0===e&&(e=this._value),e=parseFloat(e.toFixed(2)),"function"==typeof this._text?this._text.call(this,e):this._text):""},_generateSvg:function(){return this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this._svg.setAttribute("width",this._svgSize),this._svg.setAttribute("height",this._svgSize),this._generatePath(100,!1,this._colors[0],this._maxValClass)._generatePath(1,!0,this._colors[1],this._valClass),this._movingPath=this._svg.getElementsByTagName("path")[1],this},_generatePath:function(e,t,n,i){var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("fill","transparent"),o.setAttribute("stroke",n),o.setAttribute("stroke-width",this._strokeWidth),o.setAttribute("d",this._calculatePath(e,t)),o.setAttribute("class",i),this._svg.appendChild(o),this},_calculatePath:function(e,t){var n=this._start+e/100*this._circ,i=this._precise(n);return this._arc(i,t)},_arc:function(e,t){var n=e-.001,i=e-this._startPrecise<Math.PI?0:1;return["M",this._radius+this._radiusAdjusted*Math.cos(this._startPrecise),this._radius+this._radiusAdjusted*Math.sin(this._startPrecise),"A",this._radiusAdjusted,this._radiusAdjusted,0,i,1,this._radius+this._radiusAdjusted*Math.cos(n),this._radius+this._radiusAdjusted*Math.sin(n),t?"":"Z"].join(" ")},_precise:function(e){return Math.round(1e3*e)/1e3},htmlifyNumber:function(e,t,n){t=t||"circles-integer",n=n||"circles-decimals";var i=(e+"").split("."),o='<span class="'+t+'">'+i[0]+"</span>";return i.length>1&&(o+='.<span class="'+n+'">'+i[1].substring(0,2)+"</span>"),o},updateRadius:function(e){return this._radius=e,this._generate().update(!0)},updateWidth:function(e){return this._strokeWidth=e,this._generate().update(!0)},updateColors:function(e){this._colors=e;var t=this._svg.getElementsByTagName("path");return t[0].setAttribute("stroke",e[0]),t[1].setAttribute("stroke",e[1]),this},getPercent:function(){return 100*this._value/this._maxValue},getValueFromPercent:function(e){return this._maxValue*e/100},getValue:function(){return this._value},getMaxValue:function(){return this._maxValue},update:function(t,n){if(!0===t)return this._setPercentage(this.getPercent()),this;if(this._value==t||isNaN(t))return this;void 0===n&&(n=this._duration);var i,o,r,a,s=this,l=s.getPercent(),c=1;return this._value=Math.min(this._maxValue,Math.max(0,t)),n?(i=s.getPercent(),o=i>l,c+=i%1,r=Math.floor(Math.abs(i-l)/c),a=n/r,function t(n){if(o?l+=c:l-=c,o&&l>=i||!o&&i>=l)e((function(){s._setPercentage(i)}));else{e((function(){s._setPercentage(l)}));var r=Date.now(),u=r-n;u>=a?t(r):setTimeout((function(){t(Date.now())}),a-u)}}(Date.now()),this):(this._setPercentage(this.getPercent()),this)}},t.create=function(e){return new t(e)},t})),function(e){"use strict";function t(){return"ontouchstart"in window}function n(t,n){return!!t.length&&(this.element=t,this.config=n,this.target=e(this.element.data("unfold-target")),this.allInvokers=e('[data-unfold-target="'+this.element.data("unfold-target")+'"]'),this.toggle=function(){return this.target.length?(this.defaultState?this.show():this.hide(),this):this},this.smartPosition=function(t){t.data("baseDirection")&&t.css(t.data("baseDirection").direction,t.data("baseDirection").value),t.removeClass("u-unfold--reverse-y");var n=e(window),i=getComputedStyle(t.get(0)),o=Math.abs(parseInt(i.left,10))<40?"left":"right",r=t.offset();"right"===o?(t.data("baseDirection")||t.data("baseDirection",{direction:"right",value:parseInt(i.right,10)}),r.left<0&&t.css("right",-1*(parseInt(t.css("right"),10)-(r.left-10)))):(t.data("baseDirection")||t.data("baseDirection",{direction:"left",value:parseInt(i.left,10)}),r.left+t.outerWidth()>n.width()&&t.css("left",parseInt(t.css("left"),10)-(r.left+t.outerWidth()+10-n.width()))),r.top+t.outerHeight()-n.scrollTop()>n.height()&&t.addClass("u-unfold--reverse-y")},this.getOption=function(e){return this.config[e]?this.config[e]:null},!0)}function i(e,t){n.call(this,e,t)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.addClass("u-unfold--simple"),this.hide())}function o(e,t){if(n.call(this,e,t)){var i=this;this.target.addClass("u-unfold--css-animation u-unfold--hidden").css("animation-duration",i.config.unfoldDuration+"ms"),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.length&&this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(e){i.target.hasClass(i.config.unfoldAnimationOut)&&(i.target.removeClass(i.config.unfoldAnimationOut).addClass("u-unfold--hidden"),i.allInvokers.length&&i.allInvokers.attr("aria-expanded","false"),i.config.afterClose.call(i.target,i.element)),i.target.hasClass(i.config.unfoldAnimationIn)&&(i.allInvokers.length&&i.allInvokers.attr("aria-expanded","true"),i.config.afterOpen.call(i.target,i.element)),e.preventDefault(),e.stopPropagation()}))}}function r(e,t){n.call(this,e,t)&&(this.target.addClass("u-unfold--jquery-slide u-unfold--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}))}e.HSCore.components.HSUnfold={_baseConfig:{unfoldEvent:"click",
unfoldType:"simple",unfoldDuration:300,unfoldEasing:"linear",unfoldAnimationIn:"fadeIn",unfoldAnimationOut:"fadeOut",unfoldHideOnScroll:!0,unfoldHideOnBlur:!1,unfoldDelay:350,afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},_pageCollection:e(),init:function(t,n){var a;if(t&&t.length){var s;a=this,t.each((function(t,l){var c,u=e(l);if(!u.data("HSUnfold")){switch((c=n&&e.isPlainObject(n)?e.extend(!0,{},a._baseConfig,n,u.data()):e.extend(!0,{},a._baseConfig,u.data())).unfoldType){case"css-animation":u.data("HSUnfold",new o(u,c));break;case"jquery-slide":u.data("HSUnfold",new r(u,c));break;default:u.data("HSUnfold",new i(u,c))}a._pageCollection=a._pageCollection.add(u),a._bindEvents(u,c.unfoldEvent,c.unfoldDelay);var d=e(l).data("HSUnfold");s=e(d.target).find("input, textarea").length,e(d.target).find("[data-unfold-target]").length&&u.addClass("target-of-invoker-has-unfolds")}}));var l,c=0;return e(document).on("keydown.HSUnfold",(function(t){t.keyCode&&27===t.keyCode&&a._pageCollection.each((function(t,n){var i=window.innerWidth,o=Boolean(e(n).data("is-mobile-only"));l=e(e(e(n).data("unfold-target")).children()),o?o&&i<769&&e(n).data("HSUnfold").hide():e(n).data("HSUnfold").hide(),e(n).data("HSUnfold").config.beforeClose.call(a.target,a.element)})),a._pageCollection.each((function(t,n){e(e(n).data("unfold-target")).hasClass("u-unfold--hidden")||(l=e(e(e(n).data("unfold-target")).children()))})),(t.keyCode&&38===t.keyCode||t.keyCode&&40===t.keyCode)&&t.preventDefault(),t.keyCode&&38===t.keyCode&&c>0&&c--,t.keyCode&&40===t.keyCode&&c<l.length-1&&c++,c<0&&(c=0),(t.keyCode&&38===t.keyCode||t.keyCode&&40===t.keyCode)&&e(l[c]).focus()})),e(window).on("click",(function(){a._pageCollection.each((function(t,n){var i=window.innerWidth,o=Boolean(e(n).data("is-mobile-only"));o?o&&i<769&&e(n).data("HSUnfold").hide():e(n).data("HSUnfold").hide(),e(n).data("HSUnfold").config.beforeClose.call(a.target,a.element)}))})),a._pageCollection.each((function(t,n){var i=e(n).data("HSUnfold").config.unfoldTarget;e(i).on("click",(function(e){e.stopPropagation()}))})),e(window).on("scroll.HSUnfold",(function(){a._pageCollection.each((function(t,n){var i=e(n).data("HSUnfold");(i.getOption("unfoldHideOnScroll")&&0===s||i.getOption("unfoldHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))&&i.hide()}))})),e(window).on("resize.HSUnfold",(function(){a._resizeTimeOutId&&clearTimeout(a._resizeTimeOutId),a._resizeTimeOutId=setTimeout((function(){a._pageCollection.each((function(t,n){var i=e(n).data("HSUnfold");i.smartPosition(i.target)}))}),50)})),t}},_bindEvents:function(n,i,o){var r=e(n.data("unfold-target"));"hover"!==i||t()?n.on("click.HSUnfold",(function(t){var n=e(this),i=e("[data-unfold-target].active:not(.target-of-invoker-has-unfolds)"),o=e("[data-unfold-target].active.target-of-invoker-has-unfolds");n.data("HSUnfold")&&(n.hasClass("target-of-invoker-has-unfolds")?o.length&&o.data("HSUnfold").toggle():i.length&&i.data("HSUnfold").toggle(),n.data("HSUnfold").toggle(),e(e(n.data("unfold-target")).children()[0]).trigger("focus"),t.stopPropagation(),t.preventDefault())})):(n.on("mouseenter.HSUnfold",(function(){var t=e(this).data("HSUnfold");t&&(t.unfoldTimeOut&&clearTimeout(t.unfoldTimeOut),t.show())})).on("mouseleave.HSUnfold",(function(){var t=e(this).data("HSUnfold");t&&(t.unfoldTimeOut=setTimeout((function(){t.hide()}),o))})),r.length&&r.on("mouseenter.HSUnfold",(function(){var e=n.data("HSUnfold");e.unfoldTimeOut&&clearTimeout(e.unfoldTimeOut),e.show()})).on("mouseleave.HSUnfold",(function(){var e=n.data("HSUnfold");e.unfoldTimeOut=setTimeout((function(){e.hide()}),o)})))}},i.prototype.show=function(){var t=e(this)[0].config.unfoldTarget;return e('[data-unfold-target="'+t+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true"),this.config.afterOpen.call(this.target,this.element),this},i.prototype.hide=function(){var t=e(this)[0].config.unfoldTarget;return e('[data-unfold-target="'+t+'"]').removeClass("active"),this.target.addClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false"),this.config.afterClose.call(this.target,this.element),this},o.prototype.show=function(){var t=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+t+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").removeClass(this.config.unfoldAnimationOut).addClass(this.config.unfoldAnimationIn)},o.prototype.hide=function(){var t=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+t+'"]').removeClass("active"),this.target.removeClass(this.config.unfoldAnimationIn).addClass(this.config.unfoldAnimationOut)},r.prototype.show=function(){var t=this,n=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+n+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").stop().slideDown({duration:t.config.unfoldDuration,easing:t.config.unfoldEasing,complete:function(){t.config.afterOpen.call(t.target,t.element)}})},r.prototype.hide=function(){var t=this,n=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+n+'"]').removeClass("active"),this.target.slideUp({duration:t.config.unfoldDuration,easing:t.config.unfoldEasing,complete:function(){t.config.afterClose.call(t.target,t.element),t.target.addClass("u-unfold--hidden")}})}}(jQuery),function(e){"use strict";e.HSCore.components.HSChartPie={_baseConfig:{bounds:-100,debounce:10,rtl:!1,wrpClass:"u-circles-wrap",textClass:"u-circles-text",valueStrokeClass:"u-circles-valueStroke",maxValueStrokeClass:"u-circles-maxValueStroke",styleWrapper:!0,styleText:!0},pageCollection:e(),appearCollectionIds:[],init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCircles(),this.pageCollection},initCircles:function(){var t=this.pageCollection.last(),n=0,i=this;t.length&&(n=+t.attr("id").substring(t.attr("id").lastIndexOf("-")+1)),this.collection.each((function(t,o){var r=e(o),a="hs-pie-"+(n+(t+1)),s=0;r.attr("id",a),r.data("circles-scroll-animate")?(r.data("reminded-value",r.data("circles-value")||0),i.appearCollectionIds.push("#"+a)):s=r.data("circles-value")||0;var l=Circles.create({id:a,radius:r.data("circles-radius")||80,value:s,maxValue:r.data("circles-max-value")||100,width:r.data("circles-stroke-width")||10,text:function(e){return"iconic"==r.data("circles-type")?r.data("circles-icon"):e+(r.data("circles-additional-text")||"")},colors:[r.data("circles-bg-color")||"#377dff",r.data("circles-fg-color")||"#e7eaf3"],duration:r.data("circles-duration")||1e3,wrpClass:i.config.wrpClass,textClass:i.config.textClass,valueStrokeClass:i.config.valueStrokeClass,maxValueStrokeClass:i.config.maxValueStrokeClass,styleWrapper:i.config.styleWrapper,styleText:i.config.styleText});r.data("circle",l),r.find("."+i.config.textClass).css({"font-size":r.data("circles-font-size"),"font-weight":r.data("circles-font-weight"),color:r.data("circles-color")}),i.config.rtl&&r.find("svg").css("transform","matrix(-1, 0, 0, 1, 0, 0)"),i.pageCollection=i.pageCollection.add(r)})),i.appearCollectionIds.length&&i._initAppear()},_initAppear:function(){var t=this;appear({bounds:t.config.bounds,debounce:t.config.debounce,elements:function(){return document.querySelectorAll(t.appearCollectionIds.join(","))},appear:function(t){(t=e(t)).data("circle").update(t.data("reminded-value"))}})},get:function(t){return t&&e.isNumeric(t)?this.pageCollection.eq(t):this.pageCollection},getById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e):null},getCircleAPI:function(t){return t&&e.isNumeric(t)&&this.pageCollection.eq(t).length?this.pageCollection.eq(t).data("circle"):null},getCircleAPIById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e).data("circle"):null}}}(jQuery),function(e){"use strict";e.HSCore.components.HSProgressBar={_baseConfig:{bounds:-100,debounce:10,time:1e3,fps:60,rtl:!1,direction:"horizontal",useProgressElement:!1,indicatorSelector:"progress-bar-indicator",moveElementSelector:!1,moveElementTo:"currentPosition",onChange:function(){},beforeUpdate:function(){},afterUpdate:function(){},onMoveElementChange:function(){},beforeMoveElementUpdate:function(){},afterMoveElementUpdate:function(){}},_pageCollection:e(),init:function(t,n){if(t&&e(t).length)return this.extendHorizontalProgressBar(),this.extendVerticalProgressBar(),this._initProgressBar(t,n&&e.isPlainObject(n)?e.extend(!0,{},this._baseConfig,n):this._baseConfig)},_initProgressBar:function(t,n){var i=this,o=e();return appear({bounds:n.bounds,debounce:n.debounce,init:function(){e(t).each((function(t,r){var a=e(r);"horizontal"===n.direction?a.data("ProgressBar",new i.HorizontalProgressBar(a,n)):a.data("ProgressBar",new i.VerticalProgressBar(a,n)),o=o.add(a),i._pageCollection=i._pageCollection.add(a)}))},elements:function(){return document.querySelectorAll(t)},appear:function(t){e(t).data("ProgressBar").update(e(t).data("value"))}}),o},HorizontalProgressBar:function(t,n){this.element=t,this.indicator=this.element.find(n.indicatorSelector),this.config=n,this.moveElement=n.moveElementSelector?t.parent().find(n.moveElementSelector):e(),this.moveElement.length&&(n.rtl?this.moveElement.css({left:"auto",right:0,"margin-right":this.moveElement.outerWidth()/-2}):this.moveElement.css({left:0,"margin-left":this.moveElement.outerWidth()/-2})),this.config.useProgressElement?(this.element.data("value",this.element.attr("value")),this.element.attr("value",0)):(this.element.data("value",this.indicator.length?Math.round(this.indicator.outerWidth()/this.element.outerWidth()*100):0),this.indicator.css("width","0%"))},VerticalProgressBar:function(e,t){this.element=e,this.config=t,this.indicator=e.find(t.indicatorSelector),this.indicator.length&&(e.data("value",parseInt(this.indicator.css("height"),10)/this.indicator.parent().outerHeight()*100),this.indicator.css("height",0))},extendHorizontalProgressBar:function(){this.HorizontalProgressBar.prototype.update=function(e){var t=this;if(this.config.useProgressElement){var n=this.config.time/this.config.fps,i=parseInt(e/n,10),o=0;t=this;if(0==i&&(i=1),this.config.beforeUpdate.call(this.element),this.moveElement.length&&this.config.beforeMoveElementUpdate.call(this.moveElement),t.config.moveElementSelector&&"end"==t.config.moveElementTo){var r=0,a=parseInt(100/n,10);0==a&&(a=1);var s=setInterval((function(){t.moveSubElement(r+=a),t.moveElement.length&&t.config.onMoveElementChange.call(t.moveElement,r+=a),r>100&&(clearInterval(s),t.moveSubElement(100),t.moveElement.length&&t.config.afterMoveElementUpdate.call(t.moveElement))}),n)}this.element.data("intervalId",setInterval((function(){var n=o+=i;t.element.attr("value",n),t.config.onChange.call(t.element,n),t.config.moveElementSelector&&"currentPosition"==t.config.moveElementTo&&t.moveSubElement(n),o>e&&(t.element.attr("value",e),t.config.moveElementSelector&&"currentPosition"==t.config.moveElementTo&&t.moveSubElement(e),clearInterval(t.element.data("intervalId")),t.config.afterUpdate.call(t.element))}),n))}else this.indicator.length&&this.indicator.stop().animate({width:e+"%"},{duration:t.config.time,complete:function(){t.config.afterUpdate.call(t.element)}})},this.HorizontalProgressBar.prototype.moveSubElement=function(e){if(this.moveElement.length){this.moveElement.css(this.config.rtl?"right":"left",e+"%")}}},extendVerticalProgressBar:function(){this.VerticalProgressBar.prototype.update=function(e){this.indicator.stop().animate({height:e+"%"})}},get:function(){return this._pageCollection},getAPI:function(e){return this._pageCollection.eq(e).length?this._pageCollection.eq(e).data("ProgressBar"):null}}}(jQuery),function(e){"use strict";function t(){return"ontouchstart"in window}function n(t,n){return!!t.length&&(this.element=t,this.config=n,this.target=e(this.element.data("unfold-target")),this.allInvokers=e('[data-unfold-target="'+this.element.data("unfold-target")+'"]'),this.toggle=function(){return this.target.length?(this.defaultState?this.show():this.hide(),this):this},this.smartPosition=function(t){t.data("baseDirection")&&t.css(t.data("baseDirection").direction,t.data("baseDirection").value),t.removeClass("u-unfold--reverse-y");var n=e(window),i=getComputedStyle(t.get(0)),o=Math.abs(parseInt(i.left,10))<40?"left":"right",r=t.offset();"right"===o?(t.data("baseDirection")||t.data("baseDirection",{direction:"right",value:parseInt(i.right,10)}),r.left<0&&t.css("right",-1*(parseInt(t.css("right"),10)-(r.left-10)))):(t.data("baseDirection")||t.data("baseDirection",{direction:"left",value:parseInt(i.left,10)}),r.left+t.outerWidth()>n.width()&&t.css("left",parseInt(t.css("left"),10)-(r.left+t.outerWidth()+10-n.width()))),r.top+t.outerHeight()-n.scrollTop()>n.height()&&t.addClass("u-unfold--reverse-y")},this.getOption=function(e){return this.config[e]?this.config[e]:null},!0)}function i(e,t){n.call(this,e,t)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.addClass("u-unfold--simple"),this.hide())}function o(e,t){if(n.call(this,e,t)){var i=this;this.target.addClass("u-unfold--css-animation u-unfold--hidden").css("animation-duration",i.config.unfoldDuration+"ms"),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.length&&this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(e){i.target.hasClass(i.config.unfoldAnimationOut)&&(i.target.removeClass(i.config.unfoldAnimationOut).addClass("u-unfold--hidden"),i.allInvokers.length&&i.allInvokers.attr("aria-expanded","false"),i.config.afterClose.call(i.target,i.element)),i.target.hasClass(i.config.unfoldAnimationIn)&&(i.allInvokers.length&&i.allInvokers.attr("aria-expanded","true"),i.config.afterOpen.call(i.target,i.element)),e.preventDefault(),e.stopPropagation()}))}}function r(e,t){n.call(this,e,t)&&(this.target.addClass("u-unfold--jquery-slide u-unfold--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}))}e.HSCore.components.HSUnfold={_baseConfig:{unfoldEvent:"click",unfoldType:"simple",unfoldDuration:300,unfoldEasing:"linear",unfoldAnimationIn:"fadeIn",unfoldAnimationOut:"fadeOut",unfoldHideOnScroll:!0,unfoldHideOnBlur:!1,unfoldDelay:350,afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},_pageCollection:e(),init:function(t,n){var a;if(t&&t.length){var s;a=this,t.each((function(t,l){var c,u=e(l);if(!u.data("HSUnfold")){switch((c=n&&e.isPlainObject(n)?e.extend(!0,{},a._baseConfig,n,u.data()):e.extend(!0,{},a._baseConfig,u.data())).unfoldType){case"css-animation":u.data("HSUnfold",new o(u,c));break;case"jquery-slide":u.data("HSUnfold",new r(u,c));break;default:u.data("HSUnfold",new i(u,c))}a._pageCollection=a._pageCollection.add(u),a._bindEvents(u,c.unfoldEvent,c.unfoldDelay);var d=e(l).data("HSUnfold");s=e(d.target).find("input, textarea").length,e(d.target).find("[data-unfold-target]").length&&u.addClass("target-of-invoker-has-unfolds")}}));var l,c=0;return e(document).on("keydown.HSUnfold",(function(t){t.keyCode&&27===t.keyCode&&a._pageCollection.each((function(t,n){var i=window.innerWidth,o=Boolean(e(n).data("is-mobile-only"));l=e(e(e(n).data("unfold-target")).children()),o?o&&i<769&&e(n).data("HSUnfold").hide():e(n).data("HSUnfold").hide(),e(n).data("HSUnfold").config.beforeClose.call(a.target,a.element)})),a._pageCollection.each((function(t,n){e(e(n).data("unfold-target")).hasClass("u-unfold--hidden")||(l=e(e(e(n).data("unfold-target")).children()))})),(t.keyCode&&38===t.keyCode||t.keyCode&&40===t.keyCode)&&t.preventDefault(),t.keyCode&&38===t.keyCode&&c>0&&c--,t.keyCode&&40===t.keyCode&&c<l.length-1&&c++,c<0&&(c=0),(t.keyCode&&38===t.keyCode||t.keyCode&&40===t.keyCode)&&e(l[c]).focus()})),e(window).on("click",(function(){a._pageCollection.each((function(t,n){var i=window.innerWidth,o=Boolean(e(n).data("is-mobile-only"));o?o&&i<769&&e(n).data("HSUnfold").hide():e(n).data("HSUnfold").hide(),e(n).data("HSUnfold").config.beforeClose.call(a.target,a.element)}))})),a._pageCollection.each((function(t,n){var i=e(n).data("HSUnfold").config.unfoldTarget;e(i).on("click",(function(e){e.stopPropagation()}))})),e(window).on("scroll.HSUnfold",(function(){a._pageCollection.each((function(t,n){var i=e(n).data("HSUnfold");(i.getOption("unfoldHideOnScroll")&&0===s||i.getOption("unfoldHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))&&i.hide()}))})),e(window).on("resize.HSUnfold",(function(){a._resizeTimeOutId&&clearTimeout(a._resizeTimeOutId),a._resizeTimeOutId=setTimeout((function(){a._pageCollection.each((function(t,n){var i=e(n).data("HSUnfold");i.smartPosition(i.target)}))}),50)})),t}},_bindEvents:function(n,i,o){var r=e(n.data("unfold-target"));"hover"!==i||t()?n.on("click.HSUnfold",(function(t){var n=e(this),i=e("[data-unfold-target].active:not(.target-of-invoker-has-unfolds)"),o=e("[data-unfold-target].active.target-of-invoker-has-unfolds");n.data("HSUnfold")&&(n.hasClass("target-of-invoker-has-unfolds")?o.length&&o.data("HSUnfold").toggle():i.length&&i.data("HSUnfold").toggle(),n.data("HSUnfold").toggle(),e(e(n.data("unfold-target")).children()[0]).trigger("focus"),t.stopPropagation(),t.preventDefault())})):(n.on("mouseenter.HSUnfold",(function(){var t=e(this).data("HSUnfold");t&&(t.unfoldTimeOut&&clearTimeout(t.unfoldTimeOut),t.show())})).on("mouseleave.HSUnfold",(function(){var t=e(this).data("HSUnfold");t&&(t.unfoldTimeOut=setTimeout((function(){t.hide()}),o))})),r.length&&r.on("mouseenter.HSUnfold",(function(){var e=n.data("HSUnfold");e.unfoldTimeOut&&clearTimeout(e.unfoldTimeOut),e.show()})).on("mouseleave.HSUnfold",(function(){var e=n.data("HSUnfold");e.unfoldTimeOut=setTimeout((function(){e.hide()}),o)})))}},i.prototype.show=function(){var t=e(this)[0].config.unfoldTarget;return e('[data-unfold-target="'+t+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true"),this.config.afterOpen.call(this.target,this.element),this},i.prototype.hide=function(){var t=e(this)[0].config.unfoldTarget;return e('[data-unfold-target="'+t+'"]').removeClass("active"),this.target.addClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false"),this.config.afterClose.call(this.target,this.element),this},o.prototype.show=function(){var t=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+t+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").removeClass(this.config.unfoldAnimationOut).addClass(this.config.unfoldAnimationIn)},o.prototype.hide=function(){var t=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+t+'"]').removeClass("active"),this.target.removeClass(this.config.unfoldAnimationIn).addClass(this.config.unfoldAnimationOut)},r.prototype.show=function(){var t=this,n=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+n+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").stop().slideDown({duration:t.config.unfoldDuration,easing:t.config.unfoldEasing,complete:function(){t.config.afterOpen.call(t.target,t.element)}})},r.prototype.hide=function(){var t=this,n=e(this)[0].config.unfoldTarget;e('[data-unfold-target="'+n+'"]').removeClass("active"),this.target.slideUp({duration:t.config.unfoldDuration,easing:t.config.unfoldEasing,complete:function(){t.config.afterClose.call(t.target,t.element),t.target.addClass("u-unfold--hidden")}})}}(jQuery);var isEmpty=function(e){return/^function[^{]+\{\s*\}/m.test(e.toString())},geocoder,editmap,editmarker;!function(e){"use strict";e.HSCore.components.HSValidation={_baseConfig:{errorElement:"div",errorClass:"invalid-feedback",rules:{},onkeyup:function(t){e(t).valid()},errorPlacement:function(){},highlight:function(){},unhighlight:function(){}},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initValidation(),this.pageCollection},initValidation:function(){var t=this,n=t.config,i=t.pageCollection;this.collection.each((function(o,r){var a=e(r);a.hasClass("js-step-form")?e.validator.setDefaults({ignore:":hidden:not(.active select)"}):e.validator.setDefaults({ignore:":hidden:not(select)"}),a.validate({errorElement:n.errorElement,errorClass:n.errorClass,rules:n.rules,onkeyup:n.onkeyup,errorPlacement:1==isEmpty(n.errorPlacement)?t.errorPlacement:n.errorPlacement,highlight:1==isEmpty(n.highlight)?t.highlight:n.highlight,unhighlight:1==isEmpty(n.unhighlight)?t.unHighlight:n.unhighlight}),e("select").change((function(){e(this).valid()})),i=i.add(a)}))},errorPlacement:function(t,n){var i=e(n).data("msg-classes");t.addClass(i),t.appendTo(n.parents(".js-form-message"))},highlight:function(t){var n=e(t),i=n.data("error-class"),o=n.data("success-class");n.parents(".js-form-message").removeClass(o).addClass(i)},unHighlight:function(t){var n=e(t),i=n.data("error-class"),o=n.data("success-class");n.parents(".js-form-message").removeClass(i).addClass(o)}}}(jQuery),function(e){"use strict";e.HSCore.components.HSVideoPlayer={_baseConfig:{oneClick:function(){}},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.videoPlayerInit(),this.pageCollection},videoPlayerInit:function(){var t=this,n=t.config,i=t.pageCollection;this.collection.each((function(t,o){var r=e(o),a=e(r.data("target")),s=r.data("classes"),l=0;r.on("click",(function(e){a.toggleClass(s),l<1&&(n.oneClick(),l++),e.preventDefault()})),i=i.add(r)}))}}}(jQuery),function(e,t,n,i){"use strict";function o(t,n,r){var a=this;if(e.data(t,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");a.obj=t,a.$obj=e(t),e.data(a.obj,"cubeportfolio",a),n&&n.sortToPreventGaps!==i&&(n.sortByDimension=n.sortToPreventGaps,delete n.sortToPreventGaps),a.options=e.extend({},e.fn.cubeportfolio.options,n,a.$obj.data("cbp-options")),a.isAnimating=!0,a.defaultFilter=a.options.defaultFilter,a.registeredEvents=[],a.queue=[],a.addedWrapp=!1,e.isFunction(r)&&a.registerEvent("initFinish",r,!0);var s=a.$obj.children();a.$obj.addClass("cbp"),(0===s.length||s.first().hasClass("cbp-item"))&&(a.wrapInner(a.obj,"cbp-wrapper"),a.addedWrapp=!0),a.$ul=a.$obj.children().addClass("cbp-wrapper"),a.wrapInner(a.obj,"cbp-wrapper-outer"),a.wrapper=a.$obj.children(".cbp-wrapper-outer"),a.blocks=a.$ul.children(".cbp-item"),a.blocksOn=a.blocks,a.wrapInner(a.blocks,"cbp-item-wrapper"),a.plugins={},e.each(o.plugins,(function(e,t){var n=t(a);n&&(a.plugins[e]=n)})),a.triggerEvent("afterPlugins"),a.removeAttrAfterStoreData=e.Deferred(),a.loadImages(a.$obj,a.display)}e.extend(o.prototype,{storeData:function(t,n){var i=this;n=n||0,t.each((function(t,o){var r=e(o),a=r.width(),s=r.height();r.data("cbp",{index:n+t,indexInitial:n+t,wrapper:r.children(".cbp-item-wrapper"),widthInitial:a,heightInitial:s,width:a,height:s,widthAndGap:a+i.options.gapVertical,heightAndGap:s+i.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})})),this.removeAttrAfterStoreData.resolve()},wrapInner:function(e,t){var o,r,a;if(t=t||"",!(e.length&&e.length<1))for(e.length===i&&(e=[e]),r=e.length-1;0<=r;r--){for(o=e[r],(a=n.createElement("div")).setAttribute("class",t);o.childNodes.length;)a.appendChild(o.childNodes[0]);o.appendChild(a)}},removeAttrImage:function(e){this.removeAttrAfterStoreData.then((function(){e.removeAttribute("width"),e.removeAttribute("height"),e.removeAttribute("style")}))},loadImages:function(t,n){var i=this;requestAnimationFrame((function(){var o=t.find("img").map((function(t,n){if(n.hasAttribute("width")&&n.hasAttribute("height")){if(n.style.width=n.getAttribute("width")+"px",n.style.height=n.getAttribute("height")+"px",n.hasAttribute("data-cbp-src"))return null;if(null===i.checkSrc(n))i.removeAttrImage(n);else{var o=e("<img>");o.on("load.cbp error.cbp",(function(){e(this).off("load.cbp error.cbp"),i.removeAttrImage(n)})),n.srcset?(o.attr("sizes",n.sizes||"100vw"),o.attr("srcset",n.srcset)):o.attr("src",n.src)}return null}return i.checkSrc(n)})),r=o.length;0!==r?e.each(o,(function(t,o){var a=e("<img>");a.on("load.cbp error.cbp",(function(){e(this).off("load.cbp error.cbp"),0==--r&&n.call(i)})),o.srcset?(a.attr("sizes",o.sizes),a.attr("srcset",o.srcset)):a.attr("src",o.src)})):n.call(i)}))},checkSrc:function(t){var n=t.srcset,o=t.src;if(""===o)return null;var r=e("<img>");n?(r.attr("sizes",t.sizes||"100vw"),r.attr("srcset",n)):r.attr("src",o);var a=r[0];return a.complete&&a.naturalWidth!==i&&0!==a.naturalWidth?null:a},display:function(){var e=this;e.width=e.$obj.outerWidth(),e.triggerEvent("initStartRead"),e.triggerEvent("initStartWrite"),0<e.width&&(e.storeData(e.blocks),e.layoutAndAdjustment()),e.triggerEvent("initEndRead"),e.triggerEvent("initEndWrite"),e.$obj.addClass("cbp-ready"),e.runQueue("delayFrame",e.delayFrame)},delayFrame:function(){var e=this;requestAnimationFrame((function(){e.resizeEvent(),e.triggerEvent("initFinish"),e.isAnimating=!1,e.$obj.trigger("initComplete.cbp")}))},resizeEvent:function(){var e=this;o.private.resize.initEvent({instance:e,fn:function(){e.triggerEvent("beforeResizeGrid");var t=e.$obj.outerWidth();t&&e.width!==t&&(e.width=t,"alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.layoutAndAdjustment(),e.triggerEvent("resizeGrid")),e.triggerEvent("resizeWindow")}})},gridAdjust:function(){var t=this;"responsive"===t.options.gridAdjustment?t.responsiveLayout():(t.blocks.removeAttr("style"),t.blocks.each((function(n,i){var o=e(i).data("cbp"),r=i.getBoundingClientRect(),a=t.columnWidthTruncate(r.right-r.left),s=Math.round(r.bottom-r.top);o.height=s,o.heightAndGap=s+t.options.gapHorizontal,o.width=a,o.widthAndGap=a+t.options.gapVertical})),t.widthAvailable=t.width+t.options.gapVertical),t.triggerEvent("gridAdjust")},layoutAndAdjustment:function(e){e&&(this.width=this.$obj.outerWidth()),this.gridAdjust(),this.layout()},layout:function(){var t=this;t.computeBlocks(t.filterConcat(t.defaultFilter)),"slider"===t.options.layoutMode?(t.sliderLayoutReset(),t.sliderLayout()):(t.mosaicLayoutReset(),t.mosaicLayout()),t.blocksOff.addClass("cbp-item-off"),t.blocksOn.removeClass("cbp-item-off").each((function(t,n){var i=e(n).data("cbp");i.left=i.leftNew,i.top=i.topNew,n.style.left=i.left+"px",n.style.top=i.top+"px"})),t.resizeMainContainer()},computeFilter:function(e){this.computeBlocks(e),this.mosaicLayoutReset(),this.mosaicLayout(),this.filterLayout()},filterLayout:function(){this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each((function(t,n){var i=e(n).data("cbp");i.left=i.leftNew,i.top=i.topNew,n.style.left=i.left+"px",n.style.top=i.top+"px"})),this.resizeMainContainer(),this.filterFinish()},filterFinish:function(){this.isAnimating=!1,this.$obj.trigger("filterComplete.cbp"),this.triggerEvent("filterFinish")},computeBlocks:function(e){var t=this;t.blocksOnInitial=t.blocksOn,t.blocksOn=t.blocks.filter(e),t.blocksOff=t.blocks.not(e),t.triggerEvent("computeBlocksFinish",e)},responsiveLayout:function(){var t=this;t.cols=t[e.isArray(t.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),t.columnWidth=t.columnWidthTruncate((t.width+t.options.gapVertical)/t.cols),t.widthAvailable=t.columnWidth*t.cols,"mosaic"===t.options.layoutMode&&t.getMosaicWidthReference(),t.blocks.each((function(n,i){var o,r=e(i).data("cbp"),a=1;"mosaic"===t.options.layoutMode&&(a=t.getColsMosaic(r.widthInitial)),o=t.columnWidth*a-t.options.gapVertical,i.style.width=o+"px",r.width=o,r.widthAndGap=o+t.options.gapVertical,i.style.height=""}));var n=[];t.blocks.each((function(t,i){e.each(e(i).find("img").filter("[width][height]"),(function(t,i){var o=0;e(i).parentsUntil(".cbp-item").each((function(t,n){var i=e(n).width();if(0<i)return o=i,!1}));var r=parseInt(i.getAttribute("width"),10),a=parseInt(i.getAttribute("height"),10),s=parseFloat((r/a).toFixed(10));n.push({el:i,width:o,height:Math.round(o/s)})}))})),e.each(n,(function(e,t){t.el.width=t.width,t.el.height=t.height,t.el.style.width=t.width+"px",t.el.style.height=t.height+"px"})),t.blocks.each((function(n,i){var o=e(i).data("cbp"),r=i.getBoundingClientRect(),a=Math.round(r.bottom-r.top);o.height=a,o.heightAndGap=a+t.options.gapHorizontal}))},getMosaicWidthReference:function(){var t=[];this.blocks.each((function(n,i){var o=e(i).data("cbp");t.push(o.widthInitial)})),t.sort((function(e,t){return e-t})),t[0]?this.mosaicWidthReference=t[0]:this.mosaicWidthReference=this.columnWidth},getColsMosaic:function(e){if(e===this.width)return this.cols;var t=e/this.mosaicWidthReference;return t=.79<=t%1?Math.ceil(t):Math.floor(t),Math.min(Math.max(t,1),this.cols)},getColumnsAuto:function(){if(0===this.blocks.length)return 1;var e=this.blocks.first().data("cbp").widthInitial+this.options.gapVertical;return Math.max(Math.round(this.width/e),1)},getColumnsBreakpoints:function(){var t,n=this,i=n.width;return e.each(n.options.mediaQueries,(function(e,n){if(i>=n.width)return t=n,!1})),t||(t=n.options.mediaQueries[n.options.mediaQueries.length-1]),n.triggerEvent("onMediaQueries",t.options),t.cols},columnWidthTruncate:function(e){return Math.floor(e)},resizeMainContainer:function(){var t,n=this,r=Math.max(n.freeSpaces.slice(-1)[0].topStart-n.options.gapHorizontal,0);"alignCenter"===n.options.gridAdjustment&&(t=0,n.blocksOn.each((function(n,i){var o=e(i).data("cbp"),r=o.left+o.width;t<r&&(t=r)})),n.wrapper[0].style.maxWidth=t+"px"),r!==n.height&&(n.obj.style.height=r+"px",n.height!==i&&(o.private.modernBrowser?n.$obj.one(o.private.transitionend,(function(){n.$obj.trigger("pluginResize.cbp")})):n.$obj.trigger("pluginResize.cbp")),n.height=r),n.triggerEvent("resizeMainContainer")},filterConcat:function(e){return e.replace(/\|/gi,"")},pushQueue:function(e,t){this.queue[e]=this.queue[e]||[],this.queue[e].push(t)},runQueue:function(t,n){var i=this.queue[t]||[];e.when.apply(e,i).then(e.proxy(n,this))},clearQueue:function(e){this.queue[e]=[]},registerEvent:function(e,t,n){this.registeredEvents[e]||(this.registeredEvents[e]=[]),this.registeredEvents[e].push({func:t,oneTime:n||!1})},triggerEvent:function(e,t){var n,i,o=this;if(o.registeredEvents[e])for(n=0,i=o.registeredEvents[e].length;n<i;n++)o.registeredEvents[e][n].func.call(o,t),o.registeredEvents[e][n].oneTime&&(o.registeredEvents[e].splice(n,1),n--,i--)},addItems:function(t,n,i){var r=this;r.wrapInner(t,"cbp-item-wrapper"),r.$ul[i](t.addClass("cbp-item-loading").css({top:"100%",left:0})),o.private.modernBrowser?t.last().one(o.private.animationend,(function(){r.addItemsFinish(t,n)})):r.addItemsFinish(t,n),r.loadImages(t,(function(){if(r.$obj.addClass("cbp-updateItems"),"append"===i)r.storeData(t,r.blocks.length),e.merge(r.blocks,t);else{r.storeData(t);var n=t.length;r.blocks.each((function(t,i){e(i).data("cbp").index=n+t})),r.blocks=e.merge(t,r.blocks)}r.triggerEvent("addItemsToDOM",t),r.triggerEvent("triggerSort"),r.layoutAndAdjustment(!0),r.elems&&o.public.showCounter.call(r.obj,r.elems)}))},addItemsFinish:function(t,n){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),t.removeClass("cbp-item-loading"),e.isFunction(n)&&n.call(this,t),this.$obj.trigger("onAfterLoadMore.cbp",[t])},removeItems:function(t,n){var i=this;i.$obj.addClass("cbp-updateItems"),o.private.modernBrowser?t.last().one(o.private.animationend,(function(){i.removeItemsFinish(t,n)})):i.removeItemsFinish(t,n),t.each((function(t,n){i.blocks.each((function(t,r){if(n===r){var a=e(r);i.blocks.splice(t,1),o.private.modernBrowser?(a.one(o.private.animationend,(function(){a.remove()})),a.addClass("cbp-removeItem")):a.remove()}}))})),i.blocks.each((function(t,n){e(n).data("cbp").index=t})),i.triggerEvent("triggerSort"),i.layoutAndAdjustment(!0),i.elems&&o.public.showCounter.call(i.obj,i.elems)},removeItemsFinish:function(t,n){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),e.isFunction(n)&&n.call(this,t)}}),e.fn.cubeportfolio=function(e,t,n){return this.each((function(){if("object"==typeof e||!e)return o.public.init.call(this,e,t);if(o.public[e])return o.public[e].call(this,t,n);throw new Error("Method "+e+" does not exist on jquery.cubeportfolio.js")}))},
o.plugins={},e.fn.cubeportfolio.constructor=o}(jQuery,window,document),function(e){"use strict";var t=e.fn.cubeportfolio.constructor;e.extend(t.prototype,{mosaicLayoutReset:function(){var t=this;t.blocksAreSorted=!1,t.blocksOn.each((function(n,i){e(i).data("cbp").pack=!1,t.options.sortByDimension&&(i.style.height="")})),t.freeSpaces=[{leftStart:0,leftEnd:t.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}]},mosaicLayout:function(){for(var e=this,t=0,n=e.blocksOn.length;t<n;t++){var i=e.getSpaceIndexAndBlock();if(null===i)return e.mosaicLayoutReset(),e.blocksAreSorted=!0,e.sortBlocks(e.blocksOn,"widthAndGap","heightAndGap",!0),void e.mosaicLayout();e.generateF1F2(i.spaceIndex,i.dataBlock),e.generateG1G2G3G4(i.dataBlock),e.cleanFreeSpaces(),e.addHeightToBlocks()}e.blocksAreSorted&&e.sortBlocks(e.blocksOn,"topNew","leftNew")},getSpaceIndexAndBlock:function(){var t=this,n=null;return e.each(t.freeSpaces,(function(i,o){var r=o.leftEnd-o.leftStart,a=o.topEnd-o.topStart;return t.blocksOn.each((function(t,s){var l=e(s).data("cbp");if(!0!==l.pack)return l.widthAndGap<=r&&l.heightAndGap<=a?(l.pack=!0,n={spaceIndex:i,dataBlock:l},l.leftNew=o.leftStart,l.topNew=o.topStart,!1):void 0})),!t.blocksAreSorted&&t.options.sortByDimension&&0<i?(n=null,!1):null===n&&void 0})),n},generateF1F2:function(e,t){var n=this.freeSpaces[e],i={leftStart:n.leftStart+t.widthAndGap,leftEnd:n.leftEnd,topStart:n.topStart,topEnd:n.topEnd},o={leftStart:n.leftStart,leftEnd:n.leftEnd,topStart:n.topStart+t.heightAndGap,topEnd:n.topEnd};this.freeSpaces.splice(e,1),i.leftStart<i.leftEnd&&i.topStart<i.topEnd&&(this.freeSpaces.splice(e,0,i),e++),o.leftStart<o.leftEnd&&o.topStart<o.topEnd&&this.freeSpaces.splice(e,0,o)},generateG1G2G3G4:function(t){var n=this,i=[];e.each(n.freeSpaces,(function(e,o){var r=n.intersectSpaces(o,t);null!==r?(n.generateG1(o,r,i),n.generateG2(o,r,i),n.generateG3(o,r,i),n.generateG4(o,r,i)):i.push(o)})),n.freeSpaces=i},intersectSpaces:function(e,t){var n={leftStart:t.leftNew,leftEnd:t.leftNew+t.widthAndGap,topStart:t.topNew,topEnd:t.topNew+t.heightAndGap};if(e.leftStart===n.leftStart&&e.leftEnd===n.leftEnd&&e.topStart===n.topStart&&e.topEnd===n.topEnd)return null;var i=Math.max(e.leftStart,n.leftStart),o=Math.min(e.leftEnd,n.leftEnd),r=Math.max(e.topStart,n.topStart),a=Math.min(e.topEnd,n.topEnd);return o<=i||a<=r?null:{leftStart:i,leftEnd:o,topStart:r,topEnd:a}},generateG1:function(e,t,n){e.topStart!==t.topStart&&n.push({leftStart:e.leftStart,leftEnd:e.leftEnd,topStart:e.topStart,topEnd:t.topStart})},generateG2:function(e,t,n){e.leftEnd!==t.leftEnd&&n.push({leftStart:t.leftEnd,leftEnd:e.leftEnd,topStart:e.topStart,topEnd:e.topEnd})},generateG3:function(e,t,n){e.topEnd!==t.topEnd&&n.push({leftStart:e.leftStart,leftEnd:e.leftEnd,topStart:t.topEnd,topEnd:e.topEnd})},generateG4:function(e,t,n){e.leftStart!==t.leftStart&&n.push({leftStart:e.leftStart,leftEnd:t.leftStart,topStart:e.topStart,topEnd:e.topEnd})},cleanFreeSpaces:function(){this.freeSpaces.sort((function(e,t){return e.topStart>t.topStart?1:e.topStart<t.topStart?-1:e.leftStart>t.leftStart?1:e.leftStart<t.leftStart?-1:0})),this.correctSubPixelValues(),this.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var e,t,n,i;for(e=0,t=this.freeSpaces.length-1;e<t;e++)n=this.freeSpaces[e],(i=this.freeSpaces[e+1]).topStart-n.topStart<=1&&(i.topStart=n.topStart)},removeNonMaximalFreeSpaces:function(){var t=this;t.uniqueFreeSpaces(),t.freeSpaces=e.map(t.freeSpaces,(function(n,i){return e.each(t.freeSpaces,(function(e,t){if(i!==e)return t.leftStart<=n.leftStart&&t.leftEnd>=n.leftEnd&&t.topStart<=n.topStart&&t.topEnd>=n.topEnd?(n=null,!1):void 0})),n}))},uniqueFreeSpaces:function(){var t=[];e.each(this.freeSpaces,(function(n,i){e.each(t,(function(e,t){if(t.leftStart===i.leftStart&&t.leftEnd===i.leftEnd&&t.topStart===i.topStart&&t.topEnd===i.topEnd)return i=null,!1})),null!==i&&t.push(i)})),this.freeSpaces=t},addHeightToBlocks:function(){var t=this;e.each(t.freeSpaces,(function(n,i){t.blocksOn.each((function(n,o){var r=e(o).data("cbp");!0===r.pack&&t.intersectSpaces(i,r)&&-1==i.topStart-r.topNew-r.heightAndGap&&(o.style.height=r.height-1+"px")}))}))},sortBlocks:function(t,n,i,o){i=void 0===i?"leftNew":i,o=void 0===o?1:-1,t.sort((function(t,r){var a=e(t).data("cbp"),s=e(r).data("cbp");return a[n]>s[n]?o:a[n]<s[n]?-o:a[i]>s[i]?o:a[i]<s[i]?-o:a.index>s.index?o:a.index<s.index?-o:void 0}))}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",search:"",layoutMode:"grid",sortByDimension:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(e,t,n){"use strict";var i=e.fn.cubeportfolio.constructor,o=e(t);i.private={publicEvents:function(t,n,i){var r=this;r.events=[],r.initEvent=function(e){0===r.events.length&&r.scrollEvent(),r.events.push(e)},r.destroyEvent=function(n){r.events=e.map(r.events,(function(e){if(e.instance!==n)return e})),0===r.events.length&&o.off(t)},r.scrollEvent=function(){var a;o.on(t,(function(){clearTimeout(a),a=setTimeout((function(){e.isFunction(i)&&i.call(r)||e.each(r.events,(function(e,t){t.fn.call(t.instance)}))}),n)}))}},checkInstance:function(t){var n=e.data(this,"cubeportfolio");if(!n)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+t+" method!");return n.triggerEvent("publicMethod"),n},browserInfo:function(){var e,n,o=i.private,r=navigator.appVersion;-1!==r.indexOf("MSIE 8.")?o.browser="ie8":-1!==r.indexOf("MSIE 9.")?o.browser="ie9":-1!==r.indexOf("MSIE 10.")?o.browser="ie10":t.ActiveXObject||"ActiveXObject"in t?o.browser="ie11":/android/gi.test(r)?o.browser="android":/iphone|ipad|ipod/gi.test(r)?o.browser="ios":/chrome/gi.test(r)?o.browser="chrome":o.browser="",void 0!==typeof o.styleSupport("perspective")&&(e=o.styleSupport("transition"),o.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e],n=o.styleSupport("animation"),o.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[n],o.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[n],o.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[n],o.transform=o.styleSupport("transform"),e&&n&&o.transform&&(o.modernBrowser=!0))},styleSupport:function(e){var t,i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1),o=n.createElement("div");return e in o.style?t=e:i in o.style&&(t=i),o=null,t}},i.private.browserInfo(),i.private.resize=new i.private.publicEvents("resize.cbp",50,(function(){if(t.innerHeight==screen.height)return!0}))}(jQuery,window,document),function(e){"use strict";var t=e.fn.cubeportfolio.constructor;t.public={init:function(e,n){new t(this,e,n)},destroy:function(n){var i=t.private.checkInstance.call(this,"destroy");i.triggerEvent("beforeDestroy"),e.removeData(this,"cubeportfolio"),i.blocks.removeData("cbp"),i.$obj.removeClass("cbp-ready").removeAttr("style"),i.$ul.removeClass("cbp-wrapper"),t.private.resize.destroyEvent(i),i.$obj.off(".cbp"),i.blocks.removeClass("cbp-item-off").removeAttr("style"),i.blocks.find(".cbp-item-wrapper").each((function(t,n){var i=e(n),o=i.children();o.length?o.unwrap():i.remove()})),i.destroySlider&&i.destroySlider(),i.$ul.unwrap(),i.addedWrapp&&i.blocks.unwrap(),0===i.blocks.length&&i.$ul.remove(),e.each(i.plugins,(function(e,t){"function"==typeof t.destroy&&t.destroy()})),e.isFunction(n)&&n.call(i),i.triggerEvent("afterDestroy")},filter:function(n,i){var o,r=t.private.checkInstance.call(this,"filter");if(!r.isAnimating){if(r.isAnimating=!0,e.isFunction(i)&&r.registerEvent("filterFinish",i,!0),e.isFunction(n)){if(void 0===(o=n.call(r,r.blocks)))throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(r.options.filterDeeplinking){var a=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=a+"#cbpf="+encodeURIComponent(n),r.singlePage&&r.singlePage.url&&(r.singlePage.url=location.href)}r.defaultFilter=n,o=r.filterConcat(r.defaultFilter)}r.triggerEvent("filterStart",o),r.singlePageInline&&r.singlePageInline.isOpen?r.singlePageInline.close("promise",{callback:function(){r.computeFilter(o)}}):r.computeFilter(o)}},showCounter:function(n,i){var o=t.private.checkInstance.call(this,"showCounter");e.isFunction(i)&&o.registerEvent("showCounterFinish",i,!0),(o.elems=n).each((function(){var t=e(this),n=o.blocks.filter(t.data("filter")).length;t.find(".cbp-filter-counter").text(n)})),o.triggerEvent("showCounterFinish",n)},appendItems:function(e,n){t.public.append.call(this,e,n)},append:function(n,i){var o=t.private.checkInstance.call(this,"append"),r=e(n).filter(".cbp-item");o.isAnimating||r.length<1?e.isFunction(i)&&i.call(o,r):(o.isAnimating=!0,o.singlePageInline&&o.singlePageInline.isOpen?o.singlePageInline.close("promise",{callback:function(){o.addItems(r,i,"append")}}):o.addItems(r,i,"append"))},prepend:function(n,i){var o=t.private.checkInstance.call(this,"prepend"),r=e(n).filter(".cbp-item");o.isAnimating||r.length<1?e.isFunction(i)&&i.call(o,r):(o.isAnimating=!0,o.singlePageInline&&o.singlePageInline.isOpen?o.singlePageInline.close("promise",{callback:function(){o.addItems(r,i,"prepend")}}):o.addItems(r,i,"prepend"))},remove:function(n,i){var o=t.private.checkInstance.call(this,"remove"),r=e(n).filter(".cbp-item");o.isAnimating||r.length<1?e.isFunction(i)&&i.call(o,r):(o.isAnimating=!0,o.singlePageInline&&o.singlePageInline.isOpen?o.singlePageInline.close("promise",{callback:function(){o.removeItems(r,i)}}):o.removeItems(r,i))},layout:function(n){var i=t.private.checkInstance.call(this,"layout");i.width=i.$obj.outerWidth(),i.isAnimating||i.width<=0||("alignCenter"===i.options.gridAdjustment&&(i.wrapper[0].style.maxWidth=""),i.storeData(i.blocks),i.layoutAndAdjustment()),e.isFunction(n)&&n.call(i)}}}(jQuery,window,document),function(e,t,n){"use strict";var i=e.fn.cubeportfolio.constructor;e.extend(i.prototype,{updateSliderPagination:function(){var t,n,i=this;if(i.options.showPagination){for(t=Math.ceil(i.blocksOn.length/i.cols),i.navPagination.empty(),n=t-1;0<=n;n--)e("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(i.navPagination);i.navPaginationItems=i.navPagination.children()}i.enableDisableNavSlider()},destroySlider:function(){var t=this;"slider"===t.options.layoutMode&&(t.$obj.removeClass("cbp-mode-slider"),t.$ul.removeAttr("style"),t.$ul.off(".cbp"),e(n).off(".cbp"),t.options.auto&&t.stopSliderAuto())},nextSlider:function(){var e=this;if(e.isEndSlider()){if(!e.isRewindNav())return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksOn.length-e.cols):e.sliderActive+=1;e.goToSlider()},prevSlider:function(){var e=this;if(e.isStartSlider()){if(!e.isRewindNav())return;e.sliderActive=e.blocksOn.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):e.sliderActive-=1;e.goToSlider()},jumpToSlider:function(e){var t=this,n=Math.min(e.index()*t.cols,t.blocksOn.length-t.cols);n!==t.sliderActive&&(t.sliderActive=n,t.goToSlider())},jumpDragToSlider:function(e){var t,n,i,o=this,r=0<e;o.options.scrollByPage?(t=o.cols*o.columnWidth,n=o.cols):(t=o.columnWidth,n=1),e=Math.abs(e),i=Math.floor(e/t)*n,20<e%t&&(i+=n),o.sliderActive=r?Math.min(o.sliderActive+i,o.blocksOn.length-o.cols):Math.max(0,o.sliderActive-i),o.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){return this.sliderActive+this.cols>this.blocksOn.length-1},goToSlider:function(){this.enableDisableNavSlider(),this.updateSliderPosition()},startSliderAuto:function(){var e=this;e.isDrag?e.stopSliderAuto():e.timeout=setTimeout((function(){e.nextSlider(),e.startSliderAuto()}),e.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var e,t,n=this;n.isRewindNav()||(t=n.isStartSlider()?"addClass":"removeClass",n.navPrev[t]("cbp-nav-stop"),t=n.isEndSlider()?"addClass":"removeClass",n.navNext[t]("cbp-nav-stop")),n.options.showPagination&&(e=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.navPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(e).addClass("cbp-nav-pagination-active")),n.customPagination&&(e=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.customPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.customPaginationItems.removeClass(n.customPaginationClass).eq(e).addClass(n.customPaginationClass))},isRewindNav:function(){return!this.options.showNavigation||!(this.blocksOn.length<=this.cols)&&!!this.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var t=this;t.blocksOn.each((function(n,i){var o=e(i).data("cbp");o.leftNew=t.columnWidth*n,o.topNew=0,t.sliderFreeSpaces.push({topStart:o.heightAndGap})})),t.getFreeSpacesForSlider(),t.$ul.width(t.columnWidth*t.blocksOn.length-t.options.gapVertical)},getFreeSpacesForSlider:function(){var e=this;e.freeSpaces=e.sliderFreeSpaces.slice(e.sliderActive,e.sliderActive+e.cols),e.freeSpaces.sort((function(e,t){return e.topStart>t.topStart?1:e.topStart<t.topStart?-1:void 0}))},updateSliderPosition:function(){var e=this,t=-e.sliderActive*e.columnWidth;i.private.modernBrowser?e.$ul[0].style[i.private.transform]="translate3d("+t+"px, 0px, 0)":e.$ul[0].style.left=t+"px",e.getFreeSpacesForSlider(),e.resizeMainContainer()},dragSlider:function(){function o(){p.$obj.removeClass("cbp-mode-slider-dragStart"),m=!0,0!==c?(u.one("click.cbp",(function(){return!1})),requestAnimationFrame((function(){p.jumpDragToSlider(c),p.$ul.one(i.private.transitionend,a)}))):a.call(p),f.off(g.move),f.off(g.end)}function r(e){(8<(c=l-s(e).x)||c<-8)&&e.preventDefault(),p.isDrag=!0;var t=d-c;c<0&&c<d?t=(d-c)/5:0<c&&d-c<-h&&(t=(h+d-c)/5-h),i.private.modernBrowser?p.$ul[0].style[i.private.transform]="translate3d("+t+"px, 0px, 0)":p.$ul[0].style.left=t+"px"}function a(){if(m=!1,p.isDrag=!1,p.options.auto){if(p.mouseIsEntered)return;p.startSliderAuto()}}function s(e){return void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(e=e.originalEvent.touches[0]),{x:e.pageX,y:e.pageY}}var l,c,u,d,h,p=this,f=e(n),m=!1,g={},v=!1;p.isDrag=!1,"ontouchstart"in t||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(g={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},v=!0):g={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},p.$ul.on(g.start,(function(t){p.sliderItemsLength()||(v||t.preventDefault(),p.options.auto&&p.stopSliderAuto(),m?e(u).one("click.cbp",(function(){return!1})):(u=e(t.target),l=s(t).x,c=0,d=-p.sliderActive*p.columnWidth,h=p.columnWidth*(p.blocksOn.length-p.cols),f.on(g.move,r),f.on(g.end,o),p.$obj.addClass("cbp-mode-slider-dragStart")))}))},sliderLayoutReset:function(){this.freeSpaces=[],this.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(){for(var e=0,t=["moz","webkit"],n=0;n<t.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=window.setTimeout((function(){t(n+i)}),i);return e=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){"use strict";function t(e){(this.parent=e).filterLayout=this.filterLayout,e.registerEvent("computeBlocksFinish",(function(t){e.blocksOn2On=e.blocksOnInitial.filter(t),e.blocksOn2Off=e.blocksOnInitial.not(t)}))}var n=e.fn.cubeportfolio.constructor;t.prototype.filterLayout=function(){function t(){i.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each((function(t,i){var o=e(i).data("cbp");o.left=o.leftNew,o.top=o.topNew,i.style.left=o.left+"px",i.style.top=o.top+"px",i.style[n.private.transform]=""})),i.blocksOff.addClass("cbp-item-off"),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this;i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOn2On.addClass("cbp-item-on2on").each((function(t,i){var o=e(i).data("cbp");i.style[n.private.transform]="translate3d("+(o.leftNew-o.left)+"px, "+(o.topNew-o.top)+"px, 0)"})),i.blocksOn2Off.addClass("cbp-item-on2off"),i.blocksOff2On=i.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each((function(t,n){var i=e(n).data("cbp");n.style.left=i.leftNew+"px",n.style.top=i.topNew+"px"})),i.blocksOn2Off.length?i.blocksOn2Off.last().data("cbp").wrapper.one(n.private.animationend,t):i.blocksOff2On.length?i.blocksOff2On.last().data("cbp").wrapper.one(n.private.animationend,t):i.blocksOn2On.length?i.blocksOn2On.last().one(n.private.transitionend,t):t(),i.resizeMainContainer()},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.plugins.animationClassic=function(i){return!n.private.modernBrowser||e.inArray(i.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new t(i)}}(jQuery,window,document),function(e){"use strict";function t(e){(this.parent=e).filterLayout=this.filterLayout}var n=e.fn.cubeportfolio.constructor;t.prototype.filterLayout=function(){function t(){i.wrapper[0].removeChild(o),"sequentially"===i.options.animationType&&i.blocksOn.each((function(t,i){e(i).data("cbp").wrapper[0].style[n.private.animationDelay]=""})),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,o=i.$ul[0].cloneNode(!0);o.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(o,i.$ul[0]),requestAnimationFrame((function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each((function(t,o){var r=e(o).data("cbp");r.left=r.leftNew,r.top=r.topNew,o.style.left=r.left+"px",o.style.top=r.top+"px","sequentially"===i.options.animationType&&(r.wrapper[0].style[n.private.animationDelay]=60*t+"ms")})),i.blocksOn.length?i.blocksOn.last().data("cbp").wrapper.one(n.private.animationend,t):i.blocksOnInitial.length?i.blocksOnInitial.last().data("cbp").wrapper.one(n.private.animationend,t):t(),i.resizeMainContainer()}))},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.plugins.animationClone=function(i){return!n.private.modernBrowser||e.inArray(i.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new t(i)}}(jQuery,window,document),function(e){"use strict";function t(e){(this.parent=e).filterLayout=this.filterLayout}var n=e.fn.cubeportfolio.constructor;t.prototype.filterLayout=function(){function t(){i.wrapper[0].removeChild(o[0]),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.blocks.each((function(t,i){e(i).data("cbp").wrapper[0].style[n.private.animationDelay]=""})),i.filterFinish()}var i=this,o=i.$ul.clone(!0,!0);o[0].setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(o[0],i.$ul[0]);var r=o.find(".cbp-item").not(".cbp-item-off");i.blocksAreSorted&&i.sortBlocks(r,"top","left"),r.children(".cbp-item-wrapper").each((function(e,t){t.style[n.private.animationDelay]=50*e+"ms"})),requestAnimationFrame((function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each((function(t,i){var o=e(i).data("cbp");o.left=o.leftNew,o.top=o.topNew,i.style.left=o.left+"px",i.style.top=o.top+"px",o.wrapper[0].style[n.private.animationDelay]=50*t+"ms"}));var o=i.blocksOn.length,a=r.length;0===o&&0===a?t():o<a?r.last().children(".cbp-item-wrapper").one(n.private.animationend,t):i.blocksOn.last().data("cbp").wrapper.one(n.private.animationend,t),i.resizeMainContainer()}))},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.plugins.animationCloneDelay=function(i){return!n.private.modernBrowser||e.inArray(i.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new t(i)}}(jQuery,window,document),function(e){"use strict";function t(e){(this.parent=e).filterLayout=this.filterLayout}var n=e.fn.cubeportfolio.constructor;t.prototype.filterLayout=function(){function t(){i.wrapper[0].removeChild(o),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,o=i.$ul[0].cloneNode(!0);o.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(o,i.$ul[0]),requestAnimationFrame((function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each((function(t,n){var i=e(n).data("cbp");i.left=i.leftNew,i.top=i.topNew,n.style.left=i.left+"px",n.style.top=i.top+"px"})),i.blocksOn.length?i.$ul.one(n.private.animationend,t):i.blocksOnInitial.length?e(o).one(n.private.animationend,t):t(),i.resizeMainContainer()}))},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},n.plugins.animationWrapper=function(i){return!n.private.modernBrowser||e.inArray(i.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new t(i)}}(jQuery,window,document),function(e){"use strict";function t(e){var t=this,n=e.options;t.parent=e,t.captionOn=n.caption,e.registerEvent("onMediaQueries",(function(e){e&&e.hasOwnProperty("caption")?t.captionOn!==e.caption&&(t.destroy(),t.captionOn=e.caption,t.init()):t.captionOn!==n.caption&&(t.destroy(),t.captionOn=n.caption,t.init())})),t.init()}var n=e.fn.cubeportfolio.constructor;t.prototype.init=function(){var e=this;""!=e.captionOn&&("expand"===e.captionOn||n.private.modernBrowser||(e.parent.options.caption=e.captionOn="minimal"),e.parent.$obj.addClass("cbp-caption-active cbp-caption-"+e.captionOn))},t.prototype.destroy=function(){this.parent.$obj.removeClass("cbp-caption-active cbp-caption-"+this.captionOn)},n.plugins.caption=function(e){return new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){(this.parent=t).registerEvent("initFinish",(function(){t.$obj.on("click.cbp",".cbp-caption-defaultWrap",(function(n){if(n.preventDefault(),!t.isAnimating){t.isAnimating=!0;var i=e(this),o=i.next(),r=i.parent(),a={position:"relative",height:o.outerHeight(!0)},s={position:"relative",height:0};if(t.$obj.addClass("cbp-caption-expand-active"),r.hasClass("cbp-caption-expand-open")){var l=s;s=a,a=l,r.removeClass("cbp-caption-expand-open")}o.css(a),t.$obj.one("pluginResize.cbp",(function(){t.isAnimating=!1,t.$obj.removeClass("cbp-caption-expand-active"),0===a.height&&(r.removeClass("cbp-caption-expand-open"),o.attr("style",""))})),t.layoutAndAdjustment(!0),o.css(s),requestAnimationFrame((function(){r.addClass("cbp-caption-expand-open"),o.css(a),t.triggerEvent("gridAdjust"),t.triggerEvent("resizeGrid")}))}}))}),!0)}var n=e.fn.cubeportfolio.constructor;t.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},n.plugins.captionExpand=function(e){return"expand"!==e.options.caption?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){t.registerEvent("initEndWrite",(function(){if(!(t.width<=0)){var i=e.Deferred();t.pushQueue("delayFrame",i),t.blocksOn.each((function(e,i){i.style[n.private.animationDelay]=e*t.options.displayTypeSpeed+"ms"})),t.$obj.addClass("cbp-displayType-bottomToTop"),t.blocksOn.last().one(n.private.animationend,(function(){t.$obj.removeClass("cbp-displayType-bottomToTop"),t.blocksOn.each((function(e,t){t.style[n.private.animationDelay]=""})),i.resolve()}))}}),!0)}var n=e.fn.cubeportfolio.constructor;n.plugins.displayBottomToTop=function(e){return n.private.modernBrowser&&"bottomToTop"===e.options.displayType&&0!==e.blocksOn.length?new t(e):null}}(jQuery,window,document),function(e){"use strict";function t(t){t.registerEvent("initEndWrite",(function(){if(!(t.width<=0)){var i=e.Deferred();t.pushQueue("delayFrame",i),t.obj.style[n.private.animationDuration]=t.options.displayTypeSpeed+"ms",t.$obj.addClass("cbp-displayType-fadeIn"),t.$obj.one(n.private.animationend,(function(){t.$obj.removeClass("cbp-displayType-fadeIn"),t.obj.style[n.private.animationDuration]="",i.resolve()}))}}),!0)}var n=e.fn.cubeportfolio.constructor;n.plugins.displayFadeIn=function(e){return!n.private.modernBrowser||"lazyLoading"!==e.options.displayType&&"fadeIn"!==e.options.displayType||0===e.blocksOn.length?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){t.registerEvent("initEndWrite",(function(){if(!(t.width<=0)){var i=e.Deferred();t.pushQueue("delayFrame",i),t.obj.style[n.private.animationDuration]=t.options.displayTypeSpeed+"ms",t.$obj.addClass("cbp-displayType-fadeInToTop"),t.$obj.one(n.private.animationend,(function(){t.$obj.removeClass("cbp-displayType-fadeInToTop"),t.obj.style[n.private.animationDuration]="",i.resolve()}))}}),!0)}var n=e.fn.cubeportfolio.constructor;n.plugins.displayFadeInToTop=function(e){return n.private.modernBrowser&&"fadeInToTop"===e.options.displayType&&0!==e.blocksOn.length?new t(e):null}}(jQuery,window,document),function(e){"use strict";function t(t){t.registerEvent("initEndWrite",(function(){if(!(t.width<=0)){var i=e.Deferred();t.pushQueue("delayFrame",i),t.blocksOn.each((function(e,i){i.style[n.private.animationDelay]=e*t.options.displayTypeSpeed+"ms"})),t.$obj.addClass("cbp-displayType-sequentially"),t.blocksOn.last().one(n.private.animationend,(function(){t.$obj.removeClass("cbp-displayType-sequentially"),t.blocksOn.each((function(e,t){t.style[n.private.animationDelay]=""})),i.resolve()}))}}),!0)}var n=e.fn.cubeportfolio.constructor;n.plugins.displaySequentially=function(e){return n.private.modernBrowser&&"sequentially"===e.options.displayType&&0!==e.blocksOn.length?new t(e):null}}(jQuery,window,document),function(e){"use strict";function t(t){var n=this;n.parent=t,n.filters=e(t.options.filters),n.filterData=[],t.registerEvent("afterPlugins",(function(){n.filterFromUrl(),n.registerFilter()})),t.registerEvent("resetFiltersVisual",(function(){var i=t.options.defaultFilter.split("|");n.filters.each((function(t,n){var o=e(n).find(".cbp-filter-item");o.removeClass("cbp-filter-item-active"),e.each(i,(function(e,t){var n=o.filter('[data-filter="'+t+'"]');if(n.length)return n.addClass("cbp-filter-item-active"),i.splice(e,1),!1}))})),t.defaultFilter=t.options.defaultFilter}))}var n=e.fn.cubeportfolio.constructor;t.prototype.registerFilter=function(){var t=this,n=t.parent,i=n.defaultFilter.split("|");t.wrap=t.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){e(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){e(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),t.filters.each((function(o,r){var a=e(r),s="*",l=a.find(".cbp-filter-item"),c={};a.hasClass("cbp-l-filters-dropdown")&&(c.wrap=a.find(".cbp-l-filters-dropdownWrap"),c.header=a.find(".cbp-l-filters-dropdownHeader"),c.headerText=c.header.text()),n.$obj.cubeportfolio("showCounter",l),e.each(i,(function(e,t){if(l.filter('[data-filter="'+t+'"]').length)return s=t,i.splice(e,1),!1})),e.data(r,"filterName",s),t.filterData.push(r),t.filtersCallback(c,l.filter('[data-filter="'+s+'"]'),l);var u=r.getAttribute("data-filter-parent");u&&(a.removeClass("cbp-l-subfilters--active"),u===t.parent.defaultFilter&&a.addClass("cbp-l-subfilters--active")),l.on("click.cbp",(function(){var i=e(this);if(!i.hasClass("cbp-filter-item-active")&&!n.isAnimating){t.filtersCallback(c,i,l),e.data(r,"filterName",i.data("filter"));var o=e.map(t.filterData,(function(n){var i=e(n),o=n.getAttribute("data-filter-parent");o&&(o===e.data(t.filterData[0],"filterName")?i.addClass("cbp-l-subfilters--active"):(i.removeClass("cbp-l-subfilters--active"),e.data(n,"filterName","*"),i.find(".cbp-filter-item").removeClass("cbp-filter-item-active")));var r=e.data(n,"filterName");return""!==r&&"*"!==r?r:null}));o.length<1&&(o=["*"]);var a=o.join("|");n.defaultFilter!==a&&n.$obj.cubeportfolio("filter",a)}}))}))},t.prototype.filtersCallback=function(t,n,i){e.isEmptyObject(t)||(t.wrap.trigger("mouseleave.cbp"),t.headerText?t.headerText="":t.header.html(n.html())),i.removeClass("cbp-filter-item-active"),n.addClass("cbp-filter-item-active")},t.prototype.filterFromUrl=function(){var e=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==e&&(this.parent.defaultFilter=decodeURIComponent(e[1]))},t.prototype.destroy=function(){this.filters.find(".cbp-filter-item").off(".cbp"),this.wrap.off(".cbp")},n.plugins.filters=function(e){return""===e.options.filters?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){var n=t.options.gapVertical,i=t.options.gapHorizontal;t.registerEvent("onMediaQueries",(function(o){t.options.gapVertical=o&&o.hasOwnProperty("gapVertical")?o.gapVertical:n,t.options.gapHorizontal=o&&o.hasOwnProperty("gapHorizontal")?o.gapHorizontal:i,t.blocks.each((function(n,i){var o=e(i).data("cbp");o.widthAndGap=o.width+t.options.gapVertical,o.heightAndGap=o.height+t.options.gapHorizontal}))}))}e.fn.cubeportfolio.constructor.plugins.changeGapOnMediaQueries=function(e){return new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){var n=this;n.parent=t,n.options=e.extend({},i,n.parent.options.plugins.inlineSlider),n.runInit(),t.registerEvent("addItemsToDOM",(function(){n.runInit()}))}function n(e){var t=this;e.hasClass("cbp-slider-inline-ready")||(e.addClass("cbp-slider-inline-ready"),t.items=e.find(".cbp-slider-wrapper").children(".cbp-slider-item"),t.active=t.items.filter(".cbp-slider-item--active").index(),t.total=t.items.length-1,t.updateLeft(),e.find(".cbp-slider-next").on("click.cbp",(function(e){e.preventDefault(),t.active<t.total?(t.active++,t.updateLeft()):t.active===t.total&&(t.active=0,t.updateLeft())})),e.find(".cbp-slider-prev").on("click.cbp",(function(e){e.preventDefault(),0<t.active?(t.active--,t.updateLeft()):0===t.active&&(t.active=t.total,t.updateLeft())})))}var i={},o=e.fn.cubeportfolio.constructor;n.prototype.updateLeft=function(){var e=this;e.items.removeClass("cbp-slider-item--active"),e.items.eq(e.active).addClass("cbp-slider-item--active"),e.items.each((function(t,n){n.style.left=t-e.active+"00%"}))},t.prototype.runInit=function(){var t=this;t.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each((function(i,o){var r=e(o),a=r.find(".cbp-slider-item--active").find("img")[0];a.hasAttribute("data-cbp-src")?t.parent.$obj.on("lazyLoad.cbp",(function(e,t){t.src===a.src&&new n(r)})):new n(r)}))},t.prototype.destroy=function(){this.parent.$obj.find(".cbp-slider-next").off("click.cbp"),this.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),this.parent.$obj.off("lazyLoad.cbp"),this.parent.$obj.find(".cbp-slider-inline").each((function(t,n){var i=e(n);i.removeClass("cbp-slider-inline-ready");var o=i.find(".cbp-slider-item");o.removeClass("cbp-slider-item--active"),o.removeAttr("style"),o.eq(0).addClass("cbp-slider-item--active")}))},o.plugins.inlineSlider=function(e){return new t(e)}}(jQuery,window,document),function(e,t){"use strict";function n(t){var n=this;n.parent=t,n.options=e.extend({},i,n.parent.options.plugins.lazyLoad),t.registerEvent("initFinish",(function(){n.loadImages(),t.registerEvent("resizeMainContainer",(function(){n.loadImages()})),t.registerEvent("filterFinish",(function(){n.loadImages()})),o.private.lazyLoadScroll.initEvent({instance:n,fn:n.loadImages})}),!0)}var i={loadingClass:"cbp-lazyload",threshold:400
},o=e.fn.cubeportfolio.constructor,r=e(t);o.private.lazyLoadScroll=new o.private.publicEvents("scroll.cbplazyLoad",50),n.prototype.loadImages=function(){var t=this,n=t.parent.$obj.find("img").filter("[data-cbp-src]");0!==n.length&&(t.screenHeight=r.height(),n.each((function(n,i){var o=e(i.parentNode);if(t.isElementInScreen(i)){var r=i.getAttribute("data-cbp-src");null===t.parent.checkSrc(e("<img>").attr("src",r))?(t.removeLazyLoad(i,r),o.removeClass(t.options.loadingClass)):(o.addClass(t.options.loadingClass),e("<img>").on("load.cbp error.cbp",(function(){t.removeLazyLoad(i,r,o)})).attr("src",r))}else o.addClass(t.options.loadingClass)})))},n.prototype.removeLazyLoad=function(t,n,i){var r=this;t.src=n,t.removeAttribute("data-cbp-src"),r.parent.removeAttrImage(t),r.parent.$obj.trigger("lazyLoad.cbp",t),i&&(o.private.modernBrowser?e(t).one(o.private.transitionend,(function(){i.removeClass(r.options.loadingClass)})):i.removeClass(r.options.loadingClass))},n.prototype.isElementInScreen=function(e){var t=e.getBoundingClientRect(),n=t.bottom+this.options.threshold,i=this.screenHeight+n-(t.top-this.options.threshold);return 0<=n&&n<=i},n.prototype.destroy=function(){o.private.lazyLoadScroll.destroyEvent(this)},o.plugins.lazyLoad=function(e){return new n(e)}}(jQuery,window,document),function(e,t){"use strict";function n(t){var n=this;n.parent=t,n.options=e.extend({},i,n.parent.options.plugins.loadMore),n.loadMore=e(n.options.element).find(".cbp-l-loadMore-link"),0!==n.loadMore.length&&(n.loadItems=n.loadMore.find(".cbp-l-loadMore-loadItems"),"0"===n.loadItems.text()&&n.loadMore.addClass("cbp-l-loadMore-stop"),t.registerEvent("filterStart",(function(e){n.populateItems().then((function(){var t=n.items.filter(n.parent.filterConcat(e)).length;0<t?(n.loadMore.removeClass("cbp-l-loadMore-stop"),n.loadItems.html(t)):n.loadMore.addClass("cbp-l-loadMore-stop")}))})),n[n.options.action]())}var i={element:"",action:"click",loadItems:3},o=e.fn.cubeportfolio.constructor;n.prototype.populateItems=function(){var t=this;return t.items?e.Deferred().resolve():(t.items=e(),e.ajax({url:t.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done((function(n){var i=e.map(n.split(/\r?\n/),(function(t){return e.trim(t)})).join("");0!==i.length&&e.each(e.parseHTML(i),(function(n,i){e(i).hasClass("cbp-item")?t.items=t.items.add(i):e.each(i.children,(function(n,i){e(i).hasClass("cbp-item")&&(t.items=t.items.add(i))}))}))})).fail((function(){t.items=null,t.loadMore.removeClass("cbp-l-loadMore-loading")})))},n.prototype.populateInsertItems=function(t){var n=this,i=[],o=n.parent.defaultFilter,r=0;n.items.each((function(t,a){if(r===n.options.loadItems)return!1;o&&"*"!==o?e(a).filter(n.parent.filterConcat(o)).length&&(i.push(a),n.items[t]=null,r++):(i.push(a),n.items[t]=null,r++)})),n.items=n.items.map((function(e,t){return t})),0!==i.length?n.parent.$obj.cubeportfolio("append",i,t):n.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop")},n.prototype.click=function(){function e(){t.loadMore.removeClass("cbp-l-loadMore-loading");var e,n=t.parent.defaultFilter;0===(e=n&&"*"!==n?t.items.filter(t.parent.filterConcat(n)).length:t.items.length)?t.loadMore.addClass("cbp-l-loadMore-stop"):t.loadItems.html(e)}var t=this;t.loadMore.on("click.cbp",(function(n){n.preventDefault(),t.parent.isAnimating||t.loadMore.hasClass("cbp-l-loadMore-stop")||(t.loadMore.addClass("cbp-l-loadMore-loading"),t.populateItems().then((function(){t.populateInsertItems(e)})))}))},n.prototype.auto=function(){function n(){if(!s&&!r.loadMore.hasClass("cbp-l-loadMore-stop")){var e=r.loadMore.offset().top-200;a.scrollTop()+a.height()<e||(s=!0,r.populateItems().then((function(){r.populateInsertItems(i)})).fail((function(){s=!1})))}}function i(){var e,t=r.parent.defaultFilter;0===(e=t&&"*"!==t?r.items.filter(r.parent.filterConcat(t)).length:r.items.length)?r.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop"):(r.loadItems.html(e),a.trigger("scroll.loadMore")),s=!1,0===r.items.length&&(o.private.loadMoreScroll.destroyEvent(r),r.parent.$obj.off("filterComplete.cbp"))}var r=this,a=e(t),s=!1;o.private.loadMoreScroll=new o.private.publicEvents("scroll.loadMore",100),r.parent.$obj.one("initComplete.cbp",(function(){r.loadMore.addClass("cbp-l-loadMore-loading").on("click.cbp",(function(e){e.preventDefault()})),o.private.loadMoreScroll.initEvent({instance:r,fn:function(){r.parent.isAnimating||n()}}),r.parent.$obj.on("filterComplete.cbp",(function(){n()})),n()}))},n.prototype.destroy=function(){this.loadMore.off(".cbp"),o.private.loadMoreScroll&&o.private.loadMoreScroll.destroyEvent(this)},o.plugins.loadMore=function(e){var t=e.options.plugins;return e.options.loadMore&&(t.loadMore||(t.loadMore={}),t.loadMore.element=e.options.loadMore),e.options.loadMoreAction&&(t.loadMore||(t.loadMore={}),t.loadMore.action=e.options.loadMoreAction),t.loadMore&&void 0!==t.loadMore.selector&&(t.loadMore.element=t.loadMore.selector,delete t.loadMore.selector),t.loadMore&&t.loadMore.element?new n(e):null}}(jQuery,window,document),function(e,t,n){"use strict";function i(e){var t=this;!1===(t.parent=e).options.lightboxShowCounter&&(e.options.lightboxCounter=""),!1===e.options.singlePageShowCounter&&(e.options.singlePageCounter=""),e.registerEvent("initStartRead",(function(){t.run()}),!0)}var o=e.fn.cubeportfolio.constructor,r={delay:0},a={init:function(t,i){var o,a=this;if(a.cubeportfolio=t,a.type=i,a.isOpen=!1,a.options=a.cubeportfolio.options,"lightbox"===i&&(a.cubeportfolio.registerEvent("resizeWindow",(function(){a.resizeImage()})),a.localOptions=e.extend({},r,a.cubeportfolio.options.plugins.lightbox)),"singlePageInline"!==i){if(a.createMarkup(),"singlePage"===i){if(a.cubeportfolio.registerEvent("resizeWindow",(function(){if(a.options.singlePageStickyNavigation){var e=a.contentWrap[0].clientWidth;0<e&&(a.navigationWrap.width(e),a.navigation.width(e))}})),a.options.singlePageDeeplinking)if(a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1)),h=(d=a.url.split("#cbp=")).shift(),e.each(d,(function(t,n){if(a.cubeportfolio.blocksOn.each((function(t,i){var r=e(i).find(a.options.singlePageDelegate+'[href="'+n+'"]');if(r.length)return o=r,!1})),o)return!1})),o){a.url=h;var s=o,l=s.attr("data-cbp-singlePage"),c=[];l?c=s.closest(e(".cbp-item")).find('[data-cbp-singlePage="'+l+'"]'):a.cubeportfolio.blocksOn.each((function(t,n){var i=e(n);i.not(".cbp-item-off")&&i.find(a.options.singlePageDelegate).each((function(t,n){e(n).attr("data-cbp-singlePage")||c.push(n)}))})),a.openSinglePage(c,o[0])}else if(d.length){var u=n.createElement("a");u.setAttribute("href",d[0]),a.openSinglePage([u],u)}a.localOptions=e.extend({},r,a.cubeportfolio.options.plugins.singlePage)}}else{if(a.height=0,a.createMarkupSinglePageInline(),a.cubeportfolio.registerEvent("resizeGrid",(function(){a.isOpen&&a.close()})),a.options.singlePageInlineDeeplinking){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));var d,h=(d=a.url.split("#cbpi=")).shift();e.each(d,(function(t,n){if(a.cubeportfolio.blocksOn.each((function(t,i){var r=e(i).find(a.options.singlePageInlineDelegate+'[href="'+n+'"]');if(r.length)return o=r,!1})),o)return!1})),o&&a.cubeportfolio.registerEvent("initFinish",(function(){a.openSinglePageInline(a.cubeportfolio.blocksOn,o[0])}),!0)}a.localOptions=e.extend({},r,a.cubeportfolio.options.plugins.singlePageInline)}},createMarkup:function(){var i=this,r="";if("singlePage"===i.type&&"left"!==i.options.singlePageAnimation&&(r=" cbp-popup-singlePage-"+i.options.singlePageAnimation),i.wrap=e("<div/>",{class:"cbp-popup-wrap cbp-popup-"+i.type+r,"data-action":"lightbox"===i.type?"close":""}).on("click.cbp",(function(t){if(!i.stopEvents){var n=e(t.target).attr("data-action");i[n]&&(i[n](),t.preventDefault())}})),"singlePage"===i.type?(i.contentWrap=e("<div/>",{class:"cbp-popup-content-wrap"}).appendTo(i.wrap),"ios"===o.private.browser&&i.contentWrap.css("overflow","auto"),i.content=e("<div/>",{class:"cbp-popup-content"}).appendTo(i.contentWrap)):i.content=e("<div/>",{class:"cbp-popup-content"}).appendTo(i.wrap),e("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(i.wrap),"ie8"===o.private.browser&&(i.bg=e("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===i.type?"close":""}).appendTo(i.wrap)),"singlePage"===i.type&&!1===i.options.singlePageStickyNavigation?i.navigationWrap=e("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(i.contentWrap):i.navigationWrap=e("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(i.wrap),i.navigation=e("<div/>",{class:"cbp-popup-navigation"}).appendTo(i.navigationWrap),i.closeButton=e("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(i.navigation),i.nextButton=e("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(i.navigation),i.prevButton=e("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(i.navigation),"singlePage"===i.type){i.options.singlePageCounter&&(i.counter=e(i.options.singlePageCounter).appendTo(i.navigation),i.counter.text("")),i.content.on("click.cbp",i.options.singlePageDelegate,(function(e){e.preventDefault();var t,o,r=i.dataArray.length,a=this.getAttribute("href");for(t=0;t<r;t++)if(i.dataArray[t].url===a){o=t;break}if(void 0===o){var s=n.createElement("a");s.setAttribute("href",a),i.dataArray=[{url:a,element:s}],i.counterTotal=1,i.nextButton.hide(),i.prevButton.hide(),i.singlePageJumpTo(0)}else i.singlePageJumpTo(o-i.current)}));var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a={passive:!0}}});t.addEventListener("testPassive",null,l),t.removeEventListener("testPassive",null,l)}catch(e){}var c="onwheel"in n.createElement("div")?"wheel":"mousewheel";i.contentWrap[0].addEventListener(c,(function(e){e.stopImmediatePropagation()}),a)}e(n).on("keydown.cbp",(function(e){i.isOpen&&(i.stopEvents||(s&&e.stopImmediatePropagation(),37===e.keyCode?i.prev():39===e.keyCode?i.next():27===e.keyCode&&i.close()))}))},createMarkupSinglePageInline:function(){var t=this;t.wrap=e("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",(function(n){if(!t.stopEvents){var i=e(n.target).attr("data-action");i&&t[i]&&(t[i](),n.preventDefault())}})),t.content=e("<div/>",{class:"cbp-popup-content"}).appendTo(t.wrap),t.navigation=e("<div/>",{class:"cbp-popup-navigation"}).appendTo(t.wrap),t.closeButton=e("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(t.navigation)},destroy:function(){var t=this,i=e("body");e(n).off("keydown.cbp"),i.off("click.cbp",t.options.lightboxDelegate),i.off("click.cbp",t.options.singlePageDelegate),t.content.off("click.cbp",t.options.singlePageDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.singlePageInlineDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.lightboxDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.singlePageDelegate),t.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),t.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),t.wrap.remove()},openLightbox:function(i,o){var r,a,l=this,c=0,u=[];if(!l.isOpen){if(s=!0,l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],(l.current=null)===(r=o.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");e.each(i,(function(t,n){var i,o=n.getAttribute("href"),a=o,s="isImage";if(-1===e.inArray(o,u)){if(r===o)l.current=c;else if(!l.options.lightboxGallery)return;if(/youtu\.?be/i.test(o)){var d=o.lastIndexOf("v=")+2;1===d&&(d=o.lastIndexOf("/")+1),i=o.substring(d),/autoplay=/i.test(i)||(i+="&autoplay=1"),a="//www.youtube.com/embed/"+(i=i.replace(/\?|&/,"?")),s="isYoutube"}else/vimeo\.com/i.test(o)?(i=o.substring(o.lastIndexOf("/")+1),/autoplay=/i.test(i)||(i+="&autoplay=1"),a="//player.vimeo.com/video/"+(i=i.replace(/\?|&/,"?")),s="isVimeo"):/www\.ted\.com/i.test(o)?(a="http://embed.ted.com/talks/"+o.substring(o.lastIndexOf("/")+1)+".html",s="isTed"):/soundcloud\.com/i.test(o)?(a=o,s="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(o)?(a=-1!==o.indexOf("|")?o.split("|"):o.split("%7C"),s="isSelfHostedVideo"):/\.mp3$/i.test(o)&&(a=o,s="isSelfHostedAudio");l.dataArray.push({src:a,title:n.getAttribute(l.options.lightboxTitleSrc),type:s}),c++}u.push(o)})),l.counterTotal=l.dataArray.length,1===l.counterTotal?(l.nextButton.hide(),l.prevButton.hide(),l.dataActionImg=""):(l.nextButton.show(),l.prevButton.show(),l.dataActionImg='data-action="next"'),l.wrap.appendTo(n.body),l.scrollTop=e(t).scrollTop(),l.originalStyle=e("html").attr("style"),e("html").css({overflow:"hidden",marginRight:t.innerWidth-e(n).width()}),l.wrap.addClass("cbp-popup-transitionend"),l.wrap.show(),a=l.dataArray[l.current],l[a.type](a)}},openSinglePage:function(i,r){var a,s=this,l=0,c=[];if(!s.isOpen){if(s.cubeportfolio.singlePageInline&&s.cubeportfolio.singlePageInline.isOpen&&s.cubeportfolio.singlePageInline.close(),s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(a=r.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(e.each(i,(function(t,n){var i=n.getAttribute("href");-1===e.inArray(i,c)&&(a===i&&(s.current=l),s.dataArray.push({url:i,element:n}),l++),c.push(i)})),s.counterTotal=s.dataArray.length,1===s.counterTotal?(s.nextButton.hide(),s.prevButton.hide()):(s.nextButton.show(),s.prevButton.show()),s.wrap.appendTo(n.body),s.scrollTop=e(t).scrollTop(),s.contentWrap.scrollTop(0),s.wrap.show(),s.finishOpen=2,s.navigationMobile=e(),s.wrap.one(o.private.transitionend,(function(){e("html").css({overflow:"hidden",marginRight:t.innerWidth-e(n).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.options.singlePageStickyNavigation&&(s.wrap.addClass("cbp-popup-singlePage-sticky"),s.navigationWrap.width(s.contentWrap[0].clientWidth)),s.finishOpen--,s.finishOpen<=0&&s.updateSinglePageIsOpen.call(s)})),"ie8"!==o.private.browser&&"ie9"!==o.private.browser||(e("html").css({overflow:"hidden",marginRight:t.innerWidth-e(n).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.options.singlePageStickyNavigation&&(s.navigationWrap.width(s.contentWrap[0].clientWidth),setTimeout((function(){s.wrap.addClass("cbp-popup-singlePage-sticky")}),1e3)),s.finishOpen--),s.wrap.addClass("cbp-popup-loading"),s.wrap.offset(),s.wrap.addClass("cbp-popup-singlePage-open"),s.options.singlePageDeeplinking&&(s.url=s.url.split("#cbp=")[0],location.href=s.url+"#cbp="+s.dataArray[s.current].url),e.isFunction(s.options.singlePageCallback)&&s.options.singlePageCallback.call(s,s.dataArray[s.current].url,s.dataArray[s.current].element),"ios"===o.private.browser){var u=s.contentWrap[0];u.addEventListener("touchstart",(function(){var e=u.scrollTop,t=u.scrollHeight,n=e+u.offsetHeight;0===e?u.scrollTop=1:n===t&&(u.scrollTop=e-1)}))}}},openSinglePageInline:function(n,i,o){var r,a,s,l=this;if(o=o||!1,l.fromOpen=o,l.storeBlocks=n,l.storeCurrentBlock=i,l.isOpen)return a=l.cubeportfolio.blocksOn.index(e(i).closest(".cbp-item")),void(l.dataArray[l.current].url!==i.getAttribute("href")||l.current!==a?l.cubeportfolio.singlePageInline.close("open",{blocks:n,currentBlock:i,fromOpen:!0}):l.close());if(l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],(l.current=null)===(r=i.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(s=e(i).closest(".cbp-item")[0],n.each((function(e,t){s===t&&(l.current=e)})),l.dataArray[l.current]={url:r,element:i},e(l.dataArray[l.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),l.counterTotal=n.length,l.wrap.insertBefore(l.cubeportfolio.wrapper),l.topDifference=0,"top"===l.options.singlePageInlinePosition)l.blocksToMove=n,l.top=0;else if("bottom"===l.options.singlePageInlinePosition)l.blocksToMove=e(),l.top=l.cubeportfolio.height;else if("above"===l.options.singlePageInlinePosition){var c=e(n[l.current]).data("cbp").top;l.top=c,n.each((function(t,n){var i=e(n).data("cbp"),o=i.top,r=o+i.heightAndGap;c<=o||r>l.top&&(l.top=r,l.topDifference=l.top-c)})),l.blocksToMove=e(),n.each((function(t,n){if(t!==l.current){var i=e(n).data("cbp");i.top+i.heightAndGap>l.top&&(l.blocksToMove=l.blocksToMove.add(n))}else l.blocksToMove=l.blocksToMove.add(n)})),l.top=Math.max(l.top-l.options.gapHorizontal,0)}else{var u=e(n[l.current]).data("cbp"),d=u.top+u.heightAndGap;l.top=d,l.blocksToMove=e(),n.each((function(t,n){var i=e(n).data("cbp"),o=i.top,r=o+i.height;r<=d||(o>=d-i.height/2?l.blocksToMove=l.blocksToMove.add(n):d<r&&o<d&&(r>l.top&&(l.top=r),r-d>l.topDifference&&(l.topDifference=r-d)))}))}if(l.wrap[0].style.height=l.wrap.outerHeight(!0)+"px",l.deferredInline=e.Deferred(),l.options.singlePageInlineInFocus){l.scrollTop=e(t).scrollTop();var h=l.cubeportfolio.$obj.offset().top+l.top-100;l.scrollTop!==h?e("html,body").animate({scrollTop:h},350).promise().then((function(){l.resizeSinglePageInline(),l.deferredInline.resolve()})):(l.resizeSinglePageInline(),l.deferredInline.resolve())}else l.resizeSinglePageInline(),l.deferredInline.resolve();l.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),l.wrap.css({top:l.top}),l.options.singlePageInlineDeeplinking&&(l.url=l.url.split("#cbpi=")[0],location.href=l.url+"#cbpi="+l.dataArray[l.current].url),e.isFunction(l.options.singlePageInlineCallback)&&l.options.singlePageInlineCallback.call(l,l.dataArray[l.current].url,l.dataArray[l.current].element)},resizeSinglePageInline:function(){var e=this;e.height=0===e.top||e.top===e.cubeportfolio.height?e.wrap.outerHeight(!0):e.wrap.outerHeight(!0)-e.options.gapHorizontal,e.height+=e.topDifference,e.storeBlocks.each((function(e,t){o.private.modernBrowser?t.style[o.private.transform]="":t.style.marginTop=""})),e.blocksToMove.each((function(t,n){o.private.modernBrowser?n.style[o.private.transform]="translate3d(0px, "+e.height+"px, 0)":n.style.marginTop=e.height+"px"})),e.cubeportfolio.obj.style.height=e.cubeportfolio.height+e.height+"px"},revertResizeSinglePageInline:function(){this.deferredInline=e.Deferred(),this.storeBlocks.each((function(e,t){o.private.modernBrowser?t.style[o.private.transform]="":t.style.marginTop=""})),this.cubeportfolio.obj.style.height=this.cubeportfolio.height+"px"},appendScriptsToWrap:function(e){var t=this,i=0,o=function(r){var a=n.createElement("script"),s=r.src;a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,e[++i]&&o(e[i]))}:a.onload=function(){e[++i]&&o(e[i])},s?a.src=s:a.text=r.text,t.content[0].appendChild(a)};o(e[0])},updateSinglePage:function(t,n,i){var o,r=this;r.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===i&&r.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),r.counter&&(o=e(r.getCounterMarkup(r.options.singlePageCounter,r.current+1,r.counterTotal)),r.counter.text(o.text())),r.fromAJAX={html:t,scripts:n},r.finishOpen--,r.finishOpen<=0&&r.updateSinglePageIsOpen.call(r)},updateSinglePageIsOpen:function(){var e,t=this;t.wrap.addClass("cbp-popup-ready"),t.wrap.removeClass("cbp-popup-loading"),t.content.html(t.fromAJAX.html),t.fromAJAX.scripts&&t.appendScriptsToWrap(t.fromAJAX.scripts),t.fromAJAX={},t.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(e=t.content.find(".cbp-slider")).length?(e.find(".cbp-slider-item").addClass("cbp-item"),t.slider=e.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):t.slider=null,t.checkForSocialLinks(t.content),t.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(e){this.createFacebookShare(e.find(".cbp-social-fb")),this.createTwitterShare(e.find(".cbp-social-twitter")),this.createGooglePlusShare(e.find(".cbp-social-googleplus")),this.createPinterestShare(e.find(".cbp-social-pinterest"))},createFacebookShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(t.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(t.location.href)+"&text="+encodeURIComponent(n.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(t.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(e){if(e.length&&!e.attr("onclick")){var n="",i=this.content.find("img")[0];i&&(n=i.src),e.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(t.location.href)+"&media="+n+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(e,t){var n=this;n.content.html(e),t&&n.appendScriptsToWrap(t),n.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),0!==n.localOptions.delay?setTimeout((function(){n.singlePageInlineIsOpen.call(n)}),n.localOptions.delay):n.singlePageInlineIsOpen.call(n)},singlePageInlineIsOpen:function(){function e(){t.wrap.addClass("cbp-popup-singlePageInline-ready"),t.wrap[0].style.height="",t.resizeSinglePageInline(),t.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var t=this;t.cubeportfolio.loadImages(t.wrap,(function(){var n=t.content.find(".cbp-slider");n.length?(n.find(".cbp-slider-item").addClass("cbp-item"),n.one("initComplete.cbp",(function(){t.deferredInline.done(e)})),n.on("pluginResize.cbp",(function(){t.deferredInline.done(e)})),t.slider=n.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(t.slider=null,t.deferredInline.done(e)),t.checkForSocialLinks(t.content)}))},isImage:function(t){var n=this;new Image,n.tooggleLoading(!0),n.cubeportfolio.loadImages(e('<div><img src="'+t.src+'"></div>'),(function(){n.updateImagesMarkup(t.src,t.title,n.getCounterMarkup(n.options.lightboxCounter,n.current+1,n.counterTotal)),n.tooggleLoading(!1)}))},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSoundCloud:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedVideo:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedAudio:function(e){var t=this;t.updateSelfHostedAudio(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},getCounterMarkup:function(e,t,n){if(!e.length)return"";var i={current:t,total:n};return e.replace(/\{\{current}}|\{\{total}}/gi,(function(e){return i[e.slice(2,-2)]}))},updateSelfHostedVideo:function(e,t,n){var i;this.wrap.addClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(i=0;i<e.length;i++)/(\.mp4)/i.test(e[i])?o+='<source src="'+e[i]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[i])?o+='<source src="'+e[i]+'" type="video/ogg">':/(\.webm)/i.test(e[i])&&(o+='<source src="'+e[i]+'" type="video/webm">');o+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>",this.content.html(o),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateSelfHostedAudio:function(e,t,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");var i='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+e+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateVideoMarkup:function(e,t,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");var i='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateImagesMarkup:function(e,t,n){var i=this;i.wrap.removeClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+i.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";i.content.html(o),i.wrap.addClass("cbp-popup-ready"),i.resizeImage(),i.preloadNearbyImages()},next:function(){this[this.type+"JumpTo"](1)},prev:function(){this[this.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,n=this;n.current=n.getIndex(n.current+e),n[(t=n.dataArray[n.current]).type](t)},singlePageJumpTo:function(t){var n=this;n.current=n.getIndex(n.current+t),e.isFunction(n.options.singlePageCallback)&&(n.resetWrap(),n.contentWrap.scrollTop(0),n.wrap.addClass("cbp-popup-loading"),n.slider&&o.private.resize.destroyEvent(e.data(n.slider[0],"cubeportfolio")),n.options.singlePageCallback.call(n,n.dataArray[n.current].url,n.dataArray[n.current].element),n.options.singlePageDeeplinking&&(location.href=n.url+"#cbp="+n.dataArray[n.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#"),"singlePageInline"===e.type&&e.options.singlePageInlineDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){return(e%=this.counterTotal)<0&&(e=this.counterTotal+e),e},close:function(n,i){function r(){l.slider&&o.private.resize.destroyEvent(e.data(l.slider[0],"cubeportfolio")),l.content.html(""),l.wrap.detach(),l.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),l.isOpen=!1,"promise"===n&&e.isFunction(i.callback)&&i.callback.call(l.cubeportfolio)}function a(){var i=e(t).scrollTop();l.resetWrap(),e(t).scrollTop(i),l.options.singlePageInlineInFocus&&"promise"!==n?e("html,body").animate({scrollTop:l.scrollTop},350).promise().then((function(){r()})):r()}var l=this;"singlePageInline"===l.type?"open"===n?(l.wrap.removeClass("cbp-popup-singlePageInline-ready"),e(l.dataArray[l.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),l.isOpen=!1,l.openSinglePageInline(i.blocks,i.currentBlock,i.fromOpen)):(l.height=0,l.revertResizeSinglePageInline(),l.wrap.removeClass("cbp-popup-singlePageInline-ready"),l.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),l.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),o.private.modernBrowser?l.wrap.one(o.private.transitionend,(function(){a()})):a()):"singlePage"===l.type?(l.resetWrap(),l.stopScroll=!0,l.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),e("html").css({overflow:"",marginRight:"",position:""}),e(t).scrollTop(l.scrollTop),"ie8"!==o.private.browser&&"ie9"!==o.private.browser||(l.slider&&o.private.resize.destroyEvent(e.data(l.slider[0],"cubeportfolio")),l.content.html(""),l.wrap.detach(),l.isOpen=!1),l.wrap.one(o.private.transitionend,(function(){l.slider&&o.private.resize.destroyEvent(e.data(l.slider[0],"cubeportfolio")),l.content.html(""),l.wrap.detach(),l.isOpen=!1}))):(s=!1,l.originalStyle?e("html").attr("style",l.originalStyle):e("html").css({overflow:"",marginRight:""}),e(t).scrollTop(l.scrollTop),l.slider&&o.private.resize.destroyEvent(e.data(l.slider[0],"cubeportfolio")),l.content.html(""),l.wrap.detach(),l.isOpen=!1)},tooggleLoading:function(e){this.stopEvents=e,this.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var n=this.content.find("img"),i=n.parent(),o=e(t).height()-(i.outerHeight(!0)-i.height())-this.content.find(".cbp-popup-lightbox-bottom").outerHeight(!0);n.css("max-height",o+"px")}},preloadNearbyImages:function(){for(var e=this,t=[e.getIndex(e.current+1),e.getIndex(e.current+2),e.getIndex(e.current+3),e.getIndex(e.current-1),e.getIndex(e.current-2),e.getIndex(e.current-3)],n=t.length-1;0<=n;n--)"isImage"===e.dataArray[t[n]].type&&e.cubeportfolio.checkSrc(e.dataArray[t[n]])}},s=!1,l=!1,c=!1;i.prototype.run=function(){var t=this,i=t.parent,o=e(n.body);i.lightbox=null,i.options.lightboxDelegate&&!l&&(l=!0,i.lightbox=Object.create(a),i.lightbox.init(i,"lightbox"),o.on("click.cbp",i.options.lightboxDelegate,(function(n){n.preventDefault();var o=e(this),r=o.attr("data-cbp-lightbox"),a=t.detectScope(o),s=a.data("cubeportfolio"),l=[];s?s.blocksOn.each((function(t,n){var o=e(n);o.not(".cbp-item-off")&&o.find(i.options.lightboxDelegate).each((function(t,n){r?e(n).attr("data-cbp-lightbox")===r&&l.push(n):l.push(n)}))})):l=r?a.find(i.options.lightboxDelegate+"[data-cbp-lightbox="+r+"]"):a.find(i.options.lightboxDelegate),i.lightbox.openLightbox(l,o[0])}))),i.singlePage=null,i.options.singlePageDelegate&&!c&&(c=!0,i.singlePage=Object.create(a),i.singlePage.init(i,"singlePage"),o.on("click.cbp",i.options.singlePageDelegate,(function(n){n.preventDefault();var o=e(this),r=o.attr("data-cbp-singlePage"),a=t.detectScope(o),s=a.data("cubeportfolio"),l=[];s?s.blocksOn.each((function(t,n){var o=e(n);o.not(".cbp-item-off")&&o.find(i.options.singlePageDelegate).each((function(t,n){r?e(n).attr("data-cbp-singlePage")===r&&l.push(n):l.push(n)}))})):l=r?a.find(i.options.singlePageDelegate+"[data-cbp-singlePage="+r+"]"):a.find(i.options.singlePageDelegate),i.singlePage.openSinglePage(l,o[0])}))),i.singlePageInline=null,i.options.singlePageInlineDelegate&&(i.singlePageInline=Object.create(a),i.singlePageInline.init(i,"singlePageInline"),i.$obj.on("click.cbp",i.options.singlePageInlineDelegate,(function(t){t.preventDefault();var n=e.data(this,"cbp-locked"),o=e.data(this,"cbp-locked",+new Date);(!n||300<o-n)&&i.singlePageInline.openSinglePageInline(i.blocksOn,this)})))},i.prototype.detectScope=function(t){var i,o,r;return(i=t.closest(".cbp-popup-singlePageInline")).length?(r=t.closest(".cbp",i[0])).length?r:i:(o=t.closest(".cbp-popup-singlePage")).length?(r=t.closest(".cbp",o[0])).length?r:o:(r=t.closest(".cbp")).length?r:e(n.body)},i.prototype.destroy=function(){var t=this.parent;e(n.body).off("click.cbp"),c=l=!1,t.lightbox&&t.lightbox.destroy(),t.singlePage&&t.singlePage.destroy(),t.singlePageInline&&t.singlePageInline.destroy()},o.plugins.popUp=function(e){return new i(e)}}(jQuery,window,document),function(e){"use strict";function t(t){var n=this;n.parent=t,n.searchInput=e(t.options.search),n.searchInput.each((function(t,n){var i=n.getAttribute("data-search");i||(i="*"),e.data(n,"searchData",{value:n.value,el:i})}));var i=null;n.searchInput.on("keyup.cbp paste.cbp",(function(t){t.preventDefault();var o=e(this);clearTimeout(i),i=setTimeout((function(){n.runEvent.call(n,o)}),350)})),n.searchNothing=n.searchInput.siblings(".cbp-search-nothing").detach(),n.searchNothingHeight=null,n.searchNothingHTML=n.searchNothing.html(),n.searchInput.siblings(".cbp-search-icon").on("click.cbp",(function(t){t.preventDefault(),n.runEvent.call(n,e(this).prev().val(""))}))}var n=e.fn.cubeportfolio.constructor;t.prototype.runEvent=function(t){var n=this,i=t.val(),o=t.data("searchData"),r=new RegExp(i,"i");o.value===i||n.parent.isAnimating||(0<(o.value=i).length?t.attr("value",i):t.removeAttr("value"),n.parent.$obj.cubeportfolio("filter",(function(t){var a=t.filter((function(t,n){if(-1<e(n).find(o.el).text().search(r))return!0}));if(0===a.length&&n.searchNothing.length){var s=n.searchNothingHTML.replace("{{query}}",i);n.searchNothing.html(s),n.searchNothing.appendTo(n.parent.$obj),null===n.searchNothingHeight&&(n.searchNothingHeight=n.searchNothing.outerHeight(!0)),n.parent.registerEvent("resizeMainContainer",(function(){n.parent.height=n.parent.height+n.searchNothingHeight,n.parent.obj.style.height=n.parent.height+"px"}),!0)}else n.searchNothing.detach()
;return n.parent.triggerEvent("resetFiltersVisual"),a}),(function(){t.trigger("keyup.cbp")})))},t.prototype.destroy=function(){this.searchInput.off(".cbp"),this.searchInput.next(".cbp-search-icon").off(".cbp"),this.searchInput.each((function(t,n){e.removeData(n)}))},n.plugins.search=function(e){return""===e.options.search?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){var i=this;i.parent=t,i.options=e.extend({},n,i.parent.options.plugins.slider);var o=e(i.options.pagination);0<o.length&&(i.parent.customPagination=o,i.parent.customPaginationItems=o.children(),i.parent.customPaginationClass=i.options.paginationClass,i.parent.customPaginationItems.on("click.cbp",(function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),i.parent.sliderStopEvents||i.parent.jumpToSlider(e(this))}))),i.parent.registerEvent("gridAdjust",(function(){i.sliderMarkup.call(i.parent),i.parent.registerEvent("gridAdjust",(function(){i.updateSlider.call(i.parent)}))}),!0)}var n={pagination:"",paginationClass:"cbp-pagination-active"},i=e.fn.cubeportfolio.constructor;t.prototype.sliderMarkup=function(){var t=this;t.sliderStopEvents=!1,t.sliderActive=0,t.$obj.one("initComplete.cbp",(function(){t.$obj.addClass("cbp-mode-slider")})),t.nav=e("<div/>",{class:"cbp-nav"}),t.nav.on("click.cbp","[data-slider-action]",(function(n){if(n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),!t.sliderStopEvents){var i=e(this),o=i.attr("data-slider-action");t[o+"Slider"]&&t[o+"Slider"](i)}})),t.options.showNavigation&&(t.controls=e("<div/>",{class:"cbp-nav-controls"}),t.navPrev=e("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(t.controls),t.navNext=e("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(t.controls),t.controls.appendTo(t.nav)),t.options.showPagination&&(t.navPagination=e("<div/>",{class:"cbp-nav-pagination"}).appendTo(t.nav)),(t.controls||t.navPagination)&&t.nav.appendTo(t.$obj),t.updateSliderPagination(),t.options.auto&&(t.options.autoPauseOnHover&&(t.mouseIsEntered=!1,t.$obj.on("mouseenter.cbp",(function(){t.mouseIsEntered=!0,t.stopSliderAuto()})).on("mouseleave.cbp",(function(){t.mouseIsEntered=!1,t.startSliderAuto()}))),t.startSliderAuto()),t.options.drag&&i.private.modernBrowser&&t.dragSlider()},t.prototype.updateSlider=function(){this.updateSliderPosition(),this.updateSliderPagination()},t.prototype.destroy=function(){var e=this;e.parent.customPaginationItems&&e.parent.customPaginationItems.off(".cbp"),(e.parent.controls||e.parent.navPagination)&&(e.parent.nav.off(".cbp"),e.parent.nav.remove())},i.plugins.slider=function(e){return"slider"!==e.options.layoutMode?null:new t(e)}}(jQuery,window,document),function(e){"use strict";function t(t){var i=this;i.parent=t,i.options=e.extend({},n,i.parent.options.plugins.sort),i.element=e(i.options.element),0!==i.element.length&&(i.sort="",i.sortBy="string:asc",i.element.on("click.cbp",".cbp-sort-item",(function(n){n.preventDefault(),i.target=n.target,e(i.target).hasClass("cbp-l-dropdown-item--active")||t.isAnimating||(i.processSort(),t.$obj.cubeportfolio("filter",t.defaultFilter))})),t.registerEvent("triggerSort",(function(){i.target&&(i.processSort(),t.$obj.cubeportfolio("filter",t.defaultFilter))})),i.dropdownWrap=i.element.find(".cbp-l-dropdown-wrap").on({"mouseover.cbp":function(){e(this).addClass("cbp-l-dropdown-wrap--open")},"mouseleave.cbp":function(){e(this).removeClass("cbp-l-dropdown-wrap--open")}}),i.dropdownHeader=i.element.find(".cbp-l-dropdown-header"))}var n={element:""},i=e.fn.cubeportfolio.constructor;t.prototype.processSort=function(){var t=this,n=t.parent,i=(u=t.target).hasAttribute("data-sort"),o=u.hasAttribute("data-sortBy");if(i&&o)t.sort=u.getAttribute("data-sort"),t.sortBy=u.getAttribute("data-sortBy");else if(i)t.sort=u.getAttribute("data-sort");else{if(!o)return;t.sortBy=u.getAttribute("data-sortBy")}var r=t.sortBy.split(":"),a="string",s=1;if("int"===r[0]?a="int":"float"===r[0]&&(a="float"),"desc"===r[1]&&(s=-1),t.sort){var l=[];n.blocks.each((function(n,i){var o=e(i),r=o.find(t.sort).text();"int"===a&&(r=parseInt(r,10)),"float"===a&&(r=parseFloat(r,10)),l.push({sortText:r,data:o.data("cbp")})})),l.sort((function(e,t){var n=e.sortText,i=t.sortText;return"string"===a&&(n=n.toUpperCase(),i=i.toUpperCase()),n<i?-s:i<n?s:0})),e.each(l,(function(e,t){t.data.index=e}))}else{var c=[];-1===s&&(n.blocks.each((function(t,n){c.push(e(n).data("cbp").indexInitial)})),c.sort((function(e,t){return t-e}))),n.blocks.each((function(t,n){var i=e(n).data("cbp");i.index=-1===s?c[i.indexInitial]:i.indexInitial}))}n.sortBlocks(n.blocks,"index"),t.dropdownWrap.trigger("mouseleave.cbp");var u=e(t.target),d=e(t.target).parent();d.hasClass("cbp-l-dropdown-list")?(t.dropdownHeader.html(u.html()),u.addClass("cbp-l-dropdown-item--active").siblings(".cbp-l-dropdown-item").removeClass("cbp-l-dropdown-item--active")):d.hasClass("cbp-l-direction")&&(0===u.index()?d.addClass("cbp-l-direction--second").removeClass("cbp-l-direction--first"):d.addClass("cbp-l-direction--first").removeClass("cbp-l-direction--second"))},t.prototype.destroy=function(){this.element.off("click.cbp")},i.plugins.sort=function(e){return new t(e)}}(jQuery,window,document),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Typed=t():e.Typed=t()}(this,(function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),a=n(3),s=function(){function e(t,n){i(this,e),r.initializer.load(this,n,t),this.begin()}return o(e,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var e=this;this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout((function(){e.currentElContent&&0!==e.currentElContent.length?e.backspace(e.currentElContent,e.currentElContent.length):e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)}),this.startDelay)}},{key:"typewrite",value:function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var i=this.humanizer(this.typeSpeed),o=1;return!0===this.pause.status?void this.setPauseStatus(e,t,!0):void(this.timeout=setTimeout((function(){t=a.htmlParser.typeHtmlChars(e,t,n);var i=0,r=e.substr(t);if("^"===r.charAt(0)&&/^\^\d+/.test(r)){var s=1;s+=(r=/\d+/.exec(r)[0]).length,i=parseInt(r),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+s),n.toggleBlinking(!0)}if("`"===r.charAt(0)){for(;"`"!==e.substr(t+o).charAt(0)&&(o++,!(t+o>e.length)););var l=e.substring(0,t),c=e.substring(l.length+1,t+o),u=e.substring(t+o+1);e=l+c+u,o--}n.timeout=setTimeout((function(){n.toggleBlinking(!1),t===e.length?n.doneTyping(e,t):n.keepTyping(e,t,o),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))}),i)}),i))}},{key:"keepTyping",value:function(e,t,n){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),t+=n;var i=e.substr(0,t);this.replaceText(i),this.typewrite(e,t)}},{key:"doneTyping",value:function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout((function(){n.backspace(e,t)}),this.backDelay))}},{key:"backspace",value:function(e,t){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var i=this.humanizer(this.backSpeed);this.timeout=setTimeout((function(){t=a.htmlParser.backSpaceHtmlChars(e,t,n);var i=e.substr(0,t);if(n.replaceText(i),n.smartBackspace){var o=n.strings[n.arrayPos+1];o&&i===o.substr(0,t)?n.stopNum=t:n.stopNum=0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))}),i)}else this.setPauseStatus(e,t,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t}},{key:"toggleBlinking",value:function(e){if(this.cursor&&!this.pause.status&&this.cursorBlinking!==e){this.cursorBlinking=e;var t=e?"infinite":0;this.cursor.style.animationIterationCount=t}}},{key:"humanizer",value:function(e){return Math.round(Math.random()*e/2)+e}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort((function(){return Math.random()-.5})))}},{key:"initFadeOut",value:function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout((function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)}),this.fadeOutDelay)}},{key:"replaceText",value:function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e}},{key:"bindFocusEvents",value:function(){var e=this;this.isInput&&(this.el.addEventListener("focus",(function(){e.stop()})),this.el.addEventListener("blur",(function(){e.el.value&&0!==e.el.value.length||e.start()})))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(2)),l=function(){function e(){o(this,e)}return a(e,[{key:"load",value:function(e,t,n){if(e.el="string"==typeof n?document.querySelector(n):n,e.options=r({},s.default,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map((function(e){return e.trim()})),"string"==typeof e.options.stringsElement?e.stringsElement=document.querySelector(e.options.stringsElement):e.stringsElement=e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.display="none";var i=Array.prototype.slice.apply(e.stringsElement.children),o=i.length;if(o)for(var a=0;a<o;a+=1){var l=i[a];e.strings.push(l.innerHTML.trim())}}for(var a in e.strPos=0,e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.sequence=[],e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.strings)e.sequence[a]=a;e.currentElContent=this.getCurrentElContent(e),e.autoInsertCss=e.options.autoInsertCss,this.appendAnimationCss(e)}},{key:"getCurrentElContent",value:function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent}},{key:"appendAnimationCss",value:function(e){if(e.autoInsertCss&&e.showCursor&&e.fadeOut){var t=document.createElement("style");t.type="text/css";var n="";e.showCursor&&(n+="\n        .typed-cursor{\n          opacity: 1;\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),e.fadeOut&&(n+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n          -webkit-animation: 0;\n                  animation: 0;\n        }\n      "),0!==t.length&&(t.innerHTML=n,document.head.appendChild(t))}}}]),e}();t.default=l;var c=new l;t.initializer=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onComplete:function(){},preStringTyped:function(){},onStringTyped:function(){},onLastStringBackspaced:function(){},onTypingPaused:function(){},onTypingResumed:function(){},onReset:function(){},onStop:function(){},onStart:function(){},onDestroy:function(){}};t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e)}return i(e,[{key:"typeHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var i=e.substr(t).charAt(0);if("<"===i||"&"===i){var o="";for(o="<"===i?">":";";e.substr(t+1).charAt(0)!==o&&!(++t+1>e.length););t++}return t}},{key:"backSpaceHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var i=e.substr(t).charAt(0);if(">"===i||";"===i){var o="";for(o=">"===i?"<":"&";e.substr(t-1).charAt(0)!==o&&!(--t<0););t--}return t}}]),e}();t.default=o;var r=new o;t.htmlParser=r}])})),function(e,t,n,i){"use strict";function o(e){var t=e.currentTarget,i=e.data?e.data.options:{},o=i.selector?n(i.selector):e.data?e.data.items:[],r=n(t).attr("data-fancybox")||"",a=0,s=n.fancybox.getInstance();e.preventDefault(),e.stopPropagation(),s&&s.current.opts.$orig.is(t)||(r?(a=(o=o.length?o.filter('[data-fancybox="'+r+'"]'):n('[data-fancybox="'+r+'"]')).index(t))<0&&(a=0):o=[t],n.fancybox.open(o,i,a))}if(n){if(n.fn.fancybox)return void n.error("fancyBox already initialized");var r={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(e){return"image"===e.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(e){return"image"===e.type&&"toggleControls"},clickSlide:function(e){return"image"===e.type?"toggleControls":"close"},dblclickContent:function(e){return"image"===e.type&&"zoom"},dblclickSlide:function(e){return"image"===e.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},a=n(e),s=n(t),l=0,c=function(e){return e&&e.hasOwnProperty&&e instanceof n},u=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)},d=function(){var e,n=t.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(n.style[e]!==i)return o[e]}(),h=function(e){return e&&e.length&&e[0].offsetHeight},p=function(e,i,o){var a=this;a.opts=n.extend(!0,{index:o},r,i||{}),i&&n.isArray(i.buttons)&&(a.opts.buttons=i.buttons),a.id=a.opts.id||++l,a.group=[],a.currIndex=parseInt(a.opts.index,10)||0,a.prevIndex=null,a.prevPos=null,a.currPos=0,a.firstRun=null,a.createGroup(e),a.group.length&&(a.$lastFocus=n(t.activeElement).blur(),a.slides={},a.init(e))};n.extend(p.prototype,{init:function(){var e,t,i,o=this,r=o.group[o.currIndex].opts;o.scrollTop=s.scrollTop(),o.scrollLeft=s.scrollLeft(),n.fancybox.getInstance()||n.fancybox.isMobile||"hidden"===n("body").css("overflow")||(e=n("body").width(),n("html").addClass("fancybox-enabled"),(e=n("body").width()-e)>1&&n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+e+"px; }</style>")),i="",n.each(r.buttons,(function(e,t){i+=r.btnTpl[t]||""})),t=n(o.translate(o,r.baseTpl.replace("{{BUTTONS}}",i))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+o.id).addClass(r.baseClass).data("FancyBox",o).prependTo(r.parentEl),o.$refs={container:t},["bg","inner","infobar","toolbar","stage","caption"].forEach((function(e){o.$refs[e]=t.find(".fancybox-"+e)})),(!r.arrows||o.group.length<2)&&t.find(".fancybox-navigation").remove(),r.infobar||o.$refs.infobar.remove(),r.toolbar||o.$refs.toolbar.remove(),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(e,t){var n=e.opts.i18n[e.opts.lang];return t.replace(/\{\{(\w+)\}\}/g,(function(e,t){var o=n[t];return o===i?e:o}))},createGroup:function(e){var t=this,o=n.makeArray(e);n.each(o,(function(e,o){var r,a,s,l,c={},u={},d=[];n.isPlainObject(o)?(c=o,u=o.opts||o):"object"===n.type(o)&&n(o).length?(r=n(o),d=r.data(),u="options"in d?d.options:{},u="object"===n.type(u)?u:{},c.src="src"in d?d.src:u.src||r.attr("href"),["width","height","thumb","type","filter"].forEach((function(e){e in d&&(u[e]=d[e])})),"srcset"in d&&(u.image={srcset:d.srcset}),u.$orig=r,c.type||c.src||(c.type="inline",c.src=o)):c={type:"html",src:o+""},c.opts=n.extend(!0,{},t.opts,u),n.fancybox.isMobile&&(c.opts=n.extend(!0,{},c.opts,c.opts.mobile)),a=c.type||c.opts.type,s=c.src||"",!a&&s&&(s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":s.match(/\.(pdf)((\?|#).*)?$/i)?a="pdf":"#"===s.charAt(0)&&(a="inline")),c.type=a,c.index=t.group.length,c.opts.$orig&&!c.opts.$orig.length&&delete c.opts.$orig,!c.opts.$thumb&&c.opts.$orig&&(c.opts.$thumb=c.opts.$orig.find("img:first")),c.opts.$thumb&&!c.opts.$thumb.length&&delete c.opts.$thumb,"function"===n.type(c.opts.caption)?c.opts.caption=c.opts.caption.apply(o,[t,c]):"caption"in d&&(c.opts.caption=d.caption),c.opts.caption=c.opts.caption===i?"":c.opts.caption+"","ajax"===a&&((l=s.split(/\s+/,2)).length>1&&(c.src=l.shift(),c.opts.filter=l.shift())),"auto"==c.opts.smallBtn&&(n.inArray(a,["html","inline","ajax"])>-1?(c.opts.toolbar=!1,c.opts.smallBtn=!0):c.opts.smallBtn=!1),"pdf"===a&&(c.type="iframe",c.opts.iframe.preload=!1),c.opts.modal&&(c.opts=n.extend(!0,c.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),t.group.push(c)}))},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",(function(e){e.stopPropagation(),e.preventDefault(),i.close(e)})).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",(function(e){e.stopPropagation(),e.preventDefault(),i.previous()})).on("click.fb-next touchend.fb-next","[data-fancybox-next]",(function(e){e.stopPropagation(),e.preventDefault(),i.next()})),a.on("orientationchange.fb resize.fb",(function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?u((function(){i.update()})):(i.$refs.stage.hide(),setTimeout((function(){i.$refs.stage.show(),i.update()}),500))})),s.on("focusin.fb",(function(e){var o=n.fancybox?n.fancybox.getInstance():null;o.isClosing||!o.current||!o.current.opts.trapFocus||n(e.target).hasClass("fancybox-container")||n(e.target).is(t)||o&&"fixed"!==n(e.target).css("position")&&!o.$refs.container.has(e.target).length&&(e.stopPropagation(),o.focus(),a.scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))})),s.on("keydown.fb",(function(e){var t=i.current,o=e.keyCode||e.which;if(t&&t.opts.keyboard&&!n(e.target).is("input")&&!n(e.target).is("textarea"))return 8===o||27===o?(e.preventDefault(),void i.close(e)):37===o||38===o?(e.preventDefault(),void i.previous()):39===o||40===o?(e.preventDefault(),void i.next()):void i.trigger("afterKeydown",e,o)})),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",(function(){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1})),i.idleInterval=e.setInterval((function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())}),1e3))},removeEvents:function(){var t=this;a.off("orientationchange.fb resize.fb"),s.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),t.idleInterval&&(e.clearInterval(t.idleInterval),t.idleInterval=null)},previous:function(e){return this.jumpTo(this.currPos-1,e)},next:function(e){return this.jumpTo(this.currPos+1,e)},jumpTo:function(e,t){var o,r,a,s,l,c,u,d=this,p=d.group.length;if(!(d.isSliding||d.isClosing||d.isAnimating&&d.firstRun)){if(e=parseInt(e,10),!(r=d.current?d.current.opts.loop:d.opts.loop)&&(e<0||e>=p))return!1;if(o=d.firstRun=null===d.firstRun,!(p<2&&!o&&d.isSliding)){if(s=d.current,d.prevIndex=d.currIndex,d.prevPos=d.currPos,a=d.createSlide(e),p>1&&((r||a.index>0)&&d.createSlide(e-1),(r||a.index<p-1)&&d.createSlide(e+1)),d.current=a,d.currIndex=a.index,d.currPos=a.pos,d.trigger("beforeShow",o),d.updateControls(),c=n.fancybox.getTranslate(a.$slide),a.isMoved=(0!==c.left||0!==c.top)&&!a.$slide.hasClass("fancybox-animated"),a.forcedDuration=i,n.isNumeric(t)?a.forcedDuration=t:t=a.opts[o?"animationDuration":"transitionDuration"],t=parseInt(t,10),o)return a.opts.animationEffect&&t&&d.$refs.container.css("transition-duration",t+"ms"),d.$refs.container.removeClass("fancybox-is-hidden"),h(d.$refs.container),d.$refs.container.addClass("fancybox-is-open"),a.$slide.addClass("fancybox-slide--current"),d.loadSlide(a),void d.preload();n.each(d.slides,(function(e,t){n.fancybox.stop(t.$slide)})),a.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),a.isMoved?(l=Math.round(a.$slide.width()),n.each(d.slides,(function(e,i){var o=i.pos-a.pos;n.fancybox.animate(i.$slide,{top:0,left:o*l+o*i.opts.gutter},t,(function(){i.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),i.pos===d.currPos&&(a.isMoved=!1,d.complete())}))}))):d.$refs.stage.children().removeAttr("style"),a.isLoaded?d.revealContent(a):d.loadSlide(a),d.preload(),s.pos!==a.pos&&(u="fancybox-slide--"+(s.pos>a.pos?"next":"previous"),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),s.isComplete=!1,t&&(a.isMoved||a.opts.transitionEffect)&&(a.isMoved?s.$slide.addClass(u):(u="fancybox-animated "+u+" fancybox-fx-"+a.opts.transitionEffect,n.fancybox.animate(s.$slide,u,t,(function(){s.$slide.removeClass(u).removeAttr("style")})))))}}},createSlide:function(e){var t,i,o=this;return i=(i=e%o.group.length)<0?o.group.length+i:i,!o.slides[e]&&o.group[i]&&(t=n('<div class="fancybox-slide"></div>').appendTo(o.$refs.stage),o.slides[e]=n.extend(!0,{},o.group[i],{pos:e,$slide:t,isLoaded:!1}),o.updateSlide(o.slides[e])),o.slides[e]},scaleToActual:function(e,t,o){var r,a,s,l,c,u=this,d=u.current,h=d.$content,p=parseInt(d.$slide.width(),10),f=parseInt(d.$slide.height(),10),m=d.width,g=d.height;"image"!=d.type||d.hasError||!h||u.isAnimating||(n.fancybox.stop(h),u.isAnimating=!0,e=e===i?.5*p:e,t=t===i?.5*f:t,l=m/(r=n.fancybox.getTranslate(h)).width,c=g/r.height,a=.5*p-.5*m,s=.5*f-.5*g,m>p&&((a=r.left*l-(e*l-e))>0&&(a=0),a<p-m&&(a=p-m)),g>f&&((s=r.top*c-(t*c-t))>0&&(s=0),s<f-g&&(s=f-g)),u.updateCursor(m,g),n.fancybox.animate(h,{top:s,left:a,scaleX:l,scaleY:c},o||330,(function(){u.isAnimating=!1})),u.SlideShow&&u.SlideShow.isActive&&u.SlideShow.stop())},scaleToFit:function(e){var t,i=this,o=i.current,r=o.$content;"image"!=o.type||o.hasError||!r||i.isAnimating||(n.fancybox.stop(r),i.isAnimating=!0,t=i.getFitPos(o),i.updateCursor(t.width,t.height),n.fancybox.animate(r,{top:t.top,left:t.left,scaleX:t.width/r.width(),scaleY:t.height/r.height()},e||330,(function(){i.isAnimating=!1})))},getFitPos:function(e){var t,i,o,r,s,l=this,c=e.$content,u=e.width,d=e.height,h=e.opts.margin;return!(!c||!c.length||!u&&!d)&&("number"===n.type(h)&&(h=[h,h]),2==h.length&&(h=[h[0],h[1],h[0],h[1]]),a.width()<800&&(h=[0,0,0,0]),t=parseInt(l.$refs.stage.width(),10)-(h[1]+h[3]),i=parseInt(l.$refs.stage.height(),10)-(h[0]+h[2]),o=Math.min(1,t/u,i/d),r=Math.floor(o*u),s=Math.floor(o*d),{top:Math.floor(.5*(i-s))+h[0],left:Math.floor(.5*(t-r))+h[3],width:r,height:s})},update:function(){var e=this;n.each(e.slides,(function(t,n){e.updateSlide(n)}))},updateSlide:function(e){var t=this,i=e.$content;i&&(e.width||e.height)&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,t.getFitPos(e)),e.pos===t.currPos&&t.updateCursor()),e.$slide.trigger("refresh"),t.trigger("onUpdate",e)},updateCursor:function(e,t){var n=this,o=n.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");n.current&&!n.isClosing&&(n.isZoomable()?(o.addClass("fancybox-is-zoomable"),(e!==i&&t!==i?e<n.current.width&&t<n.current.height:n.isScaledDown())?o.addClass("fancybox-can-zoomIn"):n.current.opts.touch?o.addClass("fancybox-can-drag"):o.addClass("fancybox-can-zoomOut")):n.current.opts.touch&&o.addClass("fancybox-can-drag"))},isZoomable:function(){var e,t=this,i=t.current;if(i&&!t.isClosing)return!!("image"===i.type&&i.isLoaded&&!i.hasError&&("zoom"===i.opts.clickContent||n.isFunction(i.opts.clickContent)&&"zoom"===i.opts.clickContent(i))&&(e=t.getFitPos(i),i.width>e.width||i.height>e.height))},isScaledDown:function(){var e=this.current,t=e.$content,i=!1;return t&&(i=(i=n.fancybox.getTranslate(t)).width<e.width||i.height<e.height),i},canPan:function(){var e=this,t=e.current,n=t.$content,i=!1;return n&&(i=e.getFitPos(t),i=Math.abs(n.width()-i.width)>1||Math.abs(n.height()-i.height)>1),i},loadSlide:function(e){var t,i,o,r=this;if(!e.isLoading&&!e.isLoaded){switch(e.isLoading=!0,r.trigger("beforeLoad",e),t=e.type,(i=e.$slide).off("refresh").trigger("onReset").addClass("fancybox-slide--"+(t||"unknown")).addClass(e.opts.slideClass),t){case"image":r.setImage(e);break;case"iframe":r.setIframe(e);break;case"html":r.setContent(e,e.src||e.content);break;case"inline":n(e.src).length?r.setContent(e,n(e.src)):r.setError(e);break;case"ajax":r.showLoading(e),o=n.ajax(n.extend({},e.opts.ajax.settings,{url:e.src,success:function(t,n){"success"===n&&r.setContent(e,t)},error:function(t,n){t&&"abort"!==n&&r.setError(e)}})),i.one("onReset",(function(){o.abort()}));break;default:r.setError(e)}return!0}},setImage:function(t){var i,o,r,a,s=this,l=t.opts.image.srcset;if(l){r=e.devicePixelRatio||1,a=e.innerWidth*r,o=l.split(",").map((function(e){var t={};return e.trim().split(/\s+/).forEach((function(e,n){var i=parseInt(e.substring(0,e.length-1),10);return 0===n?t.url=e:void(i&&(t.value=i,t.postfix=e[e.length-1]))})),t})),o.sort((function(e,t){return e.value-t.value}));for(var c=0;c<o.length;c++){var u=o[c];if("w"===u.postfix&&u.value>=a||"x"===u.postfix&&u.value>=r){i=u;break}}!i&&o.length&&(i=o[o.length-1]),i&&(t.src=i.url,
t.width&&t.height&&"w"==i.postfix&&(t.height=t.width/t.height*i.value,t.width=i.value))}t.$content=n('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=n("<img />").one("error",(function(){n(this).remove(),t.$ghost=null,s.setBigImage(t)})).one("load",(function(){s.afterLoad(t),s.setBigImage(t)})).addClass("fancybox-image").appendTo(t.$content).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):s.setBigImage(t)},setBigImage:function(e){var t=this,i=n("<img />");e.$image=i.one("error",(function(){t.setError(e)})).one("load",(function(){clearTimeout(e.timouts),e.timouts=null,t.isClosing||(e.width=this.naturalWidth,e.height=this.naturalHeight,e.opts.image.srcset&&i.attr("sizes","100vw").attr("srcset",e.opts.image.srcset),t.hideLoading(e),e.$ghost?e.timouts=setTimeout((function(){e.timouts=null,e.$ghost.hide()}),Math.min(300,Math.max(1e3,e.height/1600))):t.afterLoad(e))})).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),i[0].complete?i.trigger("load"):i[0].error?i.trigger("error"):e.timouts=setTimeout((function(){i[0].complete||e.hasError||t.showLoading(e)}),100)},setIframe:function(e){var t,o=this,r=e.opts.iframe,a=e.$slide;e.$content=n('<div class="fancybox-content'+(r.preload?" fancybox-is-hidden":"")+'"></div>').css(r.css).appendTo(a),t=n(r.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(r.attr).appendTo(e.$content),r.preload?(o.showLoading(e),t.on("load.fb error.fb",(function(){this.isReady=1,e.$slide.trigger("refresh"),o.afterLoad(e)})),a.on("refresh.fb",(function(){var n,o,a,s,l=e.$content;if(1===t[0].isReady){try{n=t.contents().find("body")}catch(e){}n&&n.length&&(r.css.width===i||r.css.height===i)&&(o=t[0].contentWindow.document.documentElement.scrollWidth,a=Math.ceil(n.outerWidth(!0)+(l.width()-o)),s=Math.ceil(n.outerHeight(!0)),l.css({width:r.css.width===i?a+(l.outerWidth()-l.innerWidth()):r.css.width,height:r.css.height===i?s+(l.outerHeight()-l.innerHeight()):r.css.height})),l.removeClass("fancybox-is-hidden")}}))):this.afterLoad(e),t.attr("src",e.src),!0===e.opts.smallBtn&&e.$content.prepend(o.translate(e,e.opts.btnTpl.smallBtn)),a.one("onReset",(function(){try{n(this).find("iframe").hide().attr("src","//about:blank")}catch(e){}n(this).empty(),e.isLoaded=!1}))},setContent:function(e,t){var i=this;i.isClosing||(i.hideLoading(e),e.$slide.empty(),c(t)&&t.parent().length?(t.parent(".fancybox-slide--inline").trigger("onReset"),e.$placeholder=n("<div></div>").hide().insertAfter(t),t.css("display","inline-block")):e.hasError||("string"===n.type(t)&&(3===(t=n("<div>").append(n.trim(t)).contents())[0].nodeType&&(t=n("<div>").html(t))),e.opts.filter&&(t=n("<div>").html(t).find(e.opts.filter))),e.$slide.one("onReset",(function(){e.$placeholder&&(e.$placeholder.after(t.hide()).remove(),e.$placeholder=null),e.$smallBtn&&(e.$smallBtn.remove(),e.$smallBtn=null),e.hasError||(n(this).empty(),e.isLoaded=!1)})),e.$content=n(t).appendTo(e.$slide),e.opts.smallBtn&&!e.$smallBtn&&(e.$smallBtn=n(i.translate(e,e.opts.btnTpl.smallBtn)).appendTo(e.$content)),this.afterLoad(e))},setError:function(e){e.hasError=!0,e.$slide.removeClass("fancybox-slide--"+e.type),this.setContent(e,this.translate(e,e.opts.errorTpl))},showLoading:function(e){var t=this;(e=e||t.current)&&!e.$spinner&&(e.$spinner=n(t.opts.spinnerTpl).appendTo(e.$slide))},hideLoading:function(e){(e=e||this.current)&&e.$spinner&&(e.$spinner.remove(),delete e.$spinner)},afterLoad:function(e){var t=this;t.isClosing||(e.isLoading=!1,e.isLoaded=!0,t.trigger("afterLoad",e),t.hideLoading(e),e.opts.protect&&e.$content&&!e.hasError&&(e.$content.on("contextmenu.fb",(function(e){return 2==e.button&&e.preventDefault(),!0})),"image"===e.type&&n('<div class="fancybox-spaceball"></div>').appendTo(e.$content)),t.revealContent(e))},revealContent:function(e){var t,o,r,a,s,l=this,c=e.$slide,u=!1;return t=e.opts[l.firstRun?"animationEffect":"transitionEffect"],r=e.opts[l.firstRun?"animationDuration":"transitionDuration"],r=parseInt(e.forcedDuration===i?r:e.forcedDuration,10),!e.isMoved&&e.pos===l.currPos&&r||(t=!1),"zoom"!==t||e.pos===l.currPos&&r&&"image"===e.type&&!e.hasError&&(u=l.getThumbPos(e))||(t="fade"),"zoom"===t?((s=l.getFitPos(e)).scaleX=s.width/u.width,s.scaleY=s.height/u.height,delete s.width,delete s.height,"auto"==(a=e.opts.zoomOpacity)&&(a=Math.abs(e.width/e.height-u.width/u.height)>.1),a&&(u.opacity=.1,s.opacity=1),n.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),u),h(e.$content),void n.fancybox.animate(e.$content,s,r,(function(){l.complete()}))):(l.updateSlide(e),t?(n.fancybox.stop(c),o="fancybox-animated fancybox-slide--"+(e.pos>l.prevPos?"next":"previous")+" fancybox-fx-"+t,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(o),e.$content.removeClass("fancybox-is-hidden"),h(c),void n.fancybox.animate(c,"fancybox-slide--current",r,(function(){c.removeClass(o).removeAttr("style"),e.pos===l.currPos&&l.complete()}),!0)):(h(c),e.$content.removeClass("fancybox-is-hidden"),void(e.pos===l.currPos&&l.complete())))},getThumbPos:function(i){var o,r=this,a=!1,s=function(t){for(var i,o=t[0],r=o.getBoundingClientRect(),a=[];null!==o.parentElement;)"hidden"!==n(o.parentElement).css("overflow")&&"auto"!==n(o.parentElement).css("overflow")||a.push(o.parentElement.getBoundingClientRect()),o=o.parentElement;return i=a.every((function(e){var t=Math.min(r.right,e.right)-Math.max(r.left,e.left),n=Math.min(r.bottom,e.bottom)-Math.max(r.top,e.top);return t>0&&n>0})),i&&r.bottom>0&&r.right>0&&r.left<n(e).width()&&r.top<n(e).height()},l=i.opts.$thumb,c=l?l.offset():0;return c&&l[0].ownerDocument===t&&s(l)&&(o=r.$refs.stage.offset(),a={top:c.top-o.top+parseFloat(l.css("border-top-width")||0),left:c.left-o.left+parseFloat(l.css("border-left-width")||0),width:l.width(),height:l.height(),scaleX:1,scaleY:1}),a},complete:function(){var e=this,i=e.current,o={};i.isMoved||!i.isLoaded||i.isComplete||(i.isComplete=!0,i.$slide.siblings().trigger("onReset"),h(i.$slide),i.$slide.addClass("fancybox-slide--complete"),n.each(e.slides,(function(t,i){i.pos>=e.currPos-1&&i.pos<=e.currPos+1?o[i.pos]=i:i&&(n.fancybox.stop(i.$slide),i.$slide.unbind().remove())})),e.slides=o,e.updateCursor(),e.trigger("afterShow"),(n(t.activeElement).is("[disabled]")||i.opts.autoFocus&&"image"!=i.type&&"iframe"!==i.type)&&e.focus())},preload:function(){var e,t,n=this;n.group.length<2||(e=n.slides[n.currPos+1],t=n.slides[n.currPos-1],e&&"image"===e.type&&n.loadSlide(e),t&&"image"===t.type&&n.loadSlide(t))},focus:function(){var e,t=this.current;this.isClosing||(e=(e=t&&t.isComplete?t.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null)&&e.length?e:this.$refs.container).focus()},activate:function(){var e=this;n(".fancybox-container").each((function(){var t=n(this).data("FancyBox");t&&t.uid!==e.uid&&!t.isClosing&&t.trigger("onDeactivate")})),e.current&&(e.$refs.container.index()>0&&e.$refs.container.prependTo(t.body),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(e,t){var i,o,r,a,s,l,c=this,h=c.current,p=function(){c.cleanUp(e)};return!(c.isClosing||(c.isClosing=!0,!1===c.trigger("beforeClose",e)?(c.isClosing=!1,u((function(){c.update()})),1):(c.removeEvents(),h.timouts&&clearTimeout(h.timouts),r=h.$content,i=h.opts.animationEffect,o=n.isNumeric(t)?t:i?h.opts.animationDuration:0,h.$slide.off(d).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),h.$slide.siblings().trigger("onReset").remove(),o&&c.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),c.hideLoading(h),c.hideControls(),c.updateCursor(),"zoom"!==i||!0!==e&&r&&o&&"image"===h.type&&!h.hasError&&(l=c.getThumbPos(h))||(i="fade"),"zoom"===i?(n.fancybox.stop(r),s=n.fancybox.getTranslate(r),s.width=s.width*s.scaleX,s.height=s.height*s.scaleY,a=h.opts.zoomOpacity,"auto"==a&&(a=Math.abs(h.width/h.height-l.width/l.height)>.1),a&&(l.opacity=0),s.scaleX=s.width/l.width,s.scaleY=s.height/l.height,s.width=l.width,s.height=l.height,n.fancybox.setTranslate(h.$content,s),n.fancybox.animate(h.$content,l,o,p),0):(i&&o?!0===e?setTimeout(p,o):n.fancybox.animate(h.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+i,o,p):p(),0))))},cleanUp:function(e){var t,i=this;i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",e),i.$lastFocus&&i.current.opts.backFocus&&i.$lastFocus.focus(),i.current=null,(t=n.fancybox.getInstance())?t.activate():(a.scrollTop(i.scrollTop).scrollLeft(i.scrollLeft),n("html").removeClass("fancybox-enabled"),n("#fancybox-style-noscroll").remove())},trigger:function(e,t){var i,o=Array.prototype.slice.call(arguments,1),r=this,a=t&&t.opts?t:r.current;return a?o.unshift(a):a=r,o.unshift(r),n.isFunction(a.opts[e])&&(i=a.opts[e].apply(a,o)),!1===i?i:void("afterClose"===e?s.trigger(e+".fb",o):r.$refs.container.trigger(e+".fb",o))},updateControls:function(){var e=this,t=e.current,i=t.index,o=t.opts,r=o.caption,a=e.$refs.caption;t.$slide.trigger("refresh"),e.$caption=r&&r.length?a.html(r):null,e.isHiddenControls||e.showControls(),n("[data-fancybox-count]").html(e.group.length),n("[data-fancybox-index]").html(i+1),n("[data-fancybox-prev]").prop("disabled",!o.loop&&i<=0),n("[data-fancybox-next]").prop("disabled",!o.loop&&i>=e.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var e=this,t=e.current?e.current.opts:e.opts,n=e.$refs.container;e.isHiddenControls=!1,e.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&e.group.length>1)).toggleClass("fancybox-show-nav",!!(t.arrows&&e.group.length>1)).toggleClass("fancybox-is-modal",!!t.modal),e.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.1.24",defaults:r,getInstance:function(e){var t=n('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return t instanceof p&&("string"===n.type(e)?t[e].apply(t,i):"function"===n.type(e)&&e.apply(t,i),t)},open:function(e,t,n){return new p(e,t,n)},close:function(e){var t=this.getInstance();t&&(t.close(),!0===e&&this.close())},destroy:function(){this.close(!0),s.off("click.fb-start")},isMobile:t.createTouch!==i&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:function(){var n=t.createElement("div");return e.getComputedStyle&&e.getComputedStyle(n).getPropertyValue("transform")&&!(t.documentMode&&t.documentMode<11)}(),getTranslate:function(e){var t;if(!e||!e.length)return!1;if((t=e.eq(0).css("transform"))&&-1!==t.indexOf("matrix")?t=(t=(t=t.split("(")[1]).split(")")[0]).split(","):t=[],t.length)t=(t=t.length>10?[t[13],t[12],t[0],t[5]]:[t[5],t[4],t[0],t[3]]).map(parseFloat);else{t=[0,0,1,1];var n=/\.*translate\((.*)px,(.*)px\)/i.exec(e.eq(0).attr("style"));n&&(t[0]=parseFloat(n[2]),t[1]=parseFloat(n[1]))}return{top:t[0],left:t[1],scaleX:t[2],scaleY:t[3],opacity:parseFloat(e.css("opacity")),width:e.width(),height:e.height()}},setTranslate:function(e,t){var n="",o={};if(e&&t)return t.left===i&&t.top===i||(n=(t.left===i?e.position().left:t.left)+"px, "+(t.top===i?e.position().top:t.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),t.scaleX!==i&&t.scaleY!==i&&(n=(n.length?n+" ":"")+"scale("+t.scaleX+", "+t.scaleY+")"),n.length&&(o.transform=n),t.opacity!==i&&(o.opacity=t.opacity),t.width!==i&&(o.width=t.width),t.height!==i&&(o.height=t.height),e.css(o)},animate:function(e,t,o,r,a){var s=d||"transitionend";n.isFunction(o)&&(r=o,o=null),n.isPlainObject(t)||e.removeAttr("style"),e.on(s,(function(o){(!o||!o.originalEvent||e.is(o.originalEvent.target)&&"z-index"!=o.originalEvent.propertyName)&&(e.off(s),n.isPlainObject(t)?t.scaleX!==i&&t.scaleY!==i&&(e.css("transition-duration","0ms"),t.width=Math.round(e.width()*t.scaleX),t.height=Math.round(e.height()*t.scaleY),t.scaleX=1,t.scaleY=1,n.fancybox.setTranslate(e,t)):!0!==a&&e.removeClass(t),n.isFunction(r)&&r(o))})),n.isNumeric(o)&&e.css("transition-duration",o+"ms"),n.isPlainObject(t)?n.fancybox.setTranslate(e,t):e.addClass(t),e.data("timer",setTimeout((function(){e.trigger("transitionend")}),o+16))},stop:function(e){clearTimeout(e.data("timer")),e.off(d)}},n.fn.fancybox=function(e){var t;return(t=(e=e||{}).selector||!1)?n("body").off("click.fb-start",t).on("click.fb-start",t,{options:e},o):this.off("click.fb-start").on("click.fb-start",{items:this,options:e},o),this},s.on("click.fb-start","[data-fancybox]",o)}}(window,document,window.jQuery),function(e){"use strict";var t=function(t,n,i){if(t)return i=i||"","object"===e.type(i)&&(i=e.param(i,!0)),e.each(n,(function(e,n){t=t.replace("$"+e,n||"")})),i.length&&(t+=(t.indexOf("?")>0?"&":"?")+i),t},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12])+"&output="+(e[12]&&e[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};e(document).on("onInit.fb",(function(i,o){e.each(o.group,(function(i,o){var r,a,s,l,c,u,d,h=o.src||"",p=!1;o.type||(r=e.extend(!0,{},n,o.opts.media),e.each(r,(function(n,i){if(s=h.match(i.matcher),u={},d=n,s){if(p=i.type,i.paramPlace&&s[i.paramPlace]){"?"==(c=s[i.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var r=0;r<c.length;++r){var f=c[r].split("=",2);2==f.length&&(u[f[0]]=decodeURIComponent(f[1].replace(/\+/g," ")))}}return l=e.extend(!0,{},i.params,o.opts[n],u),h="function"===e.type(i.url)?i.url.call(this,s,l,o):t(i.url,s,l),a="function"===e.type(i.thumb)?i.thumb.call(this,s,l,o):t(i.thumb,s),"vimeo"===d&&(h=h.replace("&%23","#")),!1}})),p?(o.src=h,o.type=p,o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=a),"iframe"===p&&(e.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),o.contentProvider=d,o.opts.slideClass+=" fancybox-slide--"+("gmap_place"==d||"gmap_search"==d?"map":"video"))):o.type="image")}))}))}(window.jQuery),function(e,t,n){"use strict";var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)},o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||function(t){e.clearTimeout(t)},r=function(t){var n=[];for(var i in t=(t=t.originalEvent||t||e.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[i].pageX?n.push({x:t[i].pageX,y:t[i].pageY}):t[i].clientX&&n.push({x:t[i].clientX,y:t[i].clientY});return n},a=function(e,t,n){return t&&e?"x"===n?e.x-t.x:"y"===n?e.y-t.y:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0},s=function(e){if(e.is("a,button,input,select,textarea")||n.isFunction(e.get(0).onclick))return!0;for(var t=0,i=e[0].attributes,o=i.length;t<o;t++)if("data-fancybox-"===i[t].nodeName.substr(0,14))return!0;return!1},l=function(t){var n=e.getComputedStyle(t)["overflow-y"],i=e.getComputedStyle(t)["overflow-x"],o=("scroll"===n||"auto"===n)&&t.scrollHeight>t.clientHeight,r=("scroll"===i||"auto"===i)&&t.scrollWidth>t.clientWidth;return o||r},c=function(e){for(var t=!1;!(t=l(e.get(0)))&&((e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body")););return t},u=function(e){var t=this;t.instance=e,t.$bg=e.$refs.bg,t.$stage=e.$refs.stage,t.$container=e.$refs.container,t.destroy(),t.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(t,"ontouchstart"))};u.prototype.destroy=function(){this.$container.off(".fb.touch")},u.prototype.ontouchstart=function(i){var o=this,l=n(i.target),u=o.instance,d=u.current,h=d.$content,p="touchstart"==i.type;if(p&&o.$container.off("mousedown.fb.touch"),!d||o.instance.isAnimating||o.instance.isClosing)return i.stopPropagation(),void i.preventDefault();if((!i.originalEvent||2!=i.originalEvent.button)&&l.length&&!s(l)&&!s(l.parent())&&!(i.originalEvent.clientX>l[0].clientWidth+l.offset().left)&&(o.startPoints=r(i),o.startPoints&&!(o.startPoints.length>1&&u.isSliding))){if(o.$target=l,o.$content=h,o.canTap=!0,n(t).off(".fb.touch"),n(t).on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(o,"ontouchend")),n(t).on(p?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(o,"ontouchmove")),i.stopPropagation(),!u.current.opts.touch&&!u.canPan()||!l.is(o.$stage)&&!o.$stage.find(l).length)return void(l.is("img")&&i.preventDefault());n.fancybox.isMobile&&(c(o.$target)||c(o.$target.parent()))||i.preventDefault(),o.canvasWidth=Math.round(d.$slide[0].clientWidth),o.canvasHeight=Math.round(d.$slide[0].clientHeight),o.startTime=(new Date).getTime(),o.distanceX=o.distanceY=o.distance=0,o.isPanning=!1,o.isSwiping=!1,o.isZooming=!1,o.sliderStartPos=o.sliderLastPos||{top:0,left:0},o.contentStartPos=n.fancybox.getTranslate(o.$content),o.contentLastPos=null,1!==o.startPoints.length||o.isZooming||(o.canTap=!u.isSliding,"image"===d.type&&(o.contentStartPos.width>o.canvasWidth+1||o.contentStartPos.height>o.canvasHeight+1)?(n.fancybox.stop(o.$content),o.$content.css("transition-duration","0ms"),o.isPanning=!0):o.isSwiping=!0,o.$container.addClass("fancybox-controls--isGrabbing")),2!==o.startPoints.length||u.isAnimating||d.hasError||"image"!==d.type||!d.isLoaded&&!d.$ghost||(o.isZooming=!0,o.isSwiping=!1,o.isPanning=!1,n.fancybox.stop(o.$content),o.$content.css("transition-duration","0ms"),o.centerPointStartX=.5*(o.startPoints[0].x+o.startPoints[1].x)-n(e).scrollLeft(),o.centerPointStartY=.5*(o.startPoints[0].y+o.startPoints[1].y)-n(e).scrollTop(),o.percentageOfImageAtPinchPointX=(o.centerPointStartX-o.contentStartPos.left)/o.contentStartPos.width,o.percentageOfImageAtPinchPointY=(o.centerPointStartY-o.contentStartPos.top)/o.contentStartPos.height,o.startDistanceBetweenFingers=a(o.startPoints[0],o.startPoints[1]))}},u.prototype.ontouchmove=function(e){var t=this;if(t.newPoints=r(e),n.fancybox.isMobile&&(c(t.$target)||c(t.$target.parent())))return e.stopPropagation(),void(t.canTap=!1);if((t.instance.current.opts.touch||t.instance.canPan())&&t.newPoints&&t.newPoints.length&&(t.distanceX=a(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=a(t.newPoints[0],t.startPoints[0],"y"),t.distance=a(t.newPoints[0],t.startPoints[0]),t.distance>0)){if(!t.$target.is(t.$stage)&&!t.$stage.find(t.$target).length)return;e.stopPropagation(),e.preventDefault(),t.isSwiping?t.onSwipe():t.isPanning?t.onPan():t.isZooming&&t.onZoom()}},u.prototype.onSwipe=function(){var t,r=this,a=r.isSwiping,s=r.sliderStartPos.left||0;!0===a?Math.abs(r.distance)>10&&(r.canTap=!1,r.instance.group.length<2&&r.instance.opts.touch.vertical?r.isSwiping="y":r.instance.isSliding||!1===r.instance.opts.touch.vertical||"auto"===r.instance.opts.touch.vertical&&n(e).width()>800?r.isSwiping="x":(t=Math.abs(180*Math.atan2(r.distanceY,r.distanceX)/Math.PI),r.isSwiping=t>45&&t<135?"y":"x"),r.instance.isSliding=r.isSwiping,r.startPoints=r.newPoints,n.each(r.instance.slides,(function(e,t){n.fancybox.stop(t.$slide),t.$slide.css("transition-duration","0ms"),t.inTransition=!1,t.pos===r.instance.current.pos&&(r.sliderStartPos.left=n.fancybox.getTranslate(t.$slide).left)})),r.instance.SlideShow&&r.instance.SlideShow.isActive&&r.instance.SlideShow.stop()):("x"==a&&(r.distanceX>0&&(r.instance.group.length<2||0===r.instance.current.index&&!r.instance.current.opts.loop)?s+=Math.pow(r.distanceX,.8):r.distanceX<0&&(r.instance.group.length<2||r.instance.current.index===r.instance.group.length-1&&!r.instance.current.opts.loop)?s-=Math.pow(-r.distanceX,.8):s+=r.distanceX),r.sliderLastPos={top:"x"==a?0:r.sliderStartPos.top+r.distanceY,left:s},r.requestId&&(o(r.requestId),r.requestId=null),r.requestId=i((function(){r.sliderLastPos&&(n.each(r.instance.slides,(function(e,t){var i=t.pos-r.instance.currPos;n.fancybox.setTranslate(t.$slide,{top:r.sliderLastPos.top,left:r.sliderLastPos.left+i*r.canvasWidth+i*t.opts.gutter})})),r.$container.addClass("fancybox-is-sliding"))})))},u.prototype.onPan=function(){var e,t,r,a=this;a.canTap=!1,e=a.contentStartPos.width>a.canvasWidth?a.contentStartPos.left+a.distanceX:a.contentStartPos.left,t=a.contentStartPos.top+a.distanceY,(r=a.limitMovement(e,t,a.contentStartPos.width,a.contentStartPos.height)).scaleX=a.contentStartPos.scaleX,r.scaleY=a.contentStartPos.scaleY,a.contentLastPos=r,a.requestId&&(o(a.requestId),a.requestId=null),a.requestId=i((function(){n.fancybox.setTranslate(a.$content,a.contentLastPos)}))},u.prototype.limitMovement=function(e,t,n,i){var o,r,a,s,l=this,c=l.canvasWidth,u=l.canvasHeight,d=l.contentStartPos.left,h=l.contentStartPos.top,p=l.distanceX,f=l.distanceY;return o=Math.max(0,.5*c-.5*n),r=Math.max(0,.5*u-.5*i),a=Math.min(c-n,.5*c-.5*n),s=Math.min(u-i,.5*u-.5*i),n>c&&(p>0&&e>o&&(e=o-1+Math.pow(-o+d+p,.8)||0),p<0&&e<a&&(e=a+1-Math.pow(a-d-p,.8)||0)),i>u&&(f>0&&t>r&&(t=r-1+Math.pow(-r+h+f,.8)||0),f<0&&t<s&&(t=s+1-Math.pow(s-h-f,.8)||0)),{top:t,left:e}},u.prototype.limitPosition=function(e,t,n,i){var o=this,r=o.canvasWidth,a=o.canvasHeight;return n>r?e=(e=e>0?0:e)<r-n?r-n:e:e=Math.max(0,r/2-n/2),i>a?t=(t=t>0?0:t)<a-i?a-i:t:t=Math.max(0,a/2-i/2),{top:t,left:e}},u.prototype.onZoom=function(){var t=this,r=t.contentStartPos.width,s=t.contentStartPos.height,l=t.contentStartPos.left,c=t.contentStartPos.top,u=a(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,d=Math.floor(r*u),h=Math.floor(s*u),p=(r-d)*t.percentageOfImageAtPinchPointX,f=(s-h)*t.percentageOfImageAtPinchPointY,m=(t.newPoints[0].x+t.newPoints[1].x)/2-n(e).scrollLeft(),g=(t.newPoints[0].y+t.newPoints[1].y)/2-n(e).scrollTop(),v=m-t.centerPointStartX,b={top:c+(f+(g-t.centerPointStartY)),left:l+(p+v),scaleX:t.contentStartPos.scaleX*u,scaleY:t.contentStartPos.scaleY*u};t.canTap=!1,t.newWidth=d,t.newHeight=h,t.contentLastPos=b,t.requestId&&(o(t.requestId),t.requestId=null),t.requestId=i((function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)}))},u.prototype.ontouchend=function(e){var i=this,a=Math.max((new Date).getTime()-i.startTime,1),s=i.isSwiping,l=i.isPanning,c=i.isZooming;return i.endPoints=r(e),i.$container.removeClass("fancybox-controls--isGrabbing"),n(t).off(".fb.touch"),i.requestId&&(o(i.requestId),i.requestId=null),i.isSwiping=!1,i.isPanning=!1,i.isZooming=!1,i.canTap?i.onTap(e):(i.speed=366,i.velocityX=i.distanceX/a*.5,i.velocityY=i.distanceY/a*.5,i.speedX=Math.max(.5*i.speed,Math.min(1.5*i.speed,1/Math.abs(i.velocityX)*i.speed)),void(l?i.endPanning():c?i.endZooming():i.endSwiping(s)))},u.prototype.endSwiping=function(e){var t=this,i=!1;t.instance.isSliding=!1,t.sliderLastPos=null,"y"==e&&Math.abs(t.distanceY)>50?(n.fancybox.animate(t.instance.current.$slide,{top:t.sliderStartPos.top+t.distanceY+150*t.velocityY,opacity:0},150),i=t.instance.close(!0,300)):"x"==e&&t.distanceX>50&&t.instance.group.length>1?i=t.instance.previous(t.speedX):"x"==e&&t.distanceX<-50&&t.instance.group.length>1&&(i=t.instance.next(t.speedX)),!1!==i||"x"!=e&&"y"!=e||t.instance.jumpTo(t.instance.current.index,150),t.$container.removeClass("fancybox-is-sliding")},u.prototype.endPanning=function(){var e,t,i,o=this;o.contentLastPos&&(!1===o.instance.current.opts.touch.momentum?(e=o.contentLastPos.left,t=o.contentLastPos.top):(e=o.contentLastPos.left+o.velocityX*o.speed,t=o.contentLastPos.top+o.velocityY*o.speed),(i=o.limitPosition(e,t,o.contentStartPos.width,o.contentStartPos.height)).width=o.contentStartPos.width,i.height=o.contentStartPos.height,n.fancybox.animate(o.$content,i,330))},u.prototype.endZooming=function(){var e,t,i,o,r=this,a=r.instance.current,s=r.newWidth,l=r.newHeight;r.contentLastPos&&(e=r.contentLastPos.left,o={top:t=r.contentLastPos.top,left:e,width:s,height:l,scaleX:1,scaleY:1},n.fancybox.setTranslate(r.$content,o),s<r.canvasWidth&&l<r.canvasHeight?r.instance.scaleToFit(150):s>a.width||l>a.height?r.instance.scaleToActual(r.centerPointStartX,r.centerPointStartY,150):(i=r.limitPosition(e,t,s,l),n.fancybox.setTranslate(r.content,n.fancybox.getTranslate(r.$content)),n.fancybox.animate(r.$content,i,150)))},u.prototype.onTap=function(e){var t,i=this,o=n(e.target),a=i.instance,s=a.current,l=e&&r(e)||i.startPoints,c=l[0]?l[0].x-i.$stage.offset().left:0,u=l[0]?l[0].y-i.$stage.offset().top:0,d=function(t){var o=s.opts[t];if(n.isFunction(o)&&(o=o.apply(a,[s,e])),o)switch(o){case"close":a.close(i.startEvent);break;case"toggleControls":a.toggleControls(!0);break;case"next":a.next();break;case"nextOrClose":a.group.length>1?a.next():a.close(i.startEvent);break;case"zoom":"image"==s.type&&(s.isLoaded||s.$ghost)&&(a.canPan()?a.scaleToFit():a.isScaledDown()?a.scaleToActual(c,u):a.group.length<2&&a.close(i.startEvent))}};if(!(e.originalEvent&&2==e.originalEvent.button||a.isSliding||c>o[0].clientWidth+o.offset().left)){if(o.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))t="Outside";else if(o.is(".fancybox-slide"))t="Slide";else{if(!a.current.$content||!a.current.$content.has(e.target).length)return;t="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(c-i.tapX)>50||Math.abs(u-i.tapY)>50||a.isSliding)return this;d("dblclick"+t)}else i.tapX=c,i.tapY=u,s.opts["dblclick"+t]&&s.opts["dblclick"+t]!==s.opts["click"+t]?i.tapped=setTimeout((function(){i.tapped=null,d("click"+t)}),300):d("click"+t);return this}},n(t).on("onActivate.fb",(function(e,t){t&&!t.Guestures&&(t.Guestures=new u(t))})),n(t).on("beforeClose.fb",(function(e,t){t&&t.Guestures&&t.Guestures.destroy()}))}(window,document,window.jQuery),function(e,t){"use strict";var n=function(e){this.instance=e,this.init()};t.extend(n.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var e=this;e.$button=e.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",(function(){e.toggle()})),(e.instance.group.length<2||!e.instance.group[e.instance.currIndex].opts.slideShow)&&e.$button.hide()},set:function(){var e=this;e.instance&&e.instance.current&&(e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout((function(){e.instance.next()}),e.instance.current.opts.slideShow.speed||e.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){var e=this;clearTimeout(e.timer),e.timer=null},start:function(){var e=this,t=e.instance.current;e.instance&&t&&(t.opts.loop||t.index<e.instance.group.length-1)&&(e.isActive=!0,e.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),t.isComplete&&e.set())},stop:function(){var e=this,t=e.instance.current;e.clear(),e.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),e.isActive=!1},toggle:function(){var e=this;e.isActive?e.stop():e.start()}}),t(e).on({"onInit.fb":function(e,t){t&&!t.SlideShow&&(t.SlideShow=new n(t))},"beforeShow.fb":function(e,t,n,i){var o=t&&t.SlideShow;i?o&&n.opts.slideShow.autoStart&&o.start():o&&o.isActive&&o.clear()},"afterShow.fb":function(e,t){var n=t&&t.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.fb":function(n,i,o,r,a){var s=i&&i.SlideShow;!s||!o.opts.slideShow||80!==a&&32!==a||t(e.activeElement).is("button,a,input")||(r.preventDefault(),s.toggle())},"beforeClose.fb onDeactivate.fb":function(e,t){var n=t&&t.SlideShow;n&&n.stop()}}),t(e).on("visibilitychange",(function(){var n=t.fancybox.getInstance(),i=n&&n.SlideShow;i&&i.isActive&&(e.hidden?i.clear():i.set())}))}(document,window.jQuery),function(e,t){"use strict";var n=function(){var t,n,i,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r={};for(n=0;n<o.length;n++)if((t=o[n])&&t[1]in e){for(i=0;i<t.length;i++)r[o[0][i]]=t[i];return r}return!1}();if(n){var i={request:function(t){(t=t||e.documentElement)[n.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){e[n.exitFullscreen]()},toggle:function(t){t=t||e.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(e[n.fullscreenElement])},enabled:function(){return Boolean(e[n.fullscreenEnabled])}};t(e).on({"onInit.fb":function(e,t){var n,o=t.$refs.toolbar.find("[data-fancybox-fullscreen]");t&&!t.FullScreen&&t.group[t.currIndex].opts.fullScreen?((n=t.$refs.container).on("click.fb-fullscreen","[data-fancybox-fullscreen]",(function(e){e.stopPropagation(),e.preventDefault(),i.toggle(n[0])})),t.opts.fullScreen&&!0===t.opts.fullScreen.autoStart&&i.request(n[0]),t.FullScreen=i):o.hide()},"afterKeydown.fb":function(e,t,n,i,o){t&&t.FullScreen&&70===o&&(i.preventDefault(),t.FullScreen.toggle(t.$refs.container[0]))},"beforeClose.fb":function(e){e&&e.FullScreen&&i.exit()}}),t(e).on(n.fullscreenchange,(function(){var e=t.fancybox.getInstance();e.current&&"image"===e.current.type&&e.isAnimating&&(e.current.$content.css("transition","none"),e.isAnimating=!1,e.update(!0,!0,0))}))}else t.fancybox.defaults.btnTpl.fullScreen=!1}(document,window.jQuery),function(e,t){"use strict";var n=function(e){this.instance=e,this.init()};t.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var e=this,t=e.instance.group[0],n=e.instance.group[1];e.$button=e.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),e.instance.group.length>1&&e.instance.group[e.instance.currIndex].opts.thumbs&&("image"==t.type||t.opts.thumb||t.opts.$thumb)&&("image"==n.type||n.opts.thumb||n.opts.$thumb)?(e.$button.on("click",(function(){e.toggle()})),e.isActive=!0):(e.$button.hide(),e.isActive=!1)},create:function(){var e,n,i=this.instance;this.$grid=t('<div class="fancybox-thumbs"></div>').appendTo(i.$refs.container),e="<ul>",t.each(i.group,(function(t,i){(n=i.opts.thumb||(i.opts.$thumb?i.opts.$thumb.attr("src"):null))||"image"!==i.type||(n=i.src),n&&n.length&&(e+='<li data-index="'+t+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+n+'" /></li>')})),e+="</ul>",this.$list=t(e).appendTo(this.$grid).on("click","li",(function(){i.jumpTo(t(this).data("index"))})),this.$list.find("img").hide().one("load",(function(){var e,n,i,o,r=t(this).parent().removeClass("fancybox-thumbs-loading"),a=r.outerWidth(),s=r.outerHeight();e=this.naturalWidth||this.width,o=(n=this.naturalHeight||this.height)/s,(i=e/a)>=1&&o>=1&&(i>o?(e/=o,n=s):(e=a,n/=i)),t(this).css({width:Math.floor(e),height:Math.floor(n),"margin-top":Math.min(0,Math.floor(.3*s-.3*n)),"margin-left":Math.min(0,Math.floor(.5*a-.5*e))}).show()})).each((function(){
this.src=t(this).data("src")}))},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),t(e).on({"onInit.fb":function(e,t){t&&!t.Thumbs&&(t.Thumbs=new n(t))},"beforeShow.fb":function(e,t,n,i){var o=t&&t.Thumbs;if(o&&o.isActive){if(n.modal)return o.$button.hide(),void o.hide();i&&!0===t.opts.thumbs.autoStart&&o.show(),o.isVisible&&o.focus()}},"afterKeydown.fb":function(e,t,n,i,o){var r=t&&t.Thumbs;r&&r.isActive&&71===o&&(i.preventDefault(),r.toggle())},"beforeClose.fb":function(e,t){var n=t&&t.Thumbs;n&&n.isVisible&&!1!==t.opts.thumbs.hideOnClose&&n.close()}})}(document,window.jQuery),function(e,t,n){"use strict";function i(){var e=t.location.hash.substr(1),n=e.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||1;return i<1&&(i=1),{hash:e,index:i,gallery:n.join("-")}}function o(e){var t;""!==e.gallery&&((t=n("[data-fancybox='"+n.escapeSelector(e.gallery)+"']").eq(e.index-1)).length||(t=n("#"+n.escapeSelector(e.gallery))),t.length&&(a=!1,t.trigger("click")))}function r(e){var t;return!!e&&((t=e.current?e.current.opts:e.opts).$orig?t.$orig.data("fancybox"):t.hash||"")}n.escapeSelector||(n.escapeSelector=function(e){var t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,n=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e};return(e+"").replace(t,n)});var a=!0,s=null,l=null;n((function(){setTimeout((function(){!1!==n.fancybox.defaults.hash&&(n(e).on({"onInit.fb":function(e,t){var n,o;!1!==t.group[t.currIndex].opts.hash&&(n=i(),(o=r(t))&&n.gallery&&o==n.gallery&&(t.currIndex=n.index-1))},"beforeShow.fb":function(n,i,o){var c;!1!==o.opts.hash&&((c=r(i))&&""!==c&&(t.location.hash.indexOf(c)<0&&(i.opts.origHash=t.location.hash),s=c+(i.group.length>1?"-"+(o.index+1):""),"replaceState"in t.history?(l&&clearTimeout(l),l=setTimeout((function(){t.history[a?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+s),l=null,a=!1}),300)):t.location.hash=s))},"beforeClose.fb":function(i,o,a){var c,u;l&&clearTimeout(l),!1!==a.opts.hash&&(c=r(o),u=o&&o.opts.origHash?o.opts.origHash:"",c&&""!==c&&("replaceState"in history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+u):(t.location.hash=u,n(t).scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))),s=null)}}),n(t).on("hashchange.fb",(function(){var e=i();n.fancybox.getInstance()?!s||s===e.gallery+"-"+e.index||1===e.index&&s==e.gallery||(s=null,n.fancybox.close(),a=!0):""!==e.gallery&&o(e)})),o(i()))}),50)}))}(document,window,window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}((function(e){var t,n,i,o,r,a,s,l,c,u,d,h,p,f,m,g,v,b,y,w,_,C,x,k,S,E,T,A,O,D,I,P,N,M,L,$,j,R,F,B,H,z,q,U,W,V,Y,K,G,Q,X,Z,J,ee,te,ne,ie,oe,re,ae;oe="function"==typeof define&&define.amd,re="undefined"!=typeof module&&module.exports,ae="https:"==document.location.protocol?"https:":"http:",oe||(re?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+ae+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),n="mCustomScrollbar",i="mCS",o=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){t=e.extend(!0,{},r,t);var n=h.call(this);if(t.live){var l=t.liveSelector||this.selector||o,c=e(l);if("off"===t.live)return void f(l);s[l]=setTimeout((function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&f(l)}),500)}else f(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),p(t),e(n).each((function(){var n=e(this);if(!n.data(i)){n.data(i,{idx:++a,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=n.data(i),r=o.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(r.axis=s),l&&(r.scrollbarPosition=l),c&&(r.theme=c,p(r)),v.call(this),o&&r.callbacks.onCreate&&"function"==typeof r.callbacks.onCreate&&r.callbacks.onCreate.call(this),e("#mCSB_"+o.idx+"_container img:not(."+u[2]+")").addClass(u[2]),d.update.call(null,n)}}))},update:function(t,n){var o=t||h.call(this);return e(o).each((function(){var t=e(this);if(t.data(i)){var o=t.data(i),r=o.opt,a=e("#mCSB_"+o.idx+"_container"),s=e("#mCSB_"+o.idx),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!a.length)return;o.tweenRunning&&Y(t),n&&o&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this),t.hasClass(u[3])&&t.removeClass(u[3]),t.hasClass(u[4])&&t.removeClass(u[4]),s.css("max-height","none"),s.height()!==t.height()&&s.css("max-height",t.height()),y.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||a.css("width",b(a)),o.overflowed=k.call(this),A.call(this),r.autoDraggerLength&&_.call(this),C.call(this),E.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==r.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?S.call(this):(K(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(S.call(this),"y"===r.axis?T.call(this):"yx"===r.axis&&o.overflowed[1]&&K(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?S.call(this):(K(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(S.call(this),"x"===r.axis?T.call(this):"yx"===r.axis&&o.overflowed[0]&&K(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&o&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),V.call(this)}}))},scrollTo:function(t,n){if(void 0!==t&&null!=t){var o=h.call(this);return e(o).each((function(){var o=e(this);if(o.data(i)){var r=o.data(i),a=r.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,n),c=U.call(this,t),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=W.call(this,c[0],"y"),c[1]=W.call(this,c[1],"x"),l.moveDragger&&(c[0]*=r.scrollRatio.y,c[1]*=r.scrollRatio.x),l.dur=ie()?0:u,setTimeout((function(){null!==c[0]&&void 0!==c[0]&&"x"!==a.axis&&r.overflowed[0]&&(l.dir="y",l.overwrite="all",K(o,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==a.axis&&r.overflowed[1]&&(l.dir="x",l.overwrite="none",K(o,c[1].toString(),l))}),l.timeout)}}))}},stop:function(){var t=h.call(this);return e(t).each((function(){var t=e(this);t.data(i)&&Y(t)}))},disable:function(t){var n=h.call(this);return e(n).each((function(){var n=e(this);n.data(i)&&(n.data(i),V.call(this,"remove"),T.call(this),t&&S.call(this),A.call(this,!0),n.addClass(u[3]))}))},destroy:function(){var t=h.call(this);return e(t).each((function(){var o=e(this);if(o.data(i)){var r=o.data(i),a=r.opt,s=e("#mCSB_"+r.idx),l=e("#mCSB_"+r.idx+"_container"),c=e(".mCSB_"+r.idx+"_scrollbar");a.live&&f(a.liveSelector||e(t).selector),V.call(this,"remove"),T.call(this),S.call(this),o.removeData(i),Z(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),s.replaceWith(l.contents()),o.removeClass(n+" _"+i+"_"+r.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}}))}},h=function(){return"object"!=typeof e(this)||e(this).length<1?o:this},p=function(t){t.autoDraggerLength=!(e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,["minimal","minimal-dark"])>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},f=function(e){s[e]&&(clearTimeout(s[e]),Z(s,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),o=t.data(i),r=o.opt,a=r.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===r.axis?s[0]+s[1]:"x"===r.axis?s[1]:s[0],d="yx"===r.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=r.autoHideScrollbar?" "+u[6]:"",p="x"!==r.axis&&"rtl"===o.langDir?" "+u[7]:"";r.setWidth&&t.css("width",r.setWidth),r.setHeight&&t.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===o.langDir?"989999px":r.setLeft,t.addClass(n+" _"+i+"_"+o.idx+h+p).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+o.langDir+"' /></div>");var f=e("#mCSB_"+o.idx),m=e("#mCSB_"+o.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||m.css("width",b(m)),"outside"===r.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),f.addClass("mCSB_outside").after(c)):(f.addClass("mCSB_inside").append(c),m.wrap(d)),w.call(this);var g=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},b=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map((function(){return e(this).outerWidth(!0)})).get())],i=t.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},y=function(){var t=e(this).data(i),n=t.opt,o=e("#mCSB_"+t.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(o[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>o.parent().width()?o.css({width:r,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this).data(i),n=t.opt,o=e(".mCSB_"+t.idx+"_scrollbar:first"),r=te(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+u[13]+"' "+r+" />","<a href='#' class='"+u[14]+"' "+r+" />","<a href='#' class='"+u[15]+"' "+r+" />","<a href='#' class='"+u[16]+"' "+r+" />"],s=["x"===n.axis?a[2]:a[0],"x"===n.axis?a[3]:a[1],a[2],a[3]];n.scrollButtons.enable&&o.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},_=function(){var t=e(this).data(i),n=e("#mCSB_"+t.idx),o=e("#mCSB_"+t.idx+"_container"),r=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],a=[n.height()/o.outerHeight(!1),n.width()/o.outerWidth(!1)],s=[parseInt(r[0].css("min-height")),Math.round(a[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(a[1]*r[1].parent().width())],c=l&&s[1]<s[0]?s[0]:s[1],u=l&&s[3]<s[2]?s[2]:s[3];r[0].css({height:c,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},C=function(){var t=e(this).data(i),n=e("#mCSB_"+t.idx),o=e("#mCSB_"+t.idx+"_container"),r=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],a=[o.outerHeight(!1)-n.height(),o.outerWidth(!1)-n.width()],s=[a[0]/(r[0].parent().height()-r[0].height()),a[1]/(r[1].parent().width()-r[1].width())];t.scrollRatio={y:s[0],x:s[1]}},x=function(e,t,n){var i=n?u[0]+"_expanded":"",o=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(u[0]+" "+i),o.toggleClass(u[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(u[0]),o.removeClass(u[1])):(e.addClass(u[0]),o.addClass(u[1])))},k=function(){var t=e(this).data(i),n=e("#mCSB_"+t.idx),o=e("#mCSB_"+t.idx+"_container"),r=null==t.overflowed?o.height():o.outerHeight(!1),a=null==t.overflowed?o.width():o.outerWidth(!1),s=o[0].scrollHeight,l=o[0].scrollWidth;return s>r&&(r=s),l>a&&(a=l),[r>n.height(),a>n.width()]},S=function(){var t=e(this),n=t.data(i),o=n.opt,r=e("#mCSB_"+n.idx),a=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(Y(t),("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),K(t,"_resetY")),"y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=r.width()-a.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),a.css("left",l),s[1].css("left",dx),K(t,"_resetX")}},E=function(){var t,n=e(this),o=n.data(i),r=o.opt;o.bindEvents||(D.call(this),r.contentTouchScroll&&I.call(this),P.call(this),r.mouseWheel.enable&&function i(){t=setTimeout((function(){e.event.special.mousewheel?(clearTimeout(t),N.call(n[0])):i()}),100)}(),R.call(this),B.call(this),r.advanced.autoScrollOnFocus&&F.call(this),r.scrollButtons.enable&&H.call(this),r.keyboard.enable&&z.call(this),o.bindEvents=!0)},T=function(){var t=e(this),n=t.data(i),o=n.opt,r=i+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=e("#mCSB_"+n.idx+"_container");if(o.advanced.releaseDraggableSelectors&&s.add(e(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&s.add(e(o.advanced.extraDraggableSelectors)),n.bindEvents){var c=L()?top.document:document;e(document).add(e(c)).unbind("."+r),s.each((function(){e(this).unbind("."+r)})),clearTimeout(t[0]._focusTimeout),Z(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),Z(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Z(l[0],"onCompleteTimeout"),n.bindEvents=!1}},A=function(t){var n=e(this),o=n.data(i),r=o.opt,a=e("#mCSB_"+o.idx+"_container_wrapper"),s=a.length?a:e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==r.axis&&(o.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(u[8]+" "+u[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(u[10])):(l[0].css("display","none"),s.addClass(u[10])),s.addClass(u[8]))),"y"!==r.axis&&(o.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(u[9]+" "+u[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(u[11])):(l[1].css("display","none"),s.addClass(u[11])),s.addClass(u[9]))),o.overflowed[0]||o.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},O=function(t){var n=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,o=L()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+o[0],t.originalEvent.pageX-i[1]+o[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],a=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[r.screenY,r.screenX,a>1]:[r.pageY,r.pageX,a>1];default:return i?[t.pageY-i[0]+o[0],t.pageX-i[1]+o[1],!1]:[t.pageY,t.pageX,!1]}},D=function(){function t(e,t,i,o){if(p[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var r="x",l=(n[0].offsetLeft-t+o)*s.scrollRatio.x;else r="y",l=(n[0].offsetTop-e+i)*s.scrollRatio.y;K(a,l.toString(),{dir:r,drag:!0})}var n,o,r,a=e(this),s=a.data(i),u=s.opt,d=i+"_"+s.idx,h=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],p=e("#mCSB_"+s.idx+"_container"),f=e("#"+h[0]+",#"+h[1]),m=u.advanced.releaseDraggableSelectors?f.add(e(u.advanced.releaseDraggableSelectors)):f,g=L()?top.document:document,v=u.advanced.extraDraggableSelectors?e(g).add(e(u.advanced.extraDraggableSelectors)):e(g);f.bind("contextmenu."+d,(function(e){e.preventDefault()})).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,(function(t){if(t.stopImmediatePropagation(),t.preventDefault(),J(t)){c=!0,l&&(document.onselectstart=function(){return!1}),$.call(p,!1),Y(a);var i=(n=e(this)).offset(),s=O(t)[0]-i.top,d=O(t)[1]-i.left,h=n.height()+i.top,f=n.width()+i.left;s<h&&s>0&&d<f&&d>0&&(o=s,r=d),x(n,"active",u.autoExpandScrollbar)}})).bind("touchmove."+d,(function(e){e.stopImmediatePropagation(),e.preventDefault();var i=n.offset(),a=O(e)[0]-i.top,s=O(e)[1]-i.left;t(o,r,a,s)})),e(document).add(v).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,(function(e){if(n){var i=n.offset(),a=O(e)[0]-i.top,s=O(e)[1]-i.left;if(o===a&&r===s)return;t(o,r,a,s)}})).add(m).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,(function(){n&&(x(n,"active",u.autoExpandScrollbar),n=null),c=!1,l&&(document.onselectstart=null),$.call(p,!0)}))},I=function(){function n(e){if(!ee(e)||c||O(e)[2])t=0;else{t=1,C=0,x=0,u=1,k.removeClass("mCS_touch_action");var n=D.offset();d=O(e)[0]-n.top,h=O(e)[1]-n.left,j=[O(e)[0],O(e)[1]]}}function o(e){if(ee(e)&&!c&&!O(e)[2]&&(E.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!x||C)&&u)){g=Q();var t=A.offset(),n=O(e)[0]-t.top,i=O(e)[1]-t.left,o="mcsLinearOut";if(P.push(n),N.push(i),j[2]=Math.abs(O(e)[0]-j[0]),j[3]=Math.abs(O(e)[1]-j[1]),S.overflowed[0])var r=I[0].parent().height()-I[0].height(),a=d-n>0&&n-d>-r*S.scrollRatio.y&&(2*j[3]<j[2]||"yx"===E.axis);if(S.overflowed[1])var s=I[1].parent().width()-I[1].width(),p=h-i>0&&i-h>-s*S.scrollRatio.x&&(2*j[2]<j[3]||"yx"===E.axis);a||p?(B||e.preventDefault(),C=1):(x=1,k.addClass("mCS_touch_action")),B&&e.preventDefault(),w="yx"===E.axis?[d-n,h-i]:"x"===E.axis?[null,h-i]:[d-n,null],D[0].idleTimer=250,S.overflowed[0]&&l(w[0],M,o,"y","all",!0),S.overflowed[1]&&l(w[1],M,o,"x",$,!0)}}function r(e){if(!ee(e)||c||O(e)[2])t=0;else{t=1,e.stopImmediatePropagation(),Y(k),m=Q();var n=A.offset();p=O(e)[0]-n.top,f=O(e)[1]-n.left,P=[],N=[]}}function a(e){if(ee(e)&&!c&&!O(e)[2]){u=0,e.stopImmediatePropagation(),C=0,x=0,v=Q();var t=A.offset(),n=O(e)[0]-t.top,i=O(e)[1]-t.left;if(!(v-g>30)){var o="mcsEaseOut",r=(y=1e3/(v-m))<2.5,a=r?[P[P.length-2],N[N.length-2]]:[0,0];b=r?[n-a[0],i-a[1]]:[n-p,i-f];var d=[Math.abs(b[0]),Math.abs(b[1])];y=r?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[y,y];var h=[Math.abs(D[0].offsetTop)-b[0]*s(d[0]/y[0],y[0]),Math.abs(D[0].offsetLeft)-b[1]*s(d[1]/y[1],y[1])];w="yx"===E.axis?[h[0],h[1]]:"x"===E.axis?[null,h[1]]:[h[0],null],_=[4*d[0]+E.scrollInertia,4*d[1]+E.scrollInertia];var k=parseInt(E.contentTouchScroll)||0;w[0]=d[0]>k?w[0]:0,w[1]=d[1]>k?w[1]:0,S.overflowed[0]&&l(w[0],_[0],o,"y",$,!1),S.overflowed[1]&&l(w[1],_[1],o,"x",$,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function l(e,t,n,i,o,r){e&&K(k,e.toString(),{dur:t,scrollEasing:n,dir:i,overwrite:o,drag:r})}var u,d,h,p,f,m,g,v,b,y,w,_,C,x,k=e(this),S=k.data(i),E=S.opt,T=i+"_"+S.idx,A=e("#mCSB_"+S.idx),D=e("#mCSB_"+S.idx+"_container"),I=[e("#mCSB_"+S.idx+"_dragger_vertical"),e("#mCSB_"+S.idx+"_dragger_horizontal")],P=[],N=[],M=0,$="yx"===E.axis?"none":"all",j=[],R=D.find("iframe"),F=["touchstart."+T+" pointerdown."+T+" MSPointerDown."+T,"touchmove."+T+" pointermove."+T+" MSPointerMove."+T,"touchend."+T+" pointerup."+T+" MSPointerUp."+T],B=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;D.bind(F[0],(function(e){n(e)})).bind(F[1],(function(e){o(e)})),A.bind(F[0],(function(e){r(e)})).bind(F[2],(function(e){a(e)})),R.length&&R.each((function(){e(this).bind("load",(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(F[0],(function(e){n(e),r(e)})).bind(F[1],(function(e){o(e)})).bind(F[2],(function(e){a(e)}))}))}))},P=function(){function n(e,t,n){l.type=n&&o?"stepped":"stepless",l.scrollAmount=10,q(r,e,t,"mcsLinearOut",n?60:null)}var o,r=e(this),a=r.data(i),s=a.opt,l=a.sequential,u=i+"_"+a.idx,d=e("#mCSB_"+a.idx+"_container"),h=d.parent();d.bind("mousedown."+u,(function(){t||o||(o=1,c=!0)})).add(document).bind("mousemove."+u,(function(e){if(!t&&o&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var i=d.offset(),r=O(e)[0]-i.top+d[0].offsetTop,c=O(e)[1]-i.left+d[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?l.step&&n("off",null,"stepped"):("x"!==s.axis&&a.overflowed[0]&&(r<0?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&a.overflowed[1]&&(c<0?n("on",37):c>h.width()&&n("on",39)))}})).bind("mouseup."+u+" dragend."+u,(function(){t||(o&&(o=0,n("off",null)),c=!1)}))},N=function(){function t(t,i){if(Y(n),!j(n,t.target)){var a="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,u=r.scrollInertia;if("x"===r.axis||"x"===r.mouseWheel.axis)var d="x",h=[Math.round(a*o.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=s.width()?.9*s.width():h[0],f=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===r.mouseWheel.axis?t.deltaY||i:t.deltaX;else d="y",h=[Math.round(a*o.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=s.height()?.9*s.height():h[0],f=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||i;"y"===d&&!o.overflowed[0]||"x"===d&&!o.overflowed[1]||((r.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),r.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==m||v<0&&m!==g||r.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!r.mouseWheel.normalizeDelta&&(p=t.deltaFactor,u=17),K(n,(f-v*p).toString(),{dir:d,dur:u}))}}if(e(this).data(i)){var n=e(this),o=n.data(i),r=o.opt,a=i+"_"+o.idx,s=e("#mCSB_"+o.idx),c=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],u=e("#mCSB_"+o.idx+"_container").find("iframe");u.length&&u.each((function(){e(this).bind("load",(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,(function(e,n){t(e,n)}))}))})),s.bind("mousewheel."+a,(function(e,n){t(e,n)}))}},M=new Object,L=function(t){var n=!1,i=!1,o=null;if(void 0===t?i="#empty":void 0!==e(t).attr("id")&&(i=e(t).attr("id")),!1!==i&&void 0!==M[i])return M[i];if(t){try{o=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(e){}n=null!==o}else{try{o=top.document.body.innerHTML}catch(e){}n=null!==o}return!1!==i&&(M[i]=n),n},$=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},j=function(t,n){var o=n.nodeName.toLowerCase(),r=t.data(i).opt.mouseWheel.disableOver;return e.inArray(o,r)>-1&&!(e.inArray(o,["select","textarea"])>-1&&!e(n).is(":focus"))},R=function(){var t,n=e(this),o=n.data(i),r=i+"_"+o.idx,a=e("#mCSB_"+o.idx+"_container"),s=a.parent();e(".mCSB_"+o.idx+"_scrollbar ."+u[12]).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,(function(n){c=!0,e(n.target).hasClass("mCSB_dragger")||(t=1)})).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,(function(){c=!1})).bind("click."+r,(function(i){if(t&&(t=0,e(i.target).hasClass(u[12])||e(i.target).hasClass("mCSB_draggerRail"))){Y(n);var r=e(this),l=r.find(".mCSB_dragger");if(r.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",d=i.pageX>l.offset().left?-1:1,h=Math.abs(a[0].offsetLeft)-d*(.9*s.width())}else{if(!o.overflowed[0])return;c="y",d=i.pageY>l.offset().top?-1:1,h=Math.abs(a[0].offsetTop)-d*(.9*s.height())}K(n,h.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}}))},F=function(){var t=e(this),n=t.data(i),o=n.opt,r=i+"_"+n.idx,a=e("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+r,(function(){var n=e(document.activeElement),i=a.find(".mCustomScrollBox").length;n.is(o.advanced.autoScrollOnFocus)&&(Y(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?17*i:0,t[0]._focusTimeout=setTimeout((function(){var e=[ne(n)[0],ne(n)[1]],i=[a[0].offsetTop,a[0].offsetLeft],r=[i[0]+e[0]>=0&&i[0]+e[0]<s.height()-n.outerHeight(!1),i[1]+e[1]>=0&&i[0]+e[1]<s.width()-n.outerWidth(!1)],l="yx"!==o.axis||r[0]||r[1]?"all":"none";"x"===o.axis||r[0]||K(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===o.axis||r[1]||K(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})}),t[0]._focusTimer))}))},B=function(){var t=e(this).data(i),n=i+"_"+t.idx,o=e("#mCSB_"+t.idx+"_container").parent();o.bind("scroll."+n,(function(){0===o.scrollTop()&&0===o.scrollLeft()||e(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")}))},H=function(){var t=e(this),n=t.data(i),o=n.opt,r=n.sequential,a=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar";e(s+">a").bind("contextmenu."+a,(function(e){e.preventDefault()})).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,(function(i){function a(e,n){r.scrollAmount=o.scrollButtons.scrollAmount,q(t,e,n)}if(i.preventDefault(),J(i)){var s=e(this).attr("class");switch(r.type=o.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;c=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;c=!1,r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;a("on",s)}}}))},z=function(){function t(t){function i(e,t){a.type=r.keyboard.scrollType,a.scrollAmount=r.keyboard.scrollAmount,"stepped"===a.type&&o.tweenRunning||q(n,e,t)}switch(t.type){case"blur":o.tweenRunning&&a.dir&&i("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,l="on";if("x"!==r.axis&&(38===s||40===s)||"y"!==r.axis&&(37===s||39===s)){if((38===s||40===s)&&!o.overflowed[0]||(37===s||39===s)&&!o.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(d)||(t.preventDefault(),t.stopImmediatePropagation(),i(l,s))}else if(33===s||34===s){if((o.overflowed[0]||o.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Y(n);var h=34===s?-1:1;if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var p="x",f=Math.abs(c[0].offsetLeft)-h*(.9*u.width());else p="y",f=Math.abs(c[0].offsetTop)-h*(.9*u.height());K(n,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(document.activeElement).is(d)&&((o.overflowed[0]||o.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])p="x",f=35===s?Math.abs(u.width()-c.outerWidth(!1)):0;else p="y",f=35===s?Math.abs(u.height()-c.outerHeight(!1)):0;K(n,f.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var n=e(this),o=n.data(i),r=o.opt,a=o.sequential,s=i+"_"+o.idx,l=e("#mCSB_"+o.idx),c=e("#mCSB_"+o.idx+"_container"),u=c.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",h=c.find("iframe"),p=["blur."+s+" keydown."+s+" keyup."+s];h.length&&h.each((function(){e(this).bind("load",(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(p[0],(function(e){t(e)}))}))})),l.attr("tabindex","0").bind(p[0],(function(e){t(e)}))},q=function(t,n,o,r,a){function s(e){c.snapAmount&&(d.scrollAmount=c.snapAmount instanceof Array?"x"===d.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var n="stepped"!==d.type,i=a||(e?n?f/1.5:m:1e3/60),o=e?n?7.5:40:2.5,u=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],p=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],g="x"===d.dir[0]?u[1]+d.dir[1]*(p[1]*o):u[0]+d.dir[1]*(p[0]*o),v="x"===d.dir[0]?u[1]+d.dir[1]*parseInt(d.scrollAmount):u[0]+d.dir[1]*parseInt(d.scrollAmount),b="auto"!==d.scrollAmount?v:g,y=r||(e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),w=!!e;e&&i<17&&(b="x"===d.dir[0]?u[1]:u[0]),K(t,b.toString(),{dir:d.dir[0],scrollEasing:y,dur:i,onComplete:w}),e?d.dir=!1:(clearTimeout(d.step),d.step=setTimeout((function(){s()}),i))}var l=t.data(i),c=l.opt,d=l.sequential,h=e("#mCSB_"+l.idx+"_container"),p="stepped"===d.type,f=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(d.dir=[o===u[16]||o===u[15]||39===o||37===o?"x":"y",o===u[13]||o===u[15]||38===o||37===o?-1:1],Y(t),te(o)&&"stepped"===d.type)return;s(p);break;case"off":clearTimeout(d.step),Z(d,"step"),Y(t),
(p||l.tweenRunning&&d.dir)&&s(!0)}},U=function(t){var n=e(this).data(i).opt,o=[];return"function"==typeof t&&(t=t()),t instanceof Array?o=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(o[0]=t.y?t.y:t.x||"x"===n.axis?null:t,o[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},W=function(t,n){if(null!=t&&void 0!==t){var o=e(this),r=o.data(i),a=r.opt,s=e("#mCSB_"+r.idx+"_container"),l=s.parent(),c=typeof t;n||(n="x"===a.axis?"x":"y");var u="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),h="x"===n?s[0].offsetLeft:s[0].offsetTop,p="x"===n?"left":"top";switch(c){case"function":return t();case"object":if(!(m=t.jquery?t:e(t)).length)return;return"x"===n?ne(m)[1]:ne(m)[0];case"string":case"number":if(te(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(u*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(h-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var f=h+parseInt(t.split("+=")[1]);return f>=0?0:Math.abs(f)}if(-1!==t.indexOf("px")&&te(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var m=s.find(":"+t);return"x"===n?ne(m)[1]:ne(m)[0]}return e(t).length?"x"===n?ne(e(t))[1]:ne(e(t))[0]:(s.css(p,t),void d.update.call(null,o[0]))}}},V=function(t){function n(e){clearTimeout(s[0].autoUpdate),d.update.call(null,o[0],e)}var o=e(this),r=o.data(i),a=r.opt,s=e("#mCSB_"+r.idx+"_container");if(t)return clearTimeout(s[0].autoUpdate),void Z(s[0],"autoUpdate");!function t(){clearTimeout(s[0].autoUpdate),0!==o.parents("html").length?s[0].autoUpdate=setTimeout((function(){return a.advanced.updateOnSelectorChange&&(r.poll.change.n=function(){!0===a.advanced.updateOnSelectorChange&&(a.advanced.updateOnSelectorChange="*");var e=0,t=s.find(a.advanced.updateOnSelectorChange);return a.advanced.updateOnSelectorChange&&t.length>0&&t.each((function(){e+=this.offsetHeight+this.offsetWidth})),e}(),r.poll.change.n!==r.poll.change.o)?(r.poll.change.o=r.poll.change.n,void n(3)):a.advanced.updateOnContentResize&&(r.poll.size.n=o[0].scrollHeight+o[0].scrollWidth+s[0].offsetHeight+o[0].offsetHeight+o[0].offsetWidth,r.poll.size.n!==r.poll.size.o)?(r.poll.size.o=r.poll.size.n,void n(1)):!a.advanced.updateOnImageLoad||"auto"===a.advanced.updateOnImageLoad&&"y"===a.axis||(r.poll.img.n=s.find("img").length,r.poll.img.n===r.poll.img.o)?void((a.advanced.updateOnSelectorChange||a.advanced.updateOnContentResize||a.advanced.updateOnImageLoad)&&t()):(r.poll.img.o=r.poll.img.n,void s.find("img").each((function(){!function(t){if(e(t).hasClass(u[2]))n();else{var i,o,r=new Image;r.onload=(i=r,o=function(){this.onload=null,e(t).addClass(u[2]),n(2)},function(){return o.apply(i,arguments)}),r.src=t.src}}(this)})))}),a.advanced.autoUpdateTimeout):o=null}()},Y=function(t){var n=t.data(i);e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each((function(){X.call(this)}))},K=function(t,n,o){function r(e){return s&&l.callbacks[e]&&"function"==typeof l.callbacks[e]}function a(){var e=[h[0].offsetTop,h[0].offsetLeft],n=[y[0].offsetTop,y[0].offsetLeft],i=[h.outerHeight(!1),h.outerWidth(!1)],r=[d.height(),d.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-r[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-r[1])),direction:o.dir}}var s=t.data(i),l=s.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=[(o=e.extend(c,o)).dur,o.drag?0:o.dur],d=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),p=h.parent(),f=l.callbacks.onTotalScrollOffset?U.call(t,l.callbacks.onTotalScrollOffset):[0,0],m=l.callbacks.onTotalScrollBackOffset?U.call(t,l.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=o.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==n||s.contentReset.y||(r("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==n||s.contentReset.x||(r("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){var g,v,b;if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(r("onOverflowY")&&l.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(r("onOverflowX")&&l.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),l.snapAmount)g=n,v=l.snapAmount instanceof Array?"x"===o.dir?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount,b=l.snapOffset,n=Math.round(g/v)*v-b;switch(o.dir){case"x":var y=e("#mCSB_"+s.idx+"_dragger_horizontal"),w="left",_=h[0].offsetLeft,C=[d.width()-h.outerWidth(!1),y.parent().width()-y.width()],k=[n,0===n?0:n/s.scrollRatio.x],S=f[1],E=m[1],T=S>0?S/s.scrollRatio.x:0,A=E>0?E/s.scrollRatio.x:0;break;case"y":y=e("#mCSB_"+s.idx+"_dragger_vertical"),w="top",_=h[0].offsetTop,C=[d.height()-h.outerHeight(!1),y.parent().height()-y.height()],k=[n,0===n?0:n/s.scrollRatio.y],S=f[0],E=m[0],T=S>0?S/s.scrollRatio.y:0,A=E>0?E/s.scrollRatio.y:0}k[1]<0||0===k[0]&&0===k[1]?k=[0,0]:k[1]>=C[1]?k=[C[0],C[1]]:k[0]=-k[0],t[0].mcs||(a(),r("onInit")&&l.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),G(y[0],w,Math.round(k[1]),u[1],o.scrollEasing),!s.tweenRunning&&(0===_&&k[0]>=0||_===C[0]&&k[0]<=C[0])||G(h[0],w,Math.round(k[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!s.tweenRunning&&(r("onScrollStart")&&(a(),l.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,x(y),s.cbOffsets=[l.callbacks.alwaysTriggerOffsets||_>=C[0]+S,l.callbacks.alwaysTriggerOffsets||_<=-E])},onUpdate:function(){o.callbacks&&o.onUpdate&&r("whileScrolling")&&(a(),l.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===l.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout((function(){r("onScroll")&&(a(),l.callbacks.onScroll.call(t[0])),r("onTotalScroll")&&k[1]>=C[1]-T&&s.cbOffsets[0]&&(a(),l.callbacks.onTotalScroll.call(t[0])),r("onTotalScrollBack")&&k[1]<=A&&s.cbOffsets[1]&&(a(),l.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,x(y,"hide")}),e)}}})}},G=function(e,t,n,i,o,r,a){function s(){b.stop||(m||d.call(),m=Q()-f,l(),m>=b.time&&(b.time=m>b.time?m+c-(m-b.time):m+c-1,b.time<m+1&&(b.time=m+1)),b.time<i?b.id=u(s):p.call())}function l(){i>0?(b.currVal=function(e,t,n,i,o){switch(o){case"linear":case"mcsLinear":return n*e/i+t;case"mcsLinearOut":return e/=i,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=i,-n*(--e*e*e*e-1)+t;case"easeOutStrong":return n*(1-Math.pow(2,-10*e/i))+t;default:var r=(e/=i)*e,a=r*e;return t+n*(.499999999999997*a*r+-2.5*r*r+5.5*a+-6.5*r+4*e)}}(b.time,g,y,i,o),v[t]=Math.round(b.currVal)+"px"):v[t]=n+"px",h.call()}e._mTween||(e._mTween={top:{},left:{}});var c,u,d=(a=a||{}).onStart||function(){},h=a.onUpdate||function(){},p=a.onComplete||function(){},f=Q(),m=0,g=e.offsetTop,v=e.style,b=e._mTween[t];"left"===t&&(g=e.offsetLeft);var y=n-g;b.stop=0,"none"!==r&&null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null),c=1e3/60,b.time=m+c,u=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},b.id=u(s)},Q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},X=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var i=t[n];e._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},Z=function(e,t){try{delete e[t]}catch(n){e[t]=null}},J=function(e){return!(e.which&&1!==e.which)},ee=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},te=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ne=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ie=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]},e.fn[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n].defaults=r,window[n]=!0,e(window).bind("load",(function(){e(o)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,i,o=e(t),r=o.parents(".mCSB_container");if(r.length)return n=r.parent(),(i=[r[0].offsetTop,r[0].offsetLeft])[0]+ne(o)[0]>=0&&i[0]+ne(o)[0]<n.height()-o.outerHeight(!1)&&i[1]+ne(o)[1]>=0&&i[1]+ne(o)[1]<n.width()-o.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,n,i){var o,r,a,s,l=e(t),c=l.parents(".mCSB_container"),u="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[l.outerHeight(!1),l.outerWidth(!1)],a=[c[0].offsetTop+ne(l)[0],c[0].offsetLeft+ne(l)[1]],r=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],a[0]-r[0]*(s=[o[0]<r[0]?u[0]:u[1],o[1]<r[1]?u[0]:u[1]])[0][0]<0&&a[0]+o[0]-r[0]*s[0][1]>=0&&a[1]-r[1]*s[1][0]<0&&a[1]+o[1]-r[1]*s[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})}))})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){e.extend(e.fn,{validate:function(t){if(this.length){var n=e.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",(function(t){n.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)})),this.on("submit.validate",(function(t){function i(){var i,o;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),!n.settings.submitHandler||(o=n.settings.submitHandler.call(n,n.currentForm,t),i&&i.remove(),void 0!==o&&o)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)}))),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,n,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,n=e(this[0].form).validate(),this.each((function(){(t=n.element(this)&&t)||(i=i.concat(n.errorList))})),n.errorList=i),t},rules:function(t,n){var i,o,r,a,s,l,c=this[0];if(null!=c&&(!c.form&&c.hasAttribute("contenteditable")&&(c.form=this.closest("form")[0],c.name=this.attr("name")),null!=c.form)){if(t)switch(i=e.data(c.form,"validator").settings,o=i.rules,r=e.validator.staticRules(c),t){case"add":e.extend(r,e.validator.normalizeRule(n)),delete r.messages,o[c.name]=r,n.messages&&(i.messages[c.name]=e.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),(function(e,t){l[t]=r[t],delete r[t]})),l):(delete o[c.name],r)}return(a=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c)).required&&(s=a.required,delete a.required,a=e.extend({required:s},a)),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var n=e(t).val();return null!==n&&!!e.trim(""+n)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(void 0===n||(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,(function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),(function(){return n}))}))),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,i)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name"));var n=e.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),o=n.settings;o[i]&&!e(this).is(o.ignore)&&o[i].call(n,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};e.each(this.settings.groups,(function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,(function(e,n){i[n]=t}))})),n=this.settings.rules,e.each(n,(function(t,i){n[t]=e.validator.normalizeRule(i)})),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n,i,o=this.clean(t),r=this.validationTargetFor(o),a=this,s=!0;return void 0===r?delete this.invalid[o.name]:(this.prepareElement(r),this.currentElements=e(r),(i=this.groups[r.name])&&e.each(this.groups,(function(e,t){t===i&&e!==r.name&&((o=a.validationTargetFor(a.clean(a.findByName(e))))&&o.name in a.invalid&&(a.currentElements.push(o),s=a.check(o)&&s))})),n=!1!==this.check(r),s=s&&n,this.invalid[r.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!n)),s},showErrors:function(t){if(t){var n=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,(function(e,t){return{message:e,element:n.findByName(t)[0]}})),this.successList=e.grep(this.successList,(function(e){return!(e.name in t)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,(function(e){return e.element.name===t.name})).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var i=this.name||e(this).attr("name");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=i),!(i in n||!t.objectLength(e(this).rules())||(n[i]=!0,0))}))},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i,o=e(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?t.validity.badInput?"NaN":o.val():(n=t.hasAttribute("contenteditable")?o.text():o.val(),"file"===r?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"))>=0?n.substr(i+1):(i=n.lastIndexOf("\\"))>=0?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,o,r,a=e(t).rules(),s=e.map(a,(function(e,t){return t})).length,l=!1,c=this.elementValue(t);if("function"==typeof a.normalizer?r=a.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r){if("string"!=typeof(c=r.call(t,c)))throw new TypeError("The normalizer should return a string value.");delete a.normalizer}for(i in a){o={method:i,parameters:a[i]};try{if("dependency-mismatch"===(n=e.validator.methods[i].call(this,c,t,o.parameters))&&1===s){l=!0;continue}if(l=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,o),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+o.method+"' method."),e}}if(!l)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){"string"==typeof n&&(n={method:n});var i=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),o=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,t):o.test(i)&&(i=e.validator.format(i.replace(o,"{$1}"),n.parameters)),i},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map((function(){return this.element}))},showLabel:function(t,n){var i,o,r,a,s=this.errorsFor(t),l=this.idOrName(t),c=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(i=s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=s.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(c+=" "+r):c=r,e(t).attr("aria-describedby",c),(o=this.groups[t.name])&&(a=this,e.each(a.groups,(function(t,n){n===o&&e("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",s.attr("id"))}))))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),o="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(o=o+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(o)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,n){return!!e(t,n.form).length},function:function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return n="string"==typeof n&&n||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),(function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])})),n},normalizeAttributeRule:function(e,t,n,i){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[n]=i:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(t){var n,i,o={},r=e(t),a=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(""===(i=t.getAttribute(n))&&(i=!0),i=!!i):i=r.attr(n),this.normalizeAttributeRule(o,a,n,i);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(t){var n,i,o={},r=e(t),a=t.getAttribute("type");for(n in e.validator.methods)i=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(o,a,n,i);return o},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,(function(i,o){if(!1!==o){if(o.param||o.depends){var r=!0;switch(typeof o.depends){case"string":r=!!e(o.depends,n.form).length;break;case"function":r=o.depends.call(n,n)}r?t[i]=void 0===o.param||o.param:(e.data(n.form,"validator").resetElements(e(n)),delete t[i])}}else delete t[i]})),e.each(t,(function(i,o){t[i]=e.isFunction(o)&&"normalizer"!==i?o(n):o})),e.each(["minlength","maxlength"],(function(){t[this]&&(t[this]=Number(t[this]))})),e.each(["rangelength","range"],(function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))})),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),(function(){n[this]=!0})),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var o=e(n).val();return o&&o.length>0}return this.checkable(n)?this.getLength(t,n)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o>=i},maxlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o<=i},rangelength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||o>=i[0]&&o<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(t,n,i){var o,r=e(n).attr("type"),a="Step attribute on input type "+r+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+r+"\\b"),c=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},u=function(e){return Math.round(e*Math.pow(10,o))},d=!0;if(r&&!l.test(s.join()))throw new Error(a);return o=c(i),(c(t)>o||u(t)%u(i)!=0)&&(d=!1),this.optional(n)||d},equalTo:function(t,n,i){var o=e(i);return this.settings.onfocusout&&o.not(".validate-equalTo-blur").length&&o.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){e(n).valid()})),t===o.val()},remote:function(t,n,i,o){if(this.optional(n))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var r,a,s,l=this.previousValue(n,o);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][o],this.settings.messages[n.name][o]=l.message,i="string"==typeof i&&{url:i}||i,s=e.param(e.extend({data:t},i.data)),l.old===s?l.valid:(l.old=s,r=this,this.startRequest(n),(a={})[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:r.currentForm,success:function(e){var i,a,s,c=!0===e||"true"===e;r.settings.messages[n.name][o]=l.originalMessage,c?(s=r.formSubmitted,r.resetInternals(),
r.toHide=r.errorsFor(n),r.formSubmitted=s,r.successList.push(n),r.invalid[n.name]=!1,r.showErrors()):(i={},a=e||r.defaultMessage(n,{method:o,parameters:t}),i[n.name]=l.message=a,r.invalid[n.name]=!0,r.showErrors(i)),l.valid=c,r.stopRequest(n,c)}},i)),"pending")}}});var t,n={};return e.ajaxPrefilter?e.ajaxPrefilter((function(e,t,i){var o=e.port;"abort"===e.mode&&(n[o]&&n[o].abort(),n[o]=i)})):(t=e.ajax,e.ajax=function(i){var o=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===o?(n[r]&&n[r].abort(),n[r]=t.apply(this,arguments),n[r]):t.apply(this,arguments)}),e})),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e){"function"==typeof define&&define.amd?define(["jquery"],window,e):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),window):e(jQuery,window)}((function(e,t){"use strict";function n(n){var i=t.console;r[n]||(r[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function i(e,t,i,o){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return n(o),i},set:function(e){n(o),i=e}})}function o(e,t,i,o){e[t]=function(){return n(o),i.apply(this,arguments)}}e.migrateVersion="3.0.1",function(){var n=/^[12]\./;t.console&&t.console.log&&(e&&!n.test(e.fn.jquery)||t.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),e.migrateWarnings&&t.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion))}();var r={};e.migrateWarnings=[],void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},"BackCompat"===t.document.compatMode&&n("jQuery is not compatible with Quirks Mode");var a,s=e.fn.init,l=e.isNumeric,c=e.find,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,d=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(a in e.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(n("jQuery( '#' ) is not a valid selector"),t[0]=[]),s.apply(this,t)},e.fn.init.prototype=e.fn,e.find=function(e){var i=Array.prototype.slice.call(arguments);if("string"==typeof e&&u.test(e))try{t.document.querySelector(e)}catch(o){e=e.replace(d,(function(e,t,n,i){return"["+t+n+'"'+i+'"]'}));try{t.document.querySelector(e),n("Attribute selector with '#' must be quoted: "+i[0]),i[0]=e}catch(e){n("Attribute selector with '#' was not fixed: "+i[0])}}return c.apply(this,i)},c)Object.prototype.hasOwnProperty.call(c,a)&&(e.find[a]=c[a]);e.fn.size=function(){return n("jQuery.fn.size() is deprecated and removed; use the .length property"),this.length},e.parseJSON=function(){return n("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},e.isNumeric=function(t){var i=l(t),o=function(t){var n=t&&t.toString();return!e.isArray(t)&&n-parseFloat(n)+1>=0}(t);return i!==o&&n("jQuery.isNumeric() should not be called on constructed objects"),o},o(e,"holdReady",e.holdReady,"jQuery.holdReady is deprecated"),o(e,"unique",e.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),i(e.expr,"filters",e.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),i(e.expr,":",e.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos");var h=e.ajax;e.ajax=function(){var e=h.apply(this,arguments);return e.promise&&(o(e,"success",e.done,"jQXHR.success is deprecated and removed"),o(e,"error",e.fail,"jQXHR.error is deprecated and removed"),o(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e};var p=e.fn.removeAttr,f=e.fn.toggleClass,m=/\S+/g;e.fn.removeAttr=function(t){var i=this;return e.each(t.match(m),(function(t,o){e.expr.match.bool.test(o)&&(n("jQuery.fn.removeAttr no longer sets boolean properties: "+o),i.prop(o,!1))})),p.apply(this,arguments)},e.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?f.apply(this,arguments):(n("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each((function(){var n=this.getAttribute&&this.getAttribute("class")||"";n&&e.data(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":e.data(this,"__className__")||"")})))};var g=!1;e.swap&&e.each(["height","width","reliableMarginRight"],(function(t,n){var i=e.cssHooks[n]&&e.cssHooks[n].get;i&&(e.cssHooks[n].get=function(){var e;return g=!0,e=i.apply(this,arguments),g=!1,e})})),e.swap=function(e,t,i,o){var r,a,s={};for(a in g||n("jQuery.swap() is undocumented and deprecated"),t)s[a]=e.style[a],e.style[a]=t[a];for(a in r=i.apply(e,o||[]),t)e.style[a]=s[a];return r};var v=e.data;e.data=function(t,i,o){var r;if(i&&"object"==typeof i&&2===arguments.length){r=e.hasData(t)&&v.call(this,t);var a={};for(var s in i)s!==e.camelCase(s)?(n("jQuery.data() always sets/gets camelCased names: "+s),r[s]=i[s]):a[s]=i[s];return v.call(this,t,a),i}return i&&"string"==typeof i&&i!==e.camelCase(i)&&(r=e.hasData(t)&&v.call(this,t))&&i in r?(n("jQuery.data() always sets/gets camelCased names: "+i),arguments.length>2&&(r[i]=o),r[i]):v.apply(this,arguments)};var b=e.Tween.prototype.run,y=function(e){return e};e.Tween.prototype.run=function(){e.easing[this.easing].length>1&&(n("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),e.easing[this.easing]=y),b.apply(this,arguments)},e.fx.interval=e.fx.interval||13,t.requestAnimationFrame&&i(e.fx,"interval",e.fx.interval,"jQuery.fx.interval is deprecated");var w=e.fn.load,_=e.event.add,C=e.event.fix;e.event.props=[],e.event.fixHooks={},i(e.event.props,"concat",e.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),e.event.fix=function(t){var i,o=t.type,r=this.fixHooks[o],a=e.event.props;if(a.length)for(n("jQuery.event.props are deprecated and removed: "+a.join());a.length;)e.event.addProp(a.pop());if(r&&!r._migrated_&&(r._migrated_=!0,n("jQuery.event.fixHooks are deprecated and removed: "+o),(a=r.props)&&a.length))for(;a.length;)e.event.addProp(a.pop());return i=C.call(this,t),r&&r.filter?r.filter(i,t):i},e.event.add=function(e,i){return e===t&&"load"===i&&"complete"===t.document.readyState&&n("jQuery(window).on('load'...) called after load event occurred"),_.apply(this,arguments)},e.each(["load","unload","error"],(function(t,i){e.fn[i]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof e[0]?w.apply(this,e):(n("jQuery.fn."+i+"() is deprecated"),e.splice(0,0,i),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}})),e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,i){e.fn[i]=function(e,t){return n("jQuery.fn."+i+"() event shorthand is deprecated"),arguments.length>0?this.on(i,null,e,t):this.trigger(i)}})),e((function(){e(t.document).triggerHandler("ready")})),e.event.special.ready={setup:function(){this===t.document&&n("'ready' event is deprecated")}},e.fn.extend({bind:function(e,t,i){return n("jQuery.fn.bind() is deprecated"),this.on(e,null,t,i)},unbind:function(e,t){return n("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,i,o){return n("jQuery.fn.delegate() is deprecated"),this.on(t,e,i,o)},undelegate:function(e,t,i){return n("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return n("jQuery.fn.hover() is deprecated"),this.on("mouseenter",e).on("mouseleave",t||e)}});var x=e.fn.offset;e.fn.offset=function(){var i,o=this[0],r={top:0,left:0};return o&&o.nodeType?(i=(o.ownerDocument||t.document).documentElement,e.contains(i,o)?x.apply(this,arguments):(n("jQuery.fn.offset() requires an element connected to a document"),r)):(n("jQuery.fn.offset() requires a valid DOM element"),r)};var k=e.param;e.param=function(t,i){var o=e.ajaxSettings&&e.ajaxSettings.traditional;return void 0===i&&o&&(n("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),i=o),k.call(this,t,i)};var S=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return n("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),S.apply(this,arguments)};var E=e.Deferred,T=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];return e.Deferred=function(t){var i=E(),o=i.promise();return i.pipe=o.pipe=function(){var t=arguments;return n("deferred.pipe() is deprecated"),e.Deferred((function(n){e.each(T,(function(r,a){var s=e.isFunction(t[r])&&t[r];i[a[1]]((function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===o?n.promise():this,s?[t]:arguments)}))})),t=null})).promise()},t&&t.call(i,i),i},e.Deferred.exceptionHook=E.exceptionHook,e})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,(function(){"use strict";function e(e){return e&&"[object Function]"==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function n(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function i(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var o=t(e),r=o.overflow,a=o.overflowX,s=o.overflowY;return/(auto|scroll|overlay)/.test(r+s+a)?e:i(n(e))}function o(e){return 11===e?oe:10===e?re:oe||re}function r(e){if(!e)return document.documentElement;for(var n=o(10)?document.body:null,i=e.offsetParent;i===n&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var a=i&&i.nodeName;return a&&"BODY"!==a&&"HTML"!==a?-1!==["TD","TABLE"].indexOf(i.nodeName)&&"static"===t(i,"position")?r(i):i:e?e.ownerDocument.documentElement:document.documentElement}function a(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||r(e.firstElementChild)===e)}function s(e){return null===e.parentNode?e:s(e.parentNode)}function l(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,c=document.createRange();c.setStart(i,0),c.setEnd(o,0);var u=c.commonAncestorContainer;if(e!==u&&t!==u||i.contains(o))return a(u)?u:r(u);var d=s(e);return d.host?l(d.host,t):l(e,s(t).host)}function c(e){var t="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=c(t,"top"),o=c(t,"left"),r=n?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=o*r,e.right+=o*r,e}function d(e,t){var n="x"===t?"Left":"Top",i="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function h(e,t,n,i){return Z(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],o(10)?n["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function p(){var e=document.body,t=document.documentElement,n=o(10)&&getComputedStyle(t);return{height:h("Height",e,t,n),width:h("Width",e,t,n)}}function f(e){return ce({},e,{right:e.left+e.width,bottom:e.top+e.height})}function m(e){var n={};try{if(o(10)){n=e.getBoundingClientRect();var i=c(e,"top"),r=c(e,"left");n.top+=i,n.left+=r,n.bottom+=i,n.right+=r}else n=e.getBoundingClientRect()}catch(e){}var a={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===e.nodeName?p():{},l=s.width||e.clientWidth||a.right-a.left,u=s.height||e.clientHeight||a.bottom-a.top,h=e.offsetWidth-l,m=e.offsetHeight-u;if(h||m){var g=t(e);h-=d(g,"x"),m-=d(g,"y"),a.width-=h,a.height-=m}return f(a)}function g(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=o(10),s="HTML"===n.nodeName,l=m(e),c=m(n),d=i(e),h=t(n),p=parseFloat(h.borderTopWidth,10),g=parseFloat(h.borderLeftWidth,10);r&&"HTML"===n.nodeName&&(c.top=Z(c.top,0),c.left=Z(c.left,0));var v=f({top:l.top-c.top-p,left:l.left-c.left-g,width:l.width,height:l.height});if(v.marginTop=0,v.marginLeft=0,!a&&s){var b=parseFloat(h.marginTop,10),y=parseFloat(h.marginLeft,10);v.top-=p-b,v.bottom-=p-b,v.left-=g-y,v.right-=g-y,v.marginTop=b,v.marginLeft=y}return(a&&!r?n.contains(d):n===d&&"BODY"!==d.nodeName)&&(v=u(v,n)),v}function v(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=g(e,n),o=Z(n.clientWidth,window.innerWidth||0),r=Z(n.clientHeight,window.innerHeight||0),a=t?0:c(n),s=t?0:c(n,"left");return f({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r})}function b(e){var i=e.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===t(e,"position")||b(n(e)))}function y(e){if(!e||!e.parentElement||o())return document.documentElement;for(var n=e.parentElement;n&&"none"===t(n,"transform");)n=n.parentElement;return n||document.documentElement}function w(e,t,o,r){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},c=a?y(e):l(e,t);if("viewport"===r)s=v(c,a);else{var u;"scrollParent"===r?"BODY"===(u=i(n(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===r?e.ownerDocument.documentElement:r;var d=g(u,c,a);if("HTML"!==u.nodeName||b(c))s=d;else{var h=p(),f=h.height,m=h.width;s.top+=d.top-d.marginTop,s.bottom=f+d.top,s.left+=d.left-d.marginLeft,s.right=m+d.left}}return s.left+=o,s.top+=o,s.right-=o,s.bottom-=o,s}function _(e){return e.width*e.height}function C(e,t,n,i,o){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=w(n,i,r,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return ce({key:e},s[e],{area:_(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=0<c.length?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function x(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return g(n,i?y(t):l(t,n),i)}function k(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function E(e,t,n){n=n.split("-")[0];var i=k(e),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[a]=t[a]+t[l]/2-i[l]/2,o[s]=n===s?t[s]-i[c]:t[S(s)],o}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function A(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=T(e,(function(e){return e[t]===n}));return e.indexOf(i)}function O(t,n,i){return(void 0===i?t:t.slice(0,A(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&e(i)&&(n.offsets.popper=f(n.offsets.popper),n.offsets.reference=f(n.offsets.reference),n=i(n,t))})),n}function D(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=C(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=E(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=O(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function I(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function P(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],r=o?""+o+n:e;if(void 0!==document.body.style[r])return r}return null}function N(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function M(e){var t=e.ownerDocument;return t?t.defaultView:window}function L(e,t,n,o){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),r||L(i(a.parentNode),t,n,o),o.push(a)}function $(e,t,n,o){n.updateBound=o,M(e).addEventListener("resize",n.updateBound,{passive:!0});var r=i(e);return L(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function j(){this.state.eventsEnabled||(this.state=$(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return M(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function F(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function B(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&B(t[n])&&(i="px"),e.style[n]=t[n]+i}))}function z(e,t){Object.keys(t).forEach((function(n){!1===t[n]?e.removeAttribute(n):e.setAttribute(n,t[n])}))}function q(e,t,n){var i=T(e,(function(e){return e.name===t})),o=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!o){var r="`"+t+"`";console.warn("`"+n+"` modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function U(e){return"end"===e?"start":"start"===e?"end":e}function W(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=de.indexOf(e),i=de.slice(n+1).concat(de.slice(0,n));return t?i.reverse():i}function V(e,t,n,i){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return e;if(0===a.indexOf("%")){var s;if("%p"===a)s=n;else s=i;return f(s)[t]/100*r}return"vh"===a||"vw"===a?("vh"===a?Z(document.documentElement.clientHeight,window.innerHeight||0):Z(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r}function Y(e,t,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(T(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1===s?[a]:[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))];return c=c.map((function(e,i){var o=(1===i?!r:r)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return V(e,o,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,i){B(n)&&(o[t]+=n*("-"===e[i-1]?-1:1))}))})),o}function K(e,t){var n,i=t.offset,o=e.placement,r=e.offsets,a=r.popper,s=r.reference,l=o.split("-")[0];return n=B(+i)?[+i,0]:Y(i,a,s,l),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e}for(var G=Math.min,Q=Math.round,X=Math.floor,Z=Math.max,J="undefined"!=typeof window&&"undefined"!=typeof document,ee=["Edge","Trident","Firefox"],te=0,ne=0;ne<ee.length;ne+=1)if(J&&0<=navigator.userAgent.indexOf(ee[ne])){te=1;break}var ie=J&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),te))}},oe=J&&!(!window.MSInputMethodContext||!document.documentMode),re=J&&/MSIE 10/.test(navigator.userAgent),ae=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},se=function(){function e(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),le=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ce=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ue=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],de=ue.slice(3),he={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},pe=function(){function t(n,i){var o=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ae(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=ie(this.update.bind(this)),this.options=ce({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(ce({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){o.options.modifiers[e]=ce({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return ce({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(t){t.enabled&&e(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return se(t,[{key:"update",value:function(){return D.call(this)}},{key:"destroy",value:function(){return N.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),t}();return pe.Utils=("undefined"==typeof window?global:window).PopperUtils,pe.placements=ue,pe.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var o=e.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:le({},l,r[l]),end:le({},l,r[l]+r[c]-a[c])};e.offsets.popper=ce({},a,u[i])}return e}},offset:{order:200,enabled:!0,fn:K,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||r(e.instance.popper);e.instance.reference===n&&(n=r(n));var i=P("transform"),o=e.instance.popper.style,a=o.top,s=o.left,l=o[i];o.top="",o.left="",o[i]="";var c=w(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=a,o.left=s,o[i]=l,t.boundaries=c;var u=t.priority,d=e.offsets.popper,h={primary:function(e){var n=d[e];return d[e]<c[e]&&!t.escapeWithReference&&(n=Z(d[e],c[e])),le({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=d[n];return d[e]>c[e]&&!t.escapeWithReference&&(i=G(d[n],c[e]-("right"===e?d.width:d.height))),le({},n,i)}};return u.forEach((function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";d=ce({},d,h[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,o=e.placement.split("-")[0],r=X,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(i[l])&&(e.offsets.popper[l]=r(i[l])-n[c]),n[l]>r(i[s])&&(e.offsets.popper[l]=r(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,n){var i;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var o=n.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",m=c?"bottom":"right",g=k(o)[u];l[m]-g<s[h]&&(e.offsets.popper[h]-=s[h]-(l[m]-g)),l[h]+g>s[m]&&(e.offsets.popper[h]+=l[h]+g-s[m]),e.offsets.popper=f(e.offsets.popper);var v=l[h]+l[u]/2-g/2,b=t(e.instance.popper),y=parseFloat(b["margin"+d],10),w=parseFloat(b["border"+d+"Width"],10),_=v-e.offsets.popper[h]-y-w;return _=Z(G(s[u]-g,_),0),e.arrowElement=o,e.offsets.arrow=(le(i={},h,Q(_)),le(i,p,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(I(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=w(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],o=S(i),r=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case he.FLIP:a=[i,o];break;case he.CLOCKWISE:a=W(i);break;case he.COUNTERCLOCKWISE:a=W(i,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],o=S(i);var c=e.offsets.popper,u=e.offsets.reference,d=X,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),f=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,b=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(b&&"start"===r&&p||b&&"end"===r&&f||!b&&"start"===r&&m||!b&&"end"===r&&g);(h||v||y)&&(e.flipped=!0,(h||v)&&(i=a[l+1]),y&&(r=U(r)),e.placement=i+(r?"-"+r:""),e.offsets.popper=ce({},e.offsets.popper,E(e.instance.popper,e.offsets.reference,e.placement)),e=O(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),e.placement=S(t),e.offsets.popper=f(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=T(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,o=e.offsets.popper,a=T(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,l,c=void 0===a?t.gpuAcceleration:a,u=m(r(e.instance.popper)),d={position:o.position},h={left:X(o.left),top:Q(o.top),bottom:Q(o.bottom),right:X(o.right)},p="bottom"===n?"top":"bottom",f="right"===i?"left":"right",g=P("transform");if(l="bottom"==p?-u.height+h.bottom:h.top,s="right"==f?-u.width+h.right:h.left,c&&g)d[g]="translate3d("+s+"px, "+l+"px, 0)",d[p]=0,d[f]=0,d.willChange="transform";else{var v="bottom"==p?-1:1,b="right"==f?-1:1;d[p]=l*v,d[f]=s*b,d.willChange=p+", "+f}var y={"x-placement":e.placement};return e.attributes=ce({},y,e.attributes),e.styles=ce({},d,e.styles),e.arrowStyles=ce({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return H(e.instance.popper,e.styles),z(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,o){var r=x(o,t,e,n.positionFixed),a=C(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),H(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},pe})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,(function(e){!function(e){"use strict";function t(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function n(e){var t,n=[],i=e&&e.options;if(e.multiple)for(var o=0,r=i.length;o<r;o++)(t=i[o]).selected&&n.push(t.value||t.text);else n=e.value;return n}function i(e,t,n,i){for(var o=["content","subtext","tokens"],a=!1,s=0;s<o.length;s++){var l=o[s],c=e[l];if(c&&(c=c.toString(),"content"===l&&(c=c.replace(/<[^>]+>/g,"")),i&&(c=r(c)),c=c.toUpperCase(),a="contains"===n?c.indexOf(t)>=0:c.startsWith(t)))break}return a}function o(e){return parseInt(e,10)||0}function r(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,(function(){t=t?t.replace(this.re,this.ch):""})),t}function a(t){var n,i=arguments,o=t;[].shift.apply(i);var r=this.each((function(){var t=e(this);if(t.is("select")){var r=t.data("selectpicker"),a="object"==typeof o&&o;if(r){if(a)for(var s in a)a.hasOwnProperty(s)&&(r.options[s]=a[s])}else{var l=e.extend({},S.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),a);l.template=e.extend({},S.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,a.template),t.data("selectpicker",r=new S(this,l))}"string"==typeof o&&(n=r[o]instanceof Function?r[o].apply(r,i):r.options[o])}}));return void 0!==n?n:r}var s,l,c,u=document.createElement("_");if(u.classList.toggle("c3",!1),u.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:d.call(this,e)}}String.prototype.startsWith||(s=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),l={}.toString,c=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==l.call(e))throw new TypeError;var n=t.length,i=String(e),o=i.length,r=arguments.length>1?arguments[1]:void 0,a=r?Number(r):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(o+s>n)return!1;for(var c=-1;++c<o;)if(t.charCodeAt(s+c)!=i.charCodeAt(c))return!1;return!0},s?s(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c),Object.keys||(Object.keys=function(e,t,n){for(t in n=[],e)n.hasOwnProperty.call(e,t)&&n.push(t);return n});var h={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,n){return n&&!h.useDefault&&e(t).data("selected",!0),h._set.apply(this,arguments)};var p=null,f=function(){try{return new Event("change"),!0}catch(e){return!1}}();e.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?(f?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),n.dispatchEvent(t)):n.fireEvent?((t=document.createEventObject()).eventType=e,n.fireEvent("on"+e,t)):this.trigger(e)};var m={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},g=function(e){var t=function(t){return e[t]},n="(?:"+Object.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}},v=g({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),b=g(m),y={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",
53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},w={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},_={};try{_.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),_.major=_.full[0]}catch(e){console.error("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision.",e),_.major="3"}var C={DISABLED:"disabled",DIVIDER:"4"===_.major?"dropdown-divider":"divider",SHOW:"4"===_.major?"show":"open",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"4"===_.major?"btn-light":"btn-default",POPOVERHEADER:"4"===_.major?"popover-header":"popover-title"},x=new RegExp(w.ARROW_UP+"|"+w.ARROW_DOWN),k=new RegExp("^"+w.TAB+"$|"+w.ESCAPE),S=(new RegExp(w.ENTER+"|"+w.SPACE),function(t,n){var i=this;h.useDefault||(e.valHooks.select.set=h._set,h.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){i.selectpicker.keydown.keyHistory=""}),800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var o=this.options.windowPadding;"number"==typeof o&&(this.options.windowPadding=[o,o,o,o]),this.val=S.prototype.val,this.render=S.prototype.render,this.refresh=S.prototype.refresh,this.setStyle=S.prototype.setStyle,this.selectAll=S.prototype.selectAll,this.deselectAll=S.prototype.deselectAll,this.destroy=S.prototype.destroy,this.remove=S.prototype.remove,this.show=S.prototype.show,this.hide=S.prototype.hide,this.init()});S.VERSION="1.13.1",S.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600},"4"===_.major&&(S.DEFAULTS.style="btn-light",S.DEFAULTS.iconBase="",S.DEFAULTS.tickIcon="bs-ok-default"),S.prototype={constructor:S,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass(C.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",(function(){if(e.isVirtual()){var t=e.$menuInner[0],n=t.firstChild.cloneNode(!1);t.replaceChild(n,t.firstChild),t.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",(function(){e.$button.addClass("bs-invalid"),e.$element.on({"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",(function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")}))})),setTimeout((function(){e.$element.trigger("loaded.bs.select")}))},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",n=this.autofocus?" autofocus":"",i=this.options.header?'<div class="'+C.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+v(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+C.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+C.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+C.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>":"",s='<div class="dropdown bootstrap-select'+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===_.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="dropdown-menu '+("4"===_.major?"":C.SHOW)+'" role="combobox">'+i+o+r+'<div class="inner '+C.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner '+("4"===_.major?C.SHOW:"")+'"></ul></div>'+a+"</div></div>";return e(s)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],n=!0;"divider"===t.type?(n=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(n=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(n,i){function o(e,i){var o,c,u,d,h,p,f,m=r.selectpicker.current.elements.length,g=[],v=void 0,b=!0,y=r.isVirtual();r.selectpicker.view.scrollTop=e,!0===y&&r.sizeInfo.hasScrollBar&&r.$menu[0].offsetWidth>r.sizeInfo.totalMenuWidth&&(r.sizeInfo.menuWidth=r.$menu[0].offsetWidth,r.sizeInfo.totalMenuWidth=r.sizeInfo.menuWidth+r.sizeInfo.scrollBarWidth,r.$menu.css("min-width",r.sizeInfo.menuWidth)),o=Math.ceil(r.sizeInfo.menuInnerHeight/r.sizeInfo.liHeight*1.5),c=Math.round(m/o)||1;for(var w=0;w<c;w++){var _=(w+1)*o;if(w===c-1&&(_=m),g[w]=[w*o+(w?1:0),_],!m)break;void 0===v&&e<=r.selectpicker.current.data[_-1].position-r.sizeInfo.menuInnerHeight&&(v=w)}if(void 0===v&&(v=0),h=[r.selectpicker.view.position0,r.selectpicker.view.position1],u=Math.max(0,v-1),d=Math.min(c-1,v+1),r.selectpicker.view.position0=Math.max(0,g[u][0])||0,r.selectpicker.view.position1=Math.min(m,g[d][1])||0,p=h[0]!==r.selectpicker.view.position0||h[1]!==r.selectpicker.view.position1,void 0!==r.activeIndex&&(s=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.prevActiveIndex]],l=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.activeIndex]],a=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.selectedIndex]],i&&(r.activeIndex!==r.selectedIndex&&(l.classList.remove("active"),l.firstChild&&l.firstChild.classList.remove("active")),r.activeIndex=void 0),r.activeIndex&&r.activeIndex!==r.selectedIndex&&a&&a.length&&(a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active"))),void 0!==r.prevActiveIndex&&r.prevActiveIndex!==r.activeIndex&&r.prevActiveIndex!==r.selectedIndex&&s&&s.length&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),(i||p)&&(f=r.selectpicker.view.visibleElements?r.selectpicker.view.visibleElements.slice():[],r.selectpicker.view.visibleElements=r.selectpicker.current.elements.slice(r.selectpicker.view.position0,r.selectpicker.view.position1),r.setOptionStatus(),(n||!1===y&&i)&&(b=!t(f,r.selectpicker.view.visibleElements)),(i||!0===y)&&b)){var C,x,k=r.$menuInner[0],S=document.createDocumentFragment(),E=k.firstChild.cloneNode(!1),T=!0===y?r.selectpicker.view.visibleElements:r.selectpicker.current.elements;k.replaceChild(E,k.firstChild);w=0;for(var A=T.length;w<A;w++)S.appendChild(T[w]);!0===y&&(C=0===r.selectpicker.view.position0?0:r.selectpicker.current.data[r.selectpicker.view.position0-1].position,x=r.selectpicker.view.position1>m-1?0:r.selectpicker.current.data[m-1].position-r.selectpicker.current.data[r.selectpicker.view.position1-1].position,k.firstChild.style.marginTop=C+"px",k.firstChild.style.marginBottom=x+"px"),k.firstChild.appendChild(S)}if(r.prevActiveIndex=r.activeIndex,r.options.liveSearch){if(n&&i){var O,D=0;r.selectpicker.view.canHighlight[D]||(D=1+r.selectpicker.view.canHighlight.slice(1).indexOf(!0)),O=r.selectpicker.view.visibleElements[D],r.selectpicker.view.currentActive&&(r.selectpicker.view.currentActive.classList.remove("active"),r.selectpicker.view.currentActive.firstChild&&r.selectpicker.view.currentActive.firstChild.classList.remove("active")),O&&(O.classList.add("active"),O.firstChild&&O.firstChild.classList.add("active")),r.activeIndex=r.selectpicker.current.map.originalIndex[D]}}else r.$menuInner.focus()}i=i||0;var r=this;this.selectpicker.current=n?this.selectpicker.search:this.selectpicker.main;var a,s,l=[];this.setPositionData(),o(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(e,t){r.noScroll||o(this.scrollTop,t),r.noScroll=!1})),e(window).off("resize.createView").on("resize.createView",(function(){o(r.$menuInner[0].scrollTop)}))},createLi:function(){var t,n=this,i=[],o=0,r=0,a=[],s=0,l=0,c=-1;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var u={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\xa0")},d=u.span.cloneNode(!1),h=document.createDocumentFragment();d.className=n.options.iconBase+" "+n.options.tickIcon+" check-mark",u.a.appendChild(d),u.a.setAttribute("role","option"),u.subtext.className="text-muted",u.text=u.span.cloneNode(!1),u.text.className="text";var p=function(e,t,n,i){var o=u.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?o.appendChild(e):o.innerHTML=e),void 0!==n&&""!==n&&(o.className=n),null!=i&&o.classList.add("optgroup-"+i),o},f=function(e,t,n){var i=u.a.cloneNode(!0);return e&&(11===e.nodeType?i.appendChild(e):i.insertAdjacentHTML("beforeend",e)),void 0!==t&""!==t&&(i.className=t),"4"===_.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i},m=function(e){var t,i,o=u.text.cloneNode(!1);if(e.optionContent)o.innerHTML=e.optionContent;else{if(o.textContent=e.text,e.optionIcon){var r=u.whitespace.cloneNode(!1);(i=u.span.cloneNode(!1)).className=n.options.iconBase+" "+e.optionIcon,h.appendChild(i),h.appendChild(r)}e.optionSubtext&&((t=u.subtext.cloneNode(!1)).innerHTML=e.optionSubtext,o.appendChild(t))}return h.appendChild(o),h},g=function(e){var t,i,o=u.text.cloneNode(!1);if(o.textContent=e.labelEscaped,e.labelIcon){var r=u.whitespace.cloneNode(!1);(i=u.span.cloneNode(!1)).className=n.options.iconBase+" "+e.labelIcon,h.appendChild(i),h.appendChild(r)}return e.labelSubtext&&((t=u.subtext.cloneNode(!1)).textContent=e.labelSubtext,o.appendChild(t)),h.appendChild(o),h};if(this.options.title&&!this.multiple){c--;var b=this.$element[0],y=!1,w=!this.selectpicker.view.titleOption.parentNode;if(w)this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",y=void 0===e(b.options[b.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected");(w||0!==this.selectpicker.view.titleOption.index)&&b.insertBefore(this.selectpicker.view.titleOption,b.firstChild),y&&(b.selectedIndex=0)}var x=this.$element.find("option");x.each((function(u){var d=e(this);if(c++,!d.hasClass("bs-title-option")){var h,b,y=d.data(),w=this.className||"",_=v(this.style.cssText),k=y.content,S=this.textContent,E=y.tokens,T=y.subtext,A=y.icon,O=d.parent(),D=O[0],I="OPTGROUP"===D.tagName,P=I&&D.disabled,N=this.disabled||P,M=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,L=O.data();if(!0===y.hidden||n.options.hideDisabled&&(N&&!I||P)){h=y.prevHiddenIndex,d.next().data("prevHiddenIndex",void 0!==h?h:u),c--,M||void 0!==h&&(q=x[h].previousElementSibling)&&"OPTGROUP"===q.tagName&&!q.disabled&&(M=!0),M&&"divider"!==a[a.length-1].type&&(c++,i.push(p(!1,null,C.DIVIDER,s+"div")),a.push({type:"divider",optID:s,originalIndex:u}))}else{if(I&&!0!==y.divider){if(n.options.hideDisabled&&N){if(void 0===L.allOptionsDisabled){var $=O.children();O.data("allOptionsDisabled",$.filter(":disabled").length===$.length)}if(O.data("allOptionsDisabled"))return void c--}var j=" "+D.className||"";if(!this.previousElementSibling){s+=1;var R=D.label,F=v(R),B=L.subtext,H=L.icon;0!==u&&i.length>0&&(c++,i.push(p(!1,null,C.DIVIDER,s+"div")),a.push({type:"divider",optID:s,originalIndex:u})),c++;var z=g({labelEscaped:F,labelSubtext:B,labelIcon:H});i.push(p(z,null,"dropdown-header"+j,s)),a.push({content:F,subtext:B,type:"optgroup-label",optID:s,originalIndex:u}),l=c-1}if(n.options.hideDisabled&&N||!0===y.hidden)return void c--;b=m({text:S,optionContent:k,optionSubtext:T,optionIcon:A}),i.push(p(f(b,"opt "+w+j,_),u,"",s)),a.push({content:k||S,subtext:T,tokens:E,type:"option",optID:s,headerIndex:l,lastIndex:l+D.childElementCount,originalIndex:u,data:y}),o++}else if(!0===y.divider)i.push(p(!1,u,"divider")),a.push({type:"divider",originalIndex:u});else{var q;if(!M&&n.options.hideDisabled)if(void 0!==(h=y.prevHiddenIndex))(q=x[h].previousElementSibling)&&"OPTGROUP"===q.tagName&&!q.disabled&&(M=!0);M&&"divider"!==a[a.length-1].type&&(c++,i.push(p(!1,null,C.DIVIDER,s+"div")),a.push({type:"divider",optID:s,originalIndex:u})),b=m({text:S,optionContent:k,optionSubtext:T,optionIcon:A}),i.push(p(f(b,w,_),u)),a.push({content:k||S,subtext:T,tokens:E,type:"option",originalIndex:u,data:y}),o++}n.selectpicker.main.map.newIndex[u]=c,n.selectpicker.main.map.originalIndex[c]=u;var U=a[a.length-1];U.disabled=N;var W=0;U.content&&(W+=U.content.length),U.subtext&&(W+=U.subtext.length),A&&(W+=1),W>r&&(r=W,t=i[i.length-1])}}})),this.selectpicker.main.elements=i,this.selectpicker.main.data=a,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t,this.selectpicker.view.availableOptionsCount=o},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e=this,t=this.$element.find("option"),n=[],i=[];this.togglePlaceholder(),this.tabIndex();for(var o=0,r=this.selectpicker.main.elements.length;o<r;o++){var a=t[this.selectpicker.main.map.originalIndex[o]];if(a&&a.selected&&(n.push(a),i.length<100&&"count"!==e.options.selectedTextFormat||1===n.length)){if(e.options.hideDisabled&&(a.disabled||"OPTGROUP"===a.parentNode.tagName&&a.parentNode.disabled))return;var s,l,c=this.selectpicker.main.data[o].data,u=c.icon&&e.options.showIcon?'<i class="'+e.options.iconBase+" "+c.icon+'"></i> ':"";s=e.options.showSubtext&&c.subtext&&!e.multiple?' <small class="text-muted">'+c.subtext+"</small>":"",l=a.title?a.title:c.content&&e.options.showContent?c.content.toString():u+a.innerHTML.trim()+s,i.push(l)}}var d=this.multiple?i.join(this.options.multipleSeparator):i[0];if(n.length>50&&(d+="..."),this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")){var h=this.options.selectedTextFormat.split(">");if(h.length>1&&n.length>h[1]||1===h.length&&n.length>=2){var p=this.selectpicker.view.availableOptionsCount;d=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(n.length,p):this.options.countSelectedText).replace("{0}",n.length.toString()).replace("{1}",p.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(d=this.options.title),d||(d=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button[0].title=b(d.replace(/<[^>]*>?/g,"").trim()),this.$button.find(".filter-option-inner-inner")[0].innerHTML=d,this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),a=document.createElement("ul"),s=document.createElement("li"),l=document.createElement("li"),c=document.createElement("li"),u=document.createElement("a"),d=document.createElement("span"),h=this.options.header&&this.$menu.find("."+C.POPOVERHEADER).length>0?this.$menu.find("."+C.POPOVERHEADER)[0].cloneNode(!0):null,p=this.options.liveSearch?document.createElement("div"):null,f=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,m=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",u.className="dropdown-item",n.className=this.$menu[0].parentNode.className+" "+C.SHOW,n.style.width=this.sizeInfo.selectWidth+"px",i.className="dropdown-menu "+C.SHOW,r.className="inner "+C.SHOW,a.className="dropdown-menu inner "+("4"===_.major?C.SHOW:""),s.className=C.DIVIDER,l.className="dropdown-header",d.appendChild(document.createTextNode("Inner text")),u.appendChild(d),c.appendChild(u),l.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(c),a.appendChild(s),a.appendChild(l),h&&i.appendChild(h),p){var g=document.createElement("input");p.className="bs-searchbox",g.className="form-control",p.appendChild(g),i.appendChild(p)}f&&i.appendChild(f),r.appendChild(a),i.appendChild(r),m&&i.appendChild(m),n.appendChild(i),document.body.appendChild(n);var v,b=u.offsetHeight,y=l?l.offsetHeight:0,w=h?h.offsetHeight:0,x=p?p.offsetHeight:0,k=f?f.offsetHeight:0,S=m?m.offsetHeight:0,E=e(s).outerHeight(!0),T=!!window.getComputedStyle&&window.getComputedStyle(i),A=i.offsetWidth,O=T?null:e(i),D={vert:o(T?T.paddingTop:O.css("paddingTop"))+o(T?T.paddingBottom:O.css("paddingBottom"))+o(T?T.borderTopWidth:O.css("borderTopWidth"))+o(T?T.borderBottomWidth:O.css("borderBottomWidth")),horiz:o(T?T.paddingLeft:O.css("paddingLeft"))+o(T?T.paddingRight:O.css("paddingRight"))+o(T?T.borderLeftWidth:O.css("borderLeftWidth"))+o(T?T.borderRightWidth:O.css("borderRightWidth"))},I={vert:D.vert+o(T?T.marginTop:O.css("marginTop"))+o(T?T.marginBottom:O.css("marginBottom"))+2,horiz:D.horiz+o(T?T.marginLeft:O.css("marginLeft"))+o(T?T.marginRight:O.css("marginRight"))+2};r.style.overflowY="scroll",v=i.offsetWidth-A,document.body.removeChild(n),this.sizeInfo.liHeight=b,this.sizeInfo.dropdownHeaderHeight=y,this.sizeInfo.headerHeight=w,this.sizeInfo.searchHeight=x,this.sizeInfo.actionsHeight=k,this.sizeInfo.doneButtonHeight=S,this.sizeInfo.dividerHeight=E,this.sizeInfo.menuPadding=D,this.sizeInfo.menuExtras=I,this.sizeInfo.menuWidth=A,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,n=this,i=e(window),o=n.$newElement.offset(),r=e(n.options.container);n.options.container&&!r.is("body")?((t=r.offset()).top+=parseInt(r.css("borderTopWidth")),t.left+=parseInt(r.css("borderLeftWidth"))):t={top:0,left:0};var a=n.options.windowPadding;this.sizeInfo.selectOffsetTop=o.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-a[2],this.sizeInfo.selectOffsetLeft=o.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-a[1],this.sizeInfo.selectOffsetTop-=a[0],this.sizeInfo.selectOffsetLeft-=a[3]},setMenuSize:function(){this.getSelectPosition();var e,t,n,i,o,r,a,s=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,u=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(a=l*this.selectpicker.current.elements.length+f.vert,this.$newElement.toggleClass(C.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)i=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,t=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=i+c+u+d+h,r=Math.max(i-f.vert,0),this.$newElement.hasClass(C.DROPUP)&&(t=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=t,e=t-c-u-d-h-f.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&m++;e=(t=l*this.options.size+m*p+f.vert)-f.vert,o=t+c+u+d+h,n=r=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(C.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-s),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":r+"px"}),this.sizeInfo.menuInnerHeight=e,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n,i=this,o=e(window),r=0;this.setMenuSize(),"auto"===this.options.size?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return i.setMenuSize()})),o.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",(function(){return i.setMenuSize()}))):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),o.off("resize.setMenuSize scroll.setMenuSize")),t?r=this.$menuInner[0].scrollTop:i.multiple||"number"==typeof(n=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex])&&!1!==i.options.size&&(r=(r=i.sizeInfo.liHeight*n)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2),i.createView(!1,r)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame((function(){e.$menu.css("min-width","0"),e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),n=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,n),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,n,i,o=this,r=e(this.options.container),a=function(e){var a={};o.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(C.DROPUP,e.hasClass(C.DROPUP)),t=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),i=e.hasClass(C.DROPUP)?0:e[0].offsetHeight,_.major<4&&(a.top=t.top-n.top+i,a.left=t.left-n.left),a.width=e[0].offsetWidth,o.$bsContainer.css(a)};this.$button.on("click.bs.dropdown.data-api",(function(){o.isDisabled()||(a(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass(C.SHOW,!o.$button.hasClass(C.SHOW)).append(o.$menu))})),e(window).on("resize scroll",(function(){a(o.$newElement)})),this.$element.on("hide.bs.select",(function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()}))},setOptionStatus:function(){var e=this,t=this.$element.find("option");if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var n=0;n<e.selectpicker.view.visibleElements.length;n++){var i=e.selectpicker.current.map.originalIndex[n+e.selectpicker.view.position0],o=t[i];if(o){var r=this.selectpicker.main.map.newIndex[i],a=this.selectpicker.main.elements[r];e.setDisabled(i,o.disabled||"OPTGROUP"===o.parentNode.tagName&&o.parentNode.disabled,r,a),e.setSelected(i,o.selected,r,a)}}},setSelected:function(e,t,n,i){var o,r,a,s=void 0!==this.activeIndex,l=this.activeIndex===e||t&&!this.multiple&&!s;n||(n=this.selectpicker.main.map.newIndex[e]),i||(i=this.selectpicker.main.elements[n]),a=i.firstChild,t&&(this.selectedIndex=e),i.classList.toggle("selected",t),i.classList.toggle("active",l),l&&(this.selectpicker.view.currentActive=i,this.activeIndex=e),a&&(a.classList.toggle("selected",t),a.classList.toggle("active",l),a.setAttribute("aria-selected",t)),l||!s&&t&&void 0!==this.prevActiveIndex&&(o=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(r=this.selectpicker.main.elements[o]).classList.remove("selected"),r.classList.remove("active"),r.firstChild&&(r.firstChild.classList.remove("selected"),r.firstChild.classList.remove("active")))},setDisabled:function(e,t,n,i){var o;n||(n=this.selectpicker.main.map.newIndex[e]),i||(i=this.selectpicker.main.elements[n]),o=i.firstChild,i.classList.toggle(C.DISABLED,t),o&&("4"===_.major&&o.classList.toggle(C.DISABLED,t),o.setAttribute("aria-disabled",t),t?o.setAttribute("tabindex",-1):o.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass(C.DISABLED),this.$button.addClass(C.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(C.DISABLED)&&(this.$newElement.removeClass(C.DISABLED),this.$button.removeClass(C.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click((function(){return!e.isDisabled()}))},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,n=-1===t;n||e.options[t].value||(n=!0),this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);i.data("spaceSelect",!1),this.$button.on("keyup",(function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){_.major>3&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){t.$newElement.hasClass(C.SHOW)||t.setSize()})),this.$element.on("shown.bs.select",(function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),t.options.liveSearch?t.$searchbox.focus():t.$menuInner.focus()})),this.$menuInner.on("click","li a",(function(i,o){var r=e(this),a=t.isVirtual()?t.selectpicker.view.position0:0,s=t.selectpicker.current.map.originalIndex[r.parent().index()+a],l=n(t.$element[0]),c=t.$element.prop("selectedIndex"),u=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!r.parent().hasClass(C.DISABLED)){var d=t.$element.find("option"),h=d.eq(s),f=h.prop("selected"),m=h.parent("optgroup"),g=t.options.maxOptions,v=m.data("maxOptions")||!1;if(s===t.activeIndex&&(o=!0),o||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.multiple){if(h.prop("selected",!f),t.setSelected(s,!f),r.blur(),!1!==g||!1!==v){var b=g<d.filter(":selected").length,y=v<m.find("option:selected").length;if(g&&b||v&&y)if(g&&1==g)d.prop("selected",!1),h.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(s,!0);else if(v&&1==v){m.find("option:selected").prop("selected",!1),h.prop("selected",!0);var w=t.selectpicker.current.data[r.parent().index()+t.selectpicker.view.position0].optID;t.$menuInner.find(".optgroup-"+w).removeClass("selected"),t.setSelected(s,!0)}else{var _="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,x="function"==typeof _?_(g,v):_,k=x[0].replace("{n}",g),S=x[1].replace("{n}",v),E=e('<div class="notify"></div>');x[2]&&(k=k.replace("{var}",x[2][g>1?0:1]),S=S.replace("{var}",x[2][v>1?0:1])),h.prop("selected",!1),t.$menu.append(E),g&&b&&(E.append(e("<div>"+k+"</div>")),u=!1,t.$element.trigger("maxReached.bs.select")),v&&y&&(E.append(e("<div>"+S+"</div>")),u=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout((function(){t.setSelected(s,!1)}),10),E.delay(750).fadeOut(300,(function(){e(this).remove()}))}}}else d.prop("selected",!1),h.prop("selected",!0),t.setSelected(s,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),u&&(l!=n(t.$element[0])&&t.multiple||c!=t.$element.prop("selectedIndex")&&!t.multiple)&&(p=[s,h.prop("selected"),l],t.$element.triggerNative("change"))}})),this.$menu.on("click","li."+C.DISABLED+" a, ."+C.POPOVERHEADER+", ."+C.POPOVERHEADER+" :not(.close)",(function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())})),this.$menuInner.on("click",".divider, .dropdown-header",(function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()})),this.$menu.on("click","."+C.POPOVERHEADER+" .close",(function(){t.$button.click()})),this.$searchbox.on("click",(function(e){e.stopPropagation()})),
this.$menu.on("click",".actions-btn",(function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()})),this.$element.on({change:function(){t.render(),t.$element.trigger("changed.bs.select",p),p=null},focus:function(){t.$button.focus()}})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",(function(){e.$searchbox.val()&&e.$searchbox.val("")})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(e){e.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var n=e.$searchbox.val();if(e.selectpicker.search.map.newIndex={},e.selectpicker.search.map.originalIndex={},e.selectpicker.search.elements=[],e.selectpicker.search.data=[],n){var o=[],r=n.toUpperCase(),a={},s=[],l=e._searchStyle(),c=e.options.liveSearchNormalize;e._$lisSelected=e.$menuInner.find(".selected");for(var u=0;u<e.selectpicker.main.data.length;u++){var d=e.selectpicker.main.data[u];a[u]||(a[u]=i(d,r,l,c)),a[u]&&void 0!==d.headerIndex&&-1===s.indexOf(d.headerIndex)&&(d.headerIndex>0&&(a[d.headerIndex-1]=!0,s.push(d.headerIndex-1)),a[d.headerIndex]=!0,s.push(d.headerIndex),a[d.lastIndex+1]=!0),a[u]&&"optgroup-label"!==d.type&&s.push(u)}u=0;for(var h=s.length;u<h;u++){var p=s[u],f=s[u-1],m=(d=e.selectpicker.main.data[p],e.selectpicker.main.data[f]);("divider"!==d.type||"divider"===d.type&&m&&"divider"!==m.type&&h-1!==u)&&(e.selectpicker.search.data.push(d),o.push(e.selectpicker.main.elements[p]),e.selectpicker.search.map.newIndex[d.originalIndex]=o.length-1,e.selectpicker.search.map.originalIndex[o.length-1]=d.originalIndex)}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=o,e.createView(!0),o.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+v(n)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element.find("option"),i=0,o=0,r=n(this.$element[0]);this.$element.addClass("bs-select-hidden");for(var a=0;a<this.selectpicker.current.elements.length;a++){var s=t[this.selectpicker.current.map.originalIndex[a]];s&&(s.selected&&i++,s.selected=e,s.selected&&o++)}this.$element.removeClass("bs-select-hidden"),i!==o&&(this.setOptionStatus(),this.togglePlaceholder(),p=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var n,o,r,a,s,l=e(this),c=(l.is("input")?l.parent().parent():l.parent()).data("this"),u=c.findLis(),d=!1,h=t.which===w.TAB&&!l.hasClass("dropdown-toggle")&&!c.options.selectOnTab,p=x.test(t.which)||h,f=c.$menuInner[0].scrollTop,m=c.isVirtual(),g=!0===m?c.selectpicker.view.position0:0;if(!(o=c.$newElement.hasClass(C.SHOW))&&(p||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105||t.which>=65&&t.which<=90)&&c.$button.trigger("click.bs.dropdown.data-api"),t.which===w.ESCAPE&&o&&(t.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").focus()),p){if(!u.length)return;void 0===(n=!0===m?u.index(u.filter(".active")):c.selectpicker.current.map.newIndex[c.activeIndex])&&(n=-1),-1!==n&&((r=c.selectpicker.current.elements[n+g]).classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),t.which===w.ARROW_UP?(-1!==n&&n--,n+g<0&&(n+=u.length),c.selectpicker.view.canHighlight[n+g]||-1===(n=c.selectpicker.view.canHighlight.slice(0,n+g).lastIndexOf(!0)-g)&&(n=u.length-1)):(t.which===w.ARROW_DOWN||h)&&(++n+g>=c.selectpicker.view.canHighlight.length&&(n=0),c.selectpicker.view.canHighlight[n+g]||(n=n+1+c.selectpicker.view.canHighlight.slice(n+g+1).indexOf(!0))),t.preventDefault();var v=g+n;t.which===w.ARROW_UP?0===g&&n===u.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,v=c.selectpicker.current.elements.length-1):d=(s=(a=c.selectpicker.current.data[v]).position-a.height)<f:(t.which===w.ARROW_DOWN||h)&&(0!==g&&0===n?(c.$menuInner[0].scrollTop=0,v=0):d=(s=(a=c.selectpicker.current.data[v]).position-c.sizeInfo.menuInnerHeight)>f),(r=c.selectpicker.current.elements[v]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),c.activeIndex=c.selectpicker.current.map.originalIndex[v],c.selectpicker.view.currentActive=r,d&&(c.$menuInner[0].scrollTop=s),c.options.liveSearch?c.$searchbox.focus():l.focus()}else if(!l.is("input")&&!k.test(t.which)||t.which===w.SPACE&&c.selectpicker.keydown.keyHistory){var b,_,S=[];t.preventDefault(),c.selectpicker.keydown.keyHistory+=y[t.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),_=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(_)&&(_=_.charAt(0));for(var E=0;E<c.selectpicker.current.data.length;E++){var T=c.selectpicker.current.data[E];i(T,_,"startsWith",!0)&&c.selectpicker.view.canHighlight[E]&&(T.index=E,S.push(T.originalIndex))}if(S.length){var A=0;u.removeClass("active").find("a").removeClass("active"),1===_.length&&(-1===(A=S.indexOf(c.activeIndex))||A===S.length-1?A=0:A++),b=c.selectpicker.current.map.newIndex[S[A]],f-(a=c.selectpicker.current.data[b]).position>0?(s=a.position-a.height,d=!0):(s=a.position-c.sizeInfo.menuInnerHeight,d=a.position>f+c.sizeInfo.menuInnerHeight),(r=c.selectpicker.current.elements[b]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),c.activeIndex=S[A],r.firstChild.focus(),d&&(c.$menuInner[0].scrollTop=s),l.focus()}}o&&(t.which===w.SPACE&&!c.selectpicker.keydown.keyHistory||t.which===w.ENTER||t.which===w.TAB&&c.options.selectOnTab)&&(t.which!==w.SPACE&&t.preventDefault(),c.options.liveSearch&&t.which===w.SPACE||(c.$menuInner.find(".active a").trigger("click",!0),l.focus(),c.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var E=e.fn.selectpicker;e.fn.selectpicker=a,e.fn.selectpicker.Constructor=S,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=E,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',S.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',(function(e){e.stopPropagation()})),e(window).on("load.bs.select.data-api",(function(){e(".selectpicker").each((function(){var t=e(this);a.call(t,t.data())}))}))}(e)})),function(e,t){"function"==typeof define&&define.amd?define("Chartist",[],(function(){return e.Chartist=t()})):"object"==typeof module&&module.exports?module.exports=t():e.Chartist=t()}(this,(function(){var e={version:"0.11.0"};return function(e,t,n){"use strict";n.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},n.noop=function(e){return e},n.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},n.extend=function(e){var t,i,o;for(e=e||{},t=1;t<arguments.length;t++)for(var r in i=arguments[t])o=i[r],e[r]="object"!=typeof o||null===o||o instanceof Array?o:n.extend(e[r],o);return e},n.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},n.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},n.quantity=function(e){if("string"==typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},n.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)},n.times=function(e){return Array.apply(null,new Array(e))},n.sum=function(e,t){return e+(t||0)},n.mapMultiply=function(e){return function(t){return t*e}},n.mapAdd=function(e){return function(t){return t+e}},n.serialMap=function(e,t){var i=[],o=Math.max.apply(null,e.map((function(e){return e.length})));return n.times(o).forEach((function(n,o){var r=e.map((function(e){return e[o]}));i[o]=t.apply(null,r)})),i},n.roundWithPrecision=function(e,t){var i=Math.pow(10,t||n.precision);return Math.round(e*i)/i},n.precision=8,n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},n.serialize=function(e){return null==e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(n.escapingMap).reduce((function(e,t){return n.replaceAll(e,t,n.escapingMap[t])}),e))},n.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(n.escapingMap).reduce((function(e,t){return n.replaceAll(e,n.escapingMap[t],t)}),e);try{e=void 0!==(e=JSON.parse(e)).data?e.data:e}catch(e){}return e},n.createSvg=function(e,t,i,o){var r;return t=t||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter((function(e){return e.getAttributeNS(n.namespaces.xmlns,"ct")})).forEach((function(t){e.removeChild(t)})),(r=new n.Svg("svg").attr({width:t,height:i}).addClass(o))._node.style.width=t,r._node.style.height=i,e.appendChild(r._node),r},n.normalizeData=function(e,t,i){var o,r={raw:e,normalized:{}};return r.normalized.series=n.getDataArray({series:e.series||[]},t,i),o=r.normalized.series.every((function(e){return e instanceof Array}))?Math.max.apply(null,r.normalized.series.map((function(e){return e.length}))):r.normalized.series.length,r.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(r.normalized.labels,n.times(Math.max(0,o-r.normalized.labels.length)).map((function(){return""}))),t&&n.reverseData(r.normalized),r},n.safeHasProperty=function(e,t){return null!==e&&"object"==typeof e&&e.hasOwnProperty(t)},n.isDataHoleValue=function(e){return null==e||"number"==typeof e&&isNaN(e)},n.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},n.getDataArray=function(e,t,i){function o(e){if(n.safeHasProperty(e,"value"))return o(e.value);if(n.safeHasProperty(e,"data"))return o(e.data);if(e instanceof Array)return e.map(o);if(!n.isDataHoleValue(e)){if(i){var t={};return"string"==typeof i?t[i]=n.getNumberOrUndefined(e):t.y=n.getNumberOrUndefined(e),t.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):t.x,t.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):t.y,t}return n.getNumberOrUndefined(e)}}return e.series.map(o)},n.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},n.getMetaData=function(e,t){var n=e.data?e.data[t]:e[t];return n?n.meta:void 0},n.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},n.projectLength=function(e,t,n){return t/n.range*e},n.getAvailableHeight=function(e,t){return Math.max((n.quantity(t.height).value||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)},n.getHighLow=function(e,t,i){function o(e){if(void 0!==e)if(e instanceof Array)for(var t=0;t<e.length;t++)o(e[t]);else{var n=i?+e[i]:+e;a&&n>r.high&&(r.high=n),s&&n<r.low&&(r.low=n)}}var r={high:void 0===(t=n.extend({},t,i?t["axis"+i.toUpperCase()]:{})).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},a=void 0===t.high,s=void 0===t.low;return(a||s)&&o(e),(t.referenceValue||0===t.referenceValue)&&(r.high=Math.max(t.referenceValue,r.high),r.low=Math.min(t.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:(r.high>0||(r.high=1),r.low=0)),r},n.isNumeric=function(e){return null!==e&&isFinite(e)},n.isFalseyButZero=function(e){return!e&&0!==e},n.getNumberOrUndefined=function(e){return n.isNumeric(e)?+e:void 0},n.isMultiValue=function(e){return"object"==typeof e&&("x"in e||"y"in e)},n.getMultiValue=function(e,t){return n.isMultiValue(e)?n.getNumberOrUndefined(e[t||"y"]):n.getNumberOrUndefined(e)},n.rho=function(e){function t(e,n){return e%n==0?n:t(n,e%n)}function n(e){return e*e+1}if(1===e)return e;var i,o=2,r=2;if(e%2==0)return 2;do{o=n(o)%e,r=n(n(r))%e,i=t(Math.abs(o-r),e)}while(1===i);return i},n.getBounds=function(e,t,i,o){function r(e,t){return e===(e+=t)&&(e*=1+(t>0?p:-p)),e}var a,s,l,c=0,u={high:t.high,low:t.low};u.valueRange=u.high-u.low,u.oom=n.orderOfMagnitude(u.valueRange),u.step=Math.pow(10,u.oom),u.min=Math.floor(u.low/u.step)*u.step,u.max=Math.ceil(u.high/u.step)*u.step,u.range=u.max-u.min,u.numberOfSteps=Math.round(u.range/u.step);var d=n.projectLength(e,u.step,u)<i,h=o?n.rho(u.range):0;if(o&&n.projectLength(e,1,u)>=i)u.step=1;else if(o&&h<u.step&&n.projectLength(e,h,u)>=i)u.step=h;else for(;;){if(d&&n.projectLength(e,u.step,u)<=i)u.step*=2;else{if(d||!(n.projectLength(e,u.step/2,u)>=i))break;if(u.step/=2,o&&u.step%1!=0){u.step*=2;break}}if(c++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var p=2221e-19;for(u.step=Math.max(u.step,p),s=u.min,l=u.max;s+u.step<=u.low;)s=r(s,u.step);for(;l-u.step>=u.high;)l=r(l,-u.step);u.min=s,u.max=l,u.range=u.max-u.min;var f=[];for(a=u.min;a<=u.max;a=r(a,u.step)){var m=n.roundWithPrecision(a);m!==f[f.length-1]&&f.push(m)}return u.values=f,u},n.polarToCartesian=function(e,t,n,i){var o=(i-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},n.createChartRect=function(e,t,i){var o=!(!t.axisX&&!t.axisY),r=o?t.axisY.offset:0,a=o?t.axisX.offset:0,s=e.width()||n.quantity(t.width).value||0,l=e.height()||n.quantity(t.height).value||0,c=n.normalizePadding(t.chartPadding,i);s=Math.max(s,r+c.left+c.right),l=Math.max(l,a+c.top+c.bottom);var u={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return o?("start"===t.axisX.position?(u.y2=c.top+a,u.y1=Math.max(l-c.bottom,u.y2+1)):(u.y2=c.top,u.y1=Math.max(l-c.bottom-a,u.y2+1)),"start"===t.axisY.position?(u.x1=c.left+r,u.x2=Math.max(s-c.right,u.x1+1)):(u.x1=c.left,u.x2=Math.max(s-c.right-r,u.x1+1))):(u.x1=c.left,u.x2=Math.max(s-c.right,u.x1+1),u.y2=c.top,u.y1=Math.max(l-c.bottom,u.y2+1)),u},n.createGrid=function(e,t,i,o,r,a,s,l){var c={};c[i.units.pos+"1"]=e,c[i.units.pos+"2"]=e,c[i.counterUnits.pos+"1"]=o,c[i.counterUnits.pos+"2"]=o+r;var u=a.elem("line",c,s.join(" "));l.emit("draw",n.extend({type:"grid",axis:i,index:t,group:a,element:u},c))},n.createGridBackground=function(e,t,n,i){var o=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},n,!0);i.emit("draw",{type:"gridBackground",group:e,element:o})},n.createLabel=function(e,i,o,r,a,s,l,c,u,d,h){var p,f={};if(f[a.units.pos]=e+l[a.units.pos],f[a.counterUnits.pos]=l[a.counterUnits.pos],f[a.units.len]=i,f[a.counterUnits.len]=Math.max(0,s-10),d){var m=t.createElement("span");m.className=u.join(" "),m.setAttribute("xmlns",n.namespaces.xhtml),m.innerText=r[o],m.style[a.units.len]=Math.round(f[a.units.len])+"px",m.style[a.counterUnits.len]=Math.round(f[a.counterUnits.len])+"px",p=c.foreignObject(m,n.extend({style:"overflow: visible;"},f))}else p=c.elem("text",f,u.join(" ")).text(r[o]);h.emit("draw",n.extend({type:"label",axis:a,index:o,group:c,element:p,text:r[o]},f))},n.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}return t[n]},n.optionsProvider=function(t,i,o){function r(t){var r=s;if(s=n.extend({},c),i)for(l=0;l<i.length;l++){e.matchMedia(i[l][0]).matches&&(s=n.extend(s,i[l][1]))}o&&t&&o.emit("optionsChanged",{previousOptions:r,currentOptions:s})}function a(){u.forEach((function(e){e.removeListener(r)}))}var s,l,c=n.extend({},t),u=[];if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(l=0;l<i.length;l++){var d=e.matchMedia(i[l][0]);d.addListener(r),u.push(d)}return r(),{removeMediaQueryListeners:a,getCurrentOptions:function(){return n.extend({},s)}}},n.splitIntoSegments=function(e,t,i){var o={increasingX:!1,fillHoles:!1};i=n.extend({},o,i);for(var r=[],a=!0,s=0;s<e.length;s+=2)void 0===n.getMultiValue(t[s/2].value)?i.fillHoles||(a=!0):(i.increasingX&&s>=2&&e[s]<=e[s-2]&&(a=!0),a&&(r.push({pathCoordinates:[],valueData:[]}),a=!1),r[r.length-1].pathCoordinates.push(e[s],e[s+1]),r[r.length-1].valueData.push(t[s/2]));return r}}(window,document,e),function(e,t,n){"use strict";n.Interpolation={},n.Interpolation.none=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function(t,i){for(var o=new n.Svg.Path,r=!0,a=0;a<t.length;a+=2){var s=t[a],l=t[a+1],c=i[a/2];void 0!==n.getMultiValue(c.value)?(r?o.move(s,l,!1,c):o.line(s,l,!1,c),r=!1):e.fillHoles||(r=!0)}return o}},n.Interpolation.simple=function(e){var t={divisor:2,fillHoles:!1};e=n.extend({},t,e);var i=1/Math.max(1,e.divisor);return function(t,o){for(var r,a,s,l=new n.Svg.Path,c=0;c<t.length;c+=2){var u=t[c],d=t[c+1],h=(u-r)*i,p=o[c/2];void 0!==p.value?(void 0===s?l.move(u,d,!1,p):l.curve(r+h,a,u-h,d,u,d,!1,p),r=u,a=d,s=p):e.fillHoles||(r=u=s=void 0)}return l}},n.Interpolation.cardinal=function(e){var t={tension:1,fillHoles:!1};e=n.extend({},t,e);var i=Math.min(1,Math.max(0,e.tension)),o=1-i;return function t(r,a){var s=n.splitIntoSegments(r,a,{fillHoles:e.fillHoles});if(s.length){if(s.length>1){var l=[];return s.forEach((function(e){l.push(t(e.pathCoordinates,e.valueData))})),n.Svg.Path.join(l)}if(r=s[0].pathCoordinates,a=s[0].valueData,r.length<=4)return n.Interpolation.none()(r,a);for(var c,u=(new n.Svg.Path).move(r[0],r[1],!1,a[0]),d=0,h=r.length;h-2*!c>d;d+=2){var p=[{x:+r[d-2],y:+r[d-1]},{x:+r[d],y:+r[d+1]},{x:+r[d+2],y:+r[d+3]},{x:+r[d+4],y:+r[d+5]}];c?d?h-4===d?p[3]={x:+r[0],y:+r[1]}:h-2===d&&(p[2]={x:+r[0],y:+r[1]},p[3]={x:+r[2],y:+r[3]}):p[0]={x:+r[h-2],y:+r[h-1]}:h-4===d?p[3]=p[2]:d||(p[0]={x:+r[d],y:+r[d+1]}),u.curve(i*(-p[0].x+6*p[1].x+p[2].x)/6+o*p[2].x,i*(-p[0].y+6*p[1].y+p[2].y)/6+o*p[2].y,i*(p[1].x+6*p[2].x-p[3].x)/6+o*p[2].x,i*(p[1].y+6*p[2].y-p[3].y)/6+o*p[2].y,p[2].x,p[2].y,!1,a[(d+2)/2])}return u}return n.Interpolation.none()([])}},n.Interpolation.monotoneCubic=function(e){var t={fillHoles:!1};return e=n.extend({},t,e),function t(i,o){var r=n.splitIntoSegments(i,o,{fillHoles:e.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var a=[];return r.forEach((function(e){a.push(t(e.pathCoordinates,e.valueData))})),n.Svg.Path.join(a)}if(i=r[0].pathCoordinates,o=r[0].valueData,i.length<=4)return n.Interpolation.none()(i,o);var s,l,c=[],u=[],d=i.length/2,h=[],p=[],f=[],m=[];for(s=0;s<d;s++)c[s]=i[2*s],u[s]=i[2*s+1];for(s=0;s<d-1;s++)f[s]=u[s+1]-u[s],m[s]=c[s+1]-c[s],p[s]=f[s]/m[s];for(h[0]=p[0],h[d-1]=p[d-2],s=1;s<d-1;s++)0===p[s]||0===p[s-1]||p[s-1]>0!=p[s]>0?h[s]=0:(h[s]=3*(m[s-1]+m[s])/((2*m[s]+m[s-1])/p[s-1]+(m[s]+2*m[s-1])/p[s]),isFinite(h[s])||(h[s]=0));for(l=(new n.Svg.Path).move(c[0],u[0],!1,o[0]),s=0;s<d-1;s++)l.curve(c[s]+m[s]/3,u[s]+h[s]*m[s]/3,c[s+1]-m[s]/3,u[s+1]-h[s+1]*m[s]/3,c[s+1],u[s+1],!1,o[s+1]);return l}return n.Interpolation.none()([])}},n.Interpolation.step=function(e){var t={postpone:!0,fillHoles:!1};return e=n.extend({},t,e),function(t,i){for(var o,r,a,s=new n.Svg.Path,l=0;l<t.length;l+=2){var c=t[l],u=t[l+1],d=i[l/2];void 0!==d.value?(void 0===a?s.move(c,u,!1,d):(e.postpone?s.line(c,r,!1,a):s.line(o,u,!1,d),s.line(c,u,!1,d)),o=c,r=u,a=d):e.fillHoles||(o=r=a=void 0)}return s}}}(window,document,e),function(e,t,n){"use strict";n.EventEmitter=function(){function e(e,t){i[e]=i[e]||[],i[e].push(t)}function t(e,t){i[e]&&(t?(i[e].splice(i[e].indexOf(t),1),0===i[e].length&&delete i[e]):delete i[e])}function n(e,t){i[e]&&i[e].forEach((function(e){e(t)})),i["*"]&&i["*"].forEach((function(n){n(e,t)}))}var i=[];return{addEventHandler:e,removeEventHandler:t,emit:n}}}(window,document,e),function(e,t,n){"use strict";function i(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}function o(e,t){var i=t||this.prototype||n.Class,o=Object.create(i);n.Class.cloneDefinitions(o,e);var r=function(){var e,t=o.constructor||function(){};return e=this===n?Object.create(o):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return r.prototype=o,r.super=i,r.extend=this.extend,r}function r(){var e=i(arguments),t=e[0];return e.splice(1,e.length-1).forEach((function(e){Object.getOwnPropertyNames(e).forEach((function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))})),t}n.Class={extend:o,cloneDefinitions:r}}(window,document,e),function(e,t,n){"use strict";function i(e,t,i){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=n.extend({},i?this.options:this.defaultOptions,t),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function o(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(e,t){return this.eventEmitter.addEventHandler(e,t),this}function a(e,t){return this.eventEmitter.removeEventHandler(e,t),this}function s(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(e){e instanceof Array?e[0](this,e[1]):e(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(e,t,i,o,r){this.container=n.querySelector(e),this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=i,this.options=o,this.responsiveOptions=r,this.eventEmitter=n.EventEmitter(),this.supportsForeignObject=n.Svg.isSupported("Extensibility"),this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}n.Base=n.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:i,detach:o,on:r,off:a,version:n.version,supportsForeignObject:!1})}(window,document,e),function(e,t,n){"use strict";function i(e,i,o,r,a){e instanceof Element?this._node=e:(this._node=t.createElementNS(n.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":n.namespaces.ct})),i&&this.attr(i),o&&this.addClass(o),r&&(a&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}function o(e,t){return"string"==typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach(function(t){if(void 0!==e[t])if(-1!==t.indexOf(":")){var i=t.split(":");this._node.setAttributeNS(n.namespaces[i[0]],t,e[t])}else this._node.setAttribute(t,e[t])}.bind(this)),this)}function r(e,t,i,o){return new n.Svg(e,t,i,this,o)}function a(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function s(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new n.Svg(e)}function l(e){var t=this._node.querySelector(e);return t?new n.Svg(t):null}function c(e){var t=this._node.querySelectorAll(e);return t.length?new n.Svg.List(t):null}function u(){return this._node}function d(e,i,o,r){if("string"==typeof e){var a=t.createElement("div");a.innerHTML=e,e=a.firstChild}e.setAttribute("xmlns",n.namespaces.xmlns);var s=this.elem("foreignObject",i,o,r);return s._node.appendChild(e),s}function h(e){return this._node.appendChild(t.createTextNode(e)),this}function p(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function m(e){return this._node.parentNode.replaceChild(e._node,this._node),e}function g(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}function v(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function b(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter((function(e,t,n){return n.indexOf(e)===t})).join(" ")),this}function y(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(e){return-1===t.indexOf(e)})).join(" ")),this}function w(){return this._node.setAttribute("class",""),this}function _(){return this._node.getBoundingClientRect().height}function C(){return this._node.getBoundingClientRect().width}function x(e,t,i){return void 0===t&&(t=!0),Object.keys(e).forEach(function(o){function r(e,t){var r,a,s,l={};e.easing&&(s=e.easing instanceof Array?e.easing:n.Svg.Easing[e.easing],delete e.easing),e.begin=n.ensureUnit(e.begin,"ms"),e.dur=n.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",l[o]=e.from,this.attr(l),a=n.quantity(e.begin||0).value,e.begin="indefinite"),r=this.elem("animate",n.extend({attributeName:o},e)),t&&setTimeout(function(){try{r._node.beginElement()}catch(t){l[o]=e.to,this.attr(l),r.remove()}}.bind(this),a),i&&r._node.addEventListener("beginEvent",function(){i.emit("animationBegin",{element:this,animate:r._node,params:e})}.bind(this)),r._node.addEventListener("endEvent",function(){i&&i.emit("animationEnd",{element:this,animate:r._node,params:e}),t&&(l[o]=e.to,this.attr(l),r.remove())}.bind(this))}e[o]instanceof Array?e[o].forEach(function(e){r.bind(this)(e,!1)}.bind(this)):r.bind(this)(e[o],t)}.bind(this)),this}function k(e){var t=this;this.svgElements=[];for(var i=0;i<e.length;i++)this.svgElements.push(new n.Svg(e[i]));Object.keys(n.Svg.prototype).filter((function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)})).forEach((function(e){t[e]=function(){var i=Array.prototype.slice.call(arguments,0);return t.svgElements.forEach((function(t){n.Svg.prototype[e].apply(t,i)})),t}}))}n.Svg=n.Class.extend({constructor:i,attr:o,elem:r,parent:a,root:s,querySelector:l,querySelectorAll:c,getNode:u,foreignObject:d,text:h,empty:p,remove:f,replace:m,append:g,classes:v,addClass:b,removeClass:y,removeAllClasses:w,height:_,width:C,animate:x}),n.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var S={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};n.Svg.Easing=S,n.Svg.List=n.Class.extend({constructor:k})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o,r,a){var s=n.extend({command:r?e.toLowerCase():e.toUpperCase()},t,a?{data:a}:{});i.splice(o,0,s)}function o(e,t){e.forEach((function(n,i){w[n.command.toLowerCase()].forEach((function(o,r){t(n,o,i,r,e)}))}))}function r(e,t){this.pathElements=[],this.pos=0,this.close=e,this.options=n.extend({},_,t)}function a(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}function s(e){return this.pathElements.splice(this.pos,e),this}function l(e,t,n,o){return i("M",{x:+e,y:+t},this.pathElements,this.pos++,n,o),this}function c(e,t,n,o){return i("L",{x:+e,y:+t},this.pathElements,this.pos++,n,o),this}function u(e,t,n,o,r,a,s,l){return i("C",{x1:+e,y1:+t,x2:+n,y2:+o,x:+r,y:+a},this.pathElements,this.pos++,s,l),this}function d(e,t,n,o,r,a,s,l,c){return i("A",{rx:+e,ry:+t,xAr:+n,lAf:+o,sf:+r,x:+a,y:+s},this.pathElements,this.pos++,l,c),this}function h(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e}),[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();var i=t.map((function(e){var t=e.shift(),i=w[t.toLowerCase()];return n.extend({command:t},i.reduce((function(t,n,i){return t[n]=+e[i],t}),{}))})),o=[this.pos,0];return Array.prototype.push.apply(o,i),Array.prototype.splice.apply(this.pathElements,o),this.pos+=i.length,this}function p(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var i=w[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function f(e,t){return o(this.pathElements,(function(n,i){n[i]*="x"===i[0]?e:t})),this}function m(e,t){return o(this.pathElements,(function(n,i){n[i]+="x"===i[0]?e:t})),this}function g(e){return o(this.pathElements,(function(t,n,i,o,r){var a=e(t,n,i,o,r);(a||0===a)&&(t[n]=a)})),this}function v(e){var t=new n.Svg.Path(e||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map((function(e){return n.extend({},e)})),t.options=n.extend({},this.options),t}function b(e){var t=[new n.Svg.Path];return this.pathElements.forEach((function(i){i.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new n.Svg.Path),t[t.length-1].pathElements.push(i)})),t}function y(e,t,i){for(var o=new n.Svg.Path(t,i),r=0;r<e.length;r++)for(var a=e[r],s=0;s<a.pathElements.length;s++)o.pathElements.push(a.pathElements[s]);return o}var w={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},_={accuracy:3};n.Svg.Path=n.Class.extend({constructor:r,position:a,remove:s,move:l,line:c,curve:u,arc:d,scale:f,translate:m,transform:g,parse:h,stringify:p,clone:v,splitByCommand:b}),n.Svg.Path.elementDescriptions=w,n.Svg.Path.join=y}(window,document,e),function(e,t,n){"use strict";function i(e,t,n,i){this.units=e,this.counterUnits=e===r.x?r.y:r.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=n,this.options=i}function o(e,t,i,o,r){var a=o["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);s.forEach(function(c,u){var d,h={x:0,y:0};d=s[u+1]?s[u+1]-c:Math.max(this.axisLength-c,30),n.isFalseyButZero(l[u])&&""!==l[u]||("x"===this.units.pos?(c=this.chartRect.x1+c,h.x=o.axisX.labelOffset.x,"start"===o.axisX.position?h.y=this.chartRect.padding.top+o.axisX.labelOffset.y+(i?5:20):h.y=this.chartRect.y1+o.axisX.labelOffset.y+(i?5:20)):(c=this.chartRect.y1-c,h.y=o.axisY.labelOffset.y-(i?d:0),
"start"===o.axisY.position?h.x=i?this.chartRect.padding.left+o.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+o.axisY.labelOffset.x+10),a.showGrid&&n.createGrid(c,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[o.classNames.grid,o.classNames[this.units.dir]],r),a.showLabel&&n.createLabel(c,d,u,l,this,a.offset,h,t,[o.classNames.label,o.classNames[this.units.dir],"start"===a.position?o.classNames[a.position]:o.classNames.end],i,r))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};n.Axis=n.Class.extend({constructor:i,createGridAndLabels:o,projectValue:function(){throw new Error("Base axis can't be instantiated!")}}),n.Axis.units=r}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o){var r=o.highLow||n.getHighLow(t,o,e.pos);this.bounds=n.getBounds(i[e.rectEnd]-i[e.rectStart],r,o.scaleMinSpace||20,o.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},n.AutoScaleAxis.super.constructor.call(this,e,i,this.bounds.values,o)}function o(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:i,projectValue:o})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o){var r=o.highLow||n.getHighLow(t,o,e.pos);this.divisor=o.divisor||1,this.ticks=o.ticks||n.times(this.divisor).map(function(e,t){return r.low+(r.high-r.low)/this.divisor*t}.bind(this)),this.ticks.sort((function(e,t){return e-t})),this.range={min:r.low,max:r.high},n.FixedScaleAxis.super.constructor.call(this,e,i,this.ticks,o),this.stepLength=this.axisLength/this.divisor}function o(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:i,projectValue:o})}(window,document,e),function(e,t,n){"use strict";function i(e,t,i,o){n.StepAxis.super.constructor.call(this,e,i,o.ticks,o);var r=Math.max(1,o.ticks.length-(o.stretch?1:0));this.stepLength=this.axisLength/r}function o(e,t){return this.stepLength*t}n.StepAxis=n.Axis.extend({constructor:i,projectValue:o})}(window,document,e),function(e,t,n){"use strict";function i(e){var t=n.normalizeData(this.data,e.reverseData,!0);this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart);var i,o,a=this.svg.elem("g").addClass(e.classNames.gridGroup),s=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),c=n.createChartRect(this.svg,e,r.padding);i=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t.normalized.series,c,n.extend({},e.axisX,{ticks:t.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(n,n.Axis.units.x,t.normalized.series,c,e.axisX),o=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t.normalized.series,c,n.extend({},e.axisY,{high:n.isNumeric(e.high)?e.high:e.axisY.high,low:n.isNumeric(e.low)?e.low:e.axisY.low})):e.axisY.type.call(n,n.Axis.units.y,t.normalized.series,c,e.axisY),i.createGridAndLabels(a,l,this.supportsForeignObject,e,this.eventEmitter),o.createGridAndLabels(a,l,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&n.createGridBackground(a,c,e.classNames.gridBackground,this.eventEmitter),t.raw.series.forEach(function(r,a){var l=s.elem("g");l.attr({"ct:series-name":r.name,"ct:meta":n.serialize(r.meta)}),l.addClass([e.classNames.series,r.className||e.classNames.series+"-"+n.alphaNumerate(a)].join(" "));var u=[],d=[];t.normalized.series[a].forEach(function(e,s){var l={x:c.x1+i.projectValue(e,s,t.normalized.series[a]),y:c.y1-o.projectValue(e,s,t.normalized.series[a])};u.push(l.x,l.y),d.push({value:e,valueIndex:s,meta:n.getMetaData(r,s)})}.bind(this));var h={lineSmooth:n.getSeriesOption(r,e,"lineSmooth"),showPoint:n.getSeriesOption(r,e,"showPoint"),showLine:n.getSeriesOption(r,e,"showLine"),showArea:n.getSeriesOption(r,e,"showArea"),areaBase:n.getSeriesOption(r,e,"areaBase")},p=("function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?n.Interpolation.monotoneCubic():n.Interpolation.none())(u,d);if(h.showPoint&&p.pathElements.forEach(function(t){var s=l.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(n.isNumeric).join(","),"ct:meta":n.serialize(t.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:r,seriesIndex:a,axisX:i,axisY:o,group:l,element:s,x:t.x,y:t.y})}.bind(this)),h.showLine){var f=l.elem("path",{d:p.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:t.normalized.series[a],path:p.clone(),chartRect:c,index:a,series:r,seriesIndex:a,seriesMeta:r.meta,axisX:i,axisY:o,group:l,element:f})}if(h.showArea&&o.range){var m=Math.max(Math.min(h.areaBase,o.range.max),o.range.min),g=c.y1-o.projectValue(m);p.splitByCommand("M").filter((function(e){return e.pathElements.length>1})).map((function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,g).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,g)})).forEach(function(n){var s=l.elem("path",{d:n.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:t.normalized.series[a],path:n.clone(),series:r,seriesIndex:a,axisX:i,axisY:o,chartRect:c,index:a,group:l,element:s})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:c,axisX:i,axisY:o,svg:this.svg,options:e})}function o(e,t,i,o){n.Line.super.constructor.call(this,e,t,r,n.extend({},r,i),o)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Line=n.Base.extend({constructor:o,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e){var t,i;e.distributeSeries?(t=n.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y")).normalized.series=t.normalized.series.map((function(e){return[e]})):t=n.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==t.normalized.series.length){var l=n.serialMap(t.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(e){return e})).reduce((function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}}),{x:0,y:0})}));i=n.getHighLow([l],e,e.horizontalBars?"x":"y")}else i=n.getHighLow(t.normalized.series,e,e.horizontalBars?"x":"y");i.high=+e.high||(0===e.high?0:i.high),i.low=+e.low||(0===e.low?0:i.low);var c,u,d,h,p,f=n.createChartRect(this.svg,e,r.padding);u=e.distributeSeries&&e.stackBars?t.normalized.labels.slice(0,1):t.normalized.labels,e.horizontalBars?(c=h=void 0===e.axisX.type?new n.AutoScaleAxis(n.Axis.units.x,t.normalized.series,f,n.extend({},e.axisX,{highLow:i,referenceValue:0})):e.axisX.type.call(n,n.Axis.units.x,t.normalized.series,f,n.extend({},e.axisX,{highLow:i,referenceValue:0})),d=p=void 0===e.axisY.type?new n.StepAxis(n.Axis.units.y,t.normalized.series,f,{ticks:u}):e.axisY.type.call(n,n.Axis.units.y,t.normalized.series,f,e.axisY)):(d=h=void 0===e.axisX.type?new n.StepAxis(n.Axis.units.x,t.normalized.series,f,{ticks:u}):e.axisX.type.call(n,n.Axis.units.x,t.normalized.series,f,e.axisX),c=p=void 0===e.axisY.type?new n.AutoScaleAxis(n.Axis.units.y,t.normalized.series,f,n.extend({},e.axisY,{highLow:i,referenceValue:0})):e.axisY.type.call(n,n.Axis.units.y,t.normalized.series,f,n.extend({},e.axisY,{highLow:i,referenceValue:0})));var m=e.horizontalBars?f.x1+c.projectValue(0):f.y1-c.projectValue(0),g=[];d.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),c.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&n.createGridBackground(o,f,e.classNames.gridBackground,this.eventEmitter),t.raw.series.forEach(function(i,o){var r,s,l=o-(t.raw.series.length-1)/2;r=e.distributeSeries&&!e.stackBars?d.axisLength/t.normalized.series.length/2:e.distributeSeries&&e.stackBars?d.axisLength/2:d.axisLength/t.normalized.series[o].length/2,(s=a.elem("g")).attr({"ct:series-name":i.name,"ct:meta":n.serialize(i.meta)}),s.addClass([e.classNames.series,i.className||e.classNames.series+"-"+n.alphaNumerate(o)].join(" ")),t.normalized.series[o].forEach(function(a,u){var v,b,y,w;if(w=e.distributeSeries&&!e.stackBars?o:e.distributeSeries&&e.stackBars?0:u,v=e.horizontalBars?{x:f.x1+c.projectValue(a&&a.x?a.x:0,u,t.normalized.series[o]),y:f.y1-d.projectValue(a&&a.y?a.y:0,w,t.normalized.series[o])}:{x:f.x1+d.projectValue(a&&a.x?a.x:0,w,t.normalized.series[o]),y:f.y1-c.projectValue(a&&a.y?a.y:0,u,t.normalized.series[o])},d instanceof n.StepAxis&&(d.options.stretch||(v[d.units.pos]+=r*(e.horizontalBars?-1:1)),v[d.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),y=g[u]||m,g[u]=y-(m-v[d.counterUnits.pos]),void 0!==a){var _={};_[d.units.pos+"1"]=v[d.units.pos],_[d.units.pos+"2"]=v[d.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(_[d.counterUnits.pos+"1"]=m,_[d.counterUnits.pos+"2"]=v[d.counterUnits.pos]):(_[d.counterUnits.pos+"1"]=y,_[d.counterUnits.pos+"2"]=g[u]),_.x1=Math.min(Math.max(_.x1,f.x1),f.x2),_.x2=Math.min(Math.max(_.x2,f.x1),f.x2),_.y1=Math.min(Math.max(_.y1,f.y2),f.y1),_.y2=Math.min(Math.max(_.y2,f.y2),f.y1);var C=n.getMetaData(i,u);b=s.elem("line",_,e.classNames.bar).attr({"ct:value":[a.x,a.y].filter(n.isNumeric).join(","),"ct:meta":n.serialize(C)}),this.eventEmitter.emit("draw",n.extend({type:"bar",value:a,index:u,meta:C,series:i,seriesIndex:o,axisX:h,axisY:p,chartRect:f,group:s,element:b},_))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:f,axisX:h,axisY:p,svg:this.svg,options:e})}function o(e,t,i,o){n.Bar.super.constructor.call(this,e,t,r,n.extend({},r,i),o)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};n.Bar=n.Base.extend({constructor:o,createChart:i})}(window,document,e),function(e,t,n){"use strict";function i(e,t,n){var i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}function o(e){var t,o,r,s,l,c=n.normalizeData(this.data),u=[],d=e.startAngle;this.svg=n.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),o=n.createChartRect(this.svg,e,a.padding),r=Math.min(o.width()/2,o.height()/2),l=e.total||c.normalized.series.reduce((function(e,t){return e+t}),0);var h=n.quantity(e.donutWidth);"%"===h.unit&&(h.value*=r/100),r-=e.donut&&!e.donutSolid?h.value/2:0,s="outside"===e.labelPosition||e.donut&&!e.donutSolid?r:"center"===e.labelPosition?0:e.donutSolid?r-h.value/2:r/2,s+=e.labelOffset;var p={x:o.x1+o.width()/2,y:o.y2+o.height()/2},f=1===c.raw.series.filter((function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e})).length;c.raw.series.forEach(function(e,t){u[t]=this.svg.elem("g",null,null)}.bind(this)),e.showLabel&&(t=this.svg.elem("g",null,null)),c.raw.series.forEach(function(o,a){if(0!==c.normalized.series[a]||!e.ignoreEmptyValues){u[a].attr({"ct:series-name":o.name}),u[a].addClass([e.classNames.series,o.className||e.classNames.series+"-"+n.alphaNumerate(a)].join(" "));var m=l>0?d+c.normalized.series[a]/l*360:0,g=Math.max(0,d-(0===a||f?0:.2));m-g>=359.99&&(m=g+359.99);var v,b,y,w=n.polarToCartesian(p.x,p.y,r,g),_=n.polarToCartesian(p.x,p.y,r,m),C=new n.Svg.Path(!e.donut||e.donutSolid).move(_.x,_.y).arc(r,r,0,m-d>180,0,w.x,w.y);e.donut?e.donutSolid&&(y=r-h.value,v=n.polarToCartesian(p.x,p.y,y,d-(0===a||f?0:.2)),b=n.polarToCartesian(p.x,p.y,y,m),C.line(v.x,v.y),C.arc(y,y,0,m-d>180,1,b.x,b.y)):C.line(p.x,p.y);var x=e.classNames.slicePie;e.donut&&(x=e.classNames.sliceDonut,e.donutSolid&&(x=e.classNames.sliceDonutSolid));var k=u[a].elem("path",{d:C.stringify()},x);if(k.attr({"ct:value":c.normalized.series[a],"ct:meta":n.serialize(o.meta)}),e.donut&&!e.donutSolid&&(k._node.style.strokeWidth=h.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:c.normalized.series[a],totalDataSum:l,index:a,meta:o.meta,series:o,group:u[a],element:k,path:C.clone(),center:p,radius:r,startAngle:d,endAngle:m}),e.showLabel){var S,E;S=1===c.raw.series.length?{x:p.x,y:p.y}:n.polarToCartesian(p.x,p.y,s,d+(m-d)/2),E=c.normalized.labels&&!n.isFalseyButZero(c.normalized.labels[a])?c.normalized.labels[a]:c.normalized.series[a];var T=e.labelInterpolationFnc(E,a);if(T||0===T){var A=t.elem("text",{dx:S.x,dy:S.y,"text-anchor":i(p,S,e.labelDirection)},e.classNames.label).text(""+T);this.eventEmitter.emit("draw",{type:"label",index:a,group:t,element:A,text:""+T,x:S.x,y:S.y})}}d=m}}.bind(this)),this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:e})}function r(e,t,i,o){n.Pie.super.constructor.call(this,e,t,a,n.extend({},a,i),o)}var a={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};n.Pie=n.Base.extend({constructor:r,createChart:o,determineAnchorPosition:i})}(window,document,e),e})),function(e,t,n){"use strict";function i(e){r(e,"tooltip-show")||(e.className=e.className+" tooltip-show")}function o(e){var t=new RegExp("tooltip-show\\s*","gi");e.className=e.className.replace(t,"").trim()}function r(e,t){return(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")>-1}function a(e,t){do{e=e.nextSibling}while(e&&!r(e,t));return e}function s(e){return e.innerText||e.textContent}var l={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:"ct-point"};n.plugins=n.plugins||{},n.plugins.tooltip=function(c){return c=n.extend({},l,c),function(l){function u(e,t,n){p.addEventListener(e,(function(e){t&&!r(e.target,t)||n(e)}))}function d(t){m=m||f.offsetHeight;var n,i,o=-(g=g||f.offsetWidth)/2+c.tooltipOffset.x,r=-m+c.tooltipOffset.y;if(c.appendToBody)f.style.top=t.pageY+r+"px",f.style.left=t.pageX+o+"px";else{var a=p.getBoundingClientRect(),s=t.pageX-a.left-e.pageXOffset,l=t.pageY-a.top-e.pageYOffset;!0===c.anchorToPoint&&t.target.x2&&t.target.y2&&(n=parseInt(t.target.x2.baseVal.value),i=parseInt(t.target.y2.baseVal.value)),f.style.top=(i||l)+r+"px",f.style.left=(n||s)+o+"px"}}var h=c.pointClass;l.constructor.name==n.Bar.prototype.constructor.name?h="ct-point":l.constructor.name==n.Pie.prototype.constructor.name&&(h=l.options.donut?"ct-slice-donut":"ct-slice-pie");var p=l.container,f=p.querySelector(".chartist-tooltip");f||((f=t.createElement("div")).className=c.class?"chartist-tooltip "+c.class:"chartist-tooltip",c.appendToBody?t.body.appendChild(f):p.appendChild(f));var m=f.offsetHeight,g=f.offsetWidth;o(f),u("mouseover",h,(function(e){var o=e.target,r="",u=(l instanceof n.Pie?o:o.parentNode)?o.parentNode.getAttribute("ct:meta")||o.parentNode.getAttribute("ct:series-name"):"",h=o.getAttribute("ct:meta")||u||"",p=!!h,v=o.getAttribute("ct:value");if(c.transformTooltipTextFnc&&"function"==typeof c.transformTooltipTextFnc&&(v=c.transformTooltipTextFnc(v)),c.tooltipFnc&&"function"==typeof c.tooltipFnc)r=c.tooltipFnc(h,v);else{if(c.metaIsHTML){var b=t.createElement("textarea");b.innerHTML=h,h=b.value}if(h='<span class="chartist-tooltip-meta">'+h+"</span>",p)r+=h+"<br>";else if(l instanceof n.Pie){var y=a(o,"ct-label");y&&(r+=s(y)+"<br>")}v&&(c.currency&&(v=null!=c.currencyFormatCallback?c.currencyFormatCallback(v,c):c.currency+v.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),r+=v='<span class="chartist-tooltip-value">'+v+"</span>")}r&&(f.innerHTML=r,d(e),i(f),m=f.offsetHeight,g=f.offsetWidth)})),u("mouseout",h,(function(){o(f)})),u("mousemove",null,(function(e){!1===c.anchorToPoint&&d(e)}))}}}(window,document,Chartist),function(e){"use strict";e.HSCore.components.HSChartistAreaChart={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCharts(),this.pageCollection},initCharts:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=JSON.parse(i.getAttribute("data-fill-colors")),r=JSON.parse(i.getAttribute("data-points-colors")),a=e(i).data("fill-opacity"),s=e(i).data("stroke-width"),l=e(i).data("stroke-color"),c=e(i).data("stroke-dash-array"),u=e(i).data("text-size-x"),d=e(i).data("text-color-x"),h=e(i).data("text-offset-top-x"),p=e(i).data("text-size-y"),f=e(i).data("text-color-y");e(i).attr("id","areaCharts"+n),e('<style id="areaChartsStyle'+n+'"></style>').insertAfter(e(i));var m="",g=JSON.parse(i.getAttribute("data-series")),v=JSON.parse(i.getAttribute("data-labels")),b=e(i).data("height"),y=e(i).data("mobile-height"),w=e(i).data("high"),_=e(i).data("low"),C=e(i).data("offset-x"),x=e(i).data("offset-y"),k=e(i).data("postfix"),S=e(i).data("align-text-axis-x"),E=Boolean(e(i).data("is-show-area")),T=Boolean(e(i).data("is-show-line")),A=Boolean(e(i).data("is-show-point")),O=Boolean(e(i).data("is-full-width")),D=Boolean(e(i).data("is-stack-bars")),I=Boolean(e(i).data("is-show-axis-x")),P=Boolean(e(i).data("is-show-axis-y")),N=Boolean(e(i).data("is-show-tooltips")),M=e(i).data("tooltip-description-position"),L=e(i).data("tooltip-custom-class"),$={labels:v,series:g},j={height:b,high:w,low:_,showArea:E,showLine:T,showPoint:A,fullWidth:O,stackBars:D,chartPadding:{top:0,right:0,bottom:0,left:0},axisX:{offset:C,showGrid:I,labelOffset:{y:h}},axisY:{offset:x,showGrid:P,labelInterpolationFnc:function(e){return e/1e6+k}},plugins:!!N&&[Chartist.plugins.tooltip({tooltipFnc:function(e,t){return"right"==M?'<span class="chartist-tooltip-value">'+t+'</span> <span class="chartist-tooltip-meta">'+e+"</span>":'<span class="chartist-tooltip-meta">'+e+'</span> <span class="chartist-tooltip-value">'+t+"</span>"},class:L})]},R=[["screen and (max-width: 769px)",{height:y||b,axisX:{offset:0},axisY:{offset:0}}]],F=new Chartist.Line(i,$,j,R),B=1;F.on("created",(function(){1==B&&(m+="#areaCharts"+n+" .ct-grid {stroke: "+l+"; stroke-dasharray: "+c+"}#areaCharts"+n+" .ct-line {stroke: "+l+"; stroke-width: "+s+"}#areaCharts"+n+" .ct-area {fill-opacity: "+a+"}#areaCharts"+n+" .ct-horizontal {font-size: "+u+"; color: "+d+"; justify-content: "+S+"}#areaCharts"+n+" .ct-vertical {font-size: "+p+"; color: "+f+"}",e(i).find(".ct-series").each((function(e){m+="#areaCharts"+n+" .ct-series:nth-child("+(e+1)+") .ct-area {fill: "+o[e]+"}#areaCharts"+n+" .ct-series:nth-child("+(e+1)+") .ct-point {stroke: "+r[e]+"}"})),e("#areaChartsStyle"+n).text(m)),B++})),t=t.add(e(i))}))}}}(jQuery),function(e){"use strict";e.HSCore.components.HSChartistBarChart={_baseConfig:{},pageCollection:e(),init:function(t,n){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=n&&e.isPlainObject(n)?e.extend({},this._baseConfig,n):this._baseConfig,this.config.itemSelector=t,this.initCharts(),this.pageCollection},initCharts:function(){var t=this.pageCollection;this.collection.each((function(n,i){var o=e(i).data("stroke-width"),r=e(i).data("stroke-color");e(i).attr("id","barCharts"+n),e('<style id="barChartsStyle'+n+'"></style>').insertAfter(e(i));var a="",s=JSON.parse(i.getAttribute("data-series")),l=JSON.parse(i.getAttribute("data-labels")),c={series:s||!1,labels:l||!1},u={width:"100%",height:e(i).data("height"),high:e(i).data("high"),low:e(i).data("low"),seriesBarDistance:e(i).data("distance"),axisX:{offset:0,scaleMinSpace:0,showGrid:Boolean(e(i).data("is-show-axis-x")),showLabel:!1},axisY:{offset:0,scaleMinSpace:0,showGrid:Boolean(e(i).data("is-show-axis-y")),showLabel:!1},chartPadding:{top:0,right:0,bottom:0,left:0}},d=new Chartist.Bar(i,c,u),h=1;d.on("created",(function(){1==h&&(e(i).find(".ct-series").each((function(){a+="#barCharts"+n+" .ct-series .ct-bar {stroke-width: "+o+"; stroke: "+r+"}"})),e("#barChartsStyle"+n).text(a)),h++})),d.update(),t=t.add(e(i))}))}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){e(t,window,document)})):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}((function(e,t,n,i){"use strict";function o(t,n){this.a=e(t),this.b=e.extend({},s,n),this.ns="."+r+a++,this.d=Boolean(t.setSelectionRange),this.e=Boolean(e(t).attr("placeholder"))}var r="intlTelInput",a=1,s={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customPlaceholder:null,dropdownContainer:"",excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},l={b:38,c:40,d:13,e:27,f:43,A:65,Z:90,j:32,k:9},c=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];e(t).on("load",(function(){e.fn[r].windowLoaded=!0})),o.prototype={_a:function(){return this.b.nationalMode&&(this.b.autoHideDialCode=!1),this.b.separateDialCode&&(this.b.autoHideDialCode=this.b.nationalMode=!1),this.g=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.g&&(e("body").addClass("iti-mobile"),this.b.dropdownContainer||(this.b.dropdownContainer="body")),this.h=new e.Deferred,this.i=new e.Deferred,this.s={},this._b(),this._f(),this._h(),this._i(),this._i2(),[this.h,this.i]},_b:function(){this._d(),this._d2(),this._e()},_c:function(e,t,n){t in this.q||(this.q[t]=[]);var i=n||0;this.q[t][i]=e},_d:function(){if(this.b.onlyCountries.length){var e=this.b.onlyCountries.map((function(e){return e.toLowerCase()}));this.p=u.filter((function(t){return e.indexOf(t.iso2)>-1}))}else if(this.b.excludeCountries.length){var t=this.b.excludeCountries.map((function(e){return e.toLowerCase()}));this.p=u.filter((function(e){return-1===t.indexOf(e.iso2)}))}else this.p=u},_d2:function(){this.q={};for(var e=0;e<this.p.length;e++){var t=this.p[e];if(this._c(t.iso2,t.dialCode,t.priority),t.areaCodes)for(var n=0;n<t.areaCodes.length;n++)this._c(t.iso2,t.dialCode+t.areaCodes[n])}},_e:function(){this.preferredCountries=[];for(var e=0;e<this.b.preferredCountries.length;e++){var t=this.b.preferredCountries[e].toLowerCase(),n=this._y(t,!1,!0);n&&this.preferredCountries.push(n)}},_f:function(){this.a.attr("autocomplete","off");var t="intl-tel-input";this.b.allowDropdown&&(t+=" allow-dropdown"),this.b.separateDialCode&&(t+=" separate-dial-code"),this.a.wrap(e("<div>",{class:t})),this.k=e("<div>",{class:"flag-container"}).insertBefore(this.a);var n=e("<div>",{class:"selected-flag"});n.appendTo(this.k),this.l=e("<div>",{class:"iti-flag"}).appendTo(n),this.b.separateDialCode&&(this.t=e("<div>",{class:"selected-dial-code"}).appendTo(n)),this.b.allowDropdown?(n.attr("tabindex","0"),e("<div>",{class:"iti-arrow"}).appendTo(n),this.m=e("<ul>",{class:"country-list hide"}),this.preferredCountries.length&&(this._g(this.preferredCountries,"preferred"),e("<li>",{class:"divider"}).appendTo(this.m)),this._g(this.p,""),this.o=this.m.children(".country"),this.b.dropdownContainer?this.dropdown=e("<div>",{class:"intl-tel-input iti-container"}).append(this.m):this.m.appendTo(this.k)):this.o=e(),this.b.hiddenInput&&(this.hiddenInput=e("<input>",{type:"hidden",name:this.b.hiddenInput}).insertBefore(this.a))},_g:function(e,t){for(var n="",i=0;i<e.length;i++){var o=e[i];n+="<li class='country "+t+"' data-dial-code='"+o.dialCode+"' data-country-code='"+o.iso2+"'>",n+="<div class='flag-box'><div class='iti-flag "+o.iso2+"'></div></div>",n+="<span class='country-name'>"+o.name+"</span>",n+="<span class='dial-code'>+"+o.dialCode+"</span>",n+="</li>"}this.m.append(n)},_h:function(){var e=this.a.val();this._af(e)&&(!this._isRegionlessNanp(e)||this.b.nationalMode&&!this.b.initialCountry)?this._v(e):"auto"!==this.b.initialCountry&&(this.b.initialCountry?this._z(this.b.initialCountry.toLowerCase()):(this.j=this.preferredCountries.length?this.preferredCountries[0].iso2:this.p[0].iso2,e||this._z(this.j)),e||this.b.nationalMode||this.b.autoHideDialCode||this.b.separateDialCode||this.a.val("+"+this.s.dialCode)),e&&this._u(e)},_i:function(){this._j(),this.b.autoHideDialCode&&this._l(),this.b.allowDropdown&&this._i1(),this.hiddenInput&&this._initHiddenInputListener()},_initHiddenInputListener:function(){var e=this,t=this.a.closest("form");t.length&&t.submit((function(){e.hiddenInput.val(e.getNumber())}))},_i1:function(){var e=this,t=this.a.closest("label");t.length&&t.on("click"+this.ns,(function(t){e.m.hasClass("hide")?e.a.focus():t.preventDefault()})),this.l.parent().on("click"+this.ns,(function(){!e.m.hasClass("hide")||e.a.prop("disabled")||e.a.prop("readonly")||e._n()})),this.k.on("keydown"+e.ns,(function(t){!e.m.hasClass("hide")||t.which!=l.b&&t.which!=l.c&&t.which!=l.j&&t.which!=l.d||(t.preventDefault(),t.stopPropagation(),e._n()),t.which==l.k&&e._ac()}))},_i2:function(){var n=this;this.b.utilsScript?e.fn[r].windowLoaded?e.fn[r].loadUtils(this.b.utilsScript,this.i):e(t).on("load",(function(){e.fn[r].loadUtils(n.b.utilsScript,n.i)})):this.i.resolve(),"auto"===this.b.initialCountry?this._i3():this.h.resolve()},_i3:function(){e.fn[r].autoCountry?this.handleAutoCountry():e.fn[r].startedLoadingAutoCountry||(e.fn[r].startedLoadingAutoCountry=!0,"function"==typeof this.b.geoIpLookup&&this.b.geoIpLookup((function(t){e.fn[r].autoCountry=t.toLowerCase(),setTimeout((function(){e(".intl-tel-input input").intlTelInput("handleAutoCountry")}))})))},_j:function(){var e=this;this.a.on("keyup"+this.ns,(function(){e._v(e.a.val())&&e._triggerCountryChange()})),this.a.on("cut"+this.ns+" paste"+this.ns,(function(){setTimeout((function(){e._v(e.a.val())&&e._triggerCountryChange()}))}))},_j2:function(e){var t=this.a.attr("maxlength");return t&&e.length>t?e.substr(0,t):e},_l:function(){var t=this;this.a.on("mousedown"+this.ns,(function(e){t.a.is(":focus")||t.a.val()||(e.preventDefault(),t.a.focus())})),this.a.on("focus"+this.ns,(function(){t.a.val()||t.a.prop("readonly")||!t.s.dialCode||(t.a.val("+"+t.s.dialCode),t.a.one("keypress.plus"+t.ns,(function(e){e.which==l.f&&t.a.val("")})),setTimeout((function(){var e=t.a[0];if(t.d){var n=t.a.val().length;e.setSelectionRange(n,n)}})))}));var n=this.a.prop("form");n&&e(n).on("submit"+this.ns,(function(){t._removeEmptyDialCode()})),this.a.on("blur"+this.ns,(function(){t._removeEmptyDialCode()}))},_removeEmptyDialCode:function(){var e=this.a.val();if("+"==e.charAt(0)){var t=this._m(e);t&&this.s.dialCode!=t||this.a.val("")}this.a.off("keypress.plus"+this.ns)},_m:function(e){return e.replace(/\D/g,"")},_n:function(){this._o();var e=this.m.children(".active");e.length&&(this._x(e),this._ad(e)),this._p(),this.l.children(".iti-arrow").addClass("up"),this.a.trigger("open:countrydropdown")},_o:function(){var n=this;if(this.b.dropdownContainer&&this.dropdown.appendTo(this.b.dropdownContainer),this.n=this.m.removeClass("hide").outerHeight(),!this.g){var i=this.a.offset(),o=i.top,r=e(t).scrollTop(),a=o+this.a.outerHeight()+this.n<r+e(t).height(),s=o-this.n>r;if(this.m.toggleClass("dropup",!a&&s),this.b.dropdownContainer){var l=!a&&s?0:this.a.innerHeight();this.dropdown.css({top:o+l,left:i.left}),e(t).on("scroll"+this.ns,(function(){n._ac()}))}}},_p:function(){var t=this;this.m.on("mouseover"+this.ns,".country",(function(){t._x(e(this))})),this.m.on("click"+this.ns,".country",(function(){t._ab(e(this))}));var i=!0;e("html").on("click"+this.ns,(function(){i||t._ac(),i=!1}));var o="",r=null;e(n).on("keydown"+this.ns,(function(e){e.preventDefault(),e.which==l.b||e.which==l.c?t._q(e.which):e.which==l.d?t._r():e.which==l.e?t._ac():(e.which>=l.A&&e.which<=l.Z||e.which==l.j)&&(r&&clearTimeout(r),o+=String.fromCharCode(e.which),t._s(o),r=setTimeout((function(){o=""}),1e3))}))},_q:function(e){var t=this.m.children(".highlight").first(),n=e==l.b?t.prev():t.next();n.length&&(n.hasClass("divider")&&(n=e==l.b?n.prev():n.next()),this._x(n),this._ad(n))},_r:function(){var e=this.m.children(".highlight").first();e.length&&this._ab(e)},_s:function(e){for(var t=0;t<this.p.length;t++)if(this._t(this.p[t].name,e)){var n=this.m.children("[data-country-code="+this.p[t].iso2+"]").not(".preferred");this._x(n),this._ad(n,!0);break}},_t:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_u:function(e){if(this.b.formatOnDisplay&&t.intlTelInputUtils&&this.s){var n=this.b.separateDialCode||!this.b.nationalMode&&"+"==e.charAt(0)?intlTelInputUtils.numberFormat.INTERNATIONAL:intlTelInputUtils.numberFormat.NATIONAL;e=intlTelInputUtils.formatNumber(e,this.s.iso2,n)}e=this._ah(e),this.a.val(e)},_v:function(t){t&&this.b.nationalMode&&"1"==this.s.dialCode&&"+"!=t.charAt(0)&&("1"!=t.charAt(0)&&(t="1"+t),t="+"+t);var n=this._af(t),i=null,o=this._m(t);if(n){var r=this.q[this._m(n)],a=e.inArray(this.s.iso2,r)>-1,s="+1"==n&&o.length>=4;if(("1"!=this.s.dialCode||!this._isRegionlessNanp(o))&&(!a||s))for(var l=0;l<r.length;l++)if(r[l]){i=r[l];break}}else"+"==t.charAt(0)&&o.length?i="":t&&"+"!=t||(i=this.j);return null!==i&&this._z(i)},_isRegionlessNanp:function(t){var n=this._m(t);if("1"==n.charAt(0)){var i=n.substr(1,3);return e.inArray(i,c)>-1}return!1},_x:function(e){this.o.removeClass("highlight"),e.addClass("highlight")},_y:function(e,t,n){for(var i=t?u:this.p,o=0;o<i.length;o++)if(i[o].iso2==e)return i[o];if(n)return null;throw new Error("No country data for '"+e+"'")},_z:function(e){var t=this.s.iso2?this.s:{};this.s=e?this._y(e,!1,!1):{},this.s.iso2&&(this.j=this.s.iso2),this.l.attr("class","iti-flag "+e);var n=e?this.s.name+": +"+this.s.dialCode:"Unknown";if(this.l.parent().attr("title",n),this.b.separateDialCode){var i=this.s.dialCode?"+"+this.s.dialCode:"",o=this.a.parent();t.dialCode&&o.removeClass("iti-sdc-"+(t.dialCode.length+1)),i&&o.addClass("iti-sdc-"+i.length),this.t.text(i)}return this._aa(),this.o.removeClass("active"),e&&this.o.find(".iti-flag."+e).first().closest(".country").addClass("active"),t.iso2!==e},_aa:function(){var e="aggressive"===this.b.autoPlaceholder||!this.e&&(!0===this.b.autoPlaceholder||"polite"===this.b.autoPlaceholder);if(t.intlTelInputUtils&&e){var n=intlTelInputUtils.numberType[this.b.placeholderNumberType],i=this.s.iso2?intlTelInputUtils.getExampleNumber(this.s.iso2,this.b.nationalMode,n):"";i=this._ah(i),"function"==typeof this.b.customPlaceholder&&(i=this.b.customPlaceholder(i,this.s)),this.a.attr("placeholder",i)}},_ab:function(e){var t=this._z(e.attr("data-country-code"));if(this._ac(),this._ae(e.attr("data-dial-code"),!0),this.a.focus(),this.d){var n=this.a.val().length;this.a[0].setSelectionRange(n,n)}t&&this._triggerCountryChange()},_ac:function(){this.m.addClass("hide"),this.l.children(".iti-arrow").removeClass("up"),e(n).off(this.ns),e("html").off(this.ns),this.m.off(this.ns),this.b.dropdownContainer&&(this.g||e(t).off("scroll"+this.ns),this.dropdown.detach()),this.a.trigger("close:countrydropdown")},
_ad:function(e,t){var n=this.m,i=n.height(),o=n.offset().top,r=o+i,a=e.outerHeight(),s=e.offset().top,l=s+a,c=s-o+n.scrollTop(),u=i/2-a/2;if(s<o)t&&(c-=u),n.scrollTop(c);else if(l>r){t&&(c+=u);var d=i-a;n.scrollTop(c-d)}},_ae:function(e,t){var n,i=this.a.val();if(e="+"+e,"+"==i.charAt(0)){var o=this._af(i);n=o?i.replace(o,e):e}else{if(this.b.nationalMode||this.b.separateDialCode)return;if(i)n=e+i;else{if(!t&&this.b.autoHideDialCode)return;n=e}}this.a.val(n)},_af:function(t){var n="";if("+"==t.charAt(0))for(var i="",o=0;o<t.length;o++){var r=t.charAt(o);if(e.isNumeric(r)&&(i+=r,this.q[i]&&(n=t.substr(0,o+1)),4==i.length))break}return n},_ag:function(){var t=e.trim(this.a.val()),n=this.s.dialCode,i=this._m(t),o="1"==i.charAt(0)?i:"1"+i;return(this.b.separateDialCode?"+"+n:"+"!=t.charAt(0)&&"1"!=t.charAt(0)&&n&&"1"==n.charAt(0)&&4==n.length&&n!=o.substr(0,4)?n.substr(1):"")+t},_ah:function(e){if(this.b.separateDialCode){var t=this._af(e);if(t){null!==this.s.areaCodes&&(t="+"+this.s.dialCode);var n=" "===e[t.length]||"-"===e[t.length]?t.length+1:t.length;e=e.substr(n)}}return this._j2(e)},_triggerCountryChange:function(){this.a.trigger("countrychange",this.s)},handleAutoCountry:function(){"auto"===this.b.initialCountry&&(this.j=e.fn[r].autoCountry,this.a.val()||this.setCountry(this.j),this.h.resolve())},handleUtils:function(){t.intlTelInputUtils&&(this.a.val()&&this._u(this.a.val()),this._aa()),this.i.resolve()},destroy:function(){if(this.allowDropdown&&(this._ac(),this.l.parent().off(this.ns),this.a.closest("label").off(this.ns)),this.b.autoHideDialCode){var t=this.a.prop("form");t&&e(t).off(this.ns)}this.a.off(this.ns),this.a.parent().before(this.a).remove()},getExtension:function(){return t.intlTelInputUtils?intlTelInputUtils.getExtension(this._ag(),this.s.iso2):""},getNumber:function(e){return t.intlTelInputUtils?intlTelInputUtils.formatNumber(this._ag(),this.s.iso2,e):""},getNumberType:function(){return t.intlTelInputUtils?intlTelInputUtils.getNumberType(this._ag(),this.s.iso2):-99},getSelectedCountryData:function(){return this.s},getValidationError:function(){return t.intlTelInputUtils?intlTelInputUtils.getValidationError(this._ag(),this.s.iso2):-99},isValidNumber:function(){var n=e.trim(this._ag()),i=this.b.nationalMode?this.s.iso2:"";return t.intlTelInputUtils?intlTelInputUtils.isValidNumber(n,i):null},setCountry:function(e){e=e.toLowerCase(),this.l.hasClass(e)||(this._z(e),this._ae(this.s.dialCode,!1),this._triggerCountryChange())},setNumber:function(e){var t=this._v(e);this._u(e),t&&this._triggerCountryChange()},setPlaceholderNumberType:function(e){this.b.placeholderNumberType=e,this._aa()}},e.fn[r]=function(t){var n,a=arguments;if(t===i||"object"==typeof t){var s=[];return this.each((function(){if(!e.data(this,"plugin_"+r)){var n=new o(this,t),i=n._a();s.push(i[0]),s.push(i[1]),e.data(this,"plugin_"+r,n)}})),e.when.apply(null,s)}if("string"==typeof t&&"_"!==t[0])return this.each((function(){var i=e.data(this,"plugin_"+r);i instanceof o&&"function"==typeof i[t]&&(n=i[t].apply(i,Array.prototype.slice.call(a,1))),"destroy"===t&&e.data(this,"plugin_"+r,null)})),n!==i?n:this},e.fn[r].getCountryData=function(){return u},e.fn[r].loadUtils=function(t,n){e.fn[r].loadedUtilsScript?n&&n.resolve():(e.fn[r].loadedUtilsScript=!0,e.ajax({type:"GET",url:t,complete:function(){e(".intl-tel-input input").intlTelInput("handleUtils")},dataType:"script",cache:!0}))},e.fn[r].defaults=s,e.fn[r].version="12.1.0";for(var u=[["Afghanistan (\u202b\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646\u202c\u200e)","af","93"],["Albania (Shqip\xebri)","al","355"],["Algeria (\u202b\u0627\u0644\u062c\u0632\u0627\u0626\u0631\u202c\u200e)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (\xd6sterreich)","at","43"],["Azerbaijan (Az\u0259rbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (\u202b\u0627\u0644\u0628\u062d\u0631\u064a\u0646\u202c\u200e)","bh","973"],["Bangladesh (\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)","bd","880"],["Barbados","bb","1246"],["Belarus (\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c)","by","375"],["Belgium (Belgi\xeb)","be","32"],["Belize","bz","501"],["Benin (B\xe9nin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (\u0f60\u0f56\u0fb2\u0f74\u0f42)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (\u0411\u043e\u0441\u043d\u0430 \u0438 \u0425\u0435\u0440\u0446\u0435\u0433\u043e\u0432\u0438\u043d\u0430)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (R\xe9publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (\u4e2d\u56fd)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (\u202b\u062c\u0632\u0631 \u0627\u0644\u0642\u0645\u0631\u202c\u200e)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["C\xf4te d\u2019Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599",0],["Cyprus (\u039a\u03cd\u03c0\u03c1\u03bf\u03c2)","cy","357"],["Czech Republic (\u010cesk\xe1 republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Rep\xfablica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (\u202b\u0645\u0635\u0631\u202c\u200e)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (F\xf8royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane fran\xe7aise)","gf","594"],["French Polynesia (Polyn\xe9sie fran\xe7aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (\u0395\u03bb\u03bb\u03ac\u03b4\u03b1)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guin\xe9e)","gn","224"],["Guinea-Bissau (Guin\xe9 Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (\u9999\u6e2f)","hk","852"],["Hungary (Magyarorsz\xe1g)","hu","36"],["Iceland (\xcdsland)","is","354"],["India (\u092d\u093e\u0930\u0924)","in","91"],["Indonesia","id","62"],["Iran (\u202b\u0627\u06cc\u0631\u0627\u0646\u202c\u200e)","ir","98"],["Iraq (\u202b\u0627\u0644\u0639\u0631\u0627\u0642\u202c\u200e)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (\u202b\u05d9\u05e9\u05e8\u05d0\u05dc\u202c\u200e)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (\u65e5\u672c)","jp","81"],["Jersey","je","44",3],["Jordan (\u202b\u0627\u0644\u0623\u0631\u062f\u0646\u202c\u200e)","jo","962"],["Kazakhstan (\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (\u202b\u0627\u0644\u0643\u0648\u064a\u062a\u202c\u200e)","kw","965"],["Kyrgyzstan (\u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d)","kg","996"],["Laos (\u0ea5\u0eb2\u0ea7)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (\u202b\u0644\u0628\u0646\u0627\u0646\u202c\u200e)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (\u202b\u0644\u064a\u0628\u064a\u0627\u202c\u200e)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (\u6fb3\u9580)","mo","853"],["Macedonia (FYROM) (\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (\u202b\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627\u202c\u200e)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (M\xe9xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (\u041c\u043e\u043d\u0433\u043e\u043b)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (\u202b\u0627\u0644\u0645\u063a\u0631\u0628\u202c\u200e)","ma","212",0],["Mozambique (Mo\xe7ambique)","mz","258"],["Myanmar (Burma) (\u1019\u103c\u1014\u103a\u1019\u102c)","mm","95"],["Namibia (Namibi\xeb)","na","264"],["Nauru","nr","674"],["Nepal (\u0928\u0947\u092a\u093e\u0932)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Cal\xe9donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (\uc870\uc120 \ubbfc\uc8fc\uc8fc\uc758 \uc778\ubbfc \uacf5\ud654\uad6d)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (\u202b\u0639\u064f\u0645\u0627\u0646\u202c\u200e)","om","968"],["Pakistan (\u202b\u067e\u0627\u06a9\u0633\u062a\u0627\u0646\u202c\u200e)","pk","92"],["Palau","pw","680"],["Palestine (\u202b\u0641\u0644\u0633\u0637\u064a\u0646\u202c\u200e)","ps","970"],["Panama (Panam\xe1)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per\xfa)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (\u202b\u0642\u0637\u0631\u202c\u200e)","qa","974"],["R\xe9union (La R\xe9union)","re","262",0],["Romania (Rom\xe2nia)","ro","40"],["Russia (\u0420\u043e\u0441\u0441\u0438\u044f)","ru","7",0],["Rwanda","rw","250"],["Saint Barth\xe9lemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie fran\xe7aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe (S\xe3o Tom\xe9 e Pr\xedncipe)","st","239"],["Saudi Arabia (\u202b\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629\u202c\u200e)","sa","966"],["Senegal (S\xe9n\xe9gal)","sn","221"],["Serbia (\u0421\u0440\u0431\u0438\u0458\u0430)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (\ub300\ud55c\ubbfc\uad6d)","kr","82"],["South Sudan (\u202b\u062c\u0646\u0648\u0628 \u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)","ss","211"],["Spain (Espa\xf1a)","es","34"],["Sri Lanka (\u0dc1\u0dca\u200d\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0)","lk","94"],["Sudan (\u202b\u0627\u0644\u0633\u0648\u062f\u0627\u0646\u202c\u200e)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (\u202b\u0633\u0648\u0631\u064a\u0627\u202c\u200e)","sy","963"],["Taiwan (\u53f0\u7063)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (\u0e44\u0e17\u0e22)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (\u202b\u062a\u0648\u0646\u0633\u202c\u200e)","tn","216"],["Turkey (T\xfcrkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)","ua","380"],["United Arab Emirates (\u202b\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629\u202c\u200e)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (O\u02bbzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt\xe0 del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vi\u1ec7t Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (\u202b\u0627\u0644\u0635\u062d\u0631\u0627\u0621 \u0627\u0644\u063a\u0631\u0628\u064a\u0629\u202c\u200e)","eh","212",1],["Yemen (\u202b\u0627\u0644\u064a\u0645\u0646\u202c\u200e)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["\xc5land Islands","ax","358",1]],d=0;d<u.length;d++){var h=u[d];u[d]={name:h[0],iso2:h[1],dialCode:h[2],priority:h[3]||0,areaCodes:h[4]||null}}}));var mapList=[];$(document).ready((function(){$("#final-place-map-canvas").length&&(window.map_lat=document.getElementById("final_place_final_place_latitude").value,window.map_long=document.getElementById("final_place_final_place_longitude").value,google.maps.event.addDomListener(window,"load",initFinalPlaceMap),google.maps.event.addDomListener(window,"resize",(function(){var e=editmap.getCenter();google.maps.event.trigger(editmap,"resize"),editmap.setCenter(e)}))),$("#group-map-canvas").length&&(window.map_lat=document.getElementById("group_address_final_place_latitude").value,window.map_long=document.getElementById("group_address_final_place_longitude").value,google.maps.event.addDomListener(window,"load",initFinalPlaceMap),google.maps.event.addDomListener(window,"resize",(function(){var e=editmap.getCenter();google.maps.event.trigger(editmap,"resize"),editmap.setCenter(e)}))),$('div[id^="show-final-place-map-canvas-"]').length&&(google.maps.event.addDomListener(window,"load",initFinalPlaceMap),google.maps.event.addDomListener(window,"resize",(function(){for(var e=0;e<mapList.length;e++){var t=mapList[e],n=t.getCenter();google.maps.event.trigger(t,"resize"),t.setCenter(n)}}))),$("#final-place-address-locate").length&&$("#final_place_final_place_full_address").length&&(finalPlaceSetAddressLocateAbility(),$("#final_place_final_place_full_address").on("input",(function(){finalPlaceSetAddressLocateAbility()})),$("#final-place-address-locate-info").length&&$("#final-place-address-locate").click((function(){$("#final-place-address-locate-info").show()})))})),function(e){e.fn.scrollbox=function(t){var n={linear:!1,startDelay:2,delay:3,step:5,speed:32,switchItems:1,direction:"vertical",distance:"auto",autoPlay:!0,onMouseOverPause:!0,paused:!1,queue:null,listElement:"ul",listItemElement:"li",infiniteLoop:!0,switchAmount:0,afterForward:null,afterBackward:null,triggerStackable:!1};return(t=e.extend(n,t)).scrollOffset="vertical"===t.direction?"scrollTop":"scrollLeft",t.queue&&(t.queue=e("#"+t.queue)),this.each((function(){var n,i,o,r,a,s,l,c,u,d=e(this),h=null,p=null,f=!1,m=0,g=0;t.onMouseOverPause&&(d.bind("mouseover",(function(){f=!0})),d.bind("mouseout",(function(){f=!1}))),n=d.children(t.listElement+":first-child"),!1===t.infiniteLoop&&0===t.switchAmount&&(t.switchAmount=n.children().length),s=function(){var o,a,s,l,c;if(!f&&(o=n.children(t.listItemElement+":first-child"),l="auto"!==t.distance?t.distance:"vertical"===t.direction?o.outerHeight(!0):o.outerWidth(!0),t.linear?s=Math.min(d[0][t.scrollOffset]+t.step,l):(c=Math.max(3,parseInt(.3*(l-d[0][t.scrollOffset]),10)),s=Math.min(d[0][t.scrollOffset]+c,l)),d[0][t.scrollOffset]=s,s>=l)){for(a=0;a<t.switchItems;a++)t.queue&&t.queue.find(t.listItemElement).length>0?(n.append(t.queue.find(t.listItemElement)[0]),n.children(t.listItemElement+":first-child").remove()):n.append(n.children(t.listItemElement+":first-child")),++m;if(d[0][t.scrollOffset]=0,clearInterval(h),h=null,e.isFunction(t.afterForward)&&t.afterForward.call(d,{switchCount:m,currentFirstChild:n.children(t.listItemElement+":first-child")}),t.triggerStackable&&0!==g)return void i();if(!1===t.infiniteLoop&&m>=t.switchAmount)return;t.autoPlay&&(p=setTimeout(r,1e3*t.delay))}},l=function(){if(!f){var o,a,s,l,c;if(0===d[0][t.scrollOffset]){for(a=0;a<t.switchItems;a++)n.children(t.listItemElement+":last-child").insertBefore(n.children(t.listItemElement+":first-child"));o=n.children(t.listItemElement+":first-child"),l="auto"!==t.distance?t.distance:"vertical"===t.direction?o.height():o.width(),d[0][t.scrollOffset]=l}if(t.linear?s=Math.max(d[0][t.scrollOffset]-t.step,0):(c=Math.max(3,parseInt(.3*d[0][t.scrollOffset],10)),s=Math.max(d[0][t.scrollOffset]-c,0)),d[0][t.scrollOffset]=s,0===s){if(--m,clearInterval(h),h=null,e.isFunction(t.afterBackward)&&t.afterBackward.call(d,{switchCount:m,currentFirstChild:n.children(t.listItemElement+":first-child")}),t.triggerStackable&&0!==g)return void i();t.autoPlay&&(p=setTimeout(r,1e3*t.delay))}}},i=function(){0!==g&&(g>0?(g--,p=setTimeout(r,0)):(g++,p=setTimeout(o,0)))},r=function(){clearInterval(h),h=setInterval(s,t.speed)},o=function(){clearInterval(h),h=setInterval(l,t.speed)},c=function(){t.autoPlay=!0,f=!1,clearInterval(h),h=setInterval(s,t.speed)},u=function(){f=!0},a=function(e){t.delay=e||t.delay,clearTimeout(p),t.autoPlay&&(p=setTimeout(r,1e3*t.delay))},t.autoPlay&&(p=setTimeout(r,1e3*t.startDelay)),d.bind("resetClock",(function(e){a(e)})),d.bind("forward",(function(){t.triggerStackable?null!==h?g++:r():(clearTimeout(p),r())})),d.bind("backward",(function(){t.triggerStackable?null!==h?g--:o():(clearTimeout(p),o())})),d.bind("pauseHover",(function(){u()})),d.bind("forwardHover",(function(){c()})),d.bind("speedUp",(function(e,n){"undefined"===n&&(n=Math.max(1,parseInt(t.speed/2,10))),t.speed=n})),d.bind("speedDown",(function(e,n){"undefined"===n&&(n=2*t.speed),t.speed=n})),d.bind("updateConfig",(function(n,i){t=e.extend(t,i)}))}))}}(jQuery),function(e){e.fn.autoresize=function(t){return this.filter("textarea").each((function(){var n=this,i=e(n),o=i.height(),r=i.hasClass("autoresize-short")?0:parseInt(i.css("lineHeight"))||0,a=e.extend({preGrowCallback:null,postGrowCallback:null},t),s=e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:i.width(),fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),lineHeight:i.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body),l=function(e){var t=function(e,t){for(var n=0,i="";n<t;n++)i+=e;return i},l=n.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,(function(e){return t("&nbsp;",e.length-1)+" "}));e&&e.data&&"keydown"===e.data.event&&13===e.keyCode&&(l+="<br />"),s.css("width",i.width()),s.html(l+(0===r?"...":""));var c=Math.max(s.height()+r,o);null!=a.preGrowCallback&&(c=a.preGrowCallback(i,s,c,o)),i.height(c),null!=a.postGrowCallback&&a.postGrowCallback(i)};i.change(l).keyup(l).keydown({event:"keydown"},l),e(window).resize(l),l()}))}}(jQuery),function(e,t){var n=/[<>&\r\n"']/gm,i={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"#39;"};e.extend({fileDownload:function(o,r){function a(){if(-1!=document.cookie.indexOf(p.cookieName+"="+p.cookieValue)){C.onSuccess(o);var t=p.cookieName+"=; path="+p.cookiePath+"; expires="+new Date(0).toUTCString()+";";return p.cookieDomain&&(t+=" domain="+p.cookieDomain+";"),document.cookie=t,void l(!1)}if(b||v)try{var n=b?b.document:s(v);if(n&&null!=n.body&&n.body.innerHTML.length){var i=!0;if(w&&w.length){var r=e(n.body).contents().first();try{r.length&&r[0]===w[0]&&(i=!1)}catch(e){if(!e||-2146828218!=e.number)throw e;i=!0}}if(i)return void setTimeout((function(){C.onFail(n.body.innerHTML,o),l(!0)}),100)}}catch(e){return C.onFail("",o),void l(!0)}setTimeout(a,p.checkInterval)}function s(e){var t=e[0].contentWindow||e[0].contentDocument;return t.document&&(t=t.document),t}function l(e){setTimeout((function(){b&&(d&&b.close(),u&&b.focus&&(b.focus(),e&&b.close()))}),0)}function c(e){return e.replace(n,(function(e){return"&"+i[e]}))}var u,d,h,p=e.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(){},successCallback:function(){},failCallback:function(){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},r),f=new e.Deferred,m=(navigator.userAgent||navigator.vendor||t.opera).toLowerCase();/ip(ad|hone|od)/.test(m)?u=!0:-1!==m.indexOf("android")?d=!0:h=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(m)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(m.substr(0,4));var g=p.httpMethod.toUpperCase();if(d&&"GET"!==g&&p.androidPostUnsupportedMessageHtml)return e().dialog?e("<div>").html(p.androidPostUnsupportedMessageHtml).dialog(p.dialogOptions):alert(p.androidPostUnsupportedMessageHtml),f.reject();var v,b,y,w,_=null,C={onPrepare:function(t){p.preparingMessageHtml?_=e("<div>").html(p.preparingMessageHtml).dialog(p.dialogOptions):p.prepareCallback&&p.prepareCallback(t)},onSuccess:function(e){_&&_.dialog("close"),p.successCallback(e),f.resolve(e)},onFail:function(t,n){_&&_.dialog("close"),p.failMessageHtml&&e("<div>").html(p.failMessageHtml).dialog(p.dialogOptions),p.failCallback(t,n),f.reject(t,n)}};if(C.onPrepare(o),null!==p.data&&"string"!=typeof p.data&&(p.data=e.param(p.data)),"GET"===g){if(null!==p.data)-1!==o.indexOf("?")?"&"!==o.substring(o.length-1)&&(o+="&"):o+="?",o+=p.data;u||d?((b=t.open(o)).document.title=p.popupWindowTitle,t.focus()):h?t.location(o):v=e("<iframe>").hide().prop("src",o).appendTo("body")}else{var x="";null!==p.data&&e.each(p.data.replace(/\+/g," ").split("&"),(function(){var e=this.split("="),t=p.encodeHTMLEntities?c(decodeURIComponent(e[0])):decodeURIComponent(e[0]);if(t){var n=p.encodeHTMLEntities?c(decodeURIComponent(e[1])):decodeURIComponent(e[1]);x+='<input type="hidden" name="'+t+'" value="'+n+'" />'}})),h?(w=e("<form>").appendTo("body")).hide().prop("method",p.httpMethod).prop("action",o).html(x):(u?((b=t.open("about:blank")).document.title=p.popupWindowTitle,y=b.document,t.focus()):y=s(v=e("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body")),y.write("<html><head></head><body><form method='"+p.httpMethod+"' action='"+o+"'>"+x+"</form>"+p.popupWindowTitle+"</body></html>"),w=e(y).find("form")),w.submit()}setTimeout(a,p.checkInterval);var k=f.promise();return k.abort=function(){l(),v.remove()},k}})}(jQuery,this),function(e){"use strict";var t,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&i.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(r){return this.length?(r=e.extend({},n,r||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each((function(){function n(){var t,n=!!window.getComputedStyle&&window.getComputedStyle(h,null);n?(0!==(t=h.getBoundingClientRect().width)&&"number"==typeof t||(t=parseInt(n.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],(function(e,i){t-=parseInt(n[i],10)}))):t=p.width(),o.style.width=Math.max(t,0)+"px"}function a(){var a={};if(t=h,o.className=r.className,o.id=r.id,c=parseInt(p.css("maxHeight"),10),e.each(i,(function(e,t){a[t]=p.css(t)})),e(o).css(a).attr("wrap",p.attr("wrap")),n(),window.chrome){var s=h.style.width;h.style.width="0px";h.offsetWidth;h.style.width=s}}function s(){var e,i;t!==h?a():n(),!h.value&&r.placeholder?o.value=(p.attr("placeholder")||"")+r.append:o.value=h.value+r.append,o.style.overflowY=h.style.overflowY,i=parseInt(h.style.height,10),o.scrollTop=0,o.scrollTop=9e4,e=o.scrollTop,c&&e>c?(h.style.overflowY="scroll",e=c):(h.style.overflowY="hidden",e<u&&(e=u)),i!==(e+=f)&&(h.style.height=e+"px",m&&r.callback.call(h,h))}function l(){clearTimeout(d),d=setTimeout((function(){var e=p.width();e!==v&&(v=e,s())}),parseInt(r.resizeDelay,10))}var c,u,d,h=this,p=e(h),f=0,m=e.isFunction(r.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=p.width(),b=p.css("resize");p.data("autosize")||(p.data("autosize",!0),"border-box"!==p.css("box-sizing")&&"border-box"!==p.css("-moz-box-sizing")&&"border-box"!==p.css("-webkit-box-sizing")||(f=p.outerHeight()-p.height()),u=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===b?p.css("resize","none"):"both"===b&&p.css("resize","horizontal"),"onpropertychange"in h?"oninput"in h?p.on("input.autosize keyup.autosize",s):p.on("propertychange.autosize",(function(){"value"===event.propertyName&&s()})):p.on("input.autosize",s),!1!==r.resizeDelay&&e(window).on("resize.autosize",l),p.on("autosize.resize",s),p.on("autosize.resizeIncludeStyle",(function(){t=null,s()})),p.on("autosize.destroy",(function(){t=null,clearTimeout(d),e(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")})),s())}))):this}}(window.jQuery||window.$),BestInPlaceEditor.prototype={activate:function(){"use strict";var e;if(this.isPlaceHolder())e="";else if(this.original_content)e=this.original_content;else switch(this.formType){case"input":case"textarea":if(this.display_raw)e=this.element.html().replace(/&amp;/gi,"&");else{var t=this.element.data("bipValue");e=void 0===t?"":"string"==typeof t?this.element.data("bipValue").replace(/&amp;/gi,"&"):this.element.data("bipValue")}break;case"select":e=this.element.html()}this.oldValue=this.isPlaceHolder()?"":this.element.html(),this.display_value=e,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){"use strict";this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){"use strict";this.useConfirm?confirm(BestInPlaceEditor.defaults.locales[""].confirmMessage)&&this.abort():this.abort()},update:function(){"use strict";var e=this,t=this.getValue();if(this.formType in{input:1,textarea:1}&&t===this.oldValue)return this.abort(),!0;switch(e.ajax({type:BestInPlaceEditor.defaults.ajaxMethod,dataType:BestInPlaceEditor.defaults.ajaxDataType,data:e.requestData(),success:function(t,n,i){e.loadSuccessCallback(t,n,i)},error:function(t,n){e.loadErrorCallback(t,n)}}),this.formType){case"select":this.previousCollectionValue=t,e.element.html(this.arrayToObject(this.values)[t]);break;case"checkbox":e.element.html(this.arrayToObject(this.values)[t]);break;default:""!==t?this.display_raw?e.element.html(t):e.element.text(t):e.element.html(this.placeHolder)}e.element.data("bipValue",t),e.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},activateText:function(e){"use strict";this.element.html(e),this.isPlaceHolder()&&this.element.html(this.placeHolder)},initOptions:function(){"use strict";var e=this;e.element.parents().each((function(){var t=jQuery(this);e.url=e.url||t.data("bipUrl"),e.activator=e.activator||t.data("bipActivator"),e.okButton=e.okButton||t.data("bipOkButton"),e.okButtonClass=e.okButtonClass||t.data("bipOkButtonClass"),e.cancelButton=e.cancelButton||t.data("bipCancelButton"),e.cancelButtonClass=e.cancelButtonClass||t.data("bipCancelButtonClass")})),e.url=e.element.data("bipUrl")||e.url||document.location.pathname,e.collection=e.element.data("bipCollection")||e.collection,e.formType=e.element.data("bipType")||"input",e.objectName=e.element.data("bipObject")||e.objectName,e.attributeName=e.element.data("bipAttribute")||e.attributeName,e.activator=e.element.data("bipActivator")||e.element,e.okButton=e.element.data("bipOkButton")||e.okButton,e.okButtonClass=e.element.data("bipOkButtonClass")||e.okButtonClass||BestInPlaceEditor.defaults.okButtonClass,e.cancelButton=e.element.data("bipCancelButton")||e.cancelButton,e.cancelButtonClass=e.element.data("bipCancelButtonClass")||e.cancelButtonClass||BestInPlaceEditor.defaults.cancelButtonClass,null==e.element.data("bipPlaceholder")?e.placeHolder=BestInPlaceEditor.defaults.locales[""].placeHolder:e.placeHolder=e.element.data("bipPlaceholder"),e.inner_class=e.element.data("bipInnerClass"),e.html_attrs=e.element.data("bipHtmlAttrs"),e.original_content=e.element.data("bipOriginalContent")||e.original_content,e.display_raw=e.element.data("bip-raw"),e.useConfirm=e.element.data("bip-confirm"),"select"!==e.formType&&"checkbox"!==e.formType||(e.values=e.collection,e.collectionValue=e.element.data("bipValue")||e.collectionValue)},bindForm:function(){"use strict";this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initPlaceHolder:function(){"use strict";""===this.element.html()&&this.element.html(this.placeHolder)},
isPlaceHolder:function(){"use strict";return""===this.element.html()||this.element.html()===this.placeHolder},getValue:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},arrayToObject:function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},sanitizeValue:function(e){"use strict";return jQuery.trim(e)},requestData:function(){"use strict";var e=jQuery("meta[name=csrf-token]").attr("content"),t=jQuery("meta[name=csrf-param]").attr("content"),n="_method="+BestInPlaceEditor.defaults.ajaxMethod;return n+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==t&&void 0!==e&&(n+="&"+t+"="+encodeURIComponent(e)),n},ajax:function(e){"use strict";return e.url=this.url,e.beforeSend=function(e){e.setRequestHeader("Accept","application/json")},jQuery.ajax(e)},loadSuccessCallback:function(e,t,n){"use strict";if(e=jQuery.trim(e),this.display_raw?this.original_content=this.element.html():this.original_content=this.element.text(),e&&""!==e){var i=jQuery.parseJSON(e);null!==i&&i.hasOwnProperty("display_as")&&(this.element.data("bip-original-content",this.element.text()),this.element.html(i.display_as))}this.element.trigger(jQuery.Event("best_in_place:success"),[e,t,n]),this.element.trigger(jQuery.Event("ajax:success"),[e,t,n]),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"===this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(e,t){"use strict";this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[e,t]),this.element.trigger(jQuery.Event("ajax:error"),e,t),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(e){"use strict";e.preventDefault(),e.data.editor.activate()},setHtmlAttributes:function(){"use strict";var e=this.element.find(this.formType);if(this.html_attrs){var t=this.html_attrs;$.each(t,(function(t,n){e.attr(t,n)}))}},placeButtons:function(e,t){"use strict";t.okButton&&e.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",t.okButtonClass).attr("value",t.okButton)),t.cancelButton&&e.append(jQuery(document.createElement("input")).attr("type","button").attr("class",t.cancelButtonClass).attr("value",t.cancelButton))}},BestInPlaceEditor.forms={input:{activateForm:function(){"use strict";var e=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),t=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);this.inner_class&&t.addClass(this.inner_class),e.append(t),this.placeButtons(e,this),this.element.html(e),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(e){"use strict";e.data.editor.okButton?e.data.editor.blurTimer=setTimeout((function(){e.data.editor.userClicked||e.data.editor.abort()}),500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout((function(){e.data.editor.userClicked||e.data.editor.update()}),500):e.data.editor.update()},submitHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abort(),e.stopPropagation()},keyupHandler:function(e){"use strict";27===e.keyCode&&(e.data.editor.abort(),e.stopImmediatePropagation())}},select:{activateForm:function(){"use strict";var e,t,n=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline"),i=jQuery(document.createElement("select")).attr("class",null!==this.inner_class?this.inner_class:""),o=this.collectionValue,r=this.arrayToObject(this.values);for(e in r){t=r[e];var a=jQuery(document.createElement("option")).val(e).html(t);String(e)===String(o)&&a.attr("selected","selected"),i.append(a)}n.append(i),this.element.html(n),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus();try{var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.element.find("select")[0].dispatchEvent(s)}catch(s){}},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(e){"use strict";e.data.editor.update()},keyupHandler:function(e){"use strict";27===e.keyCode&&e.data.editor.abort()}},checkbox:{activateForm:function(){"use strict";this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){"use strict";return this.collectionValue}},textarea:{activateForm:function(){"use strict";var e=this.element.css("width"),t=this.element.css("height"),n=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),i=jQuery(document.createElement("textarea")).attr("name",this.attributeName).val(this.sanitizeValue(this.display_value));null!==this.inner_class&&i.addClass(this.inner_class),n.append(i),this.placeButtons(n,this),this.element.html(n),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":e,"min-height":t}),jQuery(this.element.find("textarea")[0]).autosize(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(e){"use strict";e.data.editor.okButton?e.data.editor.blurTimer=setTimeout((function(){e.data.editor.userClicked||e.data.editor.abortIfConfirm()}),500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout((function(){e.data.editor.userClicked||e.data.editor.update()}),500):e.data.editor.update()},submitHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abortIfConfirm(),e.stopPropagation()},keyupHandler:function(e){"use strict";27===e.keyCode&&e.data.editor.abortIfConfirm()}}},BestInPlaceEditor.defaults={locales:{},ajaxMethod:"put",ajaxDataType:"text",okButtonClass:"",cancelButtonClass:""},BestInPlaceEditor.defaults.locales[""]={confirmMessage:"Are you sure you want to discard your changes?",uninitializedForm:"The form was not properly initialized. getValue is unbound",placeHolder:"-"},jQuery.fn.best_in_place=function(){"use strict";function e(e){if(!e.data("bestInPlaceEditor"))return e.data("bestInPlaceEditor",new BestInPlaceEditor(e)),!0}return jQuery(this.context).delegate(this.selector,"click",(function(){var t=jQuery(this);e(t)&&t.click()})),this.each((function(){e(jQuery(this))})),this};var _slice=Array.prototype.slice,_slicedToArray=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.parsley=t(e.jQuery)}(this,(function(e){"use strict";function t(e,t){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(this),e.apply(t||P,n)}),e.parsleyAdaptedCallback}function n(e){return 0===e.lastIndexOf(M,0)?e.substr(M.length):e}function i(){var t=this,n=window||global;_extends(this,{isNativeEvent:function(e){return e.originalEvent&&!1!==e.originalEvent.isTrusted},fakeInputEvent:function(n){t.isNativeEvent(n)&&e(n.target).trigger("input")},misbehaves:function(n){t.isNativeEvent(n)&&(t.behavesOk(n),e(document).on("change.inputevent",n.data.selector,t.fakeInputEvent),t.fakeInputEvent(n))},behavesOk:function(n){t.isNativeEvent(n)&&e(document).off("input.inputevent",n.data.selector,t.behavesOk).off("change.inputevent",n.data.selector,t.misbehaves)},install:function(){if(!n.inputEventPatched){n.inputEventPatched="0.0.3";for(var i=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],o=0;o<i.length;o++){var r=i[o];e(document).on("input.inputevent",r,{selector:r},t.behavesOk).on("change.inputevent",r,{selector:r},t.misbehaves)}}},uninstall:function(){delete n.inputEventPatched,e(document).off(".inputevent")}})}var o=1,r={},a={attr:function(e,t,n){var i,o,r,a=new RegExp("^"+t,"i");if(void 0===n)n={};else for(i in n)n.hasOwnProperty(i)&&delete n[i];if(!e)return n;for(i=(r=e.attributes).length;i--;)(o=r[i])&&o.specified&&a.test(o.name)&&(n[this.camelize(o.name.slice(t.length))]=this.deserializeValue(o.value));return n},checkAttr:function(e,t,n){return e.hasAttribute(t+n)},setAttr:function(e,t,n,i){e.setAttribute(this.dasherize(t+n),String(i))},getType:function(e){return e.getAttribute("type")||"text"},generateID:function(){return""+o++},deserializeValue:function(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?JSON.parse(e):e:t):e}catch(t){return e}},camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function(e){r[e]||(r[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){r={}},trimString:function(e){return e.replace(/^\s+|\s+$/g,"")},parse:{date:function(e){var t=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!t)return null;var n=t.map((function(e){return parseInt(e,10)})),i=_slicedToArray(n,4),o=(i[0],i[1]),r=i[2],a=i[3],s=new Date(o,r-1,a);return s.getFullYear()!==o||s.getMonth()+1!==r||s.getDate()!==a?null:s},string:function(e){return e},integer:function(e){return isNaN(e)?null:parseInt(e,10)},number:function(e){if(isNaN(e))throw null;return parseFloat(e)},boolean:function(e){return!/^\s*false\s*$/i.test(e)},object:function(e){return a.deserializeValue(e)},regexp:function(e){var t="";return/^\/.*\/(?:[gimy]*)$/.test(e)?(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):e="^"+e+"$",new RegExp(e,t)}},parseRequirement:function(e,t){var n=this.parse[e||"string"];if(!n)throw'Unknown requirement specification: "'+e+'"';var i=n(t);if(null===i)throw"Requirement is not a "+e+': "'+t+'"';return i},namespaceEvents:function(t,n){return(t=this.trimString(t||"").split(/\s+/))[0]?e.map(t,(function(e){return e+"."+n})).join(" "):""},difference:function(t,n){var i=[];return e.each(t,(function(e,t){-1==n.indexOf(t)&&i.push(t)})),i},all:function(t){return e.when.apply(e,_toConsumableArray(t).concat([42,42]))},objectCreate:Object.create||function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}(),_SubmitSelector:'input[type="submit"], button:submit'},s={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},l=function(){this.__id__=a.generateID()};l.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var t=this,n=function(){var n=e.Deferred();return!0!==t.validationResult&&n.reject(),n.resolve().promise()};return[n,n]},actualizeOptions:function(){return a.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(e){for(var t in this.domOptions=a.objectCreate(this.parent.options),this.options=a.objectCreate(this.domOptions),e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.actualizeOptions()},_listeners:null,on:function(e,t){return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t),this},subscribe:function(t,n){e.listenTo(this,t.toLowerCase(),n)},off:function(e,t){var n=this._listeners&&this._listeners[e];if(n)if(t)for(var i=n.length;i--;)n[i]===t&&n.splice(i,1);else delete this._listeners[e];return this},unsubscribe:function(t){e.unsubscribeTo(this,t.toLowerCase())},trigger:function(e,t,n){t=t||this;var i,o=this._listeners&&this._listeners[e];if(o)for(var r=o.length;r--;)if(!1===(i=o[r].call(t,t,n)))return i;return!this.parent||this.parent.trigger(e,t,n)},asyncIsValid:function(e,t){return a.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:t})},_findRelated:function(){return this.options.multiple?e(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var c=function(e,t){var n=e.match(/^\s*\[(.*)\]\s*$/);if(!n)throw'Requirement is not an array: "'+e+'"';var i=n[1].split(",").map(a.trimString);if(i.length!==t)throw"Requirement has "+i.length+" values when "+t+" are needed";return i},u=function(e,t,n){var i=null,o={};for(var r in e)if(r){var s=n(r);"string"==typeof s&&(s=a.parseRequirement(e[r],s)),o[r]=s}else i=a.parseRequirement(e[r],t);return[i,o]},d=function(t){e.extend(!0,this,t)};d.prototype={validate:function(e,t){if(this.fn)return arguments.length>3&&(t=[].slice.call(arguments,1,-1)),this.fn(e,t);if(Array.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var n=arguments[arguments.length-1];if(this.validateDate&&n._isDateInput())return arguments[0]=a.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(e)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,n){if("string"!=typeof t)return Array.isArray(t)?t:[t];var i=this.requirementType;if(Array.isArray(i)){for(var o=c(t,i.length),r=0;r<o.length;r++)o[r]=a.parseRequirement(i[r],o[r]);return o}return e.isPlainObject(i)?u(i,t,n):[a.parseRequirement(i,t)]},requirementType:"string",priority:2};var h=function(e,t){this.__class__="ValidatorRegistry",this.locale="en",this.init(e||{},t||{})},p={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(e){return null!==a.parse.date(e)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$")};p.range=p.number;var f=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},m=function(e,t){return t.map(a.parse[e])},g=function(e,t){return function(n){for(var i=arguments.length,o=Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return o.pop(),t.apply(void 0,[n].concat(_toConsumableArray(m(e,o))))}},v=function(e){return{validateDate:g("date",e),validateNumber:g("number",e),requirementType:e.length<=2?"string":["string","string"],priority:30}};h.prototype={init:function(e,t){for(var n in this.catalog=t,this.validators=_extends({},this.validators),e)this.addValidator(n,e[n].fn,e[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(e){if(void 0===this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,n){return"object"==typeof t&&(this.catalog[e]=t),!0===n?this.setLocale(e):this},addMessage:function(e,t,n){return void 0===this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t]=n,this},addMessages:function(e,t){for(var n in t)this.addMessage(e,n,t[n]);return this},addValidator:function(e){if(this.validators[e])a.warn('Validator "'+e+'" is already defined.');else if(s.hasOwnProperty(e))return void a.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function(e){return!!this.validators[e]},updateValidator:function(e){return this.validators[e]?this._setValidator.apply(this,arguments):(a.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(e){return this.validators[e]||a.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function(e,t,n){for(var i in"object"!=typeof t&&(t={fn:t,priority:n}),t.validate||(t=new d(t)),this.validators[e]=t,t.messages||{})this.addMessage(i,e,t.messages[i]);return this},getErrorMessage:function(e){var t;"type"===e.name?t=(this.catalog[this.locale][e.name]||{})[e.requirements]:t=this.formatMessage(this.catalog[this.locale][e.name],e.requirements);return t||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(e,t){if("object"==typeof t){for(var n in t)e=this.formatMessage(e,t[n]);return e}return"string"==typeof e?e.replace(/%s/i,t):""},validators:{notblank:{validateString:function(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function(e){return e.length>0},validateString:function(e){return/\S/.test(e)},priority:512},type:{validateString:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=n.step,o=void 0===i?"any":i,r=n.base,a=void 0===r?0:r,s=p[t];if(!s)throw new Error("validator type `"+t+"` is not supported");if(!s.test(e))return!1;if("number"===t&&!/^any$/i.test(o||"")){var l=Number(e),c=Math.max(f(o),f(a));if(f(l)>c)return!1;var u=function(e){return Math.round(e*Math.pow(10,c))};if((u(l)-u(a))%u(o)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(e,t){return t.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function(e,t){return e.length<=t},requirementType:"integer",priority:30},length:{validateString:function(e,t,n){return e.length>=t&&e.length<=n},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(e,t){return e.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function(e,t,n){return e.length>=t&&e.length<=n},requirementType:["integer","integer"],priority:30},min:v((function(e,t){return e>=t})),max:v((function(e,t){return e<=t})),range:v((function(e,t,n){return e>=t&&e<=n})),equalto:{validateString:function(t,n){var i=e(n);return i.length?t===i.val():t===n},priority:256}}};var b={},y=function e(t,n,i){for(var o=[],r=[],a=0;a<t.length;a++){for(var s=!1,l=0;l<n.length;l++)if(t[a].assert.name===n[l].assert.name){s=!0;break}s?r.push(t[a]):o.push(t[a])}return{kept:r,added:o,removed:i?[]:e(n,t,!0).added}};b.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",(function(t){e.onSubmitValidate(t)})),this.$element.on("click.Parsley",a._SubmitSelector,(function(t){e.onSubmitButton(t)})),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!0!==t.validationResult&&t.validationResult.length>0&&void 0===t.options.noFocus&&(this._focusedField=t.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},b.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var e=y(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var e=[],t=0;t<this.validationResult.length;t++)e.push(this.validationResult[t].errorMessage||this._getErrorMessage(this.validationResult[t].assert));return e},addError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.message,i=t.assert,o=t.updateClass,r=void 0===o||o;this._buildUI(),this._addError(e,{message:n,assert:i}),r&&this._errorClass()},updateError:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.message,i=t.assert,o=t.updateClass,r=void 0===o||o;this._buildUI(),this._updateError(e,{message:n,assert:i}),r&&this._errorClass()},removeError:function(e){var t=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).updateClass,n=void 0===t||t;this._buildUI(),this._removeError(e),n&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if(void 0===this.options.errorsMessagesDisabled){if(void 0!==this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(e(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var n=0;n<t.removed.length;n++)this._removeError(t.removed[n].assert.name);for(n=0;n<t.added.length;n++)this._addError(t.added[n].assert.name,{message:t.added[n].errorMessage,assert:t.added[n].assert});for(n=0;n<t.kept.length;n++)this._updateError(t.kept[n].assert.name,{message:t.kept[n].errorMessage,assert:t.kept[n].assert})}},_addError:function(t,n){var i=n.message,o=n.assert;this._insertErrorWrapper(),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").append(e(this.options.errorTemplate).addClass("parsley-"+t).html(i||this._getErrorMessage(o)))},_updateError:function(e,t){var n=t.message,i=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(i))},_removeError:function(e){this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function(e){var t=e.name+"Message";return void 0!==this.options[t]?window.Parsley.formatMessage(this.options[t],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.element.setAttribute(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=e(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&e(this.options.classHandler).length)return e(this.options.classHandler);var t=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(t=window[this.options.classHandler]),"function"==typeof t){var n=t.call(this,this);if(void 0!==n&&n.length)return n}else{if("object"==typeof t&&t instanceof jQuery&&t.length)return t;t&&a.warn("The class handler `"+t+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var t=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof t){if(e(t).length)return e(t).append(this._ui.$errorsWrapper);"function"==typeof window[t]?t=window[t]:a.warn("The errors container `"+t+"` does not exist in DOM nor as a global JS function")}return"function"==typeof t&&(t=t.call(this,this)),"object"==typeof t&&t.length?t.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var e,t=this,n=this._findRelated();n.off(".Parsley"),this._failedOnce?n.on(a.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),(function(){t._validateIfNeeded()})):(e=a.namespaceEvents(this.options.trigger,"Parsley"))&&n.on(e,(function(e){t._validateIfNeeded(e)}))},_validateIfNeeded:function(e){var t=this;e&&/key|input/.test(e.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout((function(){return t.validate()}),this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),void 0!==this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),void 0!==this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var w=function(t,n,i){this.__class__="Form",this.element=t,this.$element=e(t),this.domOptions=n,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null},_={pending:null,resolved:!0,rejected:!1};w.prototype={onSubmitValidate:function(e){var t=this;if(!0!==e.parsley){var n=this._submitSource||this.$element.find(a._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!n||null===n.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var i=this.whenValidate({event:e});"resolved"===i.state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===i.state()&&i.done((function(){t._submit(n)})))}}},onSubmitButton:function(e){this._submitSource=e.currentTarget},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var n=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===n.length&&(n=e('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),n.attr({name:t.getAttribute("name"),value:t.getAttribute("value")})}this.$element.trigger(_extends(e.Event("submit"),{parsley:!0}))}},validate:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){a.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var n=_slice.call(arguments);t={group:n[0],force:n[1],event:n[2]}}return _[this.whenValidate(t).state()]},whenValidate:function(){var t,n=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o=i.group,r=i.force,s=i.event;this.submitEvent=s,s&&(this.submitEvent=_extends({},s,{preventDefault:function(){a.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),n.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var l=this._withoutReactualizingFormOptions((function(){return e.map(n.fields,(function(e){return e.whenValidate({force:r,group:o})}))}));return(t=a.all(l).done((function(){n._trigger("success")})).fail((function(){n.validationResult=!1,n.focus(),n._trigger("error")})).always((function(){n._trigger("validated")}))).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){a.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var n=_slice.call(arguments);t={group:n[0],force:n[1]}}return _[this.whenValid(t).state()]},whenValid:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.group,o=n.force;this._refreshFields();var r=this._withoutReactualizingFormOptions((function(){return e.map(t.fields,(function(e){return e.whenValid({group:i,force:o})}))}));return a.all(r)},refresh:function(){return this._refreshFields(),this},reset:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){
return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this,n=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions((function(){t.$element.find(t.options.inputs).not(t.options.excluded).each((function(e,n){var i=new window.Parsley.Factory(n,{},t);if(("Field"===i.__class__||"FieldMultiple"===i.__class__)&&!0!==i.options.excluded){var o=i.__class__+"-"+i.__id__;void 0===t.fieldsMappedById[o]&&(t.fieldsMappedById[o]=i,t.fields.push(i))}})),e.each(a.difference(n,t.fields),(function(e,t){t.reset()}))})),this},_withoutReactualizingFormOptions:function(e){var t=this.actualizeOptions;this.actualizeOptions=function(){return this};var n=e();return this.actualizeOptions=t,n},_trigger:function(e){return this.trigger("form:"+e)}};var C=function(e,t,n,i,o){var r=window.Parsley._validatorRegistry.validators[t],a=new d(r);i=i||e.options[t+"Priority"]||a.priority,_extends(this,{validator:a,name:t,requirements:n,priority:i,isDomConstraint:o=!0===o}),this._parseRequirements(e.options)},x=function(e){return e[0].toUpperCase()+e.slice(1)};C.prototype={validate:function(e,t){var n;return(n=this.validator).validate.apply(n,[e].concat(_toConsumableArray(this.requirementList),[t]))},_parseRequirements:function(e){var t=this;this.requirementList=this.validator.parseRequirements(this.requirements,(function(n){return e[t.name+x(n)]}))}};var k=function(t,n,i,o){this.__class__="Field",this.element=t,this.$element=e(t),void 0!==o&&(this.parent=o),this.options=i,this.domOptions=n,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},S={pending:null,resolved:!0,rejected:!1};k.prototype={validate:function(t){arguments.length>=1&&!e.isPlainObject(t)&&(a.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var n=this.whenValidate(t);if(!n)return!0;switch(n.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var e,t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.force,o=n.group;if(this.refresh(),!o||this._isInGroup(o))return this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:i,value:this.value,_refreshed:!0}).always((function(){t._reflowUI()})).done((function(){t._trigger("success")})).fail((function(){t._trigger("error")})).always((function(){t._trigger("validated")}))).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(e){return void 0===e&&(e=this.getValue()),!(!e.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},_isInGroup:function(t){return Array.isArray(this.options.group)?-1!==e.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){a.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var n=_slice.call(arguments);t={force:n[0],value:n[1]}}var i=this.whenValid(t);return!i||S[i.state()]},whenValid:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.force,o=void 0!==i&&i,r=n.value,s=n.group;if(n._refreshed||this.refresh(),!s||this._isInGroup(s)){if(this.validationResult=!0,!this.hasConstraints())return e.when();if(null==r&&(r=this.getValue()),!this.needsValidation(r)&&!0!==o)return e.when();var l=this._getGroupedConstraints(),c=[];return e.each(l,(function(n,i){var o=a.all(e.map(i,(function(e){return t._validateConstraint(r,e)})));if(c.push(o),"rejected"===o.state())return!1})),a.all(c)}},_validateConstraint:function(t,n){var i=this,o=n.validate(t,this);return!1===o&&(o=e.Deferred().reject()),a.all([o]).fail((function(e){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:n,errorMessage:"string"==typeof e&&e})}))},getValue:function(){var e;return null==(e="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(e)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function(){return this._refreshConstraints(),this},_refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function(){return a.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function(e,t,n,i){if(window.Parsley._validatorRegistry.validators[e]){var o=new C(this,e,t,n,i);"undefined"!==this.constraintsByName[o.name]&&this.removeConstraint(o.name),this.constraints.push(o),this.constraintsByName[o.name]=o}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function(e,t,n){return this.removeConstraint(e).addConstraint(e,t,n)},_bindConstraints:function(){for(var e=[],t={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(e.push(this.constraints[n]),t[this.constraints[n].name]=this.constraints[n]);for(var i in this.constraints=e,this.constraintsByName=t,this.options)this.addConstraint(i,this.options[i],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var e=this.element.getAttribute("min"),t=this.element.getAttribute("max");null!==e&&null!==t?this.addConstraint("range",[e,t],void 0,!0):null!==e?this.addConstraint("min",e,void 0,!0):null!==t&&this.addConstraint("max",t,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var n=a.getType(this.element);return"number"===n?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:e||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(n)?this.addConstraint("type",n,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(e){return this.trigger("field:"+e)},_handleWhitespace:function(e){return!0===this.options.trimValue&&a.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(e=a.trimString(e)),e},_isDateInput:function(){var e=this.constraintsByName.type;return e&&"date"===e.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],t={},n=0;n<this.constraints.length;n++){var i=this.constraints[n].priority;t[i]||e.push(t[i]=[]),t[i].push(this.constraints[n])}return e.sort((function(e,t){return t[0].priority-e[0].priority})),e}};var E=k,T=function(){this.__class__="FieldMultiple"};T.prototype={addElement:function(e){return this.$elements.push(e),this},_refreshConstraints:function(){var t;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(e("html").has(this.$elements[n]).length){t=this.$elements[n].data("FieldMultiple")._refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if(void 0!==this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var t=a.getType(this.element);if("radio"===t)return this._findRelated().filter(":checked").val()||"";if("checkbox"===t){var n=[];return this._findRelated().filter(":checked").each((function(){n.push(e(this).val())})),n}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var A=function(t,n,i){this.element=t,this.$element=e(t);var o=this.$element.data("Parsley");if(o)return void 0!==i&&o.parent===window.Parsley&&(o.parent=i,o._resetOptions(o.options)),"object"==typeof n&&_extends(o.options,n),o;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(n)};A.prototype={init:function(e){return this.__class__="Parsley",this.__version__="2.8.1",this.__id__=a.generateID(),this._resetOptions(e),"FORM"===this.element.nodeName||a.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){var e=a.getType(this.element);return"radio"===e||"checkbox"===e||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var t,n,i=this;if(this.options.multiple=this.options.multiple||(t=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return a.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),t&&e('input[name="'+t+'"]').each((function(e,t){var n=a.getType(t);"radio"!==n&&"checkbox"!==n||t.setAttribute(i.options.namespace+"multiple",i.options.multiple)}));for(var o=this._findRelated(),r=0;r<o.length;r++)if(void 0!==(n=e(o.get(r)).data("Parsley"))){this.$element.data("FieldMultiple")||n.addElement(this.$element);break}return this.bind("parsleyField",!0),n||this.bind("parsleyFieldMultiple")},bind:function(t,n){var i;switch(t){case"parsleyForm":i=e.extend(new w(this.element,this.domOptions,this.options),new l,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=e.extend(new E(this.element,this.domOptions,this.options,this.parent),new l,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=e.extend(new E(this.element,this.domOptions,this.options,this.parent),new T,new l,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&a.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==n?(this.$element.data("FieldMultiple",i),i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init"),i)}};var O=e.fn.jquery.split(".");if(parseInt(O[0])<=1&&parseInt(O[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";O.forEach||a.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var D=_extends(new l,{element:document,$element:e(document),actualizeOptions:null,_resetOptions:null,Factory:A,version:"2.8.1"});_extends(E.prototype,b.Field,l.prototype),_extends(w.prototype,b.Form,l.prototype),_extends(A.prototype,l.prototype),e.fn.parsley=e.fn.psly=function(t){if(this.length>1){var n=[];return this.each((function(){n.push(e(this).parsley(t))})),n}if(0!=this.length)return new A(this[0],t)},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),D.options=_extends(a.objectCreate(s),window.ParsleyConfig),window.ParsleyConfig=D.options,window.Parsley=window.psly=D,D.Utils=a,window.ParsleyUtils={},e.each(a,(function(e,t){"function"==typeof t&&(window.ParsleyUtils[e]=function(){return a.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),a[e].apply(a,arguments)})}));var I=window.Parsley._validatorRegistry=new h(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},e.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),(function(e,t){window.Parsley[t]=function(){return I[t].apply(I,arguments)},window.ParsleyValidator[t]=function(){var e;return a.warnOnce("Accessing the method '"+t+"' through Validator is deprecated. Simply call 'window.Parsley."+t+"(...)'"),(e=window.Parsley)[t].apply(e,arguments)}})),window.Parsley.UI=b,window.ParsleyUI={removeError:function(e,t,n){var i=!0!==n;return a.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(t,{updateClass:i})},getErrorsMessages:function(e){return a.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},e.each("addError updateError".split(" "),(function(e,t){window.ParsleyUI[t]=function(e,n,i,o,r){var s=!0!==r;return a.warnOnce("Accessing UI is deprecated. Call '"+t+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e[t](n,{message:i,assert:o,updateClass:s})}})),!1!==window.ParsleyConfig.autoBind&&e((function(){e("[data-parsley-validate]").length&&e("[data-parsley-validate]").parsley()}));var P=e({}),N=function(){a.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")},M="parsley:";e.listen=function(e,i){var o;if(N(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(o=arguments[1],i=arguments[2]),"function"!=typeof i)throw new Error("Wrong parameters");window.Parsley.on(n(e),t(i,o))},e.listenTo=function(e,i,o){if(N(),!(e instanceof E||e instanceof w))throw new Error("Must give Parsley instance");if("string"!=typeof i||"function"!=typeof o)throw new Error("Wrong parameters");e.on(n(i),t(o))},e.unsubscribe=function(e,t){if(N(),"string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(n(e),t.parsleyAdaptedCallback)},e.unsubscribeTo=function(e,t){if(N(),!(e instanceof E||e instanceof w))throw new Error("Must give Parsley instance");e.off(n(t))},e.unsubscribeAll=function(t){N(),window.Parsley.off(n(t)),e("form,input,textarea,select").each((function(){var i=e(this).data("Parsley");i&&i.off(n(t))}))},e.emit=function(e,t){var i;N();var o=t instanceof E||t instanceof w,r=Array.prototype.slice.call(arguments,o?2:1);r.unshift(n(e)),o||(t=window.Parsley),(i=t).trigger.apply(i,_toConsumableArray(r))};return e.extend(!0,D,{asyncValidators:{default:{fn:function(e){return e.status>=200&&e.status<300},url:!1},reverse:{fn:function(e){return e.status<200||e.status>=300},url:!1}},addAsyncValidator:function(e,t,n,i){return D.asyncValidators[e]={fn:t,url:n||!1,options:i||{}},this}}),D.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,n,i,o){var r,a,s={},l=i.validator||(!0===i.reverse?"reverse":"default");if(void 0===D.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");(n=D.asyncValidators[l].url||n).indexOf("{value}")>-1?n=n.replace("{value}",encodeURIComponent(t)):s[o.element.getAttribute("name")||o.element.getAttribute("id")]=t;var c=e.extend(!0,i.options||{},D.asyncValidators[l].options);r=e.extend(!0,{},{url:n,data:s,type:"GET"},c),o.trigger("field:ajaxoptions",o,r),a=e.param(r),void 0===D._remoteCache&&(D._remoteCache={});var u=D._remoteCache[a]=D._remoteCache[a]||e.ajax(r),d=function(){var t=D.asyncValidators[l].fn.call(o,u,n,i);return t||(t=e.Deferred().reject()),e.when(t)};return u.then(d,d)},priority:-1}),D.on("form:submit",(function(){D._remoteCache={}})),l.prototype.addAsyncValidator=function(){return a.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),D.addAsyncValidator.apply(D,arguments)},D.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),D.setLocale("en"),(new i).install(),D})),function(e,t,n){"use strict";function i(n){if(o=t.documentElement,r=t.body,W(),se=this,he=(n=n||{}).constants||{},n.easing)for(var i in n.easing)K[i]=n.easing[i];ye=n.edgeStrategy||"set",ue={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},(de=!1!==n.forceHeight)&&($e=n.scale||1),pe=n.mobileDeceleration||k,me=!1!==n.smoothScrolling,ge=n.smoothScrollingDuration||E,ve={targetTop:se.getScrollTop()},(Ue=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})())?((ce=t.getElementById(n.skrollrBody||S))&&ae(),G(),De(o,[b,_],[y])):De(o,[b,w],[y]),se.refresh(),Ce(e,"resize orientationchange",(function(){var e=o.clientWidth,t=o.clientHeight;(t!==He||e!==Be)&&(He=t,Be=e,ze=!0)}));var a=V();return function e(){Z(),_e=a(e)}(),se}var o,r,a={get:function(){return se},init:function(e){return se||new i(e)},VERSION:"0.6.30"},s=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,u="touchstart",d="touchmove",h="touchcancel",p="touchend",f="skrollable",m=f+"-before",g=f+"-between",v=f+"-after",b="skrollr",y="no-"+b,w=b+"-desktop",_=b+"-mobile",C="linear",x=1e3,k=.004,S="skrollr-body",E=200,T="start",A="end",O="center",D="bottom",I="___skrollable_id",P=/^(?:input|textarea|button|select)$/i,N=/^\s+|\s+$/g,M=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,L=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,$=/^(@?[a-z\-]+)\[(\w+)\]$/,j=/-([a-z0-9_])/g,R=function(e,t){return t.toUpperCase()},F=/[\-+]?[\d]*\.?[\d]+/g,B=/\{\?\}/g,H=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,z=/[a-z\-]+-gradient/g,q="",U="",W=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(r,null);for(var n in t)if(q=n.match(e)||+n==n&&t[n].match(e))break;if(!q)return void(q=U="");"-"===(q=q[0]).slice(0,1)?(U=q,q={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[q]):U="-"+q.toLowerCase()+"-"}},V=function(){var t=e.requestAnimationFrame||e[q.toLowerCase()+"RequestAnimationFrame"],n=Ne();return(Ue||!t)&&(t=function(t){var i=Ne()-n,o=l.max(0,1e3/60-i);return e.setTimeout((function(){n=Ne(),t()}),o)}),t},Y=function(){var t=e.cancelAnimationFrame||e[q.toLowerCase()+"CancelAnimationFrame"];return(Ue||!t)&&(t=function(t){return e.clearTimeout(t)}),t},K={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(e*t*1.028)/t)}};i.prototype.refresh=function(e){var i,o,r=!1;for(e===n?(r=!0,le=[],qe=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),i=0,o=e.length;o>i;i++){var a=e[i],s=a,l=[],c=me,u=ye,d=!1;if(r&&I in a&&delete a[I],a.attributes){for(var h=0,p=a.attributes.length;p>h;h++){var m=a.attributes[h];if("data-anchor-target"!==m.name)if("data-smooth-scrolling"!==m.name)if("data-edge-strategy"!==m.name)if("data-emit-events"!==m.name){var g=m.name.match(M);if(null!==g){var v={props:m.value,element:a,eventType:m.name.replace(j,R)};l.push(v);var b=g[1];b&&(v.constant=b.substr(1));var y=g[2];/p$/.test(y)?(v.isPercentage=!0,v.offset=(0|y.slice(0,-1))/100):v.offset=0|y;var w=g[3],_=g[4]||w;w&&w!==T&&w!==A?(v.mode="relative",v.anchors=[w,_]):(v.mode="absolute",w===A?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*$e))}}else d=!0;else u=m.value;else c="off"!==m.value;else if(null===(s=t.querySelector(m.value)))throw'Unable to find anchor target "'+m.value+'"'}var C,x,k;if(l.length)!r&&I in a?(k=a[I],C=le[k].styleAttr,x=le[k].classAttr):(k=a[I]=qe++,C=a.style.cssText,x=Oe(a)),le[k]={element:a,styleAttr:C,classAttr:x,anchorTarget:s,keyFrames:l,smoothScrolling:c,edgeStrategy:u,emitEvents:d,lastFrameIndex:-1},De(a,[f],[])}}for(Ee(),i=0,o=e.length;o>i;i++){var S=le[e[i][I]];S!==n&&(J(S),te(S))}return se},i.prototype.relativeToAbsolute=function(e,t,n){var i=o.clientHeight,r=e.getBoundingClientRect(),a=r.top,s=r.bottom-r.top;return t===D?a-=i:t===O&&(a-=i/2),n===D?a+=s:n===O&&(a+=s/2),(a+=se.getScrollTop())+.5|0},i.prototype.animateTo=function(e,t){t=t||{};var i=Ne(),o=se.getScrollTop(),r=t.duration===n?x:t.duration;return(fe={startTop:o,topDiff:e-o,targetTop:e,duration:r,startTime:i,endTime:i+r,easing:K[t.easing||C],done:t.done}).topDiff||(fe.done&&fe.done.call(se,!1),fe=n),se},i.prototype.stopAnimateTo=function(){fe&&fe.done&&fe.done.call(se,!0),fe=n},i.prototype.isAnimatingTo=function(){return!!fe},i.prototype.isMobile=function(){return Ue},i.prototype.setScrollTop=function(t,n){return be=!0===n,Ue?We=l.min(l.max(t,0),Le):e.scrollTo(0,t),se},i.prototype.getScrollTop=function(){return Ue?We:e.pageYOffset||o.scrollTop||r.scrollTop||0},i.prototype.getMaxScrollTop=function(){return Le},i.prototype.on=function(e,t){return ue[e]=t,se},i.prototype.off=function(e){return delete ue[e],se},i.prototype.destroy=function(){Y()(_e),ke(),De(o,[y],[b,w,_]);for(var e=0,t=le.length;t>e;e++)re(le[e].element);o.style.overflow=r.style.overflow="",o.style.height=r.style.height="",ce&&a.setStyle(ce,"transform","none"),se=n,ce=n,ue=n,de=n,Le=0,$e=1,he=n,pe=n,je="down",Re=-1,Be=0,He=0,ze=!1,fe=n,me=n,ge=n,ve=n,be=n,qe=0,ye=n,Ue=!1,We=0,we=n};var G=function(){var i,a,s,c,f,m,g,v,b,y,w;Ce(o,[u,d,h,p].join(" "),(function(e){var o=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=o.clientY,m=o.clientX,b=e.timeStamp,P.test(c.tagName)||e.preventDefault(),e.type){case u:i&&i.blur(),se.stopAnimateTo(),i=c,a=g=f,s=m,b;break;case d:P.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),v=f-g,w=b-y,se.setScrollTop(We-v,!0),g=f,y=b;break;default:var r=a-f,h=s-m;if(49>h*h+r*r){if(!P.test(i.tagName)){i.focus();var p=t.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,e.view,1,o.screenX,o.screenY,o.clientX,o.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(p)}return}i=n;var _=v/w;_=l.max(l.min(_,3),-3);var C=l.abs(_/pe),x=_*C+.5*pe*C*C,k=se.getScrollTop()-x,S=0;k>Le?(S=(Le-k)/x,k=Le):0>k&&(S=-k/x,k=0),C*=1-S,se.animateTo(k+.5|0,{easing:"outCubic",duration:C})}})),e.scrollTo(0,0),o.style.overflow=r.style.overflow="hidden"},Q=function(){var e,t,n,i,r,a,s,c,u,d,h,p=o.clientHeight,f=Te();for(c=0,u=le.length;u>c;c++)for(t=(e=le[c]).element,n=e.anchorTarget,r=0,a=(i=e.keyFrames).length;a>r;r++)d=(s=i[r]).offset,h=f[s.constant]||0,s.frame=d,s.isPercentage&&(d*=p,s.frame=d),"relative"===s.mode&&(re(t),s.frame=se.relativeToAbsolute(n,s.anchors[0],s.anchors[1])-d,re(t,!0)),s.frame+=h,de&&!s.isEnd&&s.frame>Le&&(Le=s.frame);for(Le=l.max(Le,Ae()),c=0,u=le.length;u>c;c++){for(r=0,a=(i=(e=le[c]).keyFrames).length;a>r;r++)h=f[(s=i[r]).constant]||0,s.isEnd&&(s.frame=Le-s.offset+h);e.keyFrames.sort(Me)}},X=function(e,t){for(var n=0,i=le.length;i>n;n++){var o,r,l=le[n],c=l.element,u=l.smoothScrolling?e:t,d=l.keyFrames,h=d.length,p=d[0],b=d[d.length-1],y=u<p.frame,w=u>b.frame,_=y?p:b,C=l.emitEvents,x=l.lastFrameIndex;if(y||w){if(y&&-1===l.edge||w&&1===l.edge)continue;switch(y?(De(c,[m],[v,g]),C&&x>-1&&(Se(c,p.eventType,je),l.lastFrameIndex=-1)):(De(c,[v],[m,g]),C&&h>x&&(Se(c,b.eventType,je),l.lastFrameIndex=h)),l.edge=y?-1:1,l.edgeStrategy){case"reset":re(c);continue;case"ease":u=_.frame;break;default:var k=_.props;for(o in k)s.call(k,o)&&(r=oe(k[o].value),0===o.indexOf("@")?c.setAttribute(o.substr(1),r):a.setStyle(c,o,r));continue}}else 0!==l.edge&&(De(c,[f,g],[m,v]),l.edge=0);for(var S=0;h-1>S;S++)if(u>=d[S].frame&&u<=d[S+1].frame){var E=d[S],T=d[S+1];for(o in E.props)if(s.call(E.props,o)){var A=(u-E.frame)/(T.frame-E.frame);A=E.props[o].easing(A),r=ie(E.props[o].value,T.props[o].value,A),r=oe(r),0===o.indexOf("@")?c.setAttribute(o.substr(1),r):a.setStyle(c,o,r)}C&&x!==S&&(Se(c,"down"===je?E.eventType:T.eventType,je),l.lastFrameIndex=S);break}}},Z=function(){ze&&(ze=!1,Ee());var e,t,i=se.getScrollTop(),o=Ne();if(fe)o>=fe.endTime?(i=fe.targetTop,e=fe.done,fe=n):(t=fe.easing((o-fe.startTime)/fe.duration),i=fe.startTop+t*fe.topDiff|0),se.setScrollTop(i,!0);else if(!be){ve.targetTop-i&&(ve={startTop:Re,topDiff:i-Re,targetTop:i,startTime:Fe,endTime:Fe+ge}),o<=ve.endTime&&(t=K.sqrt((o-ve.startTime)/ge),i=ve.startTop+t*ve.topDiff|0)}if(be||Re!==i){be=!1;var r={curTop:i,lastTop:Re,maxTop:Le,direction:je=i>Re?"down":Re>i?"up":je};!1!==(ue.beforerender&&ue.beforerender.call(se,r))&&(X(i,se.getScrollTop()),Ue&&ce&&a.setStyle(ce,"transform","translate(0, "+-We+"px) "+we),Re=i,ue.render&&ue.render.call(se,r)),e&&e.call(se,!1)}Fe=o},J=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var i,o,r,a,s=e.keyFrames[t],l={};null!==(a=L.exec(s.props));)r=a[1],o=a[2],null!==(i=r.match($))?(r=i[1],i=i[2]):i=C,o=o.indexOf("!")?ee(o):[o.slice(1)],l[r]={value:o,easing:K[i]};s.props=l}},ee=function(e){var t=[];return H.lastIndex=0,e=e.replace(H,(function(e){return e.replace(F,(function(e){return e/255*100+"%"}))})),U&&(z.lastIndex=0,e=e.replace(z,(function(e){return U+e}))),e=e.replace(F,(function(e){return t.push(+e),"{?}"})),t.unshift(e),t},te=function(e){var t,n,i={};for(t=0,n=e.keyFrames.length;n>t;t++)ne(e.keyFrames[t],i);for(i={},t=e.keyFrames.length-1;t>=0;t--)ne(e.keyFrames[t],i)},ne=function(e,t){var n;for(n in t)s.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},ie=function(e,t,n){var i,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var r=[e[0]];for(i=1;o>i;i++)r[i]=e[i]+(t[i]-e[i])*n;return r},oe=function(e){var t=1;return B.lastIndex=0,e[0].replace(B,(function(){return e[t++]}))},re=function(e,t){for(var n,i,o=0,r=(e=[].concat(e)).length;r>o;o++)i=e[o],(n=le[i[I]])&&(t?(i.style.cssText=n.dirtyStyleAttr,De(i,n.dirtyClassAttr)):(n.dirtyStyleAttr=i.style.cssText,n.dirtyClassAttr=Oe(i),i.style.cssText=n.styleAttr,De(i,n.classAttr)))},ae=function(){we="translateZ(0)",a.setStyle(ce,"transform",we);var e=c(ce),t=e.getPropertyValue("transform"),n=e.getPropertyValue(U+"transform");t&&"none"!==t||n&&"none"!==n||(we="")};a.setStyle=function(e,t,n){var i=e.style;if("zIndex"===(t=t.replace(j,R).replace("-","")))isNaN(n)?i[t]=n:i[t]=""+(0|n);else if("float"===t)i.styleFloat=i.cssFloat=n;else try{q&&(i[q+t.slice(0,1).toUpperCase()+t.slice(1)]=n),i[t]=n}catch(e){}};var se,le,ce,ue,de,he,pe,fe,me,ge,ve,be,ye,we,_e,Ce=a.addEvent=function(t,n,i){for(var o,r=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),i.call(this,t)},a=0,s=(n=n.split(" ")).length;s>a;a++)o=n[a],t.addEventListener?t.addEventListener(o,i,!1):t.attachEvent("on"+o,r),Ve.push({element:t,name:o,listener:i})},xe=a.removeEvent=function(e,t,n){for(var i=0,o=(t=t.split(" ")).length;o>i;i++)e.removeEventListener?e.removeEventListener(t[i],n,!1):e.detachEvent("on"+t[i],n)},ke=function(){for(var e,t=0,n=Ve.length;n>t;t++)e=Ve[t],xe(e.element,e.name,e.listener);Ve=[]},Se=function(e,t,n){ue.keyframe&&ue.keyframe.call(se,e,t,n)},Ee=function(){var e=se.getScrollTop();Le=0,de&&!Ue&&(r.style.height=""),Q(),de&&!Ue&&(r.style.height=Le+o.clientHeight+"px"),Ue?se.setScrollTop(l.min(se.getScrollTop(),Le)):se.setScrollTop(e,!0),be=!0},Te=function(){var e,t,n=o.clientHeight,i={};for(e in he)"function"==typeof(t=he[e])?t=t.call(se):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),i[e]=t;return i},Ae=function(){var e=0;return ce&&(e=l.max(ce.offsetHeight,ce.scrollHeight)),l.max(e,r.scrollHeight,r.offsetHeight,o.scrollHeight,o.offsetHeight,o.clientHeight)-o.clientHeight},Oe=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},De=function(t,i,o){var r="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[r],r="baseVal"),o!==n){for(var a=t[r],s=0,l=o.length;l>s;s++)a=Pe(a).replace(Pe(o[s])," ");a=Ie(a);for(var c=0,u=i.length;u>c;c++)-1===Pe(a).indexOf(Pe(i[c]))&&(a+=" "+i[c]);t[r]=Ie(a)}else t[r]=i},Ie=function(e){return e.replace(N,"")},Pe=function(e){return" "+e+" "},Ne=Date.now||function(){return+new Date},Me=function(e,t){return e.frame-t.frame},Le=0,$e=1,je="down",Re=-1,Fe=Ne(),Be=0,He=0,ze=!1,qe=0,Ue=!1,We=0,Ve=[];"function"==typeof define&&define.amd?define([],(function(){return a})):"undefined"!=typeof module&&module.exports?module.exports=a:e.skrollr=a}(window,document),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.Circles=t()}(this,(function(){"use strict";var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},t=function(e){var t=e.id;if(this._el=document.getElementById(t),null!==this._el){this._radius=e.radius||10,this._duration=void 0===e.duration?500:e.duration,this._value=1e-7,this._maxValue=e.maxValue||100,this._text=void 0===e.text?function(e){return this.htmlifyNumber(e)}:e.text,this._strokeWidth=e.width||10,this._colors=e.colors||["#EEE","#F00"],this._svg=null,this._movingPath=null,this._wrapContainer=null,this._textContainer=null,this._wrpClass=e.wrpClass||"circles-wrp",this._textClass=e.textClass||"circles-text",this._valClass=e.valueStrokeClass||"circles-valueStroke",this._maxValClass=e.maxValueStrokeClass||"circles-maxValueStroke",this._styleWrapper=!1!==e.styleWrapper,this._styleText=!1!==e.styleText;var n=Math.PI/180*270;this._start=-Math.PI/180*90,this._startPrecise=this._precise(this._start),this._circ=n-this._start,this._generate().update(e.value||0)}};return t.prototype={VERSION:"0.0.6",_generate:function(){return this._svgSize=2*this._radius,this._radiusAdjusted=this._radius-this._strokeWidth/2,this._generateSvg()._generateText()._generateWrapper(),this._el.innerHTML="",this._el.appendChild(this._wrapContainer),this},_setPercentage:function(e){this._movingPath.setAttribute("d",this._calculatePath(e,!0)),this._textContainer.innerHTML=this._getText(this.getValueFromPercent(e))},_generateWrapper:function(){return this._wrapContainer=document.createElement("div"),this._wrapContainer.className=this._wrpClass,this._styleWrapper&&(this._wrapContainer.style.position="relative",this._wrapContainer.style.display="inline-block"),this._wrapContainer.appendChild(this._svg),this._wrapContainer.appendChild(this._textContainer),this},_generateText:function(){if(this._textContainer=document.createElement("div"),this._textContainer.className=this._textClass,this._styleText){var e={position:"absolute",top:0,left:0,textAlign:"center",width:"100%",fontSize:.7*this._radius+"px",height:this._svgSize+"px",lineHeight:this._svgSize+"px"};for(var t in e)this._textContainer.style[t]=e[t]}return this._textContainer.innerHTML=this._getText(0),this},_getText:function(e){return this._text?(void 0===e&&(e=this._value),e=parseFloat(e.toFixed(2)),
"function"==typeof this._text?this._text.call(this,e):this._text):""},_generateSvg:function(){return this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this._svg.setAttribute("width",this._svgSize),this._svg.setAttribute("height",this._svgSize),this._generatePath(100,!1,this._colors[0],this._maxValClass)._generatePath(1,!0,this._colors[1],this._valClass),this._movingPath=this._svg.getElementsByTagName("path")[1],this},_generatePath:function(e,t,n,i){var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("fill","transparent"),o.setAttribute("stroke",n),o.setAttribute("stroke-width",this._strokeWidth),o.setAttribute("d",this._calculatePath(e,t)),o.setAttribute("class",i),this._svg.appendChild(o),this},_calculatePath:function(e,t){var n=this._start+e/100*this._circ,i=this._precise(n);return this._arc(i,t)},_arc:function(e,t){var n=e-.001,i=e-this._startPrecise<Math.PI?0:1;return["M",this._radius+this._radiusAdjusted*Math.cos(this._startPrecise),this._radius+this._radiusAdjusted*Math.sin(this._startPrecise),"A",this._radiusAdjusted,this._radiusAdjusted,0,i,1,this._radius+this._radiusAdjusted*Math.cos(n),this._radius+this._radiusAdjusted*Math.sin(n),t?"":"Z"].join(" ")},_precise:function(e){return Math.round(1e3*e)/1e3},htmlifyNumber:function(e,t,n){t=t||"circles-integer",n=n||"circles-decimals";var i=(e+"").split("."),o='<span class="'+t+'">'+i[0]+"</span>";return i.length>1&&(o+='.<span class="'+n+'">'+i[1].substring(0,2)+"</span>"),o},updateRadius:function(e){return this._radius=e,this._generate().update(!0)},updateWidth:function(e){return this._strokeWidth=e,this._generate().update(!0)},updateColors:function(e){this._colors=e;var t=this._svg.getElementsByTagName("path");return t[0].setAttribute("stroke",e[0]),t[1].setAttribute("stroke",e[1]),this},getPercent:function(){return 100*this._value/this._maxValue},getValueFromPercent:function(e){return this._maxValue*e/100},getValue:function(){return this._value},getMaxValue:function(){return this._maxValue},update:function(t,n){if(!0===t)return this._setPercentage(this.getPercent()),this;if(this._value==t||isNaN(t))return this;void 0===n&&(n=this._duration);var i,o,r,a,s=this,l=s.getPercent(),c=1;return this._value=Math.min(this._maxValue,Math.max(0,t)),n?(i=s.getPercent(),o=i>l,c+=i%1,r=Math.floor(Math.abs(i-l)/c),a=n/r,function t(n){if(o?l+=c:l-=c,o&&l>=i||!o&&l<=i)e((function(){s._setPercentage(i)}));else{e((function(){s._setPercentage(l)}));var r=Date.now(),u=r-n;u>=a?t(r):setTimeout((function(){t(Date.now())}),a-u)}}(Date.now()),this):(this._setPercentage(this.getPercent()),this)}},t.create=function(e){return new t(e)},t})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Quill=t():e.Quill=t()}(this,(function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(1)),r=n(45),a=n(48),s=n(53),l=i(n(54)),c=i(n(55)),u=n(56),d=i(u),h=n(46),p=n(47),f=n(49),m=n(50),g=i(n(57)),v=i(n(58)),b=i(n(59)),y=i(n(60)),w=i(n(61)),_=i(n(62)),C=i(n(63)),x=i(n(64)),k=n(28),S=i(k),E=i(n(65)),T=i(n(66)),A=i(n(67)),O=i(n(68)),D=i(n(101)),I=i(n(103)),P=i(n(104)),N=i(n(105)),M=i(n(106)),L=i(n(108));o.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":h.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":h.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":m.SizeStyle},!0),o.default.register({"formats/align":r.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":s.IndentClass,"formats/background":h.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":m.SizeClass,"formats/blockquote":l.default,"formats/code-block":S.default,"formats/header":c.default,"formats/list":d.default,"formats/bold":g.default,"formats/code":k.Code,"formats/italic":v.default,"formats/link":b.default,"formats/script":y.default,"formats/strike":w.default,"formats/underline":_.default,"formats/image":C.default,"formats/video":x.default,"formats/list/item":u.ListItem,"modules/formula":E.default,"modules/syntax":T.default,"modules/toolbar":A.default,"themes/bubble":M.default,"themes/snow":L.default,"ui/icons":O.default,"ui/picker":D.default,"ui/icon-picker":P.default,"ui/color-picker":I.default,"ui/tooltip":N.default},!0),e.exports=o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n(2)),r=i(n(18)),a=n(29),s=i(a),l=i(n(30)),c=i(n(42)),u=i(n(34)),d=i(n(31)),h=i(n(32)),p=i(n(43)),f=i(n(33)),m=i(n(44)),g=i(n(51)),v=i(n(52));r.default.register({"blots/block":s.default,"blots/block/embed":a.BlockEmbed,"blots/break":l.default,"blots/container":c.default,"blots/cursor":u.default,"blots/embed":d.default,"blots/inline":h.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":m.default,"modules/history":g.default,"modules/keyboard":v.default}),o.default.register(s.default,l.default,u.default,h.default,p.default,f.default),e.exports=r.default},function(e,t,n){"use strict";var i=n(3),o=n(7),r=n(12),a=n(13),s=n(14),l=n(15),c=n(16),u=n(17),d=n(8),h=n(10),p=n(11),f=n(9),m=n(6),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:o.default,Leaf:r.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:h.default,Style:p.default,Store:f.default}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=g},function(e,t,n){"use strict";function i(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),a=n(5),s=n(6),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){var t=this;e.prototype.attach.call(this),this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=i(e);t.insertBefore(n,t.children.head)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){return 0===e&&t===this.length()?this.remove():void this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),o=i[0],r=i[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,r]:o instanceof t?o.descendant(e,r):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var o=[],r=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,i,r))),r-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),o=i[0],r=i[1];if(o)o.insertAt(r,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(){if(e.prototype.optimize.call(this),0===this.children.length)if(null!=this.statics.defaultChild){var t=s.create(this.statics.defaultChild);this.appendChild(t),t.optimize()}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),o=i[0],r=i[1],a=[[this,e]];return o instanceof t?a.concat(o.path(r,n)):(null!=o&&a.push([o,r]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e){var t=this,n=[],o=[];e.forEach((function(e){e.target===t.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var n=s.find(e);null!=n&&(null!=n.domNode.parentNode&&n.domNode.parentNode!==t.domNode||n.detach())}})),n.filter((function(e){return e.parentNode==t.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var n=null;null!=e.nextSibling&&(n=s.find(e.nextSibling));var o=i(e);o.next==n&&null!=o.next||(null!=o.parent&&o.parent.removeChild(t),t.insertBefore(o,n))}))},t}(a.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t){"use strict";var n=function(){function e(){this.head=this.tail=void 0,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],void 0),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=void 0,this.head=this.tail=e),this.length+=1},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var o=n.length();if(e<o||t&&e===o&&(null==n.next||0!==n.next.length()))return[n,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,o=this.find(e),r=o[0],a=e-o[1],s=this.iterator(r);(i=s())&&a<e+t;){var l=i.length();e>a?n(i,e-a,Math.min(t,a+l-e)):n(i,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";var i=n(6),o=function(){function e(e){this.domNode=e,this.attach()}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){this.domNode[i.DATA_KEY]={blot:this}},e.prototype.clone=function(){var e=this.domNode.cloneNode();return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,o){var r=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&o)r.wrap(n,o);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);r.wrap(a),a.format(n,o)}},e.prototype.insertAt=function(e,t,n){var o=null==n?i.create("text",t):i.create(t,n),r=this.split(e);this.parent.insertBefore(o,r)},e.prototype.insertInto=function(e,t){if(null!=this.parent&&this.parent.children.remove(this),e.children.insertBefore(this,t),null!=t)var n=t.domNode;null!=this.next&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,void 0!==n?n:null),this.parent=e},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e){return 0===e?this:this.next},e.prototype.update=function(e){void 0===e&&(e=[])},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e}();o.blotName="abstract",Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t){"use strict";function n(e,t){var n=o(e);if(null==n)throw new s("Unable to create "+e+" blot");var i=n,r=e instanceof Node?e:i.create(t);return new i(r,t)}function i(e,n){return void 0===n&&(n=!1),null==e?null:null!=e[t.DATA_KEY]?e[t.DATA_KEY].blot:n?i(e.parentNode,n):null}function o(e,t){var n;if(void 0===t&&(t=l.ANY),"string"==typeof e)n=h[e]||c[e];else if(e instanceof Text)n=h.text;else if("number"==typeof e)e&l.LEVEL&l.BLOCK?n=h.block:e&l.LEVEL&l.INLINE&&(n=h.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var o in i)if(n=u[i[o]])break;n=n||d[e.tagName]}return null==n?null:t&l.LEVEL&n.scope&&t&l.TYPE&n.scope?n:null}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>1)return e.map((function(e){return r(e)}));var n=e[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new s("Invalid definition");if("abstract"===n.blotName)throw new s("Cannot register abstract class");if(h[n.blotName||n.attrName]=n,"string"==typeof n.keyName)c[n.keyName]=n;else if(null!=n.className&&(u[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=d[e]&&null!=n.className||(d[e]=n)}))}return n}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return a(t,e),t}(Error);t.ParchmentError=s;var l,c={},u={},d={},h={};t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(l=t.Scope||(t.Scope={})),t.create=n,t.find=i,t.query=o,t.register=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(8),r=n(9),a=n(3),s=n(6),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.attach=function(){e.prototype.attach.call(this),this.attributes=new r.default(this.domNode)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t){var n=this;e.prototype.update.call(this,t),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var o=e.prototype.wrap.call(this,n,i);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(a.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var i=n(6),o=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var o=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|o:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||this.whitelist.indexOf(t)>-1)},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)?t:""},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";var i=n(8),o=n(10),r=n(11),a=n(6),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=o.default.keys(this.domNode),s=r.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,n){"use strict";function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(8).default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function i(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(8).default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(5),r=n(6),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(){return!0},t.prototype.index=function(e,t){return e!==this.domNode?-1:Math.min(t,1)},t.prototype.position=function(e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(t+=1),[this.parent.domNode,t]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t}(o.default);a.scope=r.Scope.INLINE_BLOT,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(3),r=n(6),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=100,l=function(e){function t(t){var n=e.call(this,t)||this;return n.parent=null,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,a),n}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,o){this.update(),e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t){var n=this;void 0===t&&(t=[]),e.prototype.optimize.call(this);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var a=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[r.DATA_KEY].mutations&&(e.domNode[r.DATA_KEY].mutations=[]),t&&a(e.parent))},l=function(e){null!=e.domNode[r.DATA_KEY]&&null!=e.domNode[r.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(l),e.optimize())},c=t,u=0;c.length>0;u+=1){if(u>=s)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=r.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(a(r.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=r.find(e,!1);a(t,!1),t instanceof o.default&&t.children.forEach((function(e){a(e,!1)}))}))):"attributes"===e.type&&a(t.prev)),a(t))})),this.children.forEach(l),i=(c=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t){var n=this;(t=t||this.observer.takeRecords()).map((function(e){var t=r.find(e.target,!0);if(null!=t)return null==t.domNode[r.DATA_KEY].mutations?(t.domNode[r.DATA_KEY].mutations=[e],t):(t.domNode[r.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[r.DATA_KEY]&&e.update(e.domNode[r.DATA_KEY].mutations||[])})),null!=this.domNode[r.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[r.DATA_KEY].mutations),this.optimize(t)},t}(o.default);l.blotName="scroll",l.defaultChild="block",l.scope=r.Scope.BLOCK_BLOT,l.tagName="DIV",Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";function i(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),a=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof r.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,o){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.optimize=function(){e.prototype.optimize.call(this);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&i(n,o.formats())&&(o.moveChildren(this),o.remove())},t}(r.default);s.blotName="inline",s.scope=a.Scope.INLINE_BLOT,s.tagName="SPAN",Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(7),r=n(6),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){var i=r.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=r.query(n,r.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,o){null!=r.query(i,r.Scope.BLOCK)?this.format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=r.query(n,r.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var o=this.split(t),a=r.create(n,i);o.parent.insertBefore(a,o)}},t.prototype.update=function(t){navigator.userAgent.match(/Trident/)?this.attach():e.prototype.update.call(this,t)},t}(o.default);a.blotName="block",a.scope=r.Scope.BLOCK_BLOT,a.tagName="P",Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,o){0===t&&n===this.length()?this.format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(12).default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(12),r=n(6),a=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){return e.data},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(){e.prototype.optimize.call(this),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=r.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e){var t=this;e.some((function(e){return"characterData"===e.type&&e.target===t.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t}(o.default);a.blotName="text",a.scope=r.Scope.INLINE_BLOT,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if((t=(0,w.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==k.DEFAULTS.theme){if(t.theme=k.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=C.default;var n=(0,w.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=k.import("modules/"+t);return null==n?x.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,w.default)(!0,{},k.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function s(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===m.default.sources.USER)return new p.default;var o=null==n?null:this.getSelection(),r=this.editor.delta,a=e();if(null!=o&&(!0===n&&(n=o.index),null==i?o=c(o,a,t):0!==i&&(o=c(o,n,i,t)),this.setSelection(o,m.default.sources.SILENT)),a.length()>0){var s,l,u=[m.default.events.TEXT_CHANGE,a,r,t];if((s=this.emitter).emit.apply(s,[m.default.events.EDITOR_CHANGE].concat(u)),t!==m.default.sources.SILENT)(l=this.emitter).emit.apply(l,u)}return a}function l(e,t,n,i,o){var r={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=i,i=n,n=t,t=e.length,
e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=i,i=n,n=t,t=0),"object"===(void 0===n?"undefined":u(n))?(r=n,o=i):"string"==typeof n&&(null!=i?r[n]=i:o=n),[e,t,r,o=o||m.default.sources.API]}function c(e,t,n,i){if(null==e)return null;var o=void 0,r=void 0;if(t instanceof p.default){var a=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i===m.default.sources.USER)})),s=d(a,2);o=s[0],r=s[1]}else{var l=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i!==m.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),c=d(l,2);o=c[0],r=c[1]}return new b.Range(o,r-o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(19);var p=i(n(20)),f=i(n(27)),m=i(n(35)),g=i(n(39)),v=i(n(2)),b=n(40),y=i(b),w=i(n(25)),_=i(n(37)),C=i(n(41)),x=(0,_.default)("quill"),k=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),this.options=a(t,i),this.container=this.options.container,this.scrollingContainer=this.options.scrollingContainer||document.body,null==this.container)return x.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new m.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,(function(e){e===m.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(m.default.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,o=i&&0===i.length?i.index:void 0;s.call(n,(function(){return n.editor.update(null,t,o)}),e)}));var l=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(l),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return h(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),_.default.level(e)}},{key:"find",value:function(e){return e.__quill||v.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&x.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||x.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName&&v.default.register(t)}}]),h(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,o=l(e,t,n),r=d(o,4);return e=r[0],t=r[1],n=r[3],s.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e),e||this.blur()}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.selection.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.default.sources.API;return s.call(this,(function(){var i=n.getSelection(!0),r=new p.default;if(null==i)return r;if(v.default.query(e,v.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,o({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,o({},e,t))}return n.setSelection(i,m.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,n,i,o){var r=this,a=void 0,c=l(e,t,n,i,o),u=d(c,4);return e=u[0],t=u[1],a=u[2],o=u[3],s.call(this,(function(){return r.editor.formatLine(e,t,a)}),o,e,0)}},{key:"formatText",value:function(e,t,n,i,o){var r=this,a=void 0,c=l(e,t,n,i,o),u=d(c,4);return e=u[0],t=u[1],a=u[2],o=u[3],s.call(this,(function(){return r.editor.formatText(e,t,a)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length)}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),i=d(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=l(e,t),i=d(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return s.call(this,(function(){return o.editor.insertEmbed(t,n,i)}),r,t)}},{key:"insertText",value:function(e,t,n,i,o){var r=this,a=void 0,c=l(e,0,n,i,o),u=d(c,4);return e=u[0],a=u[2],o=u[3],s.call(this,(function(){return r.editor.insertText(e,t,a)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,o=l(e,t,n),r=d(o,4);return e=r[0],t=r[1],n=r[3],s.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.default.sources.API;return s.call(this,(function(){e=new p.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),r=o.ops[o.ops.length-1];return null!=r&&"string"==typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),i.compose(o)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=l(t,n,i),r=d(o,4);t=r[0],n=r[1],i=r[3],this.selection.setRange(new b.Range(t,n),i)}i!==m.default.sources.SILENT&&this.selection.scrollIntoView()}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.default.sources.API,n=(new p.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.default.sources.API;return s.call(this,(function(){return e=new p.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();k.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},k.events=m.default.events,k.sources=m.default.sources,k.version="1.2.0",k.imports={delta:p.default,parchment:v.default,"core/module":g.default,"core/theme":C.default},t.expandConfig=a,t.overload=l,t.default=k},function(){"use strict";var e=document.createElement("div");e.classList.toggle("test-class",!1),e.classList.contains("test-class")&&function(){var e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,n){return arguments.length>1&&!this.contains(t)==!n?n:e.call(this,t)}}(),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(o,t,r,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1)}))},function(e,t,n){var i=n(21),o=n(22),r=n(25),a=n(26),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=r(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=a.iterator(this.ops),o=0;o<t&&i.hasNext();){var r;o<e?r=i.next(e-o):(r=i.next(t-o),n.push(r)),o+=a.length(r)}return new l(n)},l.prototype.compose=function(e){for(var t=a.iterator(this.ops),n=a.iterator(e.ops),i=new l;t.hasNext()||n.hasNext();)if("insert"===n.peekType())i.push(n.next());else if("delete"===t.peekType())i.push(t.next());else{var o=Math.min(t.peekLength(),n.peekLength()),r=t.next(o),s=n.next(o);if("number"==typeof s.retain){var c={};"number"==typeof r.retain?c.retain=o:c.insert=r.insert;var u=a.attributes.compose(r.attributes,s.attributes,"number"==typeof r.retain);u&&(c.attributes=u),i.push(c)}else"number"==typeof s.delete&&"number"==typeof r.retain&&i.push(s)}return i.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(t){if(null!=t.insert)return"string"==typeof t.insert?t.insert:s;var n=ops===e.ops?"on":"with";throw new Error("diff() called "+n+" non-document")})).join("")})),r=new l,c=i(n[0],n[1],t),u=a.iterator(this.ops),d=a.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),r.push(d.next(n));break;case i.DELETE:n=Math.min(t,u.peekLength()),u.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var s=u.next(n),l=d.next(n);o(s.insert,l.insert)?r.retain(n,a.attributes.diff(s.attributes,l.attributes)):r.push(l).delete(n)}t-=n}})),r.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),i=new l;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),r=a.length(o)-n.peekLength(),s="string"==typeof o.insert?o.insert.indexOf(t,r)-r:-1;s<0?i.push(n.next()):s>0?i.push(n.next(s)):(e(i,n.next(1).attributes||{}),i=new l)}i.length()>0&&e(i,{})},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),i=a.iterator(e.ops),o=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var r=Math.min(n.peekLength(),i.peekLength()),s=n.next(r),c=i.next(r);if(s.delete)continue;c.delete?o.push(c):o.retain(r,a.attributes.transform(s.attributes,c.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var o=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<e||!t)&&(e+=o),i+=o):e-=Math.min(o,e-i)}return e},e.exports=l},function(e){function t(e,t,i){if(e==t)return e?[[f,e]]:[];(i<0||e.length<i)&&(i=null);var o=r(e,t),s=e.substring(0,o);o=a(e=e.substring(o),t=t.substring(o));var c=e.substring(e.length-o),d=n(e=e.substring(0,e.length-o),t=t.substring(0,t.length-o));return s&&d.unshift([f,s]),c&&d.push([f,c]),l(d),null!=i&&(d=u(d,i)),d}function n(e,n){var o;if(!e)return[[p,n]];if(!n)return[[h,e]];var r=e.length>n.length?e:n,a=e.length>n.length?n:e,l=r.indexOf(a);if(-1!=l)return o=[[p,r.substring(0,l)],[f,a],[p,r.substring(l+a.length)]],e.length>n.length&&(o[0][0]=o[2][0]=h),o;if(1==a.length)return[[h,e],[p,n]];var c=s(e,n);if(c){var u=c[0],d=c[1],m=c[2],g=c[3],v=c[4],b=t(u,m),y=t(d,g);return b.concat([[f,v]],y)}return i(e,n)}function i(e,t){for(var n=e.length,i=t.length,r=Math.ceil((n+i)/2),a=r,s=2*r,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0,c[a+1]=0;for(var d=n-i,f=d%2!=0,m=0,g=0,v=0,b=0,y=0;y<r;y++){for(var w=-y+m;w<=y-g;w+=2){for(var _=a+w,C=(T=w==-y||w!=y&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-w;T<n&&C<i&&e.charAt(T)==t.charAt(C);)T++,C++;if(l[_]=T,T>n)g+=2;else if(C>i)m+=2;else if(f){if((S=a+d-w)>=0&&S<s&&-1!=c[S])if(T>=(k=n-c[S]))return o(e,t,T,C)}}for(var x=-y+v;x<=y-b;x+=2){for(var k,S=a+x,E=(k=x==-y||x!=y&&c[S-1]<c[S+1]?c[S+1]:c[S-1]+1)-x;k<n&&E<i&&e.charAt(n-k-1)==t.charAt(i-E-1);)k++,E++;if(c[S]=k,k>n)b+=2;else if(E>i)v+=2;else if(!f){if((_=a+d-x)>=0&&_<s&&-1!=l[_]){var T;C=a+(T=l[_])-_;if(T>=(k=n-k))return o(e,t,T,C)}}}}return[[h,e],[p,t]]}function o(e,n,i,o){var r=e.substring(0,i),a=n.substring(0,o),s=e.substring(i),l=n.substring(o),c=t(r,a),u=t(s,l);return c.concat(u)}function r(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,r=0;n<o;)e.substring(r,o)==t.substring(r,o)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,r=0;n<o;)e.substring(e.length-o,e.length-r)==t.substring(t.length-o,t.length-r)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function s(e,t){function n(e,t,n){for(var i,o,s,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var h=r(e.substring(n),t.substring(u)),p=a(e.substring(0,n),t.substring(0,u));d.length<p+h&&(d=t.substring(u-p,u)+t.substring(u,u+h),i=e.substring(0,n-p),o=e.substring(n+h),s=t.substring(0,u-p),l=t.substring(u+h))}return 2*d.length>=e.length?[i,o,s,l,d]:null}var i=e.length>t.length?e:t,o=e.length>t.length?t:e;if(i.length<4||2*o.length<i.length)return null;var s,l,c,u,d,h=n(i,o,Math.ceil(i.length/4)),p=n(i,o,Math.ceil(i.length/2));return h||p?(s=p?h&&h[4].length>p[4].length?h:p:h,e.length>t.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]),[l,c,u,d,s[4]]):null}function l(e){e.push([f,""]);for(var t,n=0,i=0,o=0,s="",c="";n<e.length;)switch(e[n][0]){case p:o++,c+=e[n][1],n++;break;case h:i++,s+=e[n][1],n++;break;case f:i+o>1?(0!==i&&0!==o&&(0!==(t=r(c,s))&&(n-i-o>0&&e[n-i-o-1][0]==f?e[n-i-o-1][1]+=c.substring(0,t):(e.splice(0,0,[f,c.substring(0,t)]),n++),c=c.substring(t),s=s.substring(t)),0!==(t=a(c,s))&&(e[n][1]=c.substring(c.length-t)+e[n][1],c=c.substring(0,c.length-t),s=s.substring(0,s.length-t))),0===i?e.splice(n-o,i+o,[p,c]):0===o?e.splice(n-i,i+o,[h,s]):e.splice(n-i-o,i+o,[h,s],[p,c]),n=n-i-o+(i?1:0)+(o?1:0)+1):0!==n&&e[n-1][0]==f?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,i=0,s="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(n=1;n<e.length-1;)e[n-1][0]==f&&e[n+1][0]==f&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),u=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),u=!0)),n++;u&&l(e)}function c(e,t){if(0===t)return[f,e];for(var n=0,i=0;i<e.length;i++){var o=e[i];if(o[0]===h||o[0]===f){var r=n+o[1].length;if(t===r)return[i+1,e];if(t<r){e=e.slice();var a=t-n,s=[o[0],o[1].slice(0,a)],l=[o[0],o[1].slice(a)];return e.splice(i,1,s,l),[i+1,e]}n=r}}throw new Error("cursor_pos is out of bounds!")}function u(e,t){var n=c(e,t),i=n[1],o=n[0],r=i[o],a=i[o+1];if(null==r)return e;if(r[0]!==f)return e;if(null!=a&&r[1]+a[1]===a[1]+r[1])return i.splice(o,2,a,r),d(i,o,2);if(null!=a&&0===a[1].indexOf(r[1])){i.splice(o,2,[a[0],r[1]],[0,r[1]]);var s=a[1].slice(r[1].length);return s.length>0&&i.splice(o+2,0,[a[0],s]),d(i,o,3)}return e}function d(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var o=e[i],r=e[i+1];o[0]===r[1]&&e.splice(i,2,[o[0],o[1]+r[1]])}return e}var h=-1,p=1,f=0,m=t;m.INSERT=p,m.DELETE=h,m.EQUAL=f,e.exports=m},function(e,t,n){function i(e){return null==e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}function r(e,t,n){var r,u;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=a.call(e),t=a.call(t),c(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}try{var d=s(e),h=s(t)}catch(e){return!1}if(d.length!=h.length)return!1;for(d.sort(),h.sort(),r=d.length-1;r>=0;r--)if(d[r]!=h[r])return!1;for(r=d.length-1;r>=0;r--)if(u=d[r],!c(e[u],t[u],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(23),l=n(24),c=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:r(e,t,n))}},function(e){function t(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:t).shim=t},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(t=e.exports=o?n:i).supported=n,t.unsupported=i},function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var i,o=t.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!r)return!1;for(i in e);return void 0===i||t.call(e,i)};e.exports=function e(){var t,n,r,a,s,l,c=arguments[0],u=1,d=arguments.length,h=!1;for("boolean"==typeof c?(h=c,c=arguments[1]||{},u=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});u<d;++u)if(null!=(t=arguments[u]))for(n in t)r=c[n],c!==(a=t[n])&&(h&&a&&(o(a)||(s=i(a)))?(s?(s=!1,l=r&&i(r)?r:[]):l=r&&o(r)?r:{},c[n]=e(h,l,a)):void 0!==a&&(c[n]=a));return c}},function(e,t,n){function i(e){this.ops=e,this.index=0,this.offset=0}var o=n(22),r=n(25),a={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r(!0,{},t);for(var o in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return o(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new i(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};i.prototype.hasNext=function(){return this.peekLength()<1/0},i.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},i.prototype.peek=function(){return this.ops[this.index]},i.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},i.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n}),{})}function s(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,b.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,b.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new d.default)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=i(n(20)),h=i(n(26)),p=i(n(2)),f=i(n(28)),m=i(n(34)),g=n(29),v=i(g),b=i(n(38)),y=i(n(22)),w=i(n(25)),_=function(){function e(t){r(this,e),this.scroll=t,this.delta=this.getDelta()}return u(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batch=!0,(e=s(e)).reduce((function(e,o){var r=o.retain||o.delete||o.insert.length||1,a=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var s=o.insert;s.endsWith("\n")&&n&&(n=!1,s=s.slice(0,-1)),e>=i&&!s.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,s);var u=t.scroll.line(e),d=c(u,2),f=d[0],m=d[1],b=(0,w.default)({},(0,g.bubbleFormats)(f));if(f instanceof v.default){var y=f.descendant(p.default.Leaf,m),_=c(y,1)[0];b=(0,w.default)(b,(0,g.bubbleFormats)(_))}a=h.default.attributes.diff(b,a)||{}}else if("object"===l(o.insert)){var C=Object.keys(o.insert)[0];if(null==C)return e;t.scroll.insertAt(e,C,o.insert[C])}i+=r}return Object.keys(a).forEach((function(n){t.scroll.formatAt(e,r,n,a[n])})),e+r}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batch=!1,this.scroll.optimize(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new d.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var r=n.scroll.lines(e,Math.max(t,1)),a=t;r.forEach((function(t){var r=t.length();if(t instanceof f.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,o,i[o])}else t.format(o,i[o]);a-=r}))}})),this.scroll.optimize(),this.update((new d.default).retain(e).retain(t,(0,b.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(o){n.scroll.formatAt(e,t,o,i[o])})),this.update((new d.default).retain(e).retain(t,(0,b.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new d.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=c(e,1)[0];t instanceof v.default?n.push(t):t instanceof p.default.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(p.default.Leaf,e,t));var o=[n,i].map((function(e){if(0===e.length)return{};for(var t=(0,g.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=a((0,g.bubbleFormats)(n),t)}return t}));return w.default.apply(w.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new d.default).retain(e).insert(o({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(o){n.scroll.formatAt(e,t.length,o,i[o])})),this.update((new d.default).retain(e).insert(t,(0,b.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.length()<=1&&0==Object.keys(e.formats()).length}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),o=c(i,2),r=o[0],a=o[1],s=0,l=new d.default;null!=r&&(s=r instanceof f.default?r.newlineIndex(a)-a+1:r.length()-a,l=r.delta().slice(a,a+s-1).insert("\n"));var u=this.getContents(e,t+s).diff((new d.default).insert(n).concat(l)),h=(new d.default).retain(e).concat(u);return this.applyDelta(h)}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=this.delta;return 1===n.length&&"characterData"===n[0].type&&p.default.find(n[0].target)?function(){var r=p.default.find(n[0].target),a=(0,g.bubbleFormats)(r),s=r.offset(t.scroll),l=n[0].oldValue.replace(m.default.CONTENTS,""),c=(new d.default).insert(l),u=(new d.default).insert(r.value()),h=(new d.default).retain(s).concat(c.diff(u,i));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)}),new d.default),t.delta=o.compose(e)}():(this.delta=this.getDelta(),e&&(0,y.default)(o.compose(e),this.delta)||(e=o.diff(this.delta,i))),e}}]),e}();t.default=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var s=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n]
;i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=i(n(20)),d=i(n(2)),h=i(n(29)),p=i(n(32)),f=i(n(33)),m=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(p.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new u.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(f.default,this.length()-1),o=s(i,1)[0];null!=o&&o.deleteAt(o.length()-1,1),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,o){if(0!==n&&null!=d.default.query(i,d.default.Scope.BLOCK)&&(i!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var r=this.newlineIndex(e);if(!(r<0||r>=e+n)){var a=this.newlineIndex(e,!0)+1,s=r-a+1,l=this.isolate(a,s),c=l.next;l.format(i,o),c instanceof t&&c.formatAt(0,e-a+n-s,i,o)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(f.default,e),o=s(i,2),r=o[0],a=o[1];r.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(){this.domNode.textContent.endsWith("\n")||this.appendChild(d.default.create("text","\n")),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===e.statics.formats(e.domNode)&&(e.optimize(),e.moveChildren(this),e.remove())}},{key:"replace",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=d.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof d.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=c(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(h.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,u.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:s(e.parent,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=i(n(25)),d=i(n(20)),h=i(n(2)),p=i(n(30)),f=i(n(31)),m=i(n(32)),g=i(n(33)),v=1,b=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"attach",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new d.default).insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=h.default.query(e,h.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var o=h.default.create(y.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(f.default);b.scope=h.default.Scope.BLOCK_BLOT;var y=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return a(t,e),l(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(h.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),s(t))}),new d.default).insert("\n",s(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,o){n<=0||(h.default.query(i,h.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,o):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,o),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var o=n.split("\n"),r=o.shift();r.length>0&&(e<this.length()-1||null==this.children.tail?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});var a=this;o.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+r.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof p.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+v),this.cache.length}},{key:"moveChildren",value:function(e,n){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this),this.cache={}}},{key:"path",value:function(e){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-v)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(h.default.Block);y.blotName="block",y.tagName="P",y.defaultChild="break",y.allowedChildren=[m.default,f.default,g.default],t.bubbleFormats=s,t.BlockEmbed=b,t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"insertInto",value:function(e,n){0===e.children.length?l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(i(n(31)).default);c.blotName="break",c.tagName="BR",t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i(n(2)).default.Embed);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(31)),u=i(n(33)),d=i(n(2)),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"formatAt",value:function(e,n,i,o){if(t.compare(this.statics.blotName,i)<0&&d.default.query(i,d.default.Scope.BLOT)){var r=this.isolate(e,n);o&&r.wrap(i,o)}else l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,o)}},{key:"optimize",value:function(){if(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),o=t.order.indexOf(n);return i>=0||o>=0?i-o:e===n?0:e<n?-1:1}}]),t}(d.default.Inline);h.allowedChildren=[h,c.default,u.default],h.order=["cursor","inline","code","underline","strike","italic","bold","script","link"],t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i(n(2)).default.Text);t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=i(n(2)),d=i(n(31)),h=i(n(33)),p=i(n(35)),f=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return a(t,e),c(t,null,[{key:"value",value:function(){}}]),c(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,o=0;null!=i&&i.statics.scope!==u.default.Scope.BLOCK_BLOT;)o+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){var e=this;if(!this.selection.composing&&null!=this.parent){var n=this.textNode,i=this.selection.getNativeRange(),o=void 0,r=void 0,a=void 0;if(null!=i&&i.start.node===n&&i.end.node===n){var l=[n,i.start.offset,i.end.offset];o=l[0],r=l[1],a=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof h.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}this.remove(),null!=r&&this.selection.emitter.once(p.default.events.SCROLL_OPTIMIZE,(function(){var t=[r,a].map((function(e){return Math.max(0,Math.min(o.data.length,e-1))})),n=s(t,2);r=n[0],a=n[1],e.selection.setNativeRange(o,r,o,a)}))}}},{key:"update",value:function(e){var t=this;e.forEach((function(e){"characterData"===e.type&&e.target===t.textNode&&t.restore()}))}},{key:"value",value:function(){return""}}]),t}(d.default);f.blotName="cursor",f.className="ql-cursor",f.tagName="span",f.CONTENTS="\ufeff",t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(36)),u=(0,i(n(37)).default)("quill:events"),d=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.on("error",u.error),e}return a(t,e),s(t,[{key:"emit",value:function(){u.log.apply(u,arguments),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}}]),t}(c.default);d.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},d.sources={API:"api",SILENT:"silent",USER:"user"},t.default=d},function(e){"use strict";function t(){}function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){this._events=new t,this._eventsCount=0}var o=Object.prototype.hasOwnProperty,r="~";Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(r=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)o.call(e,t)&&n.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},i.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},i.prototype.on=function(e,t,i){var o=new n(t,i||this),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},i.prototype.once=function(e,t,i){var o=new n(t,i||this,!0),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},i.prototype.removeListener=function(e,n,i,o){var a=r?r+e:e;if(!this._events[a])return this;if(!n)return 0==--this._eventsCount?this._events=new t:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==n||o&&!s.once||i&&s.context!==i||(0==--this._eventsCount?this._events=new t:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==n||o&&!s[l].once||i&&s[l].context!==i)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new t:delete this._events[a]}return this},i.prototype.removeAllListeners=function(e){var n;return e?(n=r?r+e:e,this._events[n]&&(0==--this._eventsCount?this._events=new t:delete this._events[n])):(this._events=new t,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=r,i.EventEmitter=i,void 0!==e&&(e.exports=i)},function(e,t){"use strict";function n(e){if(o.indexOf(e)<=o.indexOf(r)){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console[e].apply(console,n)}}function i(e){return o.reduce((function(t,i){return t[i]=n.bind(console,i,e),t}),{})}Object.defineProperty(t,"__esModule",{value:!0});var o=["error","warn","log","info"],r="warn";n.level=i.level=function(e){r=e},t.default=i},function(e){var t=function(){"use strict";function e(t,n,i,o,c){function u(t,i){if(null===t)return null;if(0===i)return t;var f,m;if("object"!=typeof t)return t;if(t instanceof a)f=new a;else if(t instanceof s)f=new s;else if(t instanceof l)f=new l((function(e,n){t.then((function(t){e(u(t,i-1))}),(function(e){n(u(e,i-1))}))}));else if(e.__isArray(t))f=[];else if(e.__isRegExp(t))f=new RegExp(t.source,r(t)),t.lastIndex&&(f.lastIndex=t.lastIndex);else if(e.__isDate(t))f=new Date(t.getTime());else{if(p&&Buffer.isBuffer(t))return f=new Buffer(t.length),t.copy(f),f;t instanceof Error?f=Object.create(t):void 0===o?(m=Object.getPrototypeOf(t),f=Object.create(m)):(f=Object.create(o),m=o)}if(n){var g=d.indexOf(t);if(-1!=g)return h[g];d.push(t),h.push(f)}if(t instanceof a)for(var v=t.keys();;){if((_=v.next()).done)break;var b=u(_.value,i-1),y=u(t.get(_.value),i-1);f.set(b,y)}if(t instanceof s)for(var w=t.keys();;){var _;if((_=w.next()).done)break;var C=u(_.value,i-1);f.add(C)}for(var x in t){var k;m&&(k=Object.getOwnPropertyDescriptor(m,x)),k&&null==k.set||(f[x]=u(t[x],i-1))}if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(t);for(x=0;x<S.length;x++){var E=S[x];(!(A=Object.getOwnPropertyDescriptor(t,E))||A.enumerable||c)&&(f[E]=u(t[E],i-1),A.enumerable||Object.defineProperty(f,E,{enumerable:!1}))}}if(c){var T=Object.getOwnPropertyNames(t);for(x=0;x<T.length;x++){var A,O=T[x];(A=Object.getOwnPropertyDescriptor(t,O))&&A.enumerable||(f[O]=u(t[O],i-1),Object.defineProperty(f,O,{enumerable:!1}))}}return f}"object"==typeof n&&(i=n.depth,o=n.prototype,c=n.includeNonEnumerable,n=n.circular);var d=[],h=[],p="undefined"!=typeof Buffer;return void 0===n&&(n=!0),void 0===i&&(i=1/0),u(t,i)}function t(e){return Object.prototype.toString.call(e)}function n(e){return"object"==typeof e&&"[object Date]"===t(e)}function i(e){return"object"==typeof e&&"[object Array]"===t(e)}function o(e){return"object"==typeof e&&"[object RegExp]"===t(e)}function r(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}var a,s,l;try{a=Map}catch(e){a=function(){}}try{s=Set}catch(e){s=function(){}}try{l=Promise}catch(e){l=function(){}}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=t,e.__isDate=n,e.__isArray=i,e.__isRegExp=o,e.__getRegExpFlags=r,e}();"object"==typeof e&&e.exports&&(e.exports=t)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.quill=t,this.options=i};i.DEFAULTS={},t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var s=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=i(n(2)),u=i(n(38)),d=i(n(22)),h=i(n(35)),p=(0,i(n(37)).default)("quill:selection"),f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.index=t,this.length=n},m=function(){function e(t,n){var i=this;r(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.root=this.scroll.domNode,this.root.addEventListener("compositionstart",(function(){i.composing=!0})),this.root.addEventListener("compositionend",(function(){i.composing=!1})),this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),["keyup","mouseup","mouseleave","touchend","touchleave","focus","blur"].forEach((function(e){i.root.addEventListener(e,(function(){setTimeout(i.update.bind(i,h.default.sources.USER),100)}))})),this.emitter.on(h.default.events.EDITOR_CHANGE,(function(e,t){e===h.default.events.TEXT_CHANGE&&t.length()>0&&i.update(h.default.sources.SILENT)})),this.emitter.on(h.default.events.SCROLL_BEFORE_UPDATE,(function(){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(h.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))})),this.update(h.default.sources.SILENT)}return l(e,[{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!c.default.query(e,c.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=c.default.find(n.start.node,!1);if(null==i)return;if(i instanceof c.default.Leaf){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,o=void 0,r=this.scroll.leaf(e),a=s(r,2),l=a[0],c=a[1];if(null==l)return null;var u=l.position(c,!0),d=s(u,2);o=d[0],c=d[1];var h=document.createRange();if(t>0){h.setStart(o,c);var p=this.scroll.leaf(e+t),f=s(p,2);if(l=f[0],c=f[1],null==l)return null;var m=l.position(c,!0),g=s(m,2);o=g[0],c=g[1],h.setEnd(o,c),i=h.getBoundingClientRect()}else{var v="left",b=void 0;o instanceof Text?(c<o.data.length?(h.setStart(o,c),h.setEnd(o,c+1)):(h.setStart(o,c-1),h.setEnd(o,c),v="right"),b=h.getBoundingClientRect()):(b=l.domNode.getBoundingClientRect(),c>0&&(v="right")),i={height:b.height,left:b[v],width:0,top:b.top}}var y=this.root.parentNode.getBoundingClientRect();return{left:i.left-y.left,right:i.left+i.width-y.left,top:i.top-y.top,bottom:i.top+i.height-y.top,height:i.height,width:i.width}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;if(!a(this.root,t.startContainer)||!t.collapsed&&!a(this.root,t.endContainer))return null;var n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this,t=this.getNativeRange();if(null==t)return[null,null];var n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var i=n.map((function(t){var n=s(t,2),i=n[0],o=n[1],r=c.default.find(i,!0),a=r.offset(e.scroll);return 0===o?a:r instanceof c.default.Container?a+r.length():a+r.index(i,o)})),r=Math.min.apply(Math,o(i)),a=Math.max.apply(Math,o(i));return a=Math.min(a,this.scroll.length()-1),[new f(r,a-r),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"scrollIntoView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastRange;if(null!=e){var t=this.getBounds(e.index,e.length);if(null!=t)if(this.root.offsetHeight<t.bottom){var n=this.scroll.line(Math.min(e.index+e.length,this.scroll.length()-1)),i=s(n,1)[0];this.root.scrollTop=i.domNode.offsetTop+i.domNode.offsetHeight-this.root.offsetHeight}else if(t.top<0){var o=this.scroll.line(Math.min(e.index,this.scroll.length()-1)),r=s(o,1)[0];this.root.scrollTop=r.domNode.offsetTop}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),
"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.default.sources.API;"string"==typeof n&&(i=n,n=!1),p.info("setRange",e),null!=e?function(){var i=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],a=t.scroll.length();i.forEach((function(e,n){e=Math.min(a-1,e);var i=void 0,o=t.scroll.leaf(e),l=s(o,2),c=l[0],u=l[1],d=c.position(u,0!==n),h=s(d,2);i=h[0],u=h[1],r.push(i,u)})),r.length<2&&(r=r.concat(r)),t.setNativeRange.apply(t,o(r).concat([n]))}():this.setNativeRange(null),this.update(i)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.default.sources.USER,t=this.lastRange,n=this.getRange(),i=s(n,2),o=i[0],r=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,d.default)(t,this.lastRange)){var a;!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode&&this.cursor.restore();var l,c=[h.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(t),e];if((a=this.emitter).emit.apply(a,[h.default.events.EDITOR_CHANGE].concat(c)),e!==h.default.sources.SILENT)(l=this.emitter).emit.apply(l,c)}}}]),e}();t.Range=f,t.default=m},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i){n(this,e),this.quill=t,this.options=i,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(2)),l=n(29),c=i(l),u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default.Container);u.allowedChildren=[c.default,l.BlockEmbed,u],t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e instanceof f.default||e instanceof p.BlockEmbed}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},d=i(n(2)),h=i(n(35)),p=n(29),f=i(p),m=i(n(30)),g=i(n(42)),v=i(n(28)),b=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.optimize(),i.enable(),i}return a(t,e),c(t,[{key:"deleteAt",value:function(e,n){var i=this.line(e),o=l(i,2),r=o[0],a=o[1],s=this.line(e+n),c=l(s,1)[0];if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=c&&r!==c&&a>0&&!(r instanceof p.BlockEmbed)&&!(c instanceof p.BlockEmbed)){c instanceof v.default&&c.deleteAt(c.length()-1,1);var d=c.children.head instanceof m.default?null:c.children.head;r.moveChildren(c,d),r.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,o){(null==this.whitelist||this.whitelist[i])&&(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,o),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==d.default.query(n,d.default.Scope.BLOCK)){var o=d.default.create(this.statics.defaultChild);this.appendChild(o),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,i)}else{var r=d.default.create(n,i);this.appendChild(r)}else u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===d.default.Scope.INLINE_BLOT){var i=d.default.create(this.statics.defaultChild);i.appendChild(e),e=i}u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(s,e)}},{key:"lines",value:function(){var e=function e(t,n,i){var o=[],r=i;return t.children.forEachAt(n,i,(function(t,n,i){s(t)?o.push(t):t instanceof d.default.Container&&(o=o.concat(e(t,n,r))),r-=i})),o};return e(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!0!==this.batch&&(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),e.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,e))}},{key:"path",value:function(e){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=h.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,n,e),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,n,e)}}}]),t}(d.default.Scroll);b.blotName="scroll",b.className="ql-editor",b.tagName="DIV",b.defaultChild="block",b.allowedChildren=[f.default,p.BlockEmbed,g.default],t.default=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function u(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var o=e.ops[i];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*t.length)===t}function d(e){if(0===e.childNodes.length)return!1;var t=c(e);return["block","list-item"].indexOf(t.display)>-1}function h(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new k.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(i,o){var r=h(o,t,n);return o.nodeType===e.ELEMENT_NODE&&(r=t.reduce((function(e,t){return t(o,e)}),r),r=(o[$]||[]).reduce((function(e,t){return t(o,e)}),r)),i.concat(r)}),new k.default):new k.default}function p(e,t,n){return n.compose((new k.default).retain(n.length(),o({},e,!0)))}function f(e,t){var n=S.default.Attributor.Attribute.keys(e),i=S.default.Attributor.Class.keys(e),o=S.default.Attributor.Style.keys(e),r={};return n.concat(i).concat(o).forEach((function(t){var n=S.default.query(t,S.default.Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(e),r[n.attrName])||(null!=R[t]&&(n=R[t],r[n.attrName]=n.value(e)||void 0),null!=F[t]&&(n=F[t],r[n.attrName]=n.value(e)||void 0))})),Object.keys(r).length>0&&(t=t.compose((new k.default).retain(t.length(),r))),t}function m(e,t){var n=S.default.query(e);if(null==n)return t;if(n.prototype instanceof S.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new k.default).insert(i,n.formats(e)))}else if("function"==typeof n.formats){var a=o({},n.blotName,n.formats(e));t=t.compose((new k.default).retain(t.length(),a))}return t}function g(e,t){return u(t,"\n")||t.insert("\n"),t}function v(){return new k.default}function b(e,t){return d(e)&&!u(t,"\n")&&t.insert("\n"),t}function y(e,t){if(d(e)&&null!=e.nextElementSibling&&!u(t,"\n\n")){var n=e.offsetHeight+parseFloat(c(e).marginTop)+parseFloat(c(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function w(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===c(e).fontStyle&&(n.italic=!0),i.fontWeight&&"bold"===c(e).fontWeight&&(n.bold=!0),Object.keys(n).length>0&&(t=t.compose((new k.default).retain(t.length(),n))),parseFloat(i.textIndent||0)>0&&(t=(new k.default).insert("\t").concat(t)),t}function _(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(!c(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&d(e.parentNode)||null!=e.previousSibling&&d(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&d(e.parentNode)||null!=e.nextSibling&&d(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var C=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=i(n(20)),S=i(n(2)),E=i(n(18)),T=i(n(37)),A=i(n(39)),O=n(45),D=n(46),I=n(47),P=n(48),N=n(49),M=n(50),L=(0,T.default)("quill:clipboard"),$="__ql-matcher",j=[[Node.TEXT_NODE,_],["br",g],[Node.ELEMENT_NODE,b],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,y],[Node.ELEMENT_NODE,f],[Node.ELEMENT_NODE,w],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",v]],R=[O.AlignAttribute,P.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),F=[O.AlignStyle,D.BackgroundStyle,I.ColorStyle,P.DirectionStyle,N.FontStyle,M.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),B=function(e){function t(e,n){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],j.concat(i.options.matchers).forEach((function(e){i.addMatcher.apply(i,r(e))})),i}return l(t,e),x(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){"string"==typeof e&&(this.container.innerHTML=e);var t=this.prepareMatching(),n=C(t,2),i=n[0],o=n[1],r=h(this.container,i,o);return u(r,"\n")&&null==r.ops[r.ops.length-1].attributes&&(r=r.compose((new k.default).retain(r.length()-1).delete(1))),L.log("convert",this.container.innerHTML,r),this.container.innerHTML="",r}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.default.sources.API;if("string"==typeof e)return this.quill.setContents(this.convert(e),t);var i=this.convert(t);return this.quill.updateContents((new k.default).retain(e).concat(i),n)}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new k.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),setTimeout((function(){t.quill.selection.update(E.default.sources.SILENT),i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,E.default.sources.USER),t.quill.setSelection(i.length()-n.length,E.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.selection.scrollIntoView()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var o=C(i,2),r=o[0],a=o[1];switch(r){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(r),(function(e){e[$]=e[$]||[],e[$].push(a)}))}})),[t,n]}}]),t}(A.default);B.DEFAULTS={matchers:[]},t.default=B,t.matchAttributor=f,t.matchBlot=m,t.matchNewline=b,t.matchSpacing=y,t.matchText=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var o=i(n(2)),r={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",r),s=new o.default.Attributor.Class("align","ql-align",r),l=new o.default.Attributor.Style("align","text-align",r);t.AlignAttribute=a,t.AlignClass=s,t.AlignStyle=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var o=i(n(2)),r=n(47),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),s=new r.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(2)),u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"value",value:function(e){var n=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(c.default.Attributor.Style),d=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),h=new u("color","color",{scope:c.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=d,t.ColorStyle=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var o=i(n(2)),r={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",r),s=new o.default.Attributor.Class("direction","ql-direction",r),l=new o.default.Attributor.Style("direction","direction",r);t.DirectionAttribute=a,t.DirectionClass=s,t.DirectionStyle=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(2)),u={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new c.default.Attributor.Class("font","ql-font",u),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"value",value:function(e){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(c.default.Attributor.Style),p=new h("font","font-family",u);t.FontStyle=p,t.FontClass=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var o=i(n(2)),r=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=r,t.SizeStyle=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=u.default.query(e,u.default.Scope.BLOCK)})))}function l(e){var t=e.reduce((function(e,t){return e+(t.delete||0)}),0),n=e.length()-t;return s(e)&&(n-=1),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=i(n(2)),d=i(n(18)),h=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(d.default.events.EDITOR_CHANGE,(function(e,t,n,o){e!==d.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&o!==d.default.sources.USER?i.transform(t):i.record(t,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return a(t,e),c(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],d.default.sources.USER),this.ignoreChange=!1;var i=l(n[e]);this.quill.setSelection(i),this.quill.selection.scrollIntoView(),this.stack[t].push(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(i(n(39)).default);h.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=h,t.getLastChangeIndex=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(0!==e.index){var n=this.quill.getLine(e.index),i=m(n,1)[0],o={};if(0===t.offset){var r=i.formats(),a=this.quill.getFormat(e.index-1,1);o=w.default.attributes.diff(r,a)||{}}var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-s,s,C.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-s,s,o,C.default.sources.USER),this.quill.selection.scrollIntoView()}}function l(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;e.index>=this.quill.getLength()-n||this.quill.deleteText(e.index,n,C.default.sources.USER)}function c(e){this.quill.deleteText(e,C.default.sources.USER),this.quill.setSelection(e.index,C.default.sources.SILENT),this.quill.selection.scrollIntoView()}function u(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return _.default.query(n,_.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,C.default.sources.USER),this.quill.setSelection(e.index+1,C.default.sources.SILENT),this.quill.selection.scrollIntoView(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],C.default.sources.USER))}))}function d(e){return{key:T.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=_.default.query("code-block"),i=t.index,o=t.length,r=this.quill.scroll.descendant(n,i),a=m(r,2),s=a[0],l=a[1];if(null!=s){var c=this.quill.getIndex(s),u=s.newlineIndex(l,!0)+1,d=s.newlineIndex(c+l+o),h=s.domNode.textContent.slice(u,d).split("\n");l=0,h.forEach((function(t,r){e?(s.insertAt(u+l,n.TAB),l+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(s.deleteAt(u+l,n.TAB.length),l-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),l+=t.length+1})),this.quill.update(C.default.sources.USER),this.quill.setSelection(i,o,C.default.sources.SILENT)}}}}function h(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],C.default.sources.USER)}}}function p(e){if("string"==typeof e||"number"==typeof e)return p({key:e});if("object"===(void 0===e?"undefined":f(e))&&(e=(0,v.default)(e,!1)),"string"==typeof e.key)if(null!=T.keys[e.key.toUpperCase()])e.key=T.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e}Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=i(n(38)),b=i(n(22)),y=i(n(25)),w=i(n(26)),_=i(n(2)),C=i(n(18)),x=i(n(37)),k=i(n(39)),S=(0,x.default)("quill:keyboard"),E=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",T=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(e){i.options.bindings[e]&&i.addBinding(i.options.bindings[e])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},u),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},s),i.addBinding({key:t.keys.DELETE},{collapsed:!0},l)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},s),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},l)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},c),i.addBinding({key:t.keys.DELETE},{collapsed:!1},c),i.listen(),i}return a(t,e),g(t,null,[{key:"match",value:function(e,t){return(!!(t=p(t)).shortKey===e[E]||null===t.shortKey)&&!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return n!=E&&!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),g(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=p(e);return null==i||null==i.key?S.warn("Attempted to add invalid keyboard binding",i):("function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,y.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],void this.bindings[i.key].push(i))}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,o=(e.bindings[i]||[]).filter((function(e){return t.match(n,e)}));if(0!==o.length){var r=e.quill.getSelection();if(null!=r&&e.quill.hasFocus()){var a=e.quill.getLine(r.index),s=m(a,2),l=s[0],c=s[1],u=e.quill.getLeaf(r.index),d=m(u,2),h=d[0],p=d[1],g=0===r.length?[h,p]:e.quill.getLeaf(r.index+r.length),v=m(g,2),y=v[0],w=v[1],C=h instanceof _.default.Text?h.value().slice(0,p):"",x=y instanceof _.default.Text?y.value().slice(w):"",k={collapsed:0===r.length,empty:0===r.length&&l.length()<=1,format:e.quill.getFormat(r),offset:c,prefix:C,suffix:x},S=o.some((function(t){if(null!=t.collapsed&&t.collapsed!==k.collapsed)return!1;if(null!=t.empty&&t.empty!==k.empty)return!1;if(null!=t.offset&&t.offset!==k.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==k.format[e]})))return!1}else if("object"===f(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=k.format[e]:!1===t.format[e]?null==k.format[e]:(0,b.default)(t.format[e],k.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(k.prefix)||null!=t.suffix&&!t.suffix.test(k.suffix)||!0===t.handler.call(e,r,k))}));S&&n.preventDefault()}}}}))}}]),t}(k.default);T.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},T.DEFAULTS={bindings:{bold:h("bold"),italic:h("italic"),underline:h("underline"),indent:{key:T.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||void this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:T.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||void this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:T.keys.BACKSPACE,collapsed:!0,format:["blockquote","indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",C.default.sources.USER):null!=t.format.blockquote?this.quill.format("blockquote",!1,C.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":d(!0),"outdent code-block":d(!1),"remove tab":{key:T.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,C.default.sources.USER)}},tab:{key:T.keys.TAB,handler:function(e,t){t.collapsed||this.quill.scroll.deleteAt(e.index,e.length),this.quill.insertText(e.index,"\t",C.default.sources.USER),this.quill.setSelection(e.index+1,C.default.sources.SILENT)}},"list empty enter":{key:T.keys.ENTER,
collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,C.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:T.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){this.quill.scroll.insertAt(e.index,"\n");var t=this.quill.getLine(e.index+1);m(t,1)[0].format("list","unchecked"),this.quill.update(C.default.sources.USER),this.quill.setSelection(e.index+1,C.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"header enter":{key:T.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e){this.quill.scroll.insertAt(e.index,"\n"),this.quill.formatText(e.index+1,1,"header",!1,C.default.sources.USER),this.quill.setSelection(e.index+1,C.default.sources.SILENT),this.quill.selection.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^(1\.|-)$/,handler:function(e,t){if(null!=this.quill.scroll.whitelist&&!this.quill.scroll.whitelist.list)return!0;var n=t.prefix.length;this.quill.scroll.deleteAt(e.index-n,n),this.quill.formatLine(e.index-n,1,"list",1===n?"bullet":"ordered",C.default.sources.USER),this.quill.setSelection(e.index-n,C.default.sources.SILENT)}},"code exit":{key:T.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){this.quill.format("code-block",!1,C.default.sources.USER),this.quill.deleteText(e.index-2,1,C.default.sources.USER)}}}},t.default=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(2)),u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(c.default.Attributor.Class),d=new u("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i(n(29)).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(i(n(29)).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=i(n(2)),d=i(n(29)),h=i(n(42)),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"format",value:function(e,n){e!==f.blotName||n?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(u.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:c(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(d.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.addEventListener("click",(function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),o=u.default.find(t.target);"checked"===i?o.format("list","unchecked"):"unchecked"===i&&o.format("list","checked")}})),n}return s(t,e),l(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=c(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),l(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return o({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,n){if(e instanceof p)c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this);var e=this.next;null!=e&&e.prev===this&&e.statics.blotName===this.statics.blotName&&e.domNode.tagName===this.domNode.tagName&&e.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(e.moveChildren(this),e.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=u.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(h.default);f.blotName="list",f.scope=u.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"optimize",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(i(n(32)).default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i(n(57)).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"format",value:function(e,n){return e===this.statics.blotName&&n?(n=this.constructor.sanitize(n),void this.domNode.setAttribute("href",n)):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=c(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,["http","https","mailto"])?e:this.SANITIZED_URL}}]),t}(i(n(32)).default);u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",t.default=u,t.sanitize=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(i(n(32)).default);c.blotName="script",c.tagName=["SUB","SUP"],t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i(n(32)).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(i(n(32)).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(31)),u=n(59),d=["alt","height","width"],h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,u.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(c.default);h.blotName="image",h.tagName="IMG",t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=n(29),u=i(n(59)),d=["height","width"],h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=l(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return u.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(c.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){if(null==window.katex)throw new Error("Formula module requires KaTeX.");d.default.register(h,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=i(n(31)),d=i(n(18)),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"index",value:function(){return 1}}],[{key:"create",value:function(e){var n=c(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n),n.setAttribute("data-value",e)),n.setAttribute("contenteditable",!1),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(u.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN",t.FormulaBlot=h,t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=i(n(2)),u=i(n(18)),d=i(n(39)),h=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){if(this.cachedHTML!==this.domNode.innerHTML){var t=this.domNode.textContent;(t.trim().length>0||null==this.cachedHTML)&&(this.domNode.innerHTML=e(t),this.attach()),this.cachedHTML=this.domNode.innerHTML}}}]),t}(i(n(28)).default);h.className="ql-syntax";var p=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),f=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");u.default.register(p,!0),u.default.register(h,!0);var a=null;return i.quill.on(u.default.events.SCROLL_OPTIMIZE,(function(){null==a&&(a=setTimeout((function(){i.highlight(),a=null}),100))})),i.highlight(),i}return a(t,e),s(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(u.default.sources.SILENT),null!=t&&this.quill.setSelection(t,u.default.sources.SILENT)}}}]),t}(d.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value}},t.CodeBlock=h,t.CodeToken=p,t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function c(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)l(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?u(n,t,i):l(n,t,i)}})),e.appendChild(n)}))}function u(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var d=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=i(n(20)),f=i(n(2)),m=i(n(18)),g=i(n(37)),v=i(n(39)),b=(0,g.default)("quill:toolbar"),y=function(e){function t(e,n){r(this,t);var i,o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var s=document.createElement("div");c(s,o.options.container),e.container.parentNode.insertBefore(s,e.container),o.container=s}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(m.default.events.EDITOR_CHANGE,(function(e,t){e===m.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(m.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=d(e,1)[0];o.update(t)})),o):(i=b.error("Container required for toolbar",o.options),a(o,i))}return s(t,e),h(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void b.warn("ignoring attaching to disabled format",n,e);if(null==f.default.query(n))return void b.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var r=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var a=e.options[e.selectedIndex];r=!a.hasAttribute("selected")&&(a.value||!1)}else r=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var s=t.quill.selection.getRange(),l=d(s,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,r);else if(f.default.query(n).prototype instanceof f.default.Embed){if(!(r=prompt("Enter "+n)))return;t.quill.updateContents((new p.default).retain(l.index).delete(l.length).insert(o({},n,r)),m.default.sources.USER)}else t.quill.format(n,r,m.default.sources.USER);t.update(l)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=d(n,2),o=i[0],r=i[1];if("SELECT"===r.tagName){var a=void 0;if(null==e)a=null;else if(null==t[o])a=r.querySelector("option[selected]");else if(!Array.isArray(t[o])){var s=t[o];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),a=r.querySelector('option[value="'+s+'"]')}null==a?(r.value="",
r.selectedIndex=-1):a.selected=!0}else if(null==e)r.classList.remove("ql-active");else if(r.hasAttribute("value")){var l=t[o]===r.getAttribute("value")||null!=t[o]&&t[o].toString()===r.getAttribute("value")||null==t[o]&&!r.getAttribute("value");r.classList.toggle("ql-active",l)}else r.classList.toggle("ql-active",null!=t[o])}))}}]),t}(v.default);y.DEFAULTS={},y.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=f.default.query(t,f.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,m.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",m.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",e,m.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",i+o,m.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,m.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",e,m.default.sources.USER)}}},t.default=y,t.addControls=c},function(e,t,n){"use strict";e.exports={align:{"":n(69),center:n(70),right:n(71),justify:n(72)},background:n(73),blockquote:n(74),bold:n(75),clean:n(76),code:n(77),"code-block":n(77),color:n(78),direction:{"":n(79),rtl:n(80)},float:{center:n(81),full:n(82),left:n(83),right:n(84)},formula:n(85),header:{1:n(86),2:n(87)},italic:n(88),image:n(89),indent:{"+1":n(90),"-1":n(91)},link:n(92),list:{ordered:n(93),bullet:n(94),check:n(95)},script:{sub:n(96),super:n(97)},strike:n(98),underline:n(99),video:n(100)}},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <line class="ql-stroke ql-thin" x1=13.5 x2=15.5 y1=14.5 y2=14.5></line> <path class=ql-fill d=M14.5,15a0.5,0.5,0,0,1-.5-0.5V12.085l-0.276.138A0.5,0.5,0,0,1,13.053,12c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,15,11.5v3A0.5,0.5,0,0,1,14.5,15Z></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <path class="ql-stroke ql-thin" d=M15.5,14.5h-2c0-.234,1.85-1.076,1.85-2.234a0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(102)),l=function(){function e(t){var n=this;o(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.container.classList.toggle("ql-expanded")})),this.select.addEventListener("change",this.update.bind(this))}return a(e,[{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),[].slice.call(this.select.options).forEach((function(n){var i=e.buildItem(n);t.appendChild(i),n.hasAttribute("selected")&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"close",value:function(){this.container.classList.remove("ql-expanded")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=l},function(e){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return a(t,e),s(t,[{key:"buildItem",value:function(e){var n=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}}]),t}(i(n(101)).default);t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return a(t,e),s(t,[{key:"selectItem",value:function(e,n){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(i(n(101)).default);t.default=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i){var o=this;n(this,e),this.quill=t,this.boundsContainer=i||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root.addEventListener("scroll",(function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),r=0;if(o.right>i.right&&(r=i.right-o.right,this.root.style.left=t+r+"px"),o.left<i.left&&(r=i.left-o.left,this.root.style.left=t+r+"px"),o.bottom>i.bottom){var a=o.bottom-o.top,s=i.bottom-o.bottom-a;this.root.style.top=n+s+"px",this.root.classList.add("ql-flip")}return r}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var s=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=i(n(25)),u=i(n(35)),d=n(107),h=i(d),p=n(40),f=i(n(68)),m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){o(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return a(t,e),l(t,[{key:"extendToolbar",value:function(e){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),f.default)}}]),t}(h.default);g.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(u.default.events.EDITOR_CHANGE,(function(e,t,n,o){if(e===u.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===u.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var r=i.quill.getLines(t.index,t.length);if(1===r.length)i.position(i.quill.getBounds(t));else{var a=r[r.length-1],s=i.quill.getIndex(a),l=Math.min(a.length()-1,t.index+t.length-s),c=i.quill.getBounds(new p.Range(s,l));i.position(c)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return a(t,e),l(t,[{key:"listen",value:function(){var e=this;s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(u.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",0===n?n:void(i.style.marginLeft=-1*n-i.offsetWidth/2+"px")}}]),t}(d.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=v,t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},u=i(n(25)),d=i(n(20)),h=i(n(35)),p=i(n(52)),f=i(n(41)),m=i(n(103)),g=i(n(104)),v=i(n(101)),b=i(n(105)),y=[!1,"center","right","justify"],w=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],C=["1","2","3",!1],x=["small",!1,"large","huge"],k=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=function t(n){return document.body.contains(e.root)?(null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),void(null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(n.target)||e.close()})))):document.body.removeEventListener("click",t)};return document.body.addEventListener("click",a),i}return a(t,e),l(t,[{key:"addModule",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{
var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&s(e,y),new g.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&s(e,w,"background"===n?"#ffffff":"#000000"),new m.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?s(e,_):e.classList.contains("ql-header")?s(e,C):e.classList.contains("ql-size")&&s(e,x)),new v.default(e)}));var i=function(){n.pickers.forEach((function(e){e.update()}))};this.quill.on(h.default.events.SELECTION_CHANGE,i).on(h.default.events.SCROLL_OPTIMIZE,i)}}]),t}(f.default);k.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon, image/svg+xml"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new d.default).retain(i.index).delete(i.length).insert({image:n.target.result}),h.default.sources.USER),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return a(t,e),l(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){p.default.match(t,"enter")?(e.save(),t.preventDefault()):p.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.root.scrollTop;this.quill.focus(),this.quill.root.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,h.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":var n=e.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);n?e=n[1]+"://www.youtube.com/embed/"+n[3]+"?showinfo=0":(n=e.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/))&&(e=n[1]+"://player.vimeo.com/video/"+n[3]+"/");case"formula":var i=this.quill.getSelection(!0),o=i.index+i.length;null!=i&&(this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),e,h.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",h.default.sources.USER),this.quill.setSelection(o+2,h.default.sources.USER))}this.textbox.value="",this.hide()}}]),t}(b.default);t.BaseTooltip=S,t.default=k},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=i(n(25)),d=i(n(35)),h=n(107),p=i(h),f=i(n(59)),m=n(40),g=i(n(68)),v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(e){function t(e,n){o(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return a(t,e),c(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),g.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(p.default);b.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return a(t,e),c(t,[{key:"listen",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){null!=e.linkRange&&(e.restoreFocus(),e.quill.formatText(e.linkRange,"link",!1,d.default.sources.USER),delete e.linkRange),t.preventDefault(),e.hide()})),this.quill.on(d.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===d.default.sources.USER){var o=e.quill.scroll.descendant(f.default,t.index),r=s(o,2),a=r[0],l=r[1];if(null!=a){e.linkRange=new m.Range(t.index-l,a.length());var c=f.default.formats(a.domNode);return e.preview.textContent=c,e.preview.setAttribute("href",c),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(h.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=b}])})),function(){function e(e,t,n){var i;return function(){var o=this,r=arguments,a=function(){i=null,n||e.apply(o,r)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(o,r)}}var t={theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],[{color:[]},{background:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["clean"]]}};window.Quilljs={setDefaults:function(e){t=$.extend(t,e),this.addQuillContainer(t)},loadDefaults:function(){this.addQuillContainer(t)},addQuillContainer:function(t){var n=function(e,n){var a=i(n,n.id+"-quill"),s=$(n).attr("placeholder");void 0!==s&&!1!==s&&(t.placeholder=$(n).attr("placeholder")),window["quill-container-"+e]=new Quill(a,t),($(n).attr("maxlength")||$(n).attr("minlength"))&&o(n,a),window["quill-container-"+e].on("editor-change",(function(){r(n,a)}))},i=function(e,t){return $(e).hide().after('<div class="form-control '+t+'"></div>'),t="."+t,$(t).html($(e).val()),t},o=function(e,t){var n=t+" .ql-editor";$(e).attr("maxlength")&&$(n).attr("maxlength",$(e).attr("maxlength")),$(e).attr("minlength")&&$(n).attr("minlength",$(e).attr("minlength")),$(e).removeAttr("maxlength").removeAttr("minlength")},r=e((function(e,t){$(e).val($(t+" .ql-editor").html())}),500),a=$(".quill_container");a.length>0&&a.each((function(e,t){return n(e,t)}))}},$(document).on("ready page:change turbolinks:load",(function(){$(".ql-editor").length<=0&&Quilljs.loadDefaults()}))}(jQuery),window.TinyMCERails={configuration:{default:{}},initialize:function(e,t){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[e||"default"];n=TinyMCERails._merge(n,t),tinymce.init(n)}else setTimeout((function(){TinyMCERails.initialize(e,t)}),50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",(function(){tinymce.remove()}))},_merge:function(){for(var e={},t=0;t<arguments.length;++t){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?e[i]=TinyMCERails._merge(e[i],n[i]):e[i]=n[i])}return e}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(){"use strict";function e(e,...t){return(...n)=>{const i=t.concat(n);return e.apply(null,i)}}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(){return o=i()?Reflect.construct:function(e,t,i){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return i&&n(r,i.prototype),r},o.apply(null,arguments)}function r(e){return a(e)||s(e)||l(e)||u()}function a(e){if(Array.isArray(e))return c(e)}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return NS(e,t,i)}}function h(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return MS(e,n)}}function p(e,t){SS&&SS(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var o=RS(i);o!==i&&(ES(t)||(t[n]=o),i=o)}e[i]=!0}return e}function f(e){var t,n=IS(null);for(t in e)NS(kS,e,[t])&&(n[t]=e[t]);return n}function m(e,t){function n(e){return console.warn("fallback value for",e),null}for(;null!==e;){var i=AS(e,t);if(i){if(i.get)return d(i.get);if("function"==typeof i.value)return d(i.value)}e=TS(e)}return n}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uE(),n=function(e){return g(e)};if(n.version="2.3.8",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var i=e.document,o=e.document,a=e.DocumentFragment,s=e.HTMLTemplateElement,l=e.Node,c=e.Element,u=e.NodeFilter,d=e.NamedNodeMap,h=void 0===d?e.NamedNodeMap||e.MozNamedAttrMap:d,v=e.HTMLFormElement,b=e.DOMParser,y=e.trustedTypes,w=c.prototype,_=m(w,"cloneNode"),C=m(w,"nextSibling"),x=m(w,"childNodes"),k=m(w,"parentNode");if("function"==typeof s){var S=o.createElement("template");S.content&&S.content.ownerDocument&&(o=S.content.ownerDocument)}var E=dE(y,i),T=E?E.createHTML(""):"",A=o,O=A.implementation,D=A.createNodeIterator,I=A.createDocumentFragment,P=A.getElementsByTagName,N=i.importNode,M={};try{M=f(o).documentMode?o.documentMode:{}}catch(e){}var L={};n.isSupported="function"==typeof k&&O&&void 0!==O.createHTMLDocument&&9!==M;var $,j,R=nE,F=iE,B=oE,H=rE,z=sE,q=lE,U=aE,W=null,V=p({},[].concat(r(WS),r(VS),r(YS),r(GS),r(XS))),Y=null,K=p({},[].concat(r(ZS),r(JS),r(eE),r(tE))),G=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,X=null,Z=!0,J=!0,ee=!1,te=!1,ne=!1,ie=!1,oe=!1,re=!1,ae=!1,se=!1,le=!0,ce=!0,ue=!1,de={},he=null,pe=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),fe=null,me=p({},["audio","video","img","source","image","track"]),ge=null,ve=p({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",we="http://www.w3.org/1999/xhtml",_e=we,Ce=!1,xe=["application/xhtml+xml","text/html"],ke="text/html",Se=null,Ee=o.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(e){Se&&Se===e||(e&&"object"===t(e)||(e={}),e=f(e),W="ALLOWED_TAGS"in e?p({},e.ALLOWED_TAGS):V,Y="ALLOWED_ATTR"in e?p({},e.ALLOWED_ATTR):K,ge="ADD_URI_SAFE_ATTR"in e?p(f(ve),e.ADD_URI_SAFE_ATTR):ve,fe="ADD_DATA_URI_TAGS"in e?p(f(me),e.ADD_DATA_URI_TAGS):me,he="FORBID_CONTENTS"in e?p({},e.FORBID_CONTENTS):pe,Q="FORBID_TAGS"in e?p({},e.FORBID_TAGS):{},X="FORBID_ATTR"in e?p({},e.FORBID_ATTR):{},de="USE_PROFILES"in e&&e.USE_PROFILES,Z=!1!==e.ALLOW_ARIA_ATTR,J=!1!==e.ALLOW_DATA_ATTR,ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,te=e.SAFE_FOR_TEMPLATES||!1,ne=e.WHOLE_DOCUMENT||!1,re=e.RETURN_DOM||!1,ae=e.RETURN_DOM_FRAGMENT||!1,se=e.RETURN_TRUSTED_TYPE||!1,oe=e.FORCE_BODY||!1,le=!1!==e.SANITIZE_DOM,ce=!1!==e.KEEP_CONTENT,ue=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||U,_e=e.NAMESPACE||we,e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(G.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$=$=-1===xe.indexOf(e.PARSER_MEDIA_TYPE)?ke:e.PARSER_MEDIA_TYPE,j="application/xhtml+xml"===$?function(e){return e}:RS,te&&(J=!1),ae&&(re=!0),de&&(W=p({},r(XS)),Y=[],!0===de.html&&(p(W,WS),p(Y,ZS)),!0===de.svg&&(p(W,VS),p(Y,JS),p(Y,tE)),!0===de.svgFilters&&(p(W,YS),p(Y,JS),p(Y,tE)),!0===de.mathMl&&(p(W,GS),p(Y,eE),p(Y,tE))),e.ADD_TAGS&&(W===V&&(W=f(W)),p(W,e.ADD_TAGS)),e.ADD_ATTR&&(Y===K&&(Y=f(Y)),p(Y,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&p(ge,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(he===pe&&(he=f(he)),p(he,e.FORBID_CONTENTS)),ce&&(W["#text"]=!0),ne&&p(W,["html","head","body"]),W.table&&(p(W,["tbody"]),delete Q.tbody),OS&&OS(e),Se=e)},Oe=p({},["mi","mo","mn","ms","mtext"]),De=p({},["foreignobject","desc","title","annotation-xml"]),Ie=p({},["title","style","font","a","script"]),Pe=p({},VS);p(Pe,YS),p(Pe,KS);var Ne=p({},GS);p(Ne,QS);var Me=function(e){var t=k(e);t&&t.tagName||(t={namespaceURI:we,tagName:"template"});var n=RS(e.tagName),i=RS(t.tagName);return e.namespaceURI===ye?t.namespaceURI===we?"svg"===n:t.namespaceURI===be?"svg"===n&&("annotation-xml"===i||Oe[i]):Boolean(Pe[n]):e.namespaceURI===be?t.namespaceURI===we?"math"===n:t.namespaceURI===ye?"math"===n&&De[i]:Boolean(Ne[n]):e.namespaceURI===we&&(!(t.namespaceURI===ye&&!De[i])&&(!(t.namespaceURI===be&&!Oe[i])&&(!Ne[n]&&(Ie[n]||!Pe[n]))))},Le=function(e){jS(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=T}catch(t){e.remove()}}},$e=function(e,t){try{jS(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){jS(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Y[e])if(re||ae)try{Le(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},je=function(e){var t,n;if(oe)e="<remove></remove>"+e;else{var i=FS(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===$&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=E?E.createHTML(e):e;if(_e===we)try{t=(new b).parseFromString(r,$)}catch(e){}if(!t||!t.documentElement){t=O.createDocument(_e,"template",null);try{t.documentElement.innerHTML=Ce?"":r}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),_e===we?P.call(t,ne?"html":"body")[0]:ne?t.documentElement:a},Re=function(e){return D.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Fe=function(e){return e instanceof v&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},Be=function(e){return"object"===t(l)?e instanceof l:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},He=function(e,t,i){L[e]&&LS(L[e],(function(e){e.call(n,t,i,Se)}))},ze=function(e){var t;if(He("beforeSanitizeElements",e,null),Fe(e))return Le(e),!0;if(qS(/[\u0080-\uFFFF]/,e.nodeName))return Le(e),!0;var i=j(e.nodeName);if(He("uponSanitizeElement",e,{tagName:i,allowedTags:W}),e.hasChildNodes()&&!Be(e.firstElementChild)&&(!Be(e.content)||!Be(e.content.firstElementChild))&&qS(/<[/\w]/g,e.innerHTML)&&qS(/<[/\w]/g,e.textContent))return Le(e),!0;if("select"===i&&qS(/<template/i,e.innerHTML))return Le(e),!0;if(!W[i]||Q[i]){if(!Q[i]&&Ue(i)){if(G.tagNameCheck instanceof RegExp&&qS(G.tagNameCheck,i))return!1;if(G.tagNameCheck instanceof Function&&G.tagNameCheck(i))return!1}if(ce&&!he[i]){var o=k(e)||e.parentNode,r=x(e)||e.childNodes;if(r&&o)for(var a=r.length-1;a>=0;--a)o.insertBefore(_(r[a],!0),C(e))}return Le(e),!0}return e instanceof c&&!Me(e)?(Le(e),!0):"noscript"!==i&&"noembed"!==i||!qS(/<\/no(script|embed)/i,e.innerHTML)?(te&&3===e.nodeType&&(t=e.textContent,t=BS(t,R," "),t=BS(t,F," "),e.textContent!==t&&(jS(n.removed,{element:e.cloneNode()}),e.textContent=t)),He("afterSanitizeElements",e,null),!1):(Le(e),!0)},qe=function(e,t,n){if(le&&("id"===t||"name"===t)&&(n in o||n in Ee))return!1;if(J&&!X[t]&&qS(B,t));else if(Z&&qS(H,t));else if(!Y[t]||X[t]){if(!(Ue(e)&&(G.tagNameCheck instanceof RegExp&&qS(G.tagNameCheck,e)||G.tagNameCheck instanceof Function&&G.tagNameCheck(e))&&(G.attributeNameCheck instanceof RegExp&&qS(G.attributeNameCheck,t)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(t))||"is"===t&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&qS(G.tagNameCheck,n)||G.tagNameCheck instanceof Function&&G.tagNameCheck(n))))return!1}else if(ge[t]);else if(qS(U,BS(n,q,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==HS(n,"data:")||!fe[e]){if(ee&&!qS(z,BS(n,q,"")));else if(n)return!1}else;return!0},Ue=function(e){return e.indexOf("-")>0},We=function(e){var t,n,i,o;He("beforeSanitizeAttributes",e,null);var r=e.attributes;if(r){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y};for(o=r.length;o--;){var s=t=r[o],l=s.name,c=s.namespaceURI;n="value"===l?t.value:zS(t.value),i=j(l);var u=n;if(a.attrName=i,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,He("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(qS(/\/>/i,n))$e(l,e);else{te&&(n=BS(n,R," "),n=BS(n,F," "));var d=j(e.nodeName);if(qe(d,i,n)){if(n!==u)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){$e(l,e)}}else $e(l,e)}else $e(l,e)}He("afterSanitizeAttributes",e,null)}},Ve=function e(t){var n,i=Re(t);for(He("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)He("uponSanitizeShadowNode",n,null),ze(n)||(n.content instanceof a&&e(n.content),We(n));He("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(o,r){var s,c,u,d,h;if((Ce=!o)&&(o="<!-->"),"string"!=typeof o&&!Be(o)){if("function"!=typeof o.toString)throw US("toString is not a function");if("string"!=typeof(o=o.toString()))throw US("dirty is not a string, aborting")}if(!n.isSupported){if("object"===t(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof o)return e.toStaticHTML(o);if(Be(o))return e.toStaticHTML(o.outerHTML)}return o}if(ie||Ae(r),n.removed=[],"string"==typeof o&&(ue=!1),ue){if(o.nodeName){var p=j(o.nodeName);if(!W[p]||Q[p])throw US("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof l)1===(c=(s=je("<!---->")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!re&&!te&&!ne&&-1===o.indexOf("<"))return E&&se?E.createHTML(o):o;if(!(s=je(o)))return re?null:se?T:""}s&&oe&&Le(s.firstChild);for(var f=Re(ue?o:s);u=f.nextNode();)3===u.nodeType&&u===d||ze(u)||(u.content instanceof a&&Ve(u.content),We(u),d=u);if(d=null,ue)return o;if(re){if(ae)for(h=I.call(s.ownerDocument);s.firstChild;)h.appendChild(s.firstChild);else h=s;return Y.shadowroot&&(h=N.call(i,h,!0)),h}var m=ne?s.outerHTML:s.innerHTML;return ne&&W["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&qS(cE,s.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+m),te&&(m=BS(m,R," "),m=BS(m,F," ")),E&&se?E.createHTML(m):m},n.setConfig=function(e){Ae(e),ie=!0},n.clearConfig=function(){Se=null,ie=!1},n.isValidAttribute=function(e,t,n){Se||Ae({});var i=j(e),o=j(t);return qe(i,o,n)},n.addHook=function(e,t){"function"==typeof t&&(L[e]=L[e]||[],jS(L[e],t))},n.removeHook=function(e){if(L[e])return $S(L[e])},n.removeHooks=function(e){L[e]&&(L[e]=[])},n.removeAllHooks=function(){L={}},n}var v=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},b=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},y=function(e,t){return Array.prototype.slice.call(e).sort(t)},w=function(e,t){return _((function(n,i){return e.eq(t(n),t(i))}))},_=function(e){return{eq:e}},C=_((function(e,t){return e===t})),x=function(e){return _((function(t,n){if(t.length!==n.length)return!1;for(var i=t.length,o=0;o<i;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))},k=function(e,t){return w(x(e),(function(e){return y(e,t)}))},S=function(e){return _((function(t,n){var i=Object.keys(t),o=Object.keys(n);if(!k(C).eq(i,o))return!1;for(var r=i.length,a=0;a<r;a++){var s=i[a];if(!e.eq(t[s],n[s]))return!1}return!0}))},E=_((function(e,t){if(e===t)return!0;var n=v(e);return n===v(t)&&(b(n)?e===t:"array"===n?x(E).eq(e,t):"object"===n&&S(E).eq(e,t))}));const T=Object.getPrototypeOf,A=(e,t,n)=>{var i;return!!n(e,t.prototype)||(null===(i=e.constructor)||void 0===i?void 0:i.name)===t.name},O=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&A(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},D=e=>t=>O(t)===e,I=e=>t=>typeof t===e,P=e=>t=>e===t,N=(e,t)=>L(e)&&A(e,t,((e,t)=>T(e)===t)),M=D("string"),L=D("object"),$=e=>N(e,Object),j=D("array"),R=P(null),F=I("boolean"),B=P(void 0),H=e=>null==e,z=e=>!H(e),q=I("function"),U=I("number"),W=(e,t)=>{if(j(e)){for(let n=0,i=e.length;n<i;++n)if(!t(e[n]))return!1;return!0}return!1},V=()=>{},Y=(e,t)=>(...n)=>e(t.apply(null,n)),K=(e,t)=>n=>e(t(n)),G=e=>()=>e,Q=e=>e,X=(e,t)=>e===t,Z=e=>t=>!e(t),J=e=>()=>{throw new Error(e)},ee=e=>e(),te=e=>{e()},ne=G(!1),ie=G(!0);class oe{constructor(e,t){this.tag=e,this.value=t}static some(e){return new oe(!0,e)}static none(){return oe.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?oe.some(e(this.value)):oe.none()}bind(e){return this.tag?e(this.value):oe.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:oe.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return z(e)?oe.some(e):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const re=Array.prototype.slice,ae=Array.prototype.indexOf,se=Array.prototype.push,le=(e,t)=>ae.call(e,t),ce=(e,t)=>{const n=le(e,t);return-1===n?oe.none():oe.some(n)},ue=(e,t)=>le(e,t)>-1,de=(e,t)=>{for(let n=0,i=e.length;n<i;n++){if(t(e[n],n))return!0}return!1},he=(e,t)=>{const n=e.length,i=new Array(n);for(let o=0;o<n;o++){const n=e[o];i[o]=t(n,o)}return i},pe=(e,t)=>{for(let n=0,i=e.length;n<i;n++){t(e[n],n)}},fe=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},me=(e,t)=>{const n=[],i=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];(t(r,o)?n:i).push(r)}return{pass:n,fail:i}},ge=(e,t)=>{const n=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];t(o,i)&&n.push(o)}return n},ve=(e,t,n)=>(fe(e,((e,i)=>{n=t(n,e,i)})),n),be=(e,t,n)=>(pe(e,((e,i)=>{n=t(n,e,i)})),n),ye=(e,t,n)=>{for(let i=0,o=e.length;i<o;i++){const o=e[i];if(t(o,i))return oe.some(o);if(n(o,i))break}return oe.none()},we=(e,t)=>ye(e,t,ne),_e=(e,t)=>{for(let n=0,i=e.length;n<i;n++){if(t(e[n],n))return oe.some(n)}return oe.none()},Ce=e=>{const t=[];for(let n=0,i=e.length;n<i;++n){if(!j(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);se.apply(t,e[n])}return t},xe=(e,t)=>Ce(he(e,t)),ke=(e,t)=>{for(let n=0,i=e.length;n<i;++n){if(!0!==t(e[n],n))return!1}return!0},Se=e=>{const t=re.call(e,0);return t.reverse(),t},Ee=(e,t)=>ge(e,(e=>!ue(t,e))),Te=(e,t)=>{const n={};for(let i=0,o=e.length;i<o;i++){const o=e[i];n[String(o)]=t(o,i)}return n},Ae=(e,t)=>{const n=re.call(e,0);return n.sort(t),n},Oe=(e,t)=>t>=0&&t<e.length?oe.some(e[t]):oe.none(),De=e=>Oe(e,0),Ie=e=>Oe(e,e.length-1),Pe=q(Array.from)?Array.from:e=>re.call(e),Ne=(e,t)=>{for(let n=0;n<e.length;n++){const i=t(e[n],n);if(i.isSome())return i}return oe.none()},Me=(e,t)=>{const n=[],i=q(t)?e=>de(n,(n=>t(n,e))):e=>ue(n,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];i(o)||n.push(o)}return n},Le=Object.keys,$e=Object.hasOwnProperty,je=(e,t)=>{const n=Le(e);for(let i=0,o=n.length;i<o;i++){const o=n[i];t(e[o],o)}},Re=(e,t)=>Fe(e,((e,n)=>({k:n,v:t(e,n)}))),Fe=(e,t)=>{const n={};return je(e,((e,i)=>{const o=t(e,i);n[o.k]=o.v})),n},Be=e=>(t,n)=>{e[n]=t},He=(e,t,n,i)=>{const o={};return je(e,((e,o)=>{(t(e,o)?n:i)(e,o)})),o},ze=(e,t)=>{const n={},i={};return He(e,t,Be(n),Be(i)),{t:n,f:i}},qe=(e,t)=>{const n={};return He(e,t,Be(n),V),n},Ue=(e,t)=>{const n=[];return je(e,((e,i)=>{n.push(t(e,i))})),n},We=e=>Ue(e,Q),Ve=(e,t)=>Ye(e,t)?oe.from(e[t]):oe.none(),Ye=(e,t)=>$e.call(e,t),Ke=(e,t)=>Ye(e,t)&&void 0!==e[t]&&null!==e[t],Ge=(e,t,n=E)=>S(n).eq(e,t),Qe=e=>{const t={};return pe(e,(e=>{t[e]={}})),Le(t)},Xe=Array.isArray,Ze=e=>{if(Xe(e))return e;{const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=e[n];return t}},Je=(e,t,n)=>{let i,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(i=0,o=e.length;i<o;i++)if(!1===t.call(n,e[i],i,e))return!1}else for(i in e)if(Ye(e,i)&&!1===t.call(n,e[i],i,e))return!1;return!0},et=(e,t)=>{const n=[];return Je(e,((i,o)=>{n.push(t(i,o,e))})),n},tt=(e,t)=>{const n=[];return Je(e,((i,o)=>{t&&!t(i,o,e)||n.push(i)})),n},nt=(e,t)=>{if(e)for(let n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},it=(e,t,n,i)=>{let o=B(n)?e[0]:n;for(let n=0;n<e.length;n++)o=t.call(i,o,e[n],n);return o},ot=(e,t,n)=>{let i,o;for(i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return i;return-1},rt=e=>e[e.length-1],at=e=>{let t,n=!1;return(...i)=>(n||(n=!0,t=e.apply(null,i)),t)},st=(e,t,n,i)=>{const o=e.isiOS()&&!0===/ipad/i.test(n),r=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),s=a||i("(pointer:coarse)"),l=o||!r&&a&&i("(min-device-width:768px)"),c=r||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:G(o),isiPhone:G(r),isTablet:G(l),isPhone:G(c),isTouch:G(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:G(u),isDesktop:G(d)}},lt=(e,t)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.test(t))return i}},ct=(e,t)=>{const n=lt(e,t);if(!n)return{major:0,minor:0};const i=e=>Number(t.replace(n,"$"+e));return ht(i(1),i(2))},ut=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?dt():ct(e,n)},dt=()=>ht(0,0),ht=(e,t)=>({major:e,minor:t}),pt={nu:ht,detect:ut,unknown:dt},ft=(e,t)=>Ne(t.brands,(t=>{const n=t.brand.toLowerCase();return we(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:pt.nu(parseInt(t.version,10),0)})))})),mt=(e,t)=>{const n=String(t).toLowerCase();return we(e,(e=>e.search(n)))},gt=(e,t)=>mt(e,t).map((e=>{const n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})),vt=(e,t)=>mt(e,t).map((e=>{const n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})),bt=(e,t)=>e.substring(t),yt=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,wt=(e,t)=>Ct(e,t)?bt(e,t.length):e,_t=(e,t)=>-1!==e.indexOf(t),Ct=(e,t)=>yt(e,t,0),xt=(e,t)=>yt(e,t,e.length-t.length),kt=e=>t=>t.replace(e,""),St=kt(/^\s+|\s+$/g),Et=kt(/^\s+/g),Tt=kt(/\s+$/g),At=e=>e.length>0,Ot=e=>!At(e),Dt=(e,t)=>t<=0?"":new Array(t+1).join(e),It=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?oe.none():oe.some(n)},Pt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nt=e=>t=>_t(t,e),Mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>_t(e,"edge/")&&_t(e,"chrome")&&_t(e,"safari")&&_t(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pt],search:e=>_t(e,"chrome")&&!_t(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>_t(e,"msie")||_t(e,"trident")},{name:"Opera",versionRegexes:[Pt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nt("firefox")},{name:"Safari",versionRegexes:[Pt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(_t(e,"safari")||_t(e,"mobile/"))&&_t(e,"applewebkit")}],Lt=[{name:"Windows",search:Nt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>_t(e,"iphone")||_t(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{
name:"Android",search:Nt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Nt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nt("linux"),versionRegexes:[]},{name:"Solaris",search:Nt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Nt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$t={browsers:G(Mt),oses:G(Lt)},jt="Edge",Rt="Chromium",Ft="IE",Bt="Opera",Ht="Firefox",zt="Safari",qt=()=>Ut({current:void 0,version:pt.unknown()}),Ut=e=>{const t=e.current,n=e.version,i=e=>()=>t===e;return{current:t,version:n,isEdge:i(jt),isChromium:i(Rt),isIE:i(Ft),isOpera:i(Bt),isFirefox:i(Ht),isSafari:i(zt)}},Wt={unknown:qt,nu:Ut,edge:G(jt),chromium:G(Rt),ie:G(Ft),opera:G(Bt),firefox:G(Ht),safari:G(zt)},Vt="Windows",Yt="iOS",Kt="Android",Gt="Linux",Qt="macOS",Xt="Solaris",Zt="FreeBSD",Jt="ChromeOS",en=()=>tn({current:void 0,version:pt.unknown()}),tn=e=>{const t=e.current,n=e.version,i=e=>()=>t===e;return{current:t,version:n,isWindows:i(Vt),isiOS:i(Yt),isAndroid:i(Kt),isMacOS:i(Qt),isLinux:i(Gt),isSolaris:i(Xt),isFreeBSD:i(Zt),isChromeOS:i(Jt)}},nn={unknown:en,nu:tn,windows:G(Vt),ios:G(Yt),android:G(Kt),linux:G(Gt),macos:G(Qt),solaris:G(Xt),freebsd:G(Zt),chromeos:G(Jt)},on=(e,t,n)=>{const i=$t.browsers(),o=$t.oses(),r=t.bind((e=>ft(i,e))).orThunk((()=>gt(i,e))).fold(Wt.unknown,Wt.nu),a=vt(o,e).fold(nn.unknown,nn.nu);return{browser:r,os:a,deviceType:st(a,r,e,n)}},rn={detect:on},an=e=>window.matchMedia(e).matches;let sn=at((()=>rn.detect(navigator.userAgent,oe.from(navigator.userAgentData),an)));const ln=()=>sn(),cn=navigator.userAgent,un=ln(),dn=un.browser,hn=un.os,pn=un.deviceType,fn=-1!==cn.indexOf("Windows Phone"),mn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:dn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!dn.isIE(),windowsPhone:fn,browser:{current:dn.current,version:dn.version,isChromium:dn.isChromium,isEdge:dn.isEdge,isFirefox:dn.isFirefox,isIE:dn.isIE,isOpera:dn.isOpera,isSafari:dn.isSafari},os:{current:hn.current,version:hn.version,isAndroid:hn.isAndroid,isChromeOS:hn.isChromeOS,isFreeBSD:hn.isFreeBSD,isiOS:hn.isiOS,isLinux:hn.isLinux,isMacOS:hn.isMacOS,isSolaris:hn.isSolaris,isWindows:hn.isWindows},deviceType:{isDesktop:pn.isDesktop,isiPad:pn.isiPad,isiPhone:pn.isiPhone,isPhone:pn.isPhone,isTablet:pn.isTablet,isTouch:pn.isTouch,isWebView:pn.isWebView}},gn=/^\s*|\s*$/g,vn=e=>null==e?"":(""+e).replace(gn,""),bn=(e,t)=>t?!("array"!==t||!Xe(e))||typeof e===t:void 0!==e,yn=(e,t,n)=>{let i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},wn=(e,...t)=>{for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if(Ye(i,t)){const n=i[t];void 0!==n&&(e[t]=n)}}return e},_n=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),Je(e,((e,o)=>{if(!1===t.call(i,e,o,n))return!1;_n(e,t,n,i)})))},Cn=(e,t)=>!e||bn(e,"array")?e:et(e.split(t||","),vn),xn={trim:vn,isArray:Xe,is:bn,toArray:Ze,makeMap:yn,each:Je,map:et,grep:tt,inArray:nt,hasOwn:Ye,extend:wn,walk:_n,resolve:(e,t)=>{let n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:Cn,_addCacheSuffix:e=>{const t=mn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},kn=(e,t,n=X)=>e.exists((e=>n(e,t))),Sn=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},En=(e,t,n)=>e.isSome()&&t.isSome()?oe.some(n(e.getOrDie(),t.getOrDie())):oe.none(),Tn=(e,t,n,i)=>e.isSome()&&t.isSome()&&n.isSome()?oe.some(i(e.getOrDie(),t.getOrDie(),n.getOrDie())):oe.none(),An=(e,t)=>e?oe.some(t):oe.none();"undefined"!=typeof window?window:Function("return this;")();const On=8,Dn=9,In=11,Pn=1,Nn=3,Mn=e=>e.dom.nodeName.toLowerCase(),Ln=e=>e.dom.nodeType,$n=e=>t=>Ln(t)===e,jn=e=>Ln(e)===On||"#comment"===Mn(e),Rn=$n(Pn),Fn=$n(Nn),Bn=$n(Dn),Hn=$n(In),zn=e=>t=>Rn(t)&&Mn(t)===e,qn=(e,t,n)=>{if(!(M(n)||F(n)||U(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Un=(e,t,n)=>{qn(e.dom,t,n)},Wn=(e,t)=>{const n=e.dom;je(t,((e,t)=>{qn(n,t,e)}))},Vn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Yn=(e,t)=>oe.from(Vn(e,t)),Kn=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Gn=(e,t)=>{e.dom.removeAttribute(t)},Qn=e=>{const t=e.dom.attributes;return null==t||0===t.length},Xn=e=>be(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Zn=(e,t)=>{const n=Vn(e,t);return void 0===n||""===n?[]:n.split(" ")},Jn=(e,t,n)=>{const i=Zn(e,t).concat([n]);return Un(e,t,i.join(" ")),!0},ei=(e,t,n)=>{const i=ge(Zn(e,t),(e=>e!==n));return i.length>0?Un(e,t,i.join(" ")):Gn(e,t),!1},ti=e=>void 0!==e.dom.classList,ni=e=>Zn(e,"class"),ii=(e,t)=>Jn(e,"class",t),oi=(e,t)=>ei(e,"class",t),ri=(e,t)=>ue(ni(e),t)?oi(e,t):ii(e,t),ai=(e,t)=>{ti(e)?e.dom.classList.add(t):ii(e,t)},si=e=>{0===(ti(e)?e.dom.classList:ni(e)).length&&Gn(e,"class")},li=(e,t)=>{if(ti(e)){e.dom.classList.remove(t)}else oi(e,t);si(e)},ci=(e,t)=>{const n=ti(e)?e.dom.classList.toggle(t):ri(e,t);return si(e),n},ui=(e,t)=>ti(e)&&e.dom.classList.contains(t),di=e=>void 0!==e.style&&q(e.style.getPropertyValue),hi=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return mi(n.childNodes[0])},pi=(e,t)=>{const n=(t||document).createElement(e);return mi(n)},fi=(e,t)=>{const n=(t||document).createTextNode(e);return mi(n)},mi=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},gi={fromHtml:hi,fromTag:pi,fromText:fi,fromDom:mi,fromPoint:(e,t,n)=>oe.from(e.dom.elementFromPoint(t,n)).map(mi)},vi=(e,t)=>{const n=[],i=e=>(n.push(e),t(e));let o=t(e);do{o=o.bind(i)}while(o.isSome());return n},bi=(e,t)=>{const n=e.dom;if(n.nodeType!==Pn)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},yi=e=>e.nodeType!==Pn&&e.nodeType!==Dn&&e.nodeType!==In||0===e.childElementCount,wi=(e,t)=>{const n=void 0===t?document:t.dom;return yi(n)?[]:he(n.querySelectorAll(e),gi.fromDom)},_i=(e,t)=>{const n=void 0===t?document:t.dom;return yi(n)?oe.none():oe.from(n.querySelector(e)).map(gi.fromDom)},Ci=(e,t)=>e.dom===t.dom,xi=(e,t)=>{const n=e.dom,i=t.dom;return n!==i&&n.contains(i)},ki=e=>gi.fromDom(e.dom.ownerDocument),Si=e=>Bn(e)?e:ki(e),Ei=e=>gi.fromDom(Si(e).dom.documentElement),Ti=e=>gi.fromDom(Si(e).dom.defaultView),Ai=e=>oe.from(e.dom.parentNode).map(gi.fromDom),Oi=e=>oe.from(e.dom.parentElement).map(gi.fromDom),Di=(e,t)=>{const n=q(t)?t:ne;let i=e.dom;const o=[];for(;null!==i.parentNode&&void 0!==i.parentNode;){const e=i.parentNode,t=gi.fromDom(e);if(o.push(t),!0===n(t))break;i=e}return o},Ii=e=>{const t=t=>ge(t,(t=>!Ci(e,t)));return Ai(e).map($i).map(t).getOr([])},Pi=e=>oe.from(e.dom.previousSibling).map(gi.fromDom),Ni=e=>oe.from(e.dom.nextSibling).map(gi.fromDom),Mi=e=>Se(vi(e,Pi)),Li=e=>vi(e,Ni),$i=e=>he(e.dom.childNodes,gi.fromDom),ji=(e,t)=>{const n=e.dom.childNodes;return oe.from(n[t]).map(gi.fromDom)},Ri=e=>ji(e,0),Fi=e=>ji(e,e.dom.childNodes.length-1),Bi=e=>e.dom.childNodes.length,Hi=e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return gi.fromDom(t)},zi=e=>Hn(e)&&z(e.dom.host),qi=q(Element.prototype.attachShadow)&&q(Node.prototype.getRootNode),Ui=G(qi),Wi=qi?e=>gi.fromDom(e.dom.getRootNode()):Si,Vi=e=>zi(e)?e:Hi(Si(e)),Yi=e=>{const t=Wi(e);return zi(t)?oe.some(t):oe.none()},Ki=e=>gi.fromDom(e.dom.host),Gi=e=>{if(Ui()&&z(e.target)){const t=gi.fromDom(e.target);if(Rn(t)&&Qi(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return De(t)}}return oe.from(e.target)},Qi=e=>z(e.dom.shadowRoot),Xi=e=>{const t=Fn(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Yi(gi.fromDom(t)).fold((()=>n.body.contains(t)),K(Xi,Ki))},Zi=(e,t,n)=>{if(!M(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);di(e)&&e.style.setProperty(t,n)},Ji=(e,t)=>{di(e)&&e.style.removeProperty(t)},eo=(e,t,n)=>{const i=e.dom;Zi(i,t,n)},to=(e,t)=>{const n=e.dom;je(t,((e,t)=>{Zi(n,t,e)}))},no=(e,t)=>{const n=e.dom,i=window.getComputedStyle(n).getPropertyValue(t);return""!==i||Xi(e)?i:io(n,t)},io=(e,t)=>di(e)?e.style.getPropertyValue(t):"",oo=(e,t)=>{const n=e.dom,i=io(n,t);return oe.from(i).filter((e=>e.length>0))},ro=e=>{const t={},n=e.dom;if(di(n))for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t[i]=n.style[i]}return t},ao=(e,t)=>{const n=e.dom;Ji(n,t),kn(Yn(e,"style").map(St),"")&&Gn(e,"style")},so=e=>e.dom.offsetWidth,lo=(e,t)=>{Ai(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},co=(e,t)=>{Ni(e).fold((()=>{Ai(e).each((e=>{ho(e,t)}))}),(e=>{lo(e,t)}))},uo=(e,t)=>{Ri(e).fold((()=>{ho(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},ho=(e,t)=>{e.dom.appendChild(t.dom)},po=(e,t)=>{lo(e,t),ho(t,e)},fo=(e,t)=>{pe(t,((n,i)=>{const o=0===i?e:t[i-1];co(o,n)}))},mo=(e,t)=>{pe(t,(t=>{ho(e,t)}))},go=e=>{e.dom.textContent="",pe($i(e),(e=>{vo(e)}))},vo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},bo=e=>{const t=$i(e);t.length>0&&fo(e,t),vo(e)},yo=(e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,$i(gi.fromDom(n))},wo=e=>he(e,gi.fromDom),_o=e=>e.dom.innerHTML,Co=(e,t)=>{const n=ki(e).dom,i=gi.fromDom(n.createDocumentFragment()),o=yo(t,n);mo(i,o),go(e),ho(e,i)},xo=e=>{const t=gi.fromTag("div"),n=gi.fromDom(e.dom.cloneNode(!0));return ho(t,n),_o(t)},ko=(e,t,n,i,o,r,a)=>({target:e,x:t,y:n,stop:i,prevent:o,kill:r,raw:a}),So=e=>{const t=gi.fromDom(Gi(e).getOr(e.target)),n=()=>e.stopPropagation(),i=()=>e.preventDefault(),o=Y(i,n);return ko(t,e.clientX,e.clientY,n,i,o,e)},Eo=(e,t)=>n=>{e(n)&&t(So(n))},To=(t,n,i,o,r)=>{const a=Eo(i,o);return t.dom.addEventListener(n,a,r),{unbind:e(Oo,t,n,a,r)}},Ao=(e,t,n,i)=>To(e,t,n,i,!1),Oo=(e,t,n,i)=>{e.dom.removeEventListener(t,n,i)},Do=(e,t)=>({left:e,top:t,translate:(n,i)=>Do(e+n,t+i)}),Io=Do,Po=e=>{const t=e.getBoundingClientRect();return Io(t.left,t.top)},No=(e,t)=>void 0!==e?e:void 0!==t?t:0,Mo=e=>{const t=e.dom.ownerDocument,n=t.body,i=t.defaultView,o=t.documentElement;if(n===e.dom)return Io(n.offsetLeft,n.offsetTop);const r=No(null==i?void 0:i.pageYOffset,o.scrollTop),a=No(null==i?void 0:i.pageXOffset,o.scrollLeft),s=No(o.clientTop,n.clientTop),l=No(o.clientLeft,n.clientLeft);return Lo(e).translate(a-l,r-s)},Lo=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Io(n.offsetLeft,n.offsetTop):Xi(e)?Po(t):Io(0,0)},$o=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return Io(n,i)},jo=(e,t,n)=>{const i=(void 0!==n?n.dom:document).defaultView;i&&i.scrollTo(e,t)},Ro=(e,t)=>{ln().browser.isSafari()&&q(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Fo=e=>{const t=void 0===e?window:e;return ln().browser.isFirefox()?oe.none():oe.from(t.visualViewport)},Bo=(e,t,n,i)=>({x:e,y:t,width:n,height:i,right:e+n,bottom:t+i}),Ho=e=>{const t=void 0===e?window:e,n=t.document,i=$o(gi.fromDom(n));return Fo(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Bo(i.left,i.top,n,o)}),(e=>Bo(Math.max(e.pageLeft,i.left),Math.max(e.pageTop,i.top),e.width,e.height)))},zo=e=>t=>!!t&&t.nodeType===e,qo=e=>!!e&&!Object.getPrototypeOf(e),Uo=zo(1),Wo=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return ue(t,n)}return!1}},Vo=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Uo(t))for(let i=0;i<n.length;i++){const o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[i])return!0}return!1}},Yo=e=>t=>Uo(t)&&t.hasAttribute(e),Ko=(e,t)=>n=>Uo(n)&&n.getAttribute(e)===t,Go=e=>Uo(e)&&e.hasAttribute("data-mce-bogus"),Qo=e=>Uo(e)&&"all"===e.getAttribute("data-mce-bogus"),Xo=e=>Uo(e)&&"TABLE"===e.tagName,Zo=e=>t=>{if(Uo(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Jo=Wo(["textarea","input"]),er=zo(3),tr=zo(4),nr=zo(7),ir=zo(8),or=zo(9),rr=zo(11),ar=Wo(["br"]),sr=Wo(["img"]),lr=Zo("true"),cr=Zo("false"),ur=Wo(["td","th"]),dr=Wo(["video","audio","object","embed"]),hr=ln().browser,pr=e=>we(e,Rn),fr=e=>hr.isFirefox()&&"table"===Mn(e)?pr($i(e)).filter((e=>"caption"===Mn(e))).bind((e=>pr(Li(e)).map((t=>{const n=t.dom.offsetTop,i=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=i?-o:0})))).getOr(0):0,mr=(e,t)=>e.children&&ue(e.children,t),gr=(e,t,n)=>{let i=0,o=0;const r=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===no(gi.fromDom(e),"position")){const n=t.getBoundingClientRect();return i=n.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft,o=n.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop,{x:i,y:o}}let a=t;for(;a&&a!==n&&a.nodeType&&!mr(a,n);){const e=a;i+=e.offsetLeft||0,o+=e.offsetTop||0,a=e.offsetParent}for(a=t.parentNode;a&&a!==n&&a.nodeType&&!mr(a,n);)i-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;o+=fr(gi.fromDom(t))}return{x:i,y:o}};var vr=(e,t,n,i,o)=>e(n,i)?oe.some(n):q(o)&&o(n)?oe.none():t(n,i,o);const br=(e,t,n)=>{let i=e.dom;const o=q(n)?n:ne;for(;i.parentNode;){i=i.parentNode;const e=gi.fromDom(i);if(t(e))return oe.some(e);if(o(e))break}return oe.none()},yr=(e,t,n)=>vr(((e,t)=>t(e)),br,e,t,n),wr=(e,t)=>{const n=e.dom;return n.parentNode?_r(gi.fromDom(n.parentNode),(n=>!Ci(e,n)&&t(n))):oe.none()},_r=(e,t)=>{const n=e=>t(gi.fromDom(e));return we(e.dom.childNodes,n).map(gi.fromDom)},Cr=(e,t)=>{const n=e=>{for(let i=0;i<e.childNodes.length;i++){const o=gi.fromDom(e.childNodes[i]);if(t(o))return oe.some(o);const r=n(e.childNodes[i]);if(r.isSome())return r}return oe.none()};return n(e.dom)},xr=(e,t,n)=>br(e,(e=>bi(e,t)),n),kr=(e,t)=>_i(t,e),Sr=(e,t,n)=>{const i=(e,t)=>bi(e,t);return vr(i,xr,e,t,n)},Er=(e,t={})=>{let n=0;const i={},o=gi.fromDom(e),r=Si(o),a=t.maxLoadTime||5e3,s=e=>{ho(Vi(o),e)},l=e=>{const t=Vi(o);kr(t,"#"+e).each(vo)},c=e=>Ve(i,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),u=n=>new Promise(((o,l)=>{let u;const d=xn._addCacheSuffix(n),h=c(d);i[d]=h,h.count++;const p=(e,t)=>{pe(e,te),h.status=t,h.passed=[],h.failed=[],u&&(u.onload=null,u.onerror=null,u=null)},f=()=>p(h.passed,2),m=()=>p(h.failed,3),g=(e,t)=>{e()||(Date.now()-y<a?setTimeout(t):m())},v=()=>{g((()=>{const t=e.styleSheets;let n=t.length;for(;n--;){const e=t[n].ownerNode;if(e&&e.id===u.id)return f(),!0}return!1}),v)};if(o&&h.passed.push(o),l&&h.failed.push(l),1===h.status)return;if(2===h.status)return void f();if(3===h.status)return void m();h.status=1;const b=gi.fromTag("link",r.dom);Wn(b,{rel:"stylesheet",type:"text/css",id:h.id});const y=Date.now();t.contentCssCors&&Un(b,"crossOrigin","anonymous"),t.referrerPolicy&&Un(b,"referrerpolicy",t.referrerPolicy),u=b.dom,u.onload=v,u.onerror=m,s(b),Un(b,"href",d)})),d=e=>Promise.allSettled(he(e,(e=>u(e).then(G(e))))).then((e=>{const t=me(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(he(t.fail,(e=>e.reason))):he(t.pass,(e=>e.value))})),h=e=>{const t=xn._addCacheSuffix(e);Ve(i,t).each((e=>{0===--e.count&&(delete i[t],l(e.id))}))},p=e=>{pe(e,(e=>{h(e)}))};return{load:u,loadAll:d,unload:h,unloadAll:p,_setReferrerPolicy:e=>{t.referrerPolicy=e}}},Tr=()=>{const e=new WeakMap;return{forElement:(t,n)=>{const i=Wi(t).dom;return oe.from(e.get(i)).getOrThunk((()=>{const t=Er(i,n);return e.set(i,t),t}))}}},Ar=Tr();class Or{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,i){let o,r;if(e){if(!i&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n],o)return o;for(r=e.parentNode;r&&r!==this.rootNode;r=r.parentNode)if(o=r[n],o)return o}}}findPreviousNode(e,t){let n,i,o;if(e){if(n=e.previousSibling,this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(o=n.lastChild;o;o=o.lastChild)if(!o.lastChild)return o;return n}if(i=e.parentNode,i&&i!==this.rootNode)return i}}}const Dr=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Ir=["td","th"],Pr=["thead","tbody","tfoot"],Nr=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Mr=["h1","h2","h3","h4","h5","h6"],Lr=["li","dd","dt"],$r=["ul","ol","dl"],jr=["pre","script","textarea","style"],Rr=["pre"].concat(Mr),Fr=e=>{let t;return n=>(t=t||Te(e,ie),Ye(t,Mn(n)))},Br=Fr(Dr),Hr=e=>"table"===Mn(e),zr=e=>Rn(e)&&!Br(e),qr=e=>Rn(e)&&"br"===Mn(e),Ur=Fr(Nr),Wr=Fr($r),Vr=Fr(Lr),Yr=Fr(Pr),Kr=Fr(Ir),Gr=Fr(jr),Qr=Fr(Rr),Xr=e=>Qr(e)||zr(e),Zr=(e,t,n)=>xr(e,t,n).isSome(),Jr="\ufeff",ea="\xa0",ta=e=>e===Jr,na=e=>e.replace(/\uFEFF/g,""),ia=(e,t)=>{let n=[];return pe($i(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(ia(e,t))})),n},oa=(e,t)=>wi(t,e),ra=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return i(n).getOr("")},i=t=>e(t)?oe.from(t.dom.nodeValue):oe.none(),o=(n,i)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=i};return{get:n,getOption:i,set:o}},aa=ra(Fn,"text"),sa=e=>aa.get(e),la=e=>aa.getOption(e),ca=e=>{const t=[];let n=e.dom;for(;n;)t.push(gi.fromDom(n)),n=n.lastChild;return t},ua=e=>{const t=oa(e,"br"),n=ge(ca(e).slice(-1),qr);t.length===n.length&&pe(n,vo)},da=()=>{const e=gi.fromTag("br");return Un(e,"data-mce-bogus","1"),e},ha=e=>{go(e),ho(e,da())},pa=e=>{Fi(e).each((t=>{Pi(t).each((n=>{Br(e)&&qr(t)&&Br(n)&&vo(t)}))}))},fa=Jr,ma=ta,ga=na,va=Uo,ba=er,ya=e=>(ba(e)&&(e=e.parentNode),va(e)&&e.hasAttribute("data-mce-caret")),wa=e=>ba(e)&&ma(e.data),_a=e=>ya(e)||wa(e),Ca=e=>e.firstChild!==e.lastChild||!ar(e.firstChild),xa=(e,t)=>{const n=e.ownerDocument.createTextNode(fa),i=e.parentNode;if(t){const t=e.previousSibling;if(ba(t)){if(_a(t))return t;if(Aa(t))return t.splitText(t.data.length-1)}i.insertBefore(n,e)}else{const t=e.nextSibling;if(ba(t)){if(_a(t))return t;if(Ta(t))return t.splitText(1),t}e.nextSibling?i.insertBefore(n,e.nextSibling):i.appendChild(n)}return n},ka=e=>{const t=e.container();return!!er(t)&&(t.data.charAt(e.offset())===fa||e.isAtStart()&&wa(t.previousSibling))},Sa=e=>{const t=e.container();return!!er(t)&&(t.data.charAt(e.offset()-1)===fa||e.isAtEnd()&&wa(t.nextSibling))},Ea=(e,t,n)=>{const i=t.ownerDocument.createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(da().dom);const o=t.parentNode;return n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i},Ta=e=>ba(e)&&e.data[0]===fa,Aa=e=>ba(e)&&e.data[e.data.length-1]===fa,Oa=e=>{const t=e.getElementsByTagName("br"),n=t[t.length-1];Go(n)&&n.parentNode.removeChild(n)},Da=e=>e&&e.hasAttribute("data-mce-caret")?(Oa(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ia=e=>ya(e.startContainer),Pa=lr,Na=cr,Ma=ar,La=er,$a=Wo(["script","style","textarea"]),ja=Wo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ra=Wo(["table"]),Fa=_a,Ba=e=>!Fa(e)&&(La(e)?!$a(e.parentNode):ja(e)||Ma(e)||Ra(e)||za(e)),Ha=e=>Uo(e)&&"true"===e.getAttribute("unselectable"),za=e=>!1===Ha(e)&&Na(e),qa=(e,t)=>{for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(za(e))return!1;if(Pa(e))return!0}return!0},Ua=e=>!!za(e)&&!0!==be(Pe(e.getElementsByTagName("*")),((e,t)=>e||Pa(t)),!1),Wa=e=>ja(e)||Ua(e),Va=(e,t)=>Ba(e)&&qa(e,t),Ya=/^[ \t\r\n]*$/,Ka=e=>Ya.test(e),Ga=e=>-1!==" \f\t\v".indexOf(e),Qa=e=>"\n"===e||"\r"===e,Xa=(e,t)=>t<e.length&&t>=0&&Qa(e[t]),Za=(e,t=4,n=!0,i=!0)=>{const o=Dt(" ",t),r=e.replace(/\t/g,o);return be(r,((e,t)=>Ga(t)||t===ea?e.pcIsSpace||""===e.str&&n||e.str.length===r.length-1&&i||Xa(r,e.str.length+1)?{pcIsSpace:!1,str:e.str+ea}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:Qa(t),str:e.str+t}),{pcIsSpace:!1,str:""}).str},Ja=(t,n)=>{const i=gi.fromDom(n),o=gi.fromDom(t);return Zr(o,"pre,code",e(Ci,i))},es=(e,t)=>er(e)&&Ka(e.data)&&!1===Ja(e,t),ts=e=>Uo(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),ns=(e,t)=>Ba(e)&&!1===es(e,t)||ts(e)||is(e),is=Yo("data-mce-bookmark"),os=Yo("data-mce-bogus"),rs=Ko("data-mce-bogus","all"),as=(e,t)=>{let n=0;if(ns(e,e))return!1;{let i=e.firstChild;if(!i)return!0;const o=new Or(i,e);do{if(t){if(rs(i)){i=o.next(!0);continue}if(os(i)){i=o.next();continue}}if(ar(i))n++,i=o.next();else{if(ns(i,e))return!1;i=o.next()}}while(i);return n<=1}},ss=(e,t=!0)=>as(e.dom,t),ls=e=>"span"===e.nodeName.toLowerCase(),cs=(e,t)=>z(e)&&(ns(e,t)||zr(gi.fromDom(e))),us=(e,t)=>{const n=new Or(e,t).prev(!1),i=new Or(e,t).next(!1),o=B(n)||cs(n,t),r=B(i)||cs(i,t);return o&&r},ds=e=>ls(e)&&"bookmark"===e.getAttribute("data-mce-type"),hs=(e,t)=>er(e)&&e.data.length>0&&us(e,t),ps=e=>!!Uo(e)&&e.childNodes.length>0,fs=e=>rr(e)||or(e),ms=(e,t,n)=>{const i=n||t;if(Uo(t)&&ds(t))return t;const o=t.childNodes;for(let t=o.length-1;t>=0;t--)ms(e,o[t],i);if(Uo(t)){const e=t.childNodes;1===e.length&&ds(e[0])&&t.parentNode.insertBefore(e[0],t)}return fs(t)||ns(t,i)||ps(t)||hs(t,i)||e.remove(t),t},gs=xn.makeMap,vs=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bs=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ys=/[<>&\"\']/g,ws=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,_s={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},Cs={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},xs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ks=e=>{const t=gi.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ss=(e,t)=>{let n,i,o;const r={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),Cs[i]||(o="&"+e[n+1]+";",r[i]=o,r[o]=i);return r}},Es=Ss("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ts=(e,t)=>e.replace(t?vs:bs,(e=>Cs[e]||e)),As=e=>(""+e).replace(ys,(e=>Cs[e]||e)),Os=(e,t)=>e.replace(t?vs:bs,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Cs[e]||"&#"+e.charCodeAt(0)+";")),Ds=(e,t,n)=>(n=n||Es,e.replace(t?vs:bs,(e=>Cs[e]||n[e]||e))),Is=(e,t)=>{const n=Ss(t)||Es,i=(e,t)=>e.replace(t?vs:bs,(e=>void 0!==Cs[e]?Cs[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),o=(e,t)=>Ds(e,t,n),r=gs(e.replace(/\+/g,","));return r.named&&r.numeric?i:r.named?t?o:Ds:r.numeric?Os:Ts},Ps=e=>e.replace(ws,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):_s[t]||String.fromCharCode(t):xs[e]||Es[e]||ks(e))),Ns={encodeRaw:Ts,encodeAllRaw:As,encodeNumeric:Os,encodeNamed:Ds,getEncodeFunc:Is,decode:Ps},Ms={},Ls={},$s=xn.makeMap,js=xn.each,Rs=xn.extend,Fs=xn.explode,Bs=xn.inArray,Hs=(e,t)=>(e=xn.trim(e))?e.split(t||" "):[],zs=(e,t)=>{const n=$s(e," ",$s(e.toUpperCase()," "));return Rs(n,t)},qs=e=>zs("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Us=e=>{const t={};let n,i,o,r,a,s;const l=(e,i="",o="")=>{const r=Hs(o),a=Hs(e);let s=a.length;for(;s--;){const e=Hs([n,i].join(" "));t[a[s]]={attributes:Te(e,(()=>({}))),attributesOrder:e,children:Te(r,G(Ls))}}},c=(e,n)=>{const i=Hs(e),o=Hs(n);let r=i.length;for(;r--;){const e=t[i[r]];for(let t=0,n=o.length;t<n;t++)e.attributes[o[t]]={},e.attributesOrder.push(o[t])}};return Ms[e]?Ms[e]:(n="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(n+=" xml:lang",s="acronym applet basefont big font strike tt",o=[o,s].join(" "),js(Hs(s),(e=>{l(e,"",o)})),a="center dir isindex noframes",i=[i,a].join(" "),r=[i,o].join(" "),js(Hs(a),(e=>{l(e,"",r)}))),r=r||[i,o].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",o),l("q","cite",o),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",o),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:o),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==e&&(l("wbr"),l("ruby","",[o,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",o),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[o,"option"].join(" ")),l("article section nav aside main header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",o),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",o),l("progress","value max",o),l("meter","value min max low high optimum",o),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),
"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),"html4"!==e&&pe([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),js(Hs("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,Ms[e]=t,t)},Ws=(e,t)=>{let n;return e&&(n={},"string"==typeof e&&(e={"*":e}),js(e,((e,i)=>{n[i]=n[i.toUpperCase()]="map"===t?$s(e,/[, ]/):Fs(e,/[, ]/)}))),n},Vs=e=>{var t;const n={},i={};let o=[];const r={},a={},s=(t,n,i)=>{let o=e[t];return o?o=$s(o,/[, ]/,$s(o.toUpperCase(),/[, ]/)):(o=Ms[t],o||(o=zs(n,i),Ms[t]=o)),o},l=null!==(t=(e=e||{}).schema)&&void 0!==t?t:"html5",c=Us(l);!1===e.verify_html&&(e.valid_elements="*[*]");const u=Ws(e.valid_styles),d=Ws(e.invalid_styles,"map"),h=Ws(e.valid_classes,"map"),p=s("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=s("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",b=s("non_empty_elements",v+" pre",m),y=s("move_caret_before_on_enter_elements",v+" table",m),w=s("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),_=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),C=s("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");js("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{a[e]=new RegExp("</"+e+"[^>]*>","gi")}));const x=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),k=e=>{let t,i,r,a,s,l,c,u,d,h,p,f,m,g,v,b,y,w;const _=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,k=/[*?+]/;if(e){const S=Hs(e,",");for(n["@"]&&(b=n["@"].attributes,y=n["@"].attributesOrder),t=0,i=S.length;t<i;t++)if(s=_.exec(S[t]),s){if(g=s[1],d=s[2],v=s[3],u=s[5],f={},m=[],l={attributes:f,attributesOrder:m},"#"===g&&(l.paddEmpty=!0),"-"===g&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),b&&(je(b,((e,t)=>{f[t]=e})),m.push.apply(m,y)),u)for(u=Hs(u,"|"),r=0,a=u.length;r<a;r++)if(s=C.exec(u[r]),s){if(c={},p=s[1],h=s[2].replace(/[\\:]:/g,":"),g=s[3],w=s[4],"!"===p&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(h),c.required=!0),"-"===p){delete f[h],m.splice(Bs(m,h),1);continue}g&&("="===g&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:h,value:w}),c.defaultValue=w),"~"===g&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:h,value:w}),c.forcedValue=w),"<"===g&&(c.validValues=$s(w,"?"))),k.test(h)?(l.attributePatterns=l.attributePatterns||[],c.pattern=x(h),l.attributePatterns.push(c)):(f[h]||m.push(h),f[h]=c)}b||"@"!==d||(b=f,y=m),v&&(l.outputName=d,n[v]=l),k.test(d)?(l.pattern=x(d),o.push(l)):n[d]=l}}},S=e=>{o=[],pe(Le(n),(e=>{delete n[e]})),k(e),js(c,((e,t)=>{i[t]=e.children}))},E=e=>{const t=/^(~)?(.+)$/;e&&(Ms.text_block_elements=Ms.block_elements=null,js(Hs(e,","),(e=>{const o=t.exec(e),a="~"===o[1],s=a?"span":"div",l=o[2];if(i[l]=i[s],r[l]=s,b[l.toUpperCase()]={},b[l]={},a||(_[l.toUpperCase()]={},_[l]={}),!n[l]){let e=n[s];e=Rs({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[l]=e}js(i,((e,t)=>{e[s]&&(i[t]=e=Rs({},i[t]),e[l]=e[s])}))})))},T=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ms[l]=null,e&&js(Hs(e,","),(e=>{const n=t.exec(e);let o,r;n&&(r=n[1],o=r?i[n[2]]:i[n[2]]={"#comment":{}},o=i[n[2]],js(Hs(n[3],"|"),(e=>{"-"===r?delete o[e]:o[e]={}})))}))},A=e=>{let t,i=n[e];if(i)return i;for(t=o.length;t--;)if(i=o[t],i.pattern.test(e))return i};e.valid_elements?S(e.valid_elements):(js(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},i[t]=e.children})),js(Hs("strong/b em/i"),(e=>{const t=Hs(e,"/");n[t[1]].outputName=t[0]})),js(C,((t,i)=>{n[i]&&(e.padd_empty_block_inline_children&&(n[i].paddInEmptyBlock=!0),n[i].removeEmpty=!0)})),js(Hs("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),js(Hs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{n[e].paddEmpty=!0})),js(Hs("span"),(e=>{n[e].removeEmptyAttrs=!0}))),E(e.custom_elements),T(e.valid_children),k(e.extended_valid_elements),T("+ol[ul|ol],+ul[ul|ol]"),js({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=Hs(e))})),e.invalid_elements&&js(Fs(e.invalid_elements),(e=>{n[e]&&delete n[e]})),A("span")||k("span[!data-mce-type|*]");const O=G(u),D=G(d),I=G(h),P=G(g),N=G(_),M=G(w),L=G(C),$=G(Object.seal(m)),j=G(f),R=G(b),F=G(y),B=G(p),H=G(Object.seal(a)),z=(e,t)=>{const n=i[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},q=(e,t)=>{let n,i;const o=A(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns,n)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},U=G(r);return{type:l,children:i,elements:n,getValidStyles:O,getValidClasses:I,getBlockElements:N,getInvalidStyles:D,getVoidElements:$,getTextBlockElements:M,getTextInlineElements:L,getBoolAttrs:P,getElementRule:A,getSelfClosingElements:j,getNonEmptyElements:R,getMoveCaretBeforeOnEnterElements:F,getWhitespaceElements:B,getSpecialElements:H,isValidChild:z,isValid:q,getCustomElements:U,addValidElements:k,setValidElements:S,addCustomElements:E,addValidChildren:T}},Ys=(e,t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/;let r;const a={};let s,l;const c=Jr;e=e||{},t&&(s=t.getValidStyles(),l=t.getInvalidStyles());const u=("\\\" \\' \\; \\: ; : "+c).split(" ");for(r=0;r<u.length;r++)a[u[r]]=c+r,a[c+r]=u[r];const d={parse:t=>{const s={};let l,u,h,p;const f=e.url_converter,m=e.url_converter_scope||d,g=(e,t,n)=>{const i=s[e+"-top"+t];if(!i)return;const o=s[e+"-right"+t];if(!o)return;const a=s[e+"-bottom"+t];if(!a)return;const l=s[e+"-left"+t];if(!l)return;const c=[i,o,a,l];for(r=c.length-1;r--&&c[r]===c[r+1];);r>-1&&n||(s[e+t]=-1===r?c[0]:c.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},v=e=>{let t,n=s[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return s[e]=n[0],!0}},b=(e,t,n,i)=>{v(t)&&v(n)&&v(i)&&(s[e]=s[t]+" "+s[n]+" "+s[i],delete s[t],delete s[n],delete s[i])},y=e=>(p=!0,a[e]),w=(e,t)=>(p&&(e=e.replace(/\uFEFF[0-9]/g,(e=>a[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),_=e=>String.fromCharCode(parseInt(e.slice(1),16)),C=e=>e.replace(/\\[0-9a-f]+/gi,_),x=(t,n,i,o,r,a)=>{if(r=r||a)return"'"+(r=w(r)).replace(/\'/g,"\\'")+"'";if(n=w(n||i||o),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return f&&(n=f.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,y)));l=i.exec(t);)if(i.lastIndex=l.index+l[0].length,u=l[1].replace(o,"").toLowerCase(),h=l[2].replace(o,""),u&&h){if(u=C(u),h=C(h),-1!==u.indexOf(c)||-1!==u.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===u||/expression\s*\(|\/\*|\*\//.test(h)))continue;"font-weight"===u&&"700"===h?h="bold":"color"!==u&&"background-color"!==u||(h=h.toLowerCase()),h=h.replace(n,x),s[u]=p?w(h,!0):h}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),b("border","border-width","border-style","border-color"),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}return s},serialize:(e,t)=>{let n="";const i=t=>{let i;const o=s[t];if(o)for(let r=0,a=o.length;r<a;r++)t=o[r],i=e[t],i&&(n+=(n.length>0?" ":"")+t+": "+i+";")},o=(e,t)=>{let n=l["*"];return(!n||!n[e])&&(n=l[t],!(n&&n[e]))};return t&&s?(i("*"),i(t)):je(e,((e,i)=>{!e||l&&!o(i,t)||(n+=(n.length>0?" ":"")+i+": "+e+";")})),n}};return d},Ks={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Gs=e=>e instanceof Event||q(e.initEvent),Qs=e=>e.isDefaultPrevented===ie||e.isDefaultPrevented===ne,Xs=e=>H(e.preventDefault)||Gs(e),Zs=(e,t)=>{const n=null!=t?t:{};for(const t in e)Ye(Ks,t)||(n[t]=e[t]);return z(n.composedPath)&&(n.composedPath=()=>e.composedPath()),n},Js=(e,t,n,i)=>{var o;const r=Zs(t,i);return r.type=e,H(r.target)&&(r.target=null!==(o=r.srcElement)&&void 0!==o?o:n),Xs(t)&&(r.preventDefault=()=>{r.defaultPrevented=!0,r.isDefaultPrevented=ie,q(t.preventDefault)&&t.preventDefault()},r.stopPropagation=()=>{r.cancelBubble=!0,r.isPropagationStopped=ie,q(t.stopPropagation)&&t.stopPropagation()},r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=ie,r.stopPropagation()},Qs(r)||(r.isDefaultPrevented=!0===r.defaultPrevented?ie:ne,r.isPropagationStopped=!0===r.cancelBubble?ie:ne,r.isImmediatePropagationStopped=ne)),r},el="mce-data-",tl=/^(?:mouse|contextmenu)|click/,nl=(e,t,n,i)=>{e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},il=(e,t,n,i)=>{e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},ol=e=>z(e)&&tl.test(e.type),rl=(e,t)=>{const n=Js(e.type,e,document,t);if(ol(e)&&B(e.pageX)&&!B(e.clientX)){const t=n.target.ownerDocument||document,i=t.documentElement,o=t.body,r=n;r.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}return n},al=(e,t,n)=>{const i=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);const r=()=>{il(e,"DOMContentLoaded",r),il(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};(()=>"complete"===i.readyState||"interactive"===i.readyState&&i.body)()?r():nl(e,"DOMContentLoaded",r),n.domLoaded||nl(e,"load",r)};class sl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=el+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,i){const o=this;let r,a,s,l,c,u,d;const h=window,p=e=>{o.executeHandlers(rl(e||h.event),r)};if(!e||3===e.nodeType||8===e.nodeType)return;e[o.expando]?r=e[o.expando]:(r=o.count++,e[o.expando]=r,o.events[r]={}),i=i||e;const f=t.split(" ");for(s=f.length;s--;)l=f[s],u=p,c=d=!1,"DOMContentLoaded"===l&&(l="ready"),o.domLoaded&&"ready"===l&&"complete"===e.readyState?n.call(i,rl({type:l})):(o.hasMouseEnterLeave||(c=o.mouseEnterLeave[l],c&&(u=e=>{const t=e.currentTarget;let n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=rl(e||h.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,o.executeHandlers(e,r))})),o.hasFocusIn||"focusin"!==l&&"focusout"!==l||(d=!0,c="focusin"===l?"focus":"blur",u=e=>{(e=rl(e||h.event)).type="focus"===e.type?"focusin":"focusout",o.executeHandlers(e,r)}),a=o.events[r][l],a?"ready"===l&&o.domLoaded?n(rl({type:l})):a.push({func:n,scope:i}):(o.events[r][l]=a=[{func:n,scope:i}],a.fakeName=c,a.capture=d,a.nativeHandler=u,"ready"===l?al(e,u,o):nl(e,c||l,u,d)));return e=a=null,n}unbind(e,t,n){let i,o,r,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;const l=e[this.expando];if(l){if(s=this.events[l],t){const l=t.split(" ");for(o=l.length;o--;)if(a=l[o],i=s[a],i){if(n)for(r=i.length;r--;)if(i[r].func===n){const e=i.nativeHandler,t=i.fakeName,n=i.capture;i=i.slice(0,r).concat(i.slice(r+1)),i.nativeHandler=e,i.fakeName=t,i.capture=n,s[a]=i}n&&0!==i.length||(delete s[a],il(e,i.fakeName||a,i.nativeHandler,i.capture))}}else je(s,((t,n)=>{il(e,t.fakeName||n,t.nativeHandler,t.capture)})),s={};for(a in s)if(Ye(s,a))return this;delete this.events[l];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){let i;if(!e||3===e.nodeType||8===e.nodeType)return this;const o=rl({type:t,target:e},n);do{i=e[this.expando],i&&this.executeHandlers(o,i),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){let t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],i=n&&n[e.type];if(i)for(let t=0,n=i.length;t<n;t++){const n=i[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}sl.Event=new sl;const ll=xn.each,cl=xn.grep,ul="data-mce-style",dl=(e,t,n)=>{H(n)||""===n?Gn(e,t):Un(e,t,n)},hl=(e,t,n)=>{const i=t.keep_values,o={set:(e,i,o)=>{const r=gi.fromDom(e);q(t.url_converter)&&z(i)&&(i=t.url_converter.call(t.url_converter_scope||n(),i,o,e[0]));dl(r,"data-mce-"+o,i),dl(r,o,i)},get:(e,t)=>{const n=gi.fromDom(e);return Vn(n,"data-mce-"+t)||Vn(n,t)}},r={style:{set:(t,n)=>{const o=gi.fromDom(t);L(n)?to(o,n):(i&&dl(o,ul,n),Gn(o,"style"),M(n)&&to(o,e.parse(n)))},get:t=>{const n=gi.fromDom(t),i=Vn(n,ul)||Vn(n,"style");return e.serialize(e.parse(i),Mn(n))}}};return i&&(r.href=r.src=o),r},pl=(e,t)=>{const n=Vn(t,"style"),i=e.serialize(e.parse(n),Mn(t));dl(t,ul,i)},fl=(e,t)=>{let n,i,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(o++,n=i);return o},ml=xn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),gl=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),vl=(e,t={})=>{const n={},i=window,o={};let r=0;const a=!0,s=!0,l=Ar.forElement(gi.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],u=t.schema?t.schema:Vs({}),d=Ys({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new sl:sl.Event,p=u.getBlockElements(),f=e=>M(e)?Ye(p,e):Uo(e)&&Ye(p,e.nodeName),m=t=>t&&e&&M(t)?e.getElementById(t):t,g=e=>{const t=m(e);return z(t)?gi.fromDom(t):null},v=(e,t,n)=>{let i;const o=g(e);if(z(o)&&Rn(o)){const e=Ee[t];i=e&&e.get?e.get(o.dom,t):Vn(o,t)}return z(i)?i:null!=n?n:""},b=e=>{const t=m(e);return H(t)?[]:t.attributes},y=(e,n,i)=>{R(e,(e=>{if(Uo(e)){const o=gi.fromDom(e);""===i&&(i=null);const r=Vn(o,n),a=Ee[n];a&&a.set?a.set(o.dom,i,n):dl(o,n,i),r!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:i})}}))},w=(e,t)=>e.cloneNode(t),_=()=>t.root_element||e.body,C=e=>{const t=Ho(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},x=(t,n)=>gr(e.body,m(t),n),k=(e,n,i)=>{const o=(e,t)=>M(e)?e:U(e)?Ye(ml,t)?e+"":e+"px":Re(e,o),r=(e,t,n)=>{const i=gl(t);H(n)||""===n?ao(e,i):eo(e,i,o(n,i))};R(e,(e=>{const o=gi.fromDom(e);M(n)?r(o,n,i):je(n,((e,t)=>{r(o,t,e)})),t.update_styles&&pl(d,o)}))},S=(e,t)=>{k(e,t)},E=(e,t,n)=>{const i=m(e);if(!H(i)&&Uo(i))return n?no(gi.fromDom(i),gl(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),i.style?i.style[t]:void 0)},T=e=>{let t,n;const i=m(e);return t=E(i,"width"),n=E(i,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||i.offsetWidth||i.clientWidth,h:parseInt(n,10)||i.offsetHeight||i.clientHeight}},A=e=>{const t=m(e),n=x(t),i=T(t);return{x:n.x,y:n.y,w:i.w,h:i.h}},O=(e,t)=>{if(!e)return!1;const n=j(e)?e:[e];return de(n,(e=>bi(gi.fromDom(e),t)))},D=(e,t,n,i)=>{const o=[];let r,a=m(e);for(i=void 0===i,n=n||("BODY"!==_().nodeName?_().parentNode:null),M(t)&&(r=t,t="*"===t?Uo:e=>O(e,r));a&&!(a===n||H(a.nodeType)||or(a)||rr(a));){if(!t||t(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null},I=(e,t,n)=>{const i=D(e,t,n,!1);return i&&i.length>0?i[0]:null},P=(e,t,n)=>{let i=t;if(e)for(M(t)&&(i=e=>O(e,t)),e=e[n];e;e=e[n])if(q(i)&&i(e))return e;return null},N=(e,t)=>P(e,t,"nextSibling"),L=(e,t)=>P(e,t,"previousSibling"),$=(n,i)=>{var o,r;const a=null!==(r=null!==(o=m(i))&&void 0!==o?o:t.root_element)&&void 0!==r?r:e;return Pe(a.querySelectorAll(n))},R=function(e,t,n){const i=null!=n?n:this,o=M(e)?m(e):e;if(!o)return!1;if(j(o)&&(o.length||0===o.length)){const e=[];return ll(o,((n,o)=>{n&&e.push(t.call(i,M(n)?m(n):n,o))})),e}return t.call(i,o)},F=(e,t)=>{R(e,(e=>{je(t,((t,n)=>{y(e,n,t)}))}))},B=(e,t)=>{R(e,(e=>{const n=gi.fromDom(e);Co(n,t)}))},W=(t,n,i,o,r)=>R(t,(t=>{const a=M(n)?e.createElement(n):n;return z(i)&&F(a,i),o&&(!M(o)&&o.nodeType?a.appendChild(o):M(o)&&B(a,o)),r?a:t.appendChild(a)})),Y=(t,n,i)=>W(e.createElement(t),t,n,i,!0),K=Ns.decode,Q=Ns.encodeAllRaw,X=(e,t,n="")=>{let i,o="";for(i in o+="<"+e,t)Ke(t,i)&&(o+=" "+i+'="'+Q(t[i])+'"');return Ot(n)&&Ye(u.getVoidElements(),e)?o+" />":o+">"+n+"</"+e+">"},Z=t=>{let n;const i=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(i),t&&(i.innerHTML=t);n=i.firstChild;)o.appendChild(n);return o.removeChild(i),o},J=(e,t)=>R(e,(e=>{const n=gi.fromDom(e);return t&&pe($i(n),(e=>{Fn(e)&&0===e.dom.length?vo(e):lo(n,e)})),vo(n),n.dom})),ee=e=>d.parse(e),te=(e,t)=>d.serialize(e,t),ne=t=>{let i,o;if(Se!==vl.DOM&&e===document){if(n[t])return;n[t]=!0}o=e.getElementById("mceDefaultStyles"),o||(o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",i=e.getElementsByTagName("head")[0],i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},ie=e=>{e||(e=""),pe(e.split(","),(e=>{o[e]=!0,l.load(e).catch(V)}))},oe=(e,t,n)=>{R(e,(e=>{if(Uo(e)){const i=gi.fromDom(e),o=t.split(" ");pe(o,(e=>{if(z(n)){(n?ai:li)(i,e)}else ci(i,e)}))}}))},re=(e,t)=>{R(e,(e=>{Uo(e)&&(e.outerHTML=t)}))},ae=(e,t)=>{const n=m(t);return R(e,(e=>{const t=n.parentNode,i=n.nextSibling;return i?t.insertBefore(e,i):t.appendChild(e),e}))},se=(e,t,n)=>R(t,(t=>(j(t)&&(e=e.cloneNode(!0)),n&&ll(cl(t.childNodes),(t=>{e.appendChild(t)})),t.parentNode.replaceChild(e,t)))),le=(e,t)=>{let n;return e.nodeName!==t.toUpperCase()&&(n=Y(t),ll(b(e),(t=>{y(n,t.nodeName,v(e,t.nodeName))})),se(n,e,!0)),n||e},ce=e=>{if(Uo(e)){const t="a"===e.nodeName.toLowerCase()&&!v(e,"href")&&v(e,"id");if(v(e,"name")||v(e,"data-mce-bookmark")||t)return!0}return!1},ue=(e,t)=>{let n,i,o=0;if(ce(e))return!1;if(e=e.firstChild){const r=new Or(e,e.parentNode),a=u?u.getWhitespaceElements():{};t=t||(u?u.getNonEmptyElements():null);do{if(n=e.nodeType,Uo(e)){const n=e.getAttribute("data-mce-bogus");if(n){e=r.next("all"===n);continue}if(i=e.nodeName.toLowerCase(),t&&t[i]){if("br"===i){o++,e=r.next();continue}return!1}if(ce(e))return!1}if(8===n)return!1;if(3===n&&!Ka(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Ka(e.nodeValue))return!1;e=r.next()}while(e)}return o<=1},he=()=>e.createRange(),fe=(e,t,n)=>{let i,o,r,a=he();if(e&&t)return a.setStart(e.parentNode,fl(e)),a.setEnd(t.parentNode,fl(t)),i=a.extractContents(),a=he(),a.setStart(t.parentNode,fl(t)+1),a.setEnd(e.parentNode,fl(e)+1),o=a.extractContents(),r=e.parentNode,r.insertBefore(ms(Se,i),e),n?r.insertBefore(n,e):r.insertBefore(t,e),r.insertBefore(ms(Se,o),e),J(e),n||t},me=(n,o,r,a)=>{if(j(n)){let e=n.length;const t=[];for(;e--;)t[e]=me(n[e],o,r,a);return t}return!t.collect||n!==e&&n!==i||c.push([n,o,r,a]),h.bind(n,o,r,a||Se)},ge=(t,n,o)=>{if(j(t)){let e=t.length;const i=[];for(;e--;)i[e]=ge(t[e],n,o);return i}if(c.length>0&&(t===e||t===i)){let e=c.length;for(;e--;){const i=c[e];t!==i[0]||n&&n!==i[1]||o&&o!==i[2]||h.unbind(i[0],i[1],i[2])}}return h.unbind(t,n,o)},ve=(e,t,n)=>h.dispatch(e,t,n),be=(e,t,n)=>h.dispatch(e,t,n),ye=e=>{if(e&&Uo(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},we=e=>{const t=_();let n=null;for(;e&&e!==t&&(n=ye(e),null===n);e=e.parentNode);return n},_e=()=>{if(c.length>0){let e=c.length;for(;e--;){const t=c[e];h.unbind(t[0],t[1],t[2])}}je(o,((e,t)=>{l.unload(t),delete o[t]}))},Ce=(e,t)=>e===t||t.contains(e),xe=e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset,Se={doc:e,settings:t,win:i,files:o,stdMode:a,boxModel:s,styleSheetLoader:l,boundEvents:c,styles:d,schema:u,events:h,isBlock:f,root:null,clone:w,getRoot:_,getViewPort:C,getRect:A,getSize:T,getParent:I,getParents:D,get:m,getNext:N,getPrev:L,select:$,is:O,add:W,create:Y,createHTML:X,createFragment:Z,remove:J,setStyle:k,getStyle:E,setStyles:S,removeAllAttribs:e=>R(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:y,setAttribs:F,getAttrib:v,getPos:x,parseStyle:ee,serializeStyle:te,addStyle:ne,loadCSS:ie,addClass:(e,t)=>{oe(e,t,!0)},removeClass:(e,t)=>{oe(e,t,!1)},hasClass:(e,t)=>{const n=g(e),i=t.split(" ");return ke(i,(e=>ui(n,e)))},toggleClass:oe,show:e=>{R(e,(e=>ao(gi.fromDom(e),"display")))},hide:e=>{R(e,(e=>eo(gi.fromDom(e),"display","none")))},isHidden:e=>{const t=g(e);return kn(oo(t,"display"),"none")},uniqueId:e=>(e||"mce_")+r++,setHTML:B,getOuterHTML:e=>{const t=g(e);return Uo(t.dom)?t.dom.outerHTML:xo(t)},setOuterHTML:re,decode:K,encode:Q,insertAfter:ae,replace:se,rename:le,findCommonAncestor:(e,t)=>{let n,i=e;for(;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},run:R,getAttribs:b,isEmpty:ue,createRng:he,nodeIndex:fl,split:fe,bind:me,unbind:ge,fire:be,dispatch:ve,getContentEditable:ye,getContentEditableParent:we,destroy:_e,isChildOf:Ce,dumpRng:xe},Ee=hl(d,t,G(Se));return Se};vl.DOM=vl(document),vl.nodeIndex=fl;const bl=vl.DOM,yl=0,wl=1,_l=2,Cl=3;class xl{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const i=bl;let o;const r=()=>{i.remove(l),o&&(o.onerror=o.onload=o=null)},a=()=>{r(),t()},s=()=>{r(),n("Failed to load script: "+e)},l=i.uniqueId();o=document.createElement("script"),o.id=l,o.type="text/javascript",o.src=xn._addCacheSuffix(e),this.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=a,o.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}isDone(e){return this.states[e]===_l}markDone(e){this.states[e]=_l}add(e){const t=this;t.queue.push(e);return void 0===t.states[e]&&(t.states[e]=yl),new Promise(((n,i)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:i})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Ve(t.scriptLoadedCallbacks,n).each((t=>{pe(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},i=e=>{const t=ge(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(xe(t,(({reason:e})=>j(e)?e:[e]))):Promise.resolve()},o=e=>Promise.allSettled(he(e,(e=>t.states[e]===_l?(n("resolve",e),Promise.resolve()):t.states[e]===Cl?(n("reject",e),Promise.reject(e)):(t.states[e]=wl,t.loadScript(e).then((()=>{t.states[e]=_l,n("resolve",e);const r=t.queue;if(r.length>0)return t.queue=[],o(r).then(i)}),(()=>(t.states[e]=Cl,n("reject",e),Promise.reject(e)))))))),r=e=>(t.loading=!0,o(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return oe.from(n).each(te),i(e)}))),a=Qe(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>r(a).then(e,n)))})):r(a)}}xl.ScriptLoader=new xl;const kl=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Sl=e=>L(e)&&Ye(e,"raw"),El=e=>j(e)&&e.length>1,Tl={},Al=kl("en"),Ol=()=>Ve(Tl,Al.get()),Dl=()=>Re(Tl,(e=>({...e}))),Il=(e,t)=>{let n=Tl[e];n||(Tl[e]=n={}),je(t,((e,t)=>{n[t.toLowerCase()]=e}))},Pl=e=>{const t=Ol().getOr({}),n=e=>q(e)?Object.prototype.toString.call(e):i(e)?"":""+e,i=e=>""===e||null==e,o=e=>{const i=n(e);return Ve(t,i.toLowerCase()).map(n).getOr(i)},r=e=>e.replace(/{context:\w+}$/,"");if(i(e))return"";if(Sl(e))return n(e.raw);if(El(e)){const t=e.slice(1);return r(o(e[0]).replace(/\{([0-9]+)\}/g,((e,i)=>Ye(t,i)?n(t[i]):e)))}return r(o(e))},Nl={getData:Dl,setCode:e=>{e&&Al.set(e)},getCode:()=>Al.get(),add:Il,translate:Pl,isRtl:()=>Ol().bind((e=>Ve(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>Ye(Tl,e)},Ml=()=>{const e=[],t={},n={},i=[],o=(e,t)=>{const n=ge(i,(n=>n.name===e&&n.state===t));pe(n,(e=>e.resolve()))},r=e=>Ye(t,e),a=e=>Ye(n,e),s=e=>{if(n[e])return n[e].instance},l=(e,n)=>{const i=Nl.getCode();!i||n&&-1===(","+(n||"")+",").indexOf(","+i+",")||xl.ScriptLoader.add(t[e]+"/langs/"+i+".js")},c=(e,t)=>{!1!==Ml.languageLoad&&(r(e)?l(e,t):p(e,"loaded").then((()=>l(e,t))))},u=(t,i)=>(e.push(i),n[t]={instance:i},o(t,"added"),i),d=e=>{delete t[e],delete n[e]},h=(e,i)=>{if(t[e])return Promise.resolve();let r=M(i)?i:i.prefix+i.resource+i.suffix;0!==r.indexOf("/")&&-1===r.indexOf("://")&&(r=Ml.baseURL+"/"+r),t[e]=r.substring(0,r.lastIndexOf("/"));const a=()=>(o(e,"loaded"),Promise.resolve());return n[e]?a():xl.ScriptLoader.add(r).then(a)},p=(e,t="added")=>"added"===t&&a(e)||"loaded"===t&&r(e)?Promise.resolve():new Promise((n=>{i.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:s,requireLangPack:c,add:u,remove:d,createUrl:(e,t)=>M(t)?M(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:h,waitFor:p}};Ml.languageLoad=!0,Ml.baseURL="",Ml.PluginManager=Ml(),Ml.ThemeManager=Ml(),Ml.ModelManager=Ml();const Ll=e=>{const t=kl(oe.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(oe.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(oe.some(e))}}},$l=()=>{const e=Ll(V),t=t=>e.get().each(t);return{...e,on:t}},jl=(e,t)=>{let n=null;return{cancel:()=>{R(n)||(clearTimeout(n),n=null)},throttle:(...i)=>{R(n)&&(n=setTimeout((()=>{n=null,e.apply(null,i)}),t))}}},Rl=(e,t)=>{let n=null;const i=()=>{R(n)||(clearTimeout(n),n=null)},o=(...o)=>{i(),n=setTimeout((()=>{n=null,e.apply(null,o)}),t)};return{cancel:i,throttle:o}},Fl=G("mce-annotation"),Bl=G("data-mce-annotation"),Hl=G("data-mce-annotation-uid"),zl=G("data-mce-annotation-active"),ql=G("data-mce-annotation-classes"),Ul=G("data-mce-annotation-attrs"),Wl=e=>t=>Ci(t,e),Vl=(e,t)=>{const n=e.selection.getRng(),i=gi.fromDom(n.startContainer),o=gi.fromDom(e.getBody()),r=t.fold((()=>"."+Fl()),(e=>`[${Bl()}="${e}"]`)),a=ji(i,n.startOffset).getOr(i),s=Sr(a,r,Wl(o)),l=(e,t)=>Kn(e,t)?oe.some(Vn(e,t)):oe.none();return s.bind((t=>l(t,`${Hl()}`).bind((n=>l(t,`${Bl()}`).map((t=>{const i=Gl(e,n);return{uid:n,name:t,elements:i}}))))))},Yl=e=>Rn(e)&&ui(e,Fl()),Kl=(e,t)=>Kn(e,"data-mce-bogus")||Zr(e,'[data-mce-bogus="all"]',Wl(t)),Gl=(e,t)=>{const n=gi.fromDom(e.getBody()),i=oa(n,`[${Hl()}="${t}"]`);return ge(i,(e=>!Kl(e,n)))},Ql=(e,t)=>{const n=gi.fromDom(e.getBody()),i=oa(n,`[${Bl()}="${t}"]`),o={};return pe(i,(e=>{if(!Kl(e,n)){const t=Vn(e,Hl()),n=Ve(o,t).getOr([]);o[t]=n.concat([e])}})),o},Xl=(e,t)=>{const n=kl({}),i=()=>({listeners:[],previous:$l()}),o=(e,t)=>{r(e,(e=>(t(e),e)))},r=(e,t)=>{const o=n.get(),r=t(Ve(o,e).getOrThunk(i));o[e]=r,n.set(o)},a=(e,t,n)=>{o(e,(i=>{pe(i.listeners,(i=>i(!0,e,{uid:t,nodes:he(n,(e=>e.dom))})))}))},s=e=>{o(e,(t=>{pe(t.listeners,(t=>t(!1,e)))}))},l=(t,n)=>{pe(Gl(e,t),(e=>{n?Un(e,zl(),"true"):Gn(e,zl())}))},c=Rl((()=>{const n=Ae(t.getNames());pe(n,(t=>{r(t,(n=>{const i=n.previous.get();return Vl(e,oe.some(t)).fold((()=>{i.each((e=>{s(t),n.previous.clear(),l(e,!1)}))}),(({uid:e,name:t,elements:o})=>{kn(i,e)||(i.each((e=>l(e,!1))),a(t,e,o),n.previous.set(e),l(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(()=>{c.cancel()})),e.on("NodeChange",(()=>{c.throttle()}));const u=(e,t)=>{r(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))};return{addListener:u}},Zl=(e,t)=>{const n=Bl(),i=e=>oe.from(e.attr(n)).bind(t.lookup),o=e=>{var t,n;e.attr(Hl(),null),e.attr(Bl(),null),e.attr(zl(),null);const i=oe.from(e.attr(Ul())).map((e=>e.split(","))).getOr([]),o=oe.from(e.attr(ql())).map((e=>e.split(","))).getOr([]);pe(i,(t=>e.attr(t,null)));const r=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],a=Ee(r,[Fl()].concat(o));e.attr("class",a.length>0?a.join(" "):null),e.attr(ql(),null),e.attr(Ul(),null)};e.serializer.addTempAttr(zl()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)i(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))}))},Jl=()=>{const e={},t=(t,n)=>{e[t]={name:t,settings:n}},n=t=>Ve(e,t).map((e=>e.settings));return{register:t,lookup:n,getNames:()=>Le(e)}};let ec=0;const tc=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return ec++,e+"_"+n+ec+String(t)},nc=(e,t)=>{pe(t,(t=>{ai(e,t)}))},ic=(e,t)=>{pe(t,(t=>{li(e,t)}))},oc=(e,t)=>gi.fromDom(e.dom.cloneNode(t)),rc=e=>oc(e,!1),ac=e=>oc(e,!0),sc=(e,t)=>{const n=gi.fromTag(t),i=Xn(e);return Wn(n,i),n},lc=(e,t)=>{const n=sc(e,t);co(e,n);const i=$i(e);return mo(n,i),vo(e),n},cc=(e,t,n=ne)=>{const i=new Or(e,t),o=e=>{let t;do{t=i[e]()}while(t&&!er(t)&&!n(t));return oe.from(t).filter(er)};return{current:()=>oe.from(i.current()).filter(er),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},uc=(e,t)=>{const n=t||(t=>e.isBlock(t)||ar(t)||cr(t)),i=(e,t,n,o)=>{if(er(e)){const n=o(e,t,e.data);if(-1!==n)return oe.some({container:e,offset:n})}return n().bind((e=>i(e.container,e.offset,n,o)))},o=(e,t,o,r)=>{const a=cc(e,r,n);return i(e,t,(()=>a.prev().map((e=>({container:e,offset:e.length})))),o).getOrNull()},r=(e,t,o,r)=>{const a=cc(e,r,n);return i(e,t,(()=>a.next().map((e=>({container:e,offset:0})))),o).getOrNull()};return{backwards:o,forwards:r}},dc=Math.round,hc=e=>e?{left:dc(e.left),top:dc(e.top),bottom:dc(e.bottom),right:dc(e.right),width:dc(e.width),height:dc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},pc=(e,t)=>(e=hc(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),fc=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,mc=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,gc=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&mc(t.top-e.bottom,e,t)},vc=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&mc(t.bottom-e.top,e,t),bc=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,yc=e=>be(e,((e,t)=>e.fold((()=>oe.some(t)),(e=>{const n=Math.min(t.left,e.left),i=Math.min(t.top,e.top),o=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom);return oe.some({top:i,right:o,bottom:r,left:n,width:o-n,height:r-i})}))),oe.none()),wc=(e,t,n)=>{const i=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-i)*(t-i)+(n-o)*(n-o))},_c=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Cc=(e,t,n)=>Math.min(Math.max(e,t),n),xc=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},kc=(e,t)=>{if(Uo(e)&&e.hasChildNodes()){const n=e.childNodes;return n[Cc(t,0,n.length-1)]}return e
},Sc=(e,t)=>t<0&&Uo(e)&&e.hasChildNodes()?void 0:kc(e,t),Ec=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Tc=e=>"string"==typeof e&&e.charCodeAt(0)>=768&&Ec.test(e),Ac=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},Oc=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},Dc=Uo,Ic=Ba,Pc=Vo("display","block table"),Nc=Vo("float","left right"),Mc=Oc(Dc,Ic,Z(Nc)),Lc=Z(Vo("white-space","pre pre-line pre-wrap")),$c=er,jc=ar,Rc=vl.nodeIndex,Fc=Sc,Bc=e=>"createRange"in e?e.createRange():vl.DOM.createRng(),Hc=e=>e&&/[\r\n\t ]/.test(e),zc=e=>!!e.setStart&&!!e.setEnd,qc=e=>{const t=e.startContainer,n=e.startOffset;if(Hc(e.toString())&&Lc(t.parentNode)&&er(t)){const e=t.data;if(Hc(e[n-1])||Hc(e[n+1]))return!0}return!1},Uc=e=>{const t=e.ownerDocument,n=Bc(t),i=t.createTextNode(ea),o=e.parentNode;o.insertBefore(i,e),n.setStart(i,0),n.setEnd(i,1);const r=hc(n.getBoundingClientRect());return o.removeChild(i),r},Wc=e=>{const t=e.startContainer,n=e.endContainer,i=e.startOffset,o=e.endOffset;if(t===n&&er(n)&&0===i&&1===o){const t=e.cloneRange();return t.setEndAfter(n),Yc(t)}return null},Vc=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Yc=e=>{let t;const n=e.getClientRects();return t=n.length>0?hc(n[0]):hc(e.getBoundingClientRect()),!zc(e)&&jc(e)&&Vc(t)?Uc(e):Vc(t)&&zc(e)?Wc(e):t},Kc=(e,t)=>{const n=pc(e,t);return n.width=1,n.right=n.left+1,n},Gc=e=>{const t=[],n=e=>{0!==e.height&&(t.length>0&&fc(e,t[t.length-1])||t.push(e))},i=(e,i)=>{const o=Bc(e.ownerDocument);if(i<e.data.length){if(Tc(e.data[i]))return t;if(Tc(e.data[i-1])&&(o.setStart(e,i),o.setEnd(e,i+1),!qc(o)))return n(Kc(Yc(o),!1)),t}i>0&&(o.setStart(e,i-1),o.setEnd(e,i),qc(o)||n(Kc(Yc(o),!1))),i<e.data.length&&(o.setStart(e,i),o.setEnd(e,i+1),qc(o)||n(Kc(Yc(o),!0)))},o=e.container(),r=e.offset();if($c(o))return i(o,r),t;if(Dc(o))if(e.isAtEnd()){const e=Fc(o,r);$c(e)&&i(e,e.data.length),Mc(e)&&!jc(e)&&n(Kc(Yc(e),!1))}else{const a=Fc(o,r);if($c(a)&&i(a,0),Mc(a)&&e.isAtEnd())return n(Kc(Yc(a),!1)),t;const s=Fc(e.container(),e.offset()-1);Mc(s)&&!jc(s)&&(Pc(s)||Pc(a)||!Mc(a))&&n(Kc(Yc(s),!1)),Mc(a)&&n(Kc(Yc(a),!0))}return t},Qc=(e,t,n)=>{const i=()=>($c(e),0===t),o=()=>$c(e)?t>=e.data.length:t>=e.childNodes.length,r=()=>{const n=Bc(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=()=>(n||(n=Gc(Qc(e,t))),n),s=()=>a().length>0,l=n=>n&&e===n.container()&&t===n.offset(),c=n=>Fc(e,n?t-1:t);return{container:G(e),offset:G(t),toRange:r,getClientRects:a,isVisible:s,isAtStart:i,isAtEnd:o,isEqual:l,getNode:c}};Qc.fromRangeStart=e=>Qc(e.startContainer,e.startOffset),Qc.fromRangeEnd=e=>Qc(e.endContainer,e.endOffset),Qc.after=e=>Qc(e.parentNode,Rc(e)+1),Qc.before=e=>Qc(e.parentNode,Rc(e)),Qc.isAbove=(e,t)=>En(De(t.getClientRects()),Ie(e.getClientRects()),gc).getOr(!1),Qc.isBelow=(e,t)=>En(Ie(t.getClientRects()),De(e.getClientRects()),vc).getOr(!1),Qc.isAtStart=e=>!!e&&e.isAtStart(),Qc.isAtEnd=e=>!!e&&e.isAtEnd(),Qc.isTextPosition=e=>!!e&&er(e.container()),Qc.isElementPosition=e=>!1===Qc.isTextPosition(e);const Xc=(e,t)=>{er(t)&&0===t.data.length&&e.remove(t)},Zc=(e,t,n)=>{t.insertNode(n),Xc(e,n.previousSibling),Xc(e,n.nextSibling)},Jc=(e,t,n)=>{const i=oe.from(n.firstChild),o=oe.from(n.lastChild);t.insertNode(n),i.each((t=>Xc(e,t.previousSibling))),o.each((t=>Xc(e,t.nextSibling)))},eu=(e,t,n)=>{rr(n)?Jc(e,t,n):Zc(e,t,n)},tu=er,nu=Go,iu=vl.nodeIndex,ou=e=>{const t=e.parentNode;return nu(t)?ou(t):t},ru=e=>e?it(e.childNodes,((e,t)=>(nu(t)&&"BR"!==t.nodeName?e=e.concat(ru(t)):e.push(t),e)),[]):[],au=(e,t)=>{for(;(e=e.previousSibling)&&tu(e);)t+=e.data.length;return t},su=e=>t=>e===t,lu=e=>{let t,n;t=ru(ou(e)),n=ot(t,su(e),e),t=t.slice(0,n+1);const i=it(t,((e,n,i)=>(tu(n)&&tu(t[i-1])&&e++,e)),0);return t=tt(t,Wo([e.nodeName])),n=ot(t,su(e),e),n-i},cu=e=>{let t;return t=tu(e)?"text()":e.nodeName.toLowerCase(),t+"["+lu(e)+"]"},uu=(e,t,n)=>{const i=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)i.push(t);return i},du=(e,t)=>{let n,i,o,r,a,s=[];return n=t.container(),i=t.offset(),tu(n)?o=au(n,i):(r=n.childNodes,i>=r.length?(o="after",i=r.length-1):o="before",n=r[i]),s.push(cu(n)),a=uu(e,n),a=tt(a,Z(Go)),s=s.concat(et(a,(e=>cu(e)))),s.reverse().join("/")+","+o},hu=(e,t,n)=>{let i=ru(e);return i=tt(i,((e,t)=>!tu(e)||!tu(i[t-1]))),i=tt(i,Wo([t])),i[n]},pu=(e,t)=>{let n,i=e,o=0;for(;tu(i);){if(n=i.data.length,t>=o&&t<=o+n){e=i,t-=o;break}if(!tu(i.nextSibling)){e=i,t=n;break}o+=n,i=i.nextSibling}return tu(e)&&t>e.data.length&&(t=e.data.length),Qc(e,t)},fu=(e,t)=>{let n;if(!t)return null;const i=t.split(","),o=i[0].split("/");n=i.length>1?i[1]:"before";const r=it(o,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),hu(e,n[1],parseInt(n[2],10))):null}),e);return r?tu(r)?pu(r,parseInt(n,10)):(n="after"===n?iu(r)+1:iu(r),Qc(r.parentNode,n)):null},mu=cr,gu=(e,t,n)=>{let i,o;for(o=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&er(i);i=i.previousSibling)o+=e(i.data).length;return o},vu=(e,t,n,i,o)=>{let r=i[o?"startContainer":"endContainer"],a=i[o?"startOffset":"endOffset"];const s=[];let l,c=0;const u=e.getRoot();for(er(r)?s.push(n?gu(t,r,a):a):(l=r.childNodes,a>=l.length&&l.length&&(c=1,a=Math.max(0,l.length-1)),s.push(e.nodeIndex(l[a],n)+c));r&&r!==u;r=r.parentNode)s.push(e.nodeIndex(r,n));return s},bu=(e,t,n,i)=>{const o=t.dom,r=vu(o,e,n,i,!0),a=t.isForward(),s=Ia(i)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:r,forward:a,...s};return{start:r,end:vu(o,e,n,i,!1),forward:a,...s}},yu=(e,t,n)=>{let i=0;return xn.each(e.select(t),(e=>{if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++})),i},wu=(e,t)=>{let n,i;const o=t?"start":"end";if(n=e[o+"Container"],i=e[o+"Offset"],Uo(n)&&"TR"===n.nodeName){const o=n.childNodes;n=o[Math.min(t?i:i-1,o.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))}},_u=e=>(wu(e,!0),wu(e,!1),e),Cu=(e,t)=>{let n;if(Uo(e)&&(e=kc(e,t),mu(e)))return e;if(_a(e)){if(er(e)&&ya(e)&&(e=e.parentNode),n=e.previousSibling,mu(n))return n;if(n=e.nextSibling,mu(n))return n}},xu=e=>Cu(e.startContainer,e.startOffset)||Cu(e.endContainer,e.endOffset),ku=(e,t,n)=>{const i=n.getNode();let o=i?i.nodeName:null;const r=n.getRng();if(mu(i)||"IMG"===o)return{name:o,index:yu(n.dom,o,i)};const a=xu(r);return a?(o=a.tagName,{name:o,index:yu(n.dom,o,a)}):bu(e,n,t,r)},Su=e=>{const t=e.getRng();return{start:du(e.dom.getRoot(),Qc.fromRangeStart(t)),end:du(e.dom.getRoot(),Qc.fromRangeEnd(t)),forward:e.isForward()}},Eu=e=>({rng:e.getRng(),forward:e.isForward()}),Tu=(e,t,n)=>{const i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Au=(e,t)=>{const n=e.dom;let i=e.getRng();const o=n.uniqueId(),r=e.isCollapsed(),a=e.getNode(),s=a.nodeName,l=e.isForward();if("IMG"===s)return{name:s,index:yu(n,s,a)};const c=_u(i.cloneRange());if(!r){c.collapse(!1);const e=Tu(n,o+"_end",t);eu(n,c,e)}i=_u(i),i.collapse(!0);const u=Tu(n,o+"_start",t);return eu(n,i,u),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},Ou=(e,t,n)=>2===t?ku(ga,n,e):3===t?Su(e):t?Eu(e):Au(e,!1),Du=e(ku,Q,!0),Iu=e=>{const t=t=>t(e),n=G(e),i=()=>o,o={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:ie,isError:ne,map:t=>Mu.value(t(e)),mapError:i,bind:t,exists:t,forall:t,getOr:n,or:i,getOrThunk:n,orThunk:i,getOrDie:n,each:t=>{t(e)},toOptional:()=>oe.some(e)};return o},Pu=e=>{const t=()=>n,n={tag:!1,inner:e,fold:t=>t(e),isValue:ne,isError:ie,map:t,mapError:t=>Mu.error(t(e)),bind:t,exists:ne,forall:ie,getOr:Q,or:Q,getOrThunk:ee,orThunk:ee,getOrDie:J(String(e)),each:V,toOptional:oe.none};return n},Nu=(e,t)=>e.fold((()=>Pu(t)),Iu),Mu={value:Iu,error:Pu,fromOption:Nu},Lu=e=>{if(!j(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return pe(e,((i,o)=>{const r=Le(i);if(1!==r.length)throw new Error("one and only one name per case");const a=r[0],s=i[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!j(s))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const i=n.length;if(i!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+i);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:e=>{const i=Le(e);if(t.length!==i.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+i.join(","));if(!ke(t,(e=>ue(i,e))))throw new Error("Not all branches were specified when using match. Specified: "+i.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},$u={generate:Lu};$u.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ju=e=>{const t=[],n=[];return pe(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}},Ru=e=>"inline-command"===e.type||"inline-format"===e.type,Fu=e=>"block-command"===e.type||"block-format"===e.type,Bu=e=>Ae(e,((e,t)=>e.start.length===t.start.length?0:e.start.length>t.start.length?-1:1)),Hu=e=>{const t=t=>Mu.error({message:t,pattern:e}),n=(n,i,o)=>{if(void 0!==e.format){let o;if(j(e.format)){if(!ke(e.format,M))return t(n+" pattern has non-string items in the `format` array");o=e.format}else{if(!M(e.format))return t(n+" pattern has non-string `format` parameter");o=[e.format]}return Mu.value(i(o))}return void 0!==e.cmd?M(e.cmd)?Mu.value(o(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!L(e))return t("Raw pattern is not an object");if(!M(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!M(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let i=e.start,o=e.end;return 0===o.length&&(o=i,i=""),n("Inline",(e=>({type:"inline-format",start:i,end:o,format:e})),((e,t)=>({type:"inline-command",start:i,end:o,cmd:e,value:t})))}return void 0!==e.replacement?M(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Mu.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},zu=e=>Bu(ge(e,Fu)),qu=e=>ge(e,Ru),Uu=e=>({inlinePatterns:qu(e),blockPatterns:zu(e)}),Wu=e=>{const t=ju(he(e,Hu));return pe(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Vu=ln().deviceType,Yu=Vu.isTouch(),Ku=vl.DOM,Gu=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return be(t,((e,t)=>{const n=t.split("="),i=n[0],o=n.length>1?n[1]:i;return e[St(i)]=St(o),e}),{})},Qu=e=>N(e,RegExp),Xu=e=>t=>t.options.get(e),Zu=e=>M(e)||L(e),Ju=(e,t="")=>n=>{const i=M(n);if(i){if(-1!==n.indexOf("=")){const o=Gu(n);return{value:Ve(o,e.id).getOr(t),valid:i}}return{value:n,valid:i}}return{valid:!1,message:"Must be a string."}},ed=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean"}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Ju(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Ju(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=M(e)&&At(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=ue(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>F(e)||M(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||M(e)||W(e,M);return t?M(e)?{value:he(e.split(","),St),valid:t}:j(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Gd(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=M(e)||W(e,M);if(t){return{value:j(e)?e:he(e.split(","),St),valid:t}}return{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=F(e)||M(e);return t?!1===e||Vu.isiPhone()||Vu.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Yu}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||M(e)||q(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("preview_styles",{processor:e=>{const t=!1===e||M(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Zu}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Zu}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Zu}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>M(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>{if(W(e,L)||!1===e){return{value:Wu(!1===e?[]:e),valid:!0}}return{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>W(e,Qu)?{value:e,valid:!0}:Qu(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Nl.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Ku.getAttrib(e.getElement(),"placeholder")})}))},td=Xu("iframe_attrs"),nd=Xu("doctype"),id=Xu("document_base_url"),od=Xu("body_id"),rd=Xu("body_class"),ad=Xu("content_security_policy"),sd=Xu("br_in_pre"),ld=Xu("forced_root_block"),cd=Xu("forced_root_block_attrs"),ud=Xu("newline_behavior"),dd=Xu("br_newline_selector"),hd=Xu("no_newline_selector"),pd=Xu("keep_styles"),fd=Xu("end_container_on_empty_block"),md=Xu("automatic_uploads"),gd=Xu("images_reuse_filename"),vd=Xu("images_replace_blob_uris"),bd=Xu("icons"),yd=Xu("icons_url"),wd=Xu("images_upload_url"),_d=Xu("images_upload_base_path"),Cd=Xu("images_upload_credentials"),xd=Xu("images_upload_handler"),kd=Xu("content_css_cors"),Sd=Xu("referrer_policy"),Ed=Xu("language"),Td=Xu("language_url"),Ad=Xu("indent_use_margin"),Od=Xu("indentation"),Dd=Xu("content_css"),Id=Xu("content_style"),Pd=Xu("font_css"),Nd=Xu("directionality"),Md=Xu("inline_boundaries_selector"),Ld=Xu("object_resizing"),$d=Xu("resize_img_proportional"),jd=Xu("placeholder"),Rd=Xu("event_root"),Fd=Xu("service_message"),Bd=Xu("theme"),Hd=Xu("theme_url"),zd=Xu("model"),qd=Xu("model_url"),Ud=Xu("inline_boundaries"),Wd=Xu("formats"),Vd=Xu("preview_styles"),Yd=Xu("format_empty_lines"),Kd=Xu("custom_ui_selector"),Gd=Xu("inline"),Qd=Xu("hidden_input"),Xd=Xu("submit_patch"),Zd=Xu("add_form_submit_trigger"),Jd=Xu("add_unload_trigger"),eh=Xu("custom_undo_redo_levels"),th=Xu("disable_nodechange"),nh=Xu("readonly"),ih=Xu("content_css_cors"),oh=Xu("plugins"),rh=Xu("external_plugins"),ah=Xu("block_unsupported_drop"),sh=Xu("visual"),lh=Xu("visual_table_class"),ch=Xu("visual_anchor_class"),uh=Xu("iframe_aria_text"),dh=Xu("setup"),hh=Xu("init_instance_callback"),ph=Xu("urlconverter_callback"),fh=Xu("auto_focus"),mh=Xu("browser_spellcheck"),gh=Xu("protect"),vh=Xu("paste_block_drop"),bh=Xu("paste_data_images"),yh=Xu("paste_preprocess"),wh=Xu("paste_postprocess"),_h=Xu("paste_webkit_styles"),Ch=Xu("paste_remove_styles_if_webkit"),xh=Xu("paste_merge_formats"),kh=Xu("smart_paste"),Sh=Xu("paste_as_text"),Eh=Xu("paste_tab_spaces"),Th=Xu("allow_html_data_urls"),Ah=Xu("text_patterns"),Oh=Xu("noneditable_class"),Dh=Xu("editable_class"),Ih=Xu("noneditable_regexp"),Ph=e=>xn.explode(e.options.get("font_size_style_values")),Nh=e=>xn.explode(e.options.get("font_size_classes")),Mh=e=>"xml"===e.options.get("encoding"),Lh=e=>xn.explode(e.options.get("images_file_types")),$h=Xu("table_tab_navigation"),jh=Uo,Rh=er,Fh=e=>{const t=e.parentNode;t&&t.removeChild(e)},Bh=e=>{const t=ga(e);return{count:e.length-t.length,text:t}},Hh=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(fa));)e.deleteData(t,1)},zh=(e,t)=>(Kh(e),t),qh=(e,t)=>{const n=Bh(e.data.substr(0,t.offset())),i=Bh(e.data.substr(t.offset()));return(n.text+i.text).length>0?(Hh(e),Qc(e,t.offset()-n.count)):t},Uh=(e,t)=>{const n=t.container(),i=ce(Pe(n.childNodes),e).map((e=>e<t.offset()?Qc(n,t.offset()-1):t)).getOr(t);return Kh(e),i},Wh=(e,t)=>Rh(e)&&t.container()===e?qh(e,t):zh(e,t),Vh=(e,t)=>t.container()===e.parentNode?Uh(e,t):zh(e,t),Yh=(e,t)=>Qc.isTextPosition(t)?Wh(e,t):Vh(e,t),Kh=e=>{jh(e)&&_a(e)&&(Ca(e)?e.removeAttribute("data-mce-caret"):Fh(e)),Rh(e)&&(Hh(e),0===e.data.length&&Fh(e))},Gh=cr,Qh=dr,Xh=ur,Zh="*[contentEditable=false],video,audio,embed,object",Jh=(e,t,n)=>{const i=pc(t.getBoundingClientRect(),n);let o,r;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;o=e.scrollLeft||t.scrollLeft,r=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();o=e.scrollLeft-t.left,r=e.scrollTop-t.top}i.left+=o,i.right+=o,i.top+=r,i.bottom+=r,i.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),i.left+=a,i.right+=a),i},ep=e=>{const t=oa(gi.fromDom(e),Zh);for(let e=0;e<t.length;e++){const n=t[e].dom;let i=n.previousSibling;if(Aa(i)){const e=i.data;1===e.length?i.parentNode.removeChild(i):i.deleteData(e.length-1,1)}if(i=n.nextSibling,Ta(i)){1===i.data.length?i.parentNode.removeChild(i):i.deleteData(0,1)}}},tp=(e,t,n,i)=>{const o=$l();let r,a;const s=ld(e),l=e.dom,c=(e,i)=>{let r;if(u(),Xh(i))return null;if(!n(i))return a=xa(i,e),r=i.ownerDocument.createRange(),ip(a.nextSibling)?(r.setStart(a,0),r.setEnd(a,0)):(r.setStart(a,1),r.setEnd(a,1)),r;{a=Ea(s,i,e);const n=Jh(t,i,e);l.setStyle(a,"top",n.top);const c=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(c,{...n}),l.add(t,c),o.set({caret:c,element:i,before:e}),e&&l.addClass(c,"mce-visual-caret-before"),d(),r=i.ownerDocument.createRange(),r.setStart(a,0),r.setEnd(a,0)}return r},u=()=>{ep(t),a&&(Kh(a),a=null),o.on((e=>{l.remove(e.caret),o.clear()})),r&&(clearInterval(r),r=void 0)},d=()=>{r=setInterval((()=>{o.on((e=>{i()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)};return{show:c,hide:u,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on((e=>{const n=Jh(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(r)}},np=()=>mn.browser.isFirefox(),ip=e=>Gh(e)||Qh(e),op=e=>ip(e)||Xo(e)&&np(),rp=lr,ap=cr,sp=dr,lp=Vo("display","block table table-cell table-caption list-item"),cp=_a,up=ya,dp=Uo,hp=Ba,pp=e=>e>0,fp=e=>e<0,mp=(e,t)=>{let n;for(;n=e(t);)if(!up(n))return n;return null},gp=(e,t,n,i,o)=>{const r=new Or(e,i),a=ap(e)||up(e);if(fp(t)){if(a&&n(e=mp(r.prev.bind(r),!0)))return e;for(;e=mp(r.prev.bind(r),o);)if(n(e))return e}if(pp(t)){if(a&&n(e=mp(r.next.bind(r),!0)))return e;for(;e=mp(r.next.bind(r),o);)if(n(e))return e}return null},vp=(e,t)=>{const n=e=>rp(e.dom),i=e=>e.dom===t;return br(gi.fromDom(e),n,i).map((e=>e.dom)).getOr(t)},bp=(e,t)=>{for(;e&&e!==t;){if(lp(e))return e;e=e.parentNode}return null},yp=(e,t,n)=>bp(e.container(),n)===bp(t.container(),n),wp=(e,t)=>{if(!t)return null;const n=t.container(),i=t.offset();return dp(n)?n.childNodes[i+e]:null},_p=(e,t)=>{const n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Cp=(e,t,n)=>bp(t,e)===bp(n,e),xp=(e,t,n)=>{const i=e?"previousSibling":"nextSibling";for(;n&&n!==t;){let e=n[i];if(cp(e)&&(e=e[i]),ap(e)||sp(e)){if(Cp(t,e,n))return e;break}if(hp(e))break;n=n.parentNode}return null},kp=e(_p,!0),Sp=e(_p,!1),Ep=(t,n,i)=>{let o;const r=e(xp,!0,n),a=e(xp,!1,n);let s=i.startContainer;const l=i.startOffset;if(ya(s)){dp(s)||(s=s.parentNode);const e=s.getAttribute("data-mce-caret");if("before"===e&&(o=s.nextSibling,op(o)))return kp(o);if("after"===e&&(o=s.previousSibling,op(o)))return Sp(o)}if(!i.collapsed)return i;if(er(s)){if(cp(s)){if(1===t){if(o=a(s),o)return kp(o);if(o=r(s),o)return Sp(o)}if(-1===t){if(o=r(s),o)return Sp(o);if(o=a(s),o)return kp(o)}return i}if(Aa(s)&&l>=s.data.length-1)return 1===t&&(o=a(s),o)?kp(o):i;if(Ta(s)&&l<=1)return-1===t&&(o=r(s),o)?Sp(o):i;if(l===s.data.length)return o=a(s),o?kp(o):i;if(0===l)return o=r(s),o?Sp(o):i}return i},Tp=(e,t)=>oe.from(wp(e?0:-1,t)).filter(ap),Ap=(e,t,n)=>{const i=Ep(e,t,n);return-1===e?Qc.fromRangeStart(i):Qc.fromRangeEnd(i)},Op=e=>oe.from(e.getNode()).map(gi.fromDom),Dp=e=>oe.from(e.getNode(!0)).map(gi.fromDom),Ip=(e,t)=>{for(;t=e(t);)if(t.isVisible())return t;return t},Pp=(e,t)=>{const n=yp(e,t);return!(n||!ar(e.getNode()))||n};var Np;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Np||(Np={}));const Mp=cr,Lp=er,$p=Uo,jp=ar,Rp=Ba,Fp=Wa,Bp=Va,Hp=(e,t)=>{const n=[];for(;e&&e!==t;)n.push(e),e=e.parentNode;return n},zp=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,qp=(e,t)=>{if(pp(e)){if(Rp(t.previousSibling)&&!Lp(t.previousSibling))return Qc.before(t);if(Lp(t))return Qc(t,0)}if(fp(e)){if(Rp(t.nextSibling)&&!Lp(t.nextSibling))return Qc.after(t);if(Lp(t))return Qc(t,t.data.length)}return fp(e)?jp(t)?Qc.before(t):Qc.after(t):Qc.before(t)},Up=(e,t)=>{const n=t.nextSibling;return n&&Rp(n)?Lp(n)?Qc(n,0):Qc.before(n):Wp(Np.Forwards,Qc.after(t),e)},Wp=(e,t,n)=>{let i,o,r,a;if(!$p(n)||!t)return null;if(t.isEqual(Qc.after(n))&&n.lastChild){if(a=Qc.after(n.lastChild),fp(e)&&Rp(n.lastChild)&&$p(n.lastChild))return jp(n.lastChild)?Qc.before(n.lastChild):a}else a=t;const s=a.container();let l=a.offset();if(Lp(s)){if(fp(e)&&l>0)return Qc(s,--l);if(pp(e)&&l<s.length)return Qc(s,++l);i=s}else{if(fp(e)&&l>0&&(o=zp(s,l-1),Rp(o)))return!Fp(o)&&(r=gp(o,e,Bp,o),r)?Lp(r)?Qc(r,r.data.length):Qc.after(r):Lp(o)?Qc(o,o.data.length):Qc.before(o);if(pp(e)&&l<s.childNodes.length&&(o=zp(s,l),Rp(o)))return jp(o)?Up(n,o):!Fp(o)&&(r=gp(o,e,Bp,o),r)?Lp(r)?Qc(r,0):Qc.before(r):Lp(o)?Qc(o,0):Qc.after(o);i=o||a.getNode()}if((pp(e)&&a.isAtEnd()||fp(e)&&a.isAtStart())&&(i=gp(i,e,ie,n,!0),Bp(i,n)))return qp(e,i);o=gp(i,e,Bp,n);const c=rt(ge(Hp(s,n),Mp));return!c||o&&c.contains(o)?o?qp(e,o):null:(a=pp(e)?Qc.after(c):Qc.before(c),a)},Vp=e=>({next:t=>Wp(Np.Forwards,t,e),prev:t=>Wp(Np.Backwards,t,e)}),Yp=(e,t,n)=>{const i=e?Qc.before(n):Qc.after(n);return ef(e,t,i)},Kp=e=>ar(e)?Qc.before(e):Qc.after(e),Gp=e=>Qc.isTextPosition(e)?0===e.offset():Ba(e.getNode()),Qp=e=>{if(Qc.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Ba(e.getNode(!0))},Xp=(e,t)=>!Qc.isTextPosition(e)&&!Qc.isTextPosition(t)&&e.getNode()===t.getNode(!0),Zp=e=>!Qc.isTextPosition(e)&&ar(e.getNode()),Jp=(e,t,n)=>e?!Xp(t,n)&&!Zp(t)&&Qp(t)&&Gp(n):!Xp(n,t)&&Gp(t)&&Qp(n),ef=(e,t,n)=>{const i=Vp(t);return oe.from(e?i.next(n):i.prev(n))},tf=(e,t,n)=>ef(e,t,n).bind((i=>yp(n,i,t)&&Jp(e,n,i)?ef(e,t,i):oe.some(i))),nf=(e,t,n,i)=>tf(e,t,n).bind((n=>i(n)?nf(e,t,n,i):oe.some(n))),of=(e,t)=>{const n=e?t.firstChild:t.lastChild
;return er(n)?oe.some(Qc(n,e?0:n.data.length)):n?Ba(n)?oe.some(e?Qc.before(n):Kp(n)):Yp(e,t,n):oe.none()},rf=e(ef,!0),af=e(ef,!1),sf=e(of,!0),lf=e(of,!1),cf="_mce_caret",uf=e=>Uo(e)&&e.id===cf,df=(e,t)=>{for(;t&&t!==e;){if(t.id===cf)return t;t=t.parentNode}return null},hf=e=>M(e.start),pf=e=>Ye(e,"rng"),ff=e=>Ye(e,"id"),mf=e=>Ye(e,"name"),gf=e=>xn.isArray(e.start),vf=e=>!(!mf(e)&&F(e.forward))||e.forward,bf=(e,t)=>(Uo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),yf=(e,t)=>{const n=e.createRng(),i=fu(e.getRoot(),t.start);n.setStart(i.container(),i.offset());const o=fu(e.getRoot(),t.end);return n.setEnd(o.container(),o.offset()),{range:n,forward:vf(t)}},wf=(e,t)=>{const n=e.ownerDocument.createTextNode(fa);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},_f=e=>!1===e.hasChildNodes(),Cf=(e,t)=>lf(e).fold(ne,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),xf=(e,t,n)=>!(!_f(t)||!df(e,t))&&(wf(t,n),!0),kf=(e,t,n,i)=>{const o=n[t?"start":"end"];let r,a,s,l;const c=e.getRoot();if(o){for(s=o[0],a=c,r=o.length-1;r>=1;r--){if(l=a.childNodes,xf(c,a,i))return!0;if(o[r]>l.length-1)return!!xf(c,a,i)||Cf(a,i);a=l[o[r]]}3===a.nodeType&&(s=Math.min(o[0],a.nodeValue.length)),1===a.nodeType&&(s=Math.min(o[0],a.childNodes.length)),t?i.setStart(a,s):i.setEnd(a,s)}return!0},Sf=e=>er(e)&&e.data.length>0,Ef=(e,t,n)=>{let i,o,r,a,s=e.get(n.id+"_"+t);const l=n.keep;let c,u;if(s){if(i=s.parentNode,"start"===t?(l?s.hasChildNodes()?(i=s.firstChild,o=1):Sf(s.nextSibling)?(i=s.nextSibling,o=0):Sf(s.previousSibling)?(i=s.previousSibling,o=s.previousSibling.data.length):(i=s.parentNode,o=e.nodeIndex(s)+1):o=e.nodeIndex(s),c=i,u=o):(l?s.hasChildNodes()?(i=s.firstChild,o=1):Sf(s.previousSibling)?(i=s.previousSibling,o=s.previousSibling.data.length):(i=s.parentNode,o=e.nodeIndex(s)):o=e.nodeIndex(s),c=i,u=o),!l){for(a=s.previousSibling,r=s.nextSibling,xn.each(xn.grep(s.childNodes),(e=>{er(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));s=e.get(n.id+"_"+t);)e.remove(s,!0);a&&r&&a.nodeType===r.nodeType&&er(a)&&!mn.browser.isOpera()&&(o=a.nodeValue.length,a.appendData(r.nodeValue),e.remove(r),c=a,u=o)}return oe.some(Qc(c,u))}return oe.none()},Tf=(e,t)=>{const n=e.createRng();return kf(e,!0,t,n)&&kf(e,!1,t,n)?oe.some({range:n,forward:vf(t)}):oe.none()},Af=(e,t)=>{const n=Ef(e,"start",t),i=Ef(e,"end",t);return En(n,i.or(n),((n,i)=>{const o=e.createRng();return o.setStart(bf(e,n.container()),n.offset()),o.setEnd(bf(e,i.container()),i.offset()),{range:o,forward:vf(t)}}))},Of=(e,t)=>oe.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})),Df=(e,t)=>{const n=e.dom;if(t){if(gf(t))return Tf(n,t);if(hf(t))return oe.some(yf(n,t));if(ff(t))return Af(n,t);if(mf(t))return Of(n,t);if(pf(t))return oe.some({range:t.rng,forward:vf(t)})}return oe.none()},If=(e,t,n)=>Ou(e,t,n),Pf=(e,t)=>{Df(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},Nf=e=>Uo(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Mf=(e=>t=>e===t)(ea),Lf=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),$f=e=>!Lf(e)&&!Mf(e)&&!ta(e),jf=e=>({value:e}),Rf=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Ff=e=>{const t=Rf(e.red)+Rf(e.green)+Rf(e.blue);return jf(t)},Bf=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Hf=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,zf=(e,t,n,i)=>({red:e,green:t,blue:n,alpha:i}),qf=(e,t,n,i)=>{const o=parseInt(e,10),r=parseInt(t,10),a=parseInt(n,10),s=parseFloat(i);return zf(o,r,a,s)},Uf=e=>{if("transparent"===e)return oe.some(zf(0,0,0,0));const t=Bf.exec(e);if(null!==t)return oe.some(qf(t[1],t[2],t[3],"1"));const n=Hf.exec(e);return null!==n?oe.some(qf(n[1],n[2],n[3],n[4])):oe.none()},Wf=e=>Uf(e).map(Ff).map((e=>"#"+e.value)).getOr(e),Vf=e=>!!e.nodeType,Yf=e=>e&&/^(IMG)$/.test(e.nodeName),Kf=(e,t,n)=>{const i=n.startOffset;let o=n.startContainer;if((o!==n.endContainer||!Yf(o.childNodes[i]))&&Uo(o)){const r=o.childNodes;let a;i<r.length?(o=r[i],a=new Or(o,e.getParent(o,e.isBlock))):(o=r[r.length-1],a=new Or(o,e.getParent(o,e.isBlock)),a.next(!0));for(let e=a.current();e;e=a.next())if(er(e)&&!Zf(e))return n.setStart(e,0),void t.setRng(n)}},Gf=(e,t,n)=>{if(e){const i=t?"nextSibling":"previousSibling";for(e=n?e:e[i];e;e=e[i])if(Uo(e)||!Zf(e))return e}},Qf=(e,t)=>(Vf(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]),Xf=(e,t,n)=>e.schema.isValidChild(t,n),Zf=(e,t=!1)=>{if(z(e)&&er(e)){const n=t?e.data.replace(/ /g,"\xa0"):e.data;return Ka(n)}return!1},Jf=e=>z(e)&&er(e)&&0===e.length,em=(e,t)=>(q(e)?e=e(t):z(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),tm=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),nm=(e,t)=>("color"!==t&&"backgroundColor"!==t||(e=Wf(e)),"fontWeight"===t&&700===e&&(e="bold"),"fontFamily"===t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e),im=(e,t,n)=>nm(e.getStyle(t,n),n),om=(e,t)=>{let n;return e.getParent(t,(t=>(n=e.getStyle(t,"text-decoration"),n&&"none"!==n))),n},rm=(e,t,n)=>e.getParents(t,n,e.getRoot()),am=(e,t)=>{const n=e=>{const t=e=>e.length>1&&"%"===e.charAt(0);return de(["styles","attributes"],(n=>Ve(e,n).exists((e=>{const n=j(e)?e:We(e);return de(n,t)}))))};return de(e.formatter.get(t),n)},sm=(e,t,n)=>{const i=["inline","block","selector","attributes","styles","classes"],o=e=>qe(e,((e,t)=>de(i,(e=>e===t))));return de(e.formatter.get(t),(t=>{const i=o(t);return de(e.formatter.get(n),(e=>{const t=o(e);return Ge(i,t)}))}))},lm=e=>Ke(e,"block"),cm=e=>Ke(e,"selector"),um=e=>Ke(e,"inline"),dm=e=>cm(e)&&um(e)&&kn(Ve(e,"mixed"),!0),hm=e=>cm(e)&&!1!==e.expand&&!um(e),pm=Nf,fm=rm,mm=Zf,gm=Qf,vm=e=>ar(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,bm=(e,t)=>{let n=t;for(;n;){if(Uo(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},ym=(e,t,n,i)=>{const o=t.data;for(let t=n;e?t>=0:t<o.length;e?t--:t++)if(i(o.charAt(t)))return e?t+1:t;return-1},wm=(e,t,n)=>ym(e,t,n,(e=>Mf(e)||Lf(e))),_m=(e,t,n)=>ym(e,t,n,$f),Cm=(e,t,n,i,o,r)=>{let a;const s=e.getParent(n,e.isBlock)||t,l=(t,n,i)=>{const r=uc(e),l=o?r.backwards:r.forwards;return oe.from(l(t,n,((e,t)=>pm(e.parentNode)?-1:(a=e,i(o,e,t))),s))};return l(n,i,wm).bind((e=>r?l(e.container,e.offset+(o?-1:0),_m):oe.some(e))).orThunk((()=>a?oe.some({container:a,offset:o?0:a.length}):oe.none()))},xm=(e,t,n,i,o)=>{er(i)&&Ot(i.data)&&i[o]&&(i=i[o]);const r=fm(e,i);for(let i=0;i<r.length;i++)for(let o=0;o<t.length;o++){const a=t[o];if((!z(a.collapsed)||a.collapsed===n.collapsed)&&(cm(a)&&e.is(r[i],a.selector)))return r[i]}return i},km=(e,t,n,i)=>{let o=n;const r=e.dom,a=r.getRoot(),s=t[0];if(lm(s)&&(o=s.wrapper?null:r.getParent(n,s.block,a)),!o){const t=r.getParent(n,"LI,TD,TH");o=r.getParent(er(n)?n.parentNode:n,(t=>t!==a&&gm(e,t)),t)}if(o&&lm(s)&&s.wrapper&&(o=fm(r,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[i]&&!r.isBlock(o[i])&&(o=o[i],!tm(o,"br")););return o||n},Sm=(e,t,n,i)=>{const o=n.parentNode;return!z(n[i])&&(!(o!==t&&!H(o)&&!e.isBlock(o))||Sm(e,t,o,i))},Em=(e,t,n,i,o)=>{let r=n;const a=o?"previousSibling":"nextSibling",s=e.getRoot();if(er(n)&&!mm(n)&&(o?i>0:i<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(r))return r;for(let t=r[a];t;t=t[a]){const n=er(t)&&!Sm(e,s,t,a);if(!pm(t)&&!vm(t)&&!mm(t,n))return r}if(r===s||r.parentNode===s){n=r;break}r=r.parentNode}return n},Tm=e=>pm(e.parentNode)||pm(e),Am=(e,t,n,i=!1)=>{let{startContainer:o,startOffset:r,endContainer:a,endOffset:s}=t;const l=e.dom,c=n[0];if(Uo(o)&&o.hasChildNodes()&&(o=kc(o,r),er(o)&&(r=0)),Uo(a)&&a.hasChildNodes()&&(a=kc(a,t.collapsed?s:s-1),er(a)&&(s=a.nodeValue.length)),o=bm(l,o),a=bm(l,a),Tm(o)&&(o=pm(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,er(o)&&(r=t.collapsed?o.length:0)),Tm(a)&&(a=pm(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,er(a)&&(s=t.collapsed?0:a.length)),t.collapsed){Cm(l,e.getBody(),o,r,!0,i).each((({container:e,offset:t})=>{o=e,r=t}));Cm(l,e.getBody(),a,s,!1,i).each((({container:e,offset:t})=>{a=e,s=t}))}return(um(c)||c.block_expand)&&(um(c)&&er(o)&&0!==r||(o=Em(l,n,o,r,!0)),um(c)&&er(a)&&s!==a.nodeValue.length||(a=Em(l,n,a,s,!1))),hm(c)&&(o=xm(l,n,t,o,"previousSibling"),a=xm(l,n,t,a,"nextSibling")),(lm(c)||cm(c))&&(o=km(e,n,o,"previousSibling"),a=km(e,n,a,"nextSibling"),lm(c)&&(l.isBlock(o)||(o=Em(l,n,o,r,!0)),l.isBlock(a)||(a=Em(l,n,a,s,!1)))),Uo(o)&&(r=l.nodeIndex(o),o=o.parentNode),Uo(a)&&(s=l.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:r,endContainer:a,endOffset:s}},Om=(e,t,n)=>{const i=t.startOffset,o=kc(t.startContainer,i),r=t.endOffset,a=kc(t.endContainer,r-1),s=e=>{const t=e[0];er(t)&&t===o&&i>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===r&&e.length>0&&n===a&&er(n)&&e.splice(e.length-1,1),e},l=(e,t,n)=>{const i=[];for(;e&&e!==n;e=e[t])i.push(e);return i},c=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),u=(e,t,i)=>{const o=i?"nextSibling":"previousSibling";for(let r=e,a=r.parentNode;r&&r!==t;r=a){a=r.parentNode;const t=l(r===e?r:r[o],o);t.length&&(i||t.reverse(),n(s(t)))}};if(o===a)return n(s([o]));const d=e.findCommonAncestor(o,a);if(e.isChildOf(o,a))return u(o,d,!0);if(e.isChildOf(a,o))return u(a,d);const h=c(o,d)||o,p=c(a,d)||a;u(o,h,!0);const f=l(h===o?h:h.nextSibling,"nextSibling",p===a?p.nextSibling:p);f.length&&n(s(f)),u(a,p)},Dm=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Im=e=>xe(e,(e=>{const t=xc(e);return t?[gi.fromDom(t)]:[]})),Pm=e=>Dm(e).length>1,Nm=e=>ge(Im(e),Kr),Mm=e=>oa(e,"td[data-mce-selected],th[data-mce-selected]"),Lm=(e,t)=>{const n=Mm(t);return n.length>0?n:Nm(e)},$m=e=>Lm(Dm(e.selection.getSel()),gi.fromDom(e.getBody())),jm=(e,t)=>xr(e,"table",t),Rm=e=>{const t=e.startContainer,n=e.startOffset;return er(t)?0===n?oe.some(gi.fromDom(t)):oe.none():oe.from(t.childNodes[n]).map(gi.fromDom)},Fm=e=>{const t=e.endContainer,n=e.endOffset;return er(t)?n===t.data.length?oe.some(gi.fromDom(t)):oe.none():oe.from(t.childNodes[n-1]).map(gi.fromDom)},Bm=e=>Ri(e).fold(G([e]),(t=>[e].concat(Bm(t)))),Hm=e=>Fi(e).fold(G([e]),(t=>"br"===Mn(t)?Pi(t).map((t=>[e].concat(Hm(t)))).getOr([]):[e].concat(Hm(t)))),zm=(t,n)=>En(Rm(n),Fm(n),((n,i)=>{const o=we(Bm(t),e(Ci,n)),r=we(Hm(t),e(Ci,i));return o.isSome()&&r.isSome()})).getOr(!1),qm=(e,t,n,i)=>{const o=n,r=new Or(n,o),a=qe(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!ue(["td","th","table"],t.toLowerCase())));do{if(er(n)&&0!==xn.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=i?r.next():r.prev());"BODY"===o.nodeName&&(i?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Um=e=>{const t=e.selection.getSel();return t&&t.rangeCount>0},Wm=(e,t)=>{const n=$m(e);n.length>0?pe(n,(n=>{const i=n.dom,o=e.dom.createRng();o.setStartBefore(i),o.setEndAfter(i),t(o,!0)})):t(e.selection.getRng(),!1)},Vm=(e,t,n)=>{const i=Au(e,t);n(i),e.moveToBookmark(i)},Ym=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Km=e=>Fn(e)&&sa(e)===fa,Gm=(e,t,n,i)=>Ai(t).fold((()=>"skipping"),(o=>"br"===i||Km(t)?"valid":Yl(t)?"existing":uf(t.dom)?"caret":de(Ym,(e=>bi(t,e)))?"valid-block":Xf(e,n,i)&&Xf(e,Mn(o),n)?"valid":"invalid-child")),Qm=(e,t)=>{const n=Am(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Xm=(e,t,n,i,o,r)=>{const{uid:a=t,...s}=n;ai(e,Fl()),Un(e,`${Hl()}`,a),Un(e,`${Bl()}`,i);const{attributes:l={},classes:c=[]}=o(a,s);if(Wn(e,l),nc(e,c),r){c.length>0&&Un(e,`${ql()}`,c.join(","));const t=Le(l);t.length>0&&Un(e,`${Ul()}`,t.join(","))}},Zm=e=>{li(e,Fl()),Gn(e,`${Hl()}`),Gn(e,`${Bl()}`),Gn(e,`${zl()}`);const t=Yn(e,`${Ul()}`).map((e=>e.split(","))).getOr([]),n=Yn(e,`${ql()}`).map((e=>e.split(","))).getOr([]);pe(t,(t=>Gn(e,t))),ic(e,n),Gn(e,`${ql()}`),Gn(e,`${Ul()}`)},Jm=(e,t,n,i,o)=>{const r=gi.fromTag("span",e);return Xm(r,t,n,i,o,!1),r},eg=(e,t,n,i,o,r)=>{const a=[],s=Jm(e.getDoc(),n,r,i,o),l=$l(),c=()=>{l.clear()},u=()=>l.get().getOrThunk((()=>{const e=rc(s);return a.push(e),l.set(e),e})),d=e=>{pe(e,h)},h=t=>{switch(Gm(e,t,"span",Mn(t))){case"invalid-child":{c();const e=$i(t);d(e),c();break}case"valid-block":c(),Xm(t,n,r,i,o,!0);break;case"valid":{const e=u();po(t,e);break}}},p=e=>{const t=he(e,gi.fromDom);d(t)};return Om(e.dom,t,(e=>{c(),p(e)})),a},tg=(e,t,n,i)=>{e.undoManager.transact((()=>{const o=e.selection,r=o.getRng(),a=$m(e).length>0,s=tc("mce-annotation");if(r.collapsed&&!a&&Qm(e,r),o.getRng().collapsed&&!a){const r=Jm(e.getDoc(),s,i,t,n.decorate);Co(r,ea),o.getRng().insertNode(r.dom),o.select(r.dom)}else Vm(o,!1,(()=>{Wm(e,(o=>{eg(e,o,s,t,n.decorate,i)}))}))}))},ng=e=>{const t=Jl();Zl(e,t);const n=Xl(e,t),i=zn("span"),o=e=>{pe(e,(e=>{i(e)?bo(e):Zm(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,i)=>{t.lookup(n).each((t=>{tg(e,n,t,i)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{const n=e.selection.getBookmark();Vl(e,oe.some(t)).each((({elements:e})=>{o(e)})),e.selection.moveToBookmark(n)},removeAll:t=>{const n=e.selection.getBookmark();je(Ql(e,t),(e=>{o(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=Ql(e,t);return Re(n,(e=>he(e,(e=>e.dom))))}}},ig=t=>({getBookmark:e(If,t),moveToBookmark:e(Pf,t)});ig.isBookmarkNode=Nf;const og=(e,t,n)=>!n.collapsed&&de(n.getClientRects(),(n=>bc(n,e,t))),rg=(e,t)=>e.dispatch("PreProcess",t),ag=(e,t)=>e.dispatch("PostProcess",t),sg=e=>e.dispatch("remove"),lg=e=>e.dispatch("detach"),cg=(e,t)=>e.dispatch("SwitchMode",{mode:t}),ug=(e,t,n,i,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:i,origin:o})},dg=(e,t,n,i,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:i,origin:o})},hg=e=>e.dispatch("PreInit"),pg=e=>e.dispatch("PostRender"),fg=e=>e.dispatch("Init"),mg=(e,t)=>e.dispatch("PlaceholderToggle",{state:t}),gg=(e,t,n)=>e.dispatch(t,n),vg=(e,t,n,i)=>e.dispatch("FormatApply",{format:t,node:n,vars:i}),bg=(e,t,n,i)=>e.dispatch("FormatRemove",{format:t,node:n,vars:i}),yg=(e,t)=>e.dispatch("BeforeSetContent",t),wg=(e,t)=>e.dispatch("SetContent",t),_g=(e,t)=>e.dispatch("BeforeGetContent",t),Cg=(e,t)=>e.dispatch("GetContent",t),xg=(e,t)=>e.dispatch("AutocompleterStart",t),kg=(e,t)=>e.dispatch("AutocompleterUpdate",t),Sg=e=>e.dispatch("AutocompleterEnd"),Eg=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),Tg=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Ag=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Og={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Og.metaKeyPressed(e),metaKeyPressed:e=>mn.os.isMacOS()||mn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Dg="data-mce-selected",Ig="table,img,figure.image,hr,video,span.mce-preview-object",Pg=Math.abs,Ng=Math.round,Mg={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Lg=e=>"longpress"===e.type||0===e.type.indexOf("touch"),$g=(e,t)=>{const n=t.dom,i=t.getDoc(),o=document,r=t.getBody();let a,s,l,c,u,d,h,p,f,m,g,v,b,y,w,_,C;const x=e=>z(e)&&(sr(e)||n.is(e,"figure.image")),k=e=>dr(e)||n.hasClass(e,"mce-preview-object"),S=(e,t)=>{if(Lg(e)){const n=e.touches[0];return x(e.target)&&!og(n.clientX,n.clientY,t)}return x(e.target)&&!og(e.clientX,e.clientY,t)},E=e=>{const n=e.target;S(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},T=e=>n.is(e,"figure.image")?[e.querySelector("img")]:n.hasClass(e,"mce-preview-object")&&z(e.firstElementChild)?[e,e.firstElementChild]:[e],A=e=>{const i=Ld(t);return!!i&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")?bi(gi.fromDom(e.firstElementChild),i):bi(gi.fromDom(e),i))))},O=e=>k(e)?n.create("img",{src:mn.transparentSrc}):e.cloneNode(!0),D=(e,i,o)=>{if(z(o)){const r=T(e);pe(r,(e=>{e.style[i]||!t.schema.isValid(e.nodeName.toLowerCase(),i)?n.setStyle(e,i,o):n.setAttrib(e,i,""+o)}))}},I=(e,t,n)=>{D(e,"width",t),D(e,"height",n)},P=e=>{let i,o,u,S,E;i=e.screenX-d,o=e.screenY-h,y=i*c[2]+m,w=o*c[3]+g,y=y<5?5:y,w=w<5?5:w,u=(x(a)||k(a))&&!1!==$d(t)?!Og.modifierPressed(e):Og.modifierPressed(e),u&&(Pg(i)>Pg(o)?(w=Ng(y*v),y=Ng(w/v)):(y=Ng(w/v),w=Ng(y*v))),I(s,y,w),S=c.startPos.x+i,E=c.startPos.y+o,S=S>0?S:0,E=E>0?E:0,n.setStyles(l,{left:S,top:E,display:"block"}),l.innerHTML=y+" &times; "+w,c[2]<0&&s.clientWidth<=y&&n.setStyle(s,"left",p+(m-y)),c[3]<0&&s.clientHeight<=w&&n.setStyle(s,"top",f+(g-w)),i=r.scrollWidth-_,o=r.scrollHeight-C,i+o!==0&&n.setStyles(l,{left:S-i,top:E-o}),b||(ug(t,a,m,g,"corner-"+c.name),b=!0)},N=()=>{const e=b;b=!1,e&&(D(a,"width",y),D(a,"height",w)),n.unbind(i,"mousemove",P),n.unbind(i,"mouseup",N),o!==i&&(n.unbind(o,"mousemove",P),n.unbind(o,"mouseup",N)),n.remove(s),n.remove(l),n.remove(u),M(a),e&&(dg(t,a,y,w,"corner-"+c.name),n.setAttrib(a,"style",n.getAttrib(a,"style"))),t.nodeChanged()},M=e=>{F();const p=n.getPos(e,r),f=p.x,b=p.y,x=e.getBoundingClientRect(),k=x.width||x.right-x.left,S=x.height||x.bottom-x.top;a!==e&&($(),a=e,y=w=0);const E=t.dispatch("ObjectSelected",{target:e});A(e)&&!E.isDefaultPrevented()?je(Mg,((e,t)=>{let p;const y=p=>{const y=T(a)[0];d=p.screenX,h=p.screenY,m=y.clientWidth,g=y.clientHeight,v=g/m,c=e,c.name=t,c.startPos={x:k*e[0]+f,y:S*e[1]+b},_=r.scrollWidth,C=r.scrollHeight,u=n.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),s=O(a),n.addClass(s,"mce-clonedresizable"),n.setAttrib(s,"data-mce-bogus","all"),s.contentEditable="false",n.setStyles(s,{left:f,top:b,margin:0}),I(s,k,S),s.removeAttribute(Dg),r.appendChild(s),n.bind(i,"mousemove",P),n.bind(i,"mouseup",N),o!==i&&(n.bind(o,"mousemove",P),n.bind(o,"mouseup",N)),l=n.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+g)};p=n.get("mceResizeHandle"+t),p&&n.remove(p),p=n.add(r,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(p,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),y(e)})),e.elm=p,n.setStyles(p,{left:k*e[0]+f-p.offsetWidth/2,top:S*e[1]+b-p.offsetHeight/2})})):$(!1)},L=jl(M,0),$=(e=!0)=>{L.cancel(),F(),a&&e&&a.removeAttribute(Dg),je(Mg,((e,t)=>{const i=n.get("mceResizeHandle"+t);i&&(n.unbind(i),n.remove(i))}))},j=(e,t)=>z(e)&&n.isChildOf(e,t),R=i=>{if(b||t.removed||t.composing)return;const o="mousedown"===i.type?i.target:e.getNode(),a=Sr(gi.fromDom(o),Ig).map((e=>e.dom)).getOrUndefined(),s=z(a)?n.getAttrib(a,Dg,"1"):"1";if(pe(n.select(`img[${Dg}],hr[${Dg}]`),(e=>{e.removeAttribute(Dg)})),j(a,r)){B();const t=e.getStart(!0);if(j(t,a)&&j(e.getEnd(!0),a))return n.setAttrib(a,Dg,s),void L.throttle(a)}$()},F=()=>{je(Mg,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},B=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{B(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",R),t.on("keyup compositionend",(e=>{a&&"TABLE"===a.nodeName&&R(e)})),t.on("hide blur",$),t.on("contextmenu longpress",E,!0)})),t.on("remove",F);return{isResizable:A,showResizeRect:M,hideResizeRect:$,updateResizeRect:R,destroy:()=>{L.cancel(),a=s=u=null}}},jg=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},Rg=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},Fg=(e,t,n)=>{const i=e.document.createRange();return jg(i,t),Rg(i,n),i},Bg=(e,t,n,i,o)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(i.dom,o),r},Hg=$u.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zg=(e,t,n)=>t(gi.fromDom(n.startContainer),n.startOffset,gi.fromDom(n.endContainer),n.endOffset),qg=(e,t)=>t.match({domRange:e=>({ltr:G(e),rtl:oe.none}),relative:(t,n)=>({ltr:at((()=>Fg(e,t,n))),rtl:at((()=>oe.some(Fg(e,n,t))))}),exact:(t,n,i,o)=>({ltr:at((()=>Bg(e,t,n,i,o))),rtl:at((()=>oe.some(Bg(e,i,o,t,n))))})}),Ug=(e,t)=>{const n=t.ltr();if(n.collapsed){return t.rtl().filter((e=>!1===e.collapsed)).map((e=>Hg.rtl(gi.fromDom(e.endContainer),e.endOffset,gi.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>zg(e,Hg.ltr,n)))}return zg(e,Hg.ltr,n)},Wg=(e,t)=>{const n=qg(e,t);return Ug(e,n)};Hg.ltr,Hg.rtl;const Vg=(e,t,n,i)=>({start:e,soffset:t,finish:n,foffset:i}),Yg={create:Vg},Kg=(e,t,n)=>{var i,o;return oe.from(null===(o=(i=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(i,t,n)).bind((t=>{if(null===t.offsetNode)return oe.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),oe.some(n)}))},Gg=(e,t,n)=>{var i,o;return oe.from(null===(o=(i=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(i,t,n))},Qg=document.caretPositionFromPoint?Kg:document.caretRangeFromPoint?Gg:oe.none,Xg=(e,t,n)=>{const i=gi.fromDom(e.document);return Qg(i,t,n).map((e=>Yg.create(gi.fromDom(e.startContainer),e.startOffset,gi.fromDom(e.endContainer),e.endOffset)))},Zg=$u.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jg=(e,t,n,i)=>e.fold(t,n,i),ev=e=>e.fold(Q,Q,Q),tv={before:Zg.before,on:Zg.on,after:Zg.after,cata:Jg,getStart:ev},nv=$u.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),iv=e=>nv.exact(e.start,e.soffset,e.finish,e.foffset),ov=e=>e.match({domRange:e=>gi.fromDom(e.startContainer),relative:e=>tv.getStart(e),exact:e=>e}),rv=e=>{const t=ov(e);return Ti(t)},av={domRange:nv.domRange,relative:nv.relative,exact:nv.exact,exactFromRange:iv,getWin:rv,range:Yg.create},sv=(e,t)=>{const n=Mn(e);return"input"===n?tv.after(e):ue(["br","img"],n)?0===t?tv.before(e):tv.after(e):tv.on(e,t)},lv=(e,t)=>{const n=e.fold(tv.before,sv,tv.after),i=t.fold(tv.before,sv,tv.after);return av.relative(n,i)},cv=(e,t,n,i)=>{const o=sv(e,t),r=sv(n,i);return av.relative(o,r)},uv=e=>e.match({domRange:e=>{const t=gi.fromDom(e.startContainer),n=gi.fromDom(e.endContainer);return cv(t,e.startOffset,n,e.endOffset)},relative:lv,exact:cv}),dv=(e,t)=>{const n=(t||document).createDocumentFragment();return pe(e,(e=>{n.appendChild(e.dom)})),gi.fromDom(n)},hv=e=>{const t=av.getWin(e).dom,n=(e,n,i,o)=>Bg(t,e,n,i,o),i=uv(e);return Wg(t,i).match({ltr:n,rtl:n})},pv=(e,t,n)=>Xg(e,t,n),fv=(e,t,n)=>pv(n.defaultView,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined(),mv=(e,t)=>e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,gv=(e,t,n)=>{for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},vv=(e,t,n)=>null!==gv(e,t,n),bv=(e,t,n)=>vv(e,t,(e=>e.nodeName===n)),yv=e=>e&&"TABLE"===e.nodeName,wv=e=>e&&/^(TD|TH|CAPTION)$/.test(e.nodeName),_v=(e,t)=>_a(e)&&!1===vv(e,t,uf),Cv=(e,t,n)=>{const i=new Or(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());for(;t=i[n?"prev":"next"]();)if(ar(t))return!0},xv=(e,t)=>e.previousSibling&&e.previousSibling.nodeName===t,kv=(e,t)=>{for(;t&&t!==e;){if(cr(t))return!0;t=t.parentNode}return!1},Sv=(e,t,n,i,o)=>{let r;const a=e.getRoot();let s;const l=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||a;if(i&&ar(o)&&t&&e.isEmpty(c))return oe.some(Qc(o.parentNode,e.nodeIndex(o)));const u=new Or(o,c);for(;s=u[i?"prev":"next"]();){if("false"===e.getContentEditableParent(s)||_v(s,a))return oe.none();if(er(s)&&s.nodeValue.length>0)return!1===bv(s,a,"A")?oe.some(Qc(s,i?s.nodeValue.length:0)):oe.none();if(e.isBlock(s)||l[s.nodeName.toLowerCase()])return oe.none();r=s}return ir(r)?oe.none():n&&r?oe.some(Qc(r,0)):oe.none()},Ev=(e,t,n,i)=>{let o,r;const a=e.getRoot();let s,l,c=!1;o=i[(n?"start":"end")+"Container"],r=i[(n?"start":"end")+"Offset"];const u=Uo(o)&&r===o.childNodes.length,d=e.schema.getNonEmptyElements();if(l=n,_a(o))return oe.none();if(Uo(o)&&r>o.childNodes.length-1&&(l=!1),or(o)&&(o=a,r=0),o===a){if(l&&(s=o.childNodes[r>0?r-1:0],s)){if(_a(s))return oe.none();if(d[s.nodeName]||yv(s))return oe.none()}if(o.hasChildNodes()){if(r=Math.min(!l&&r>0?r-1:r,o.childNodes.length-1),o=o.childNodes[r],r=er(o)&&u?o.data.length:0,!t&&o===a.lastChild&&yv(o))return oe.none();if(kv(a,o)||_a(o))return oe.none();if(o.hasChildNodes()&&!1===yv(o)){s=o;const t=new Or(o,a);do{if(cr(s)||_a(s)){c=!1;break}if(er(s)&&s.nodeValue.length>0){r=l?0:s.nodeValue.length,o=s,c=!0;break}if(d[s.nodeName.toLowerCase()]&&!wv(s)){r=e.nodeIndex(s),o=s.parentNode,l||r++,c=!0;break}}while(s=l?t.next():t.prev())}}}return t&&(er(o)&&0===r&&Sv(e,u,t,!0,o).each((e=>{o=e.container(),r=e.offset(),c=!0})),Uo(o)&&(s=o.childNodes[r],s||(s=o.childNodes[r-1]),!s||!ar(s)||xv(s,"A")||Cv(e,s,!1)||Cv(e,s,!0)||Sv(e,u,t,!0,s).each((e=>{o=e.container(),r=e.offset(),c=!0})))),l&&!t&&er(o)&&r===o.nodeValue.length&&Sv(e,u,t,!1,o).each((e=>{o=e.container(),r=e.offset(),c=!0})),c?oe.some(Qc(o,r)):oe.none()},Tv=(e,t)=>{const n=t.collapsed,i=t.cloneRange(),o=Qc.fromRangeStart(t);return Ev(e,n,!0,i).each((e=>{n&&Qc.isAbove(o,e)||i.setStart(e.container(),e.offset())})),n||Ev(e,n,!1,i).each((e=>{i.setEnd(e.container(),e.offset())})),n&&i.collapse(!0),mv(t,i)?oe.none():oe.some(i)},Av=(e,t)=>e.splitText(t),Ov=e=>{let t=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset;return t===i&&er(t)?n>0&&n<t.nodeValue.length&&(i=Av(t,n),t=i.previousSibling,o>n?(o-=n,t=i=Av(i,o).previousSibling,o=i.nodeValue.length,n=0):o=0):(er(t)&&n>0&&n<t.nodeValue.length&&(t=Av(t,n),n=0),er(i)&&o>0&&o<i.nodeValue.length&&(i=Av(i,o).previousSibling,o=i.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:o}},Dv=e=>({walk:(t,n)=>Om(e,t,n),split:Ov,normalize:t=>Tv(e,t).fold(ne,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});Dv.compareRanges=mv,Dv.getCaretRangeFromPoint=fv,Dv.getSelectedNode=xc,Dv.getNode=kc;const Iv=(e,t)=>{const n=(t,n)=>{if(!U(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const i=t.dom;di(i)&&(i.style[e]=n+"px")},i=n=>{const i=t(n);if(i<=0||null===i){const t=no(n,e);return parseFloat(t)||0}return i},o=(e,t)=>be(t,((t,n)=>{const i=no(e,n),o=void 0===i?0:parseInt(i,10);return isNaN(o)?t:t+o}),0),r=(e,t,n)=>{const i=o(e,n);return t>i?t-i:0};return{set:n,get:i,getOuter:i,aggregate:o,max:r}},Pv=Iv("height",(e=>{const t=e.dom;return Xi(e)?t.getBoundingClientRect().height:t.offsetHeight})),Nv=e=>Pv.get(e),Mv=()=>gi.fromDom(document),Lv=(e,t)=>e.view(t).fold(G([]),(t=>{const n=e.owner(t),i=Lv(e,n);return[t].concat(i)})),$v=(e,t)=>{const n=t.owner(e);return Lv(t,n)},jv=e=>{var t;return(e.dom===document?oe.none():oe.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(gi.fromDom)},Rv=e=>Si(e);var Fv=Object.freeze({__proto__:null,view:jv,owner:Rv});const Bv=e=>{const t=Mv(),n=$o(t),i=$v(e,Fv),o=Lo(e),r=ve(i,((e,t)=>{const n=Lo(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Io(r.left+o.left+n.left,r.top+o.top+n.top)},Hv=e=>"textarea"===Mn(e),zv=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),qv=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},Uv=(e,t)=>{const n=$i(e);if(0===n.length||Hv(e))return{element:e,offset:t};if(t<n.length&&!Hv(n[t]))return{element:n[t],offset:0};{const i=n[n.length-1];return Hv(i)?{element:e,offset:t}:"img"===Mn(i)?{element:i,offset:1}:Fn(i)?{element:i,offset:sa(i).length}:{element:i,offset:$i(i).length}}},Wv=(e,t)=>{const n=Mo(e),i=Nv(e);return{element:e,bottom:n.top+i,height:i,pos:n,cleanup:t}},Vv=(e,t)=>{const n=Uv(e,t),i=gi.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+fa+"</span>");return lo(n.element,i),Wv(i,(()=>vo(i)))},Yv=e=>Wv(gi.fromDom(e),V),Kv=(e,t,n,i)=>{Zv(e,(()=>Qv(e,t,n,i)),n)},Gv=(e,t,n,i,o)=>{const r={elm:i.element.dom,alignToTop:o};if(zv(e,r))return;n(t,$o(t).top,i,o),qv(e,r)},Qv=(e,t,n,i)=>{const o=gi.fromDom(e.getBody()),r=gi.fromDom(e.getDoc());so(o);const a=Vv(gi.fromDom(n.startContainer),n.startOffset);Gv(e,r,t,a,i),a.cleanup()},Xv=(e,t,n,i)=>{const o=gi.fromDom(e.getDoc());Gv(e,o,n,Yv(t),i)},Zv=(e,t,n)=>{const i=n.startContainer,o=n.startOffset,r=n.endContainer,a=n.endOffset;t(gi.fromDom(i),gi.fromDom(r));const s=e.dom.createRng();s.setStart(i,o),s.setEnd(r,a),e.selection.setRng(n)},Jv=(e,t,n,i)=>{const o=e.pos;if(n)jo(o.left,o.top,i);else{const n=o.top-t+e.height;jo(o.left,n,i)}},eb=(e,t,n,i,o)=>{const r=n+t,a=i.pos.top,s=i.bottom,l=s-a>=n;if(a<t)Jv(i,n,!1!==o,e);else if(a>r){Jv(i,n,l?!1!==o:!0===o,e)}else s>r&&!l&&Jv(i,n,!0===o,e)},tb=(e,t,n,i)=>{const o=e.dom.defaultView.innerHeight;eb(e,t,o,n,i)},nb=(e,t,n,i)=>{const o=e.dom.defaultView.innerHeight;eb(e,t,o,n,i);const r=Bv(n.element),a=Ho(window);r.top<a.y?Ro(n.element,!1!==i):r.top>a.bottom&&Ro(n.element,!0===i)},ib=(e,t,n)=>Kv(e,tb,t,n),ob=(e,t,n)=>Xv(e,t,tb,n),rb=(e,t,n)=>Kv(e,nb,t,n),ab=(e,t,n)=>Xv(e,t,nb,n),sb=(e,t,n)=>{(e.inline?ob:ab)(e,t,n)},lb=(e,t,n)=>{(e.inline?ib:rb)(e,t,n)},cb=e=>e.dom.focus(),ub=e=>{const t=Wi(e).dom;return e.dom===t.activeElement},db=(e=Mv())=>oe.from(e.dom.activeElement).map(gi.fromDom),hb=e=>db(Wi(e)).filter((t=>e.dom.contains(t.dom))),pb=(e,t)=>{const n=Fn(t)?sa(t).length:$i(t).length+1;return e>n?n:e<0?0:e},fb=e=>av.range(e.start,pb(e.soffset,e.start),e.finish,pb(e.foffset,e.finish)),mb=(e,t)=>!qo(t.dom)&&(xi(e,t)||Ci(e,t)),gb=e=>t=>mb(e,t.start)&&mb(e,t.finish),vb=e=>e.inline,bb=e=>av.range(gi.fromDom(e.startContainer),e.startOffset,gi.fromDom(e.endContainer),e.endOffset),yb=e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?oe.from(t.getRangeAt(0)):oe.none()).map(bb)},wb=e=>{const t=Ti(e);return yb(t.dom).filter(gb(e))},_b=(e,t)=>oe.from(t).filter(gb(e)).map(fb),Cb=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),oe.some(t)}catch(e){return oe.none()}},xb=e=>{const t=vb(e)?wb(gi.fromDom(e.getBody())):oe.none();e.bookmark=t.isSome()?t:e.bookmark},kb=e=>(e.bookmark?e.bookmark:oe.none()).bind((t=>_b(gi.fromDom(e.getBody()),t))).bind(Cb),Sb=e=>{kb(e).each((t=>e.selection.setRng(t)))},Eb={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Tb=(e,t)=>(U(t)||(t=0),setTimeout(e,t)),Ab=(e,t)=>(U(t)||(t=0),setInterval(e,t)),Ob={setEditorTimeout:(e,t,n)=>Tb((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const i=Ab((()=>{e.removed?clearInterval(i):t()}),n);return i}},Db=e=>"nodechange"===e.type&&e.selectionChange,Ib=(e,t)=>{const n=()=>{t.throttle()};vl.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{vl.DOM.unbind(document,"mouseup",n)}))},Pb=(e,t)=>{e.on("mouseup touchend",(()=>{t.throttle()}))},Nb=(e,t)=>{Pb(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{Db(t)||xb(e)}))},Mb=e=>{const t=jl((()=>{xb(e)}),0);e.on("init",(()=>{e.inline&&Ib(e,t),Nb(e,t)})),e.on("remove",(()=>{t.cancel()}))};let Lb;const $b=vl.DOM,jb=e=>Eb.isEditorUIElement(e),Rb=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Fb=(e,t)=>{const n=Kd(e),i=$b.getParent(t,(t=>jb(t)||!!n&&e.dom.is(t,n)));return null!==i},Bb=e=>{try{const t=Wi(gi.fromDom(e.getElement()));return db(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},Hb=(e,t)=>{const n=t.editor;Mb(n),n.on("focusin",(()=>{const t=e.focusedEditor;t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{Ob.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Fb(n,Bb(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Lb||(Lb=t=>{const n=e.activeEditor;n&&Gi(t).each((t=>{t.ownerDocument===document&&(t===document.body||Fb(n,t)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},$b.bind(document,"focusin",Lb))},zb=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||($b.unbind(document,"focusin",Lb),Lb=null)},qb=t=>{t.on("AddEditor",e(Hb,t)),t.on("RemoveEditor",e(zb,t))},Ub=(e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))),Wb=e=>e.collapsed?oe.from(kc(e.startContainer,e.startOffset)).map(gi.fromDom):oe.none(),Vb=(e,t)=>Wb(t).bind((t=>Yr(t)?oe.some(t):!1===xi(e,t)?oe.some(e):oe.none())),Yb=(e,t)=>{Vb(gi.fromDom(e.getBody()),t).bind((e=>sf(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},Kb=e=>{
if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Gb=e=>ub(e)||hb(e).isSome(),Qb=e=>e.iframeElement&&ub(gi.fromDom(e.iframeElement)),Xb=e=>{const t=e.getBody();return t&&Gb(gi.fromDom(t))},Zb=e=>{const t=Wi(gi.fromDom(e.getElement()));return db(t).filter((t=>!Rb(t.dom)&&Fb(e,t.dom))).isSome()},Jb=e=>e.inline?Xb(e):Qb(e),ey=e=>Jb(e)||Zb(e),ty=e=>{const t=e.selection,n=e.getBody();let i=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Jb(e)&&kb(e).each((t=>{e.selection.setRng(t),i=t}));const o=Ub(e,t.getNode());if(e.dom.isChildOf(o,n))return Kb(o),Yb(e,i),void ny(e);e.inline||(mn.browser.isOpera()||Kb(n),e.getWin().focus()),(mn.browser.isFirefox()||e.inline)&&(Kb(n),Yb(e,i)),ny(e)},ny=e=>e.editorManager.setActive(e),iy=(e,t)=>{e.removed||(t?ny(e):ty(e))},oy=(e,t,n,i,o)=>{const r=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return oe.from(r).map(gi.fromDom).map((e=>i&&t.collapsed?e:ji(e,o(e,a)).getOr(e))).bind((e=>Rn(e)?oe.some(e):Ai(e).filter(Rn))).map((e=>e.dom)).getOr(e)},ry=(e,t,n)=>oy(e,t,!0,n,((e,t)=>Math.min(Bi(e),t))),ay=(e,t,n)=>oy(e,t,!1,n,((e,t)=>t>0?t-1:t)),sy=(e,t)=>{const n=e;for(;e&&er(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},ly=(e,t)=>{let n,i,o;if(!t)return e;i=t.startContainer,o=t.endContainer;const r=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(i===o&&a-r<2&&i.hasChildNodes()&&(n=i.childNodes[r]),3===i.nodeType&&3===o.nodeType&&(i=i.length===r?sy(i.nextSibling,!0):i.parentNode,o=0===a?sy(o.previousSibling,!1):o.parentNode,i&&i===o))?i:n&&3===n.nodeType?n.parentNode:n},cy=(e,t,n,i)=>{let o;const r=[],a=e.getRoot();if(n=e.getParent(n||ry(a,t,t.collapsed),e.isBlock),i=e.getParent(i||ay(a,t,t.collapsed),e.isBlock),n&&n!==a&&r.push(n),n&&i&&n!==i){o=n;const t=new Or(n,a);for(;(o=t.next())&&o!==i;)e.isBlock(o)&&r.push(o)}return i&&n!==i&&i!==a&&r.push(i),r},uy=(e,t,n)=>oe.from(t).map((t=>{const i=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,i),o.setEnd(t.parentNode,i+1),n&&(qm(e,o,t,!0),qm(e,o,t,!1)),o})),dy=(e,t)=>he(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),hy=e=>"img"===Mn(e)?1:la(e).fold((()=>$i(e).length),(e=>e.length)),py=e=>la(e).filter((e=>0!==e.trim().length||e.indexOf(ea)>-1)).isSome(),fy=["img","br"],my=e=>py(e)||ue(fy,Mn(e)),gy=e=>Cr(e,my),vy=e=>by(e,my),by=(e,t)=>{const n=e=>{const i=$i(e);for(let e=i.length-1;e>=0;e--){const o=i[e];if(t(o))return oe.some(o);const r=n(o);if(r.isSome())return r}return oe.none()};return n(e)},yy="[data-mce-autocompleter]",wy=(e,t)=>{if(Cy(gi.fromDom(e.getBody())).isNone()){const n=gi.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());ho(n,gi.fromDom(t.extractContents())),t.insertNode(n.dom),Ai(n).each((e=>e.dom.normalize())),vy(n).map((t=>{e.selection.setCursorLocation(t.dom,hy(t))}))}},_y=e=>Sr(e,yy),Cy=e=>kr(e,yy),xy=(e,t)=>Cy(t).each((t=>{const n=e.selection.getBookmark();bo(t),e.selection.moveToBookmark(n)})),ky={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Sy=(e,t,n)=>{const i=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[i])return e[i];if(e!==t){let n=e[o];if(n)return n;for(let i=e.parent;i&&i!==t;i=i.parent)if(n=i[o],n)return n}},Ey=e=>{if(!Ka(e.value))return!1;const t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},Ty=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ay{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const n=new Ay(e,ky[e]||1);return t&&je(t,((e,t)=>{n.attr(t,e)})),n}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;let i;if("string"!=typeof e)return null!=e&&je(e,((e,t)=>{n.attr(t,e)})),n;if(i=n.attributes){if(void 0!==t){if(null===t){if(e in i.map){delete i.map[e];let t=i.length;for(;t--;)if(i[t].name===e)return i.splice(t,1),n}return n}if(e in i.map){let n=i.length;for(;n--;)if(i[n].name===e){i[n].value=t;break}}else i.push({name:e,value:t});return i.map[e]=t,n}return i.map[e]}}clone(){const e=this,t=new Ay(e.name,e.type);let n;if(n=e.attributes){const e=[];e.map={};for(let t=0,i=n.length;t<i;t++){const i=n[t];"id"!==i.name&&(e[e.length]={name:i.name,value:i.value},e.map[i.name]=i.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent.insert(e,t),e.append(t),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const i=t.parent||this;return n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e}getAll(e){const t=this,n=[];for(let i=t.firstChild;i;i=Sy(i,t))i.name===e&&n.push(i);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=Sy(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){const i=this;let o=i.firstChild;if(Ty(i))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(Ty(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Ey(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&Ka(o.value))return!1;if(n&&n(o))return!1}while(o=Sy(o,i));return!0}walk(e){return Sy(this,null,e)}}const Oy=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),Dy=(e,t,n=0)=>{const i=e.toLowerCase();if(-1!==i.indexOf("[if ",n)&&Oy(i,n)){const e=i.indexOf("[endif]",n);return i.indexOf(">",e)}if(t){const e=i.indexOf(">",n);return-1!==e?e:i.length}{const t=/--!?>/g;t.lastIndex=n;const o=t.exec(e);return o?o.index+o[0].length:i.length}},Iy=(e,t,n)=>{const i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,r=e.getVoidElements();let a=1,s=n;for(;0!==a;)for(i.lastIndex=s;;){const e=i.exec(t);if(null===e)return s;if("!"===e[1]){s=Ct(e[2],"--")?Dy(t,!1,e.index+"!--".length):Dy(t,!0,e.index+1);break}{o.lastIndex=i.lastIndex;const n=o.exec(t);if(R(n)||n.index!==i.lastIndex)continue;"/"===e[1]?a-=1:Ye(r,e[2])||(a+=1),s=i.lastIndex+n[0].length;break}}return s},Py=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Ny=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema;let o=Py(e.getTempAttrs(),t);const r=i.getVoidElements();let a;for(;a=n.exec(o);){const e=n.lastIndex,t=a[0].length;let s;s=r[a[1]]?e:Iy(i,o,e),o=o.substring(0,e-t)+o.substring(s),n.lastIndex=e-t}return ga(o)},My=Ny,Ly=(e,t)=>{const n=ld(e),i=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(i,"")},$y=(e,t,n)=>{let i;"raw"===t.format?i=xn.trim(My(e.serializer,n.innerHTML)):"text"===t.format?(i=ga(n.innerText),i="\n"===i?"":i):i="tree"===t.format?e.serializer.serialize(n,t):Ly(e,e.serializer.serialize(n,t));return"text"!==t.format&&!Gr(gi.fromDom(n))&&M(i)?xn.trim(i):i},jy=(e,t)=>oe.from(e.getBody()).fold(G("tree"===t.format?new Ay("body",11):""),(n=>$y(e,t,n))),Ry=xn.each,Fy=e=>{const t=(t,n)=>{if(t.nodeName!==n.nodeName)return!1;const i=t=>{const n={};return Ry(e.getAttribs(t),(i=>{const o=i.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))})),n},o=(e,t)=>{let n,i;for(i in e)if(Ye(e,i)){if(n=t[i],void 0===n)return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(Ye(t,i))return!1;return!0};return!!o(i(t),i(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Nf(t)&&!Nf(n)))};return{compare:t}},By=xn.makeMap,Hy=e=>{const t=[],n=(e=e||{}).indent,i=By(e.indent_before||""),o=By(e.indent_after||""),r=Ns.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="xhtml"!==e.element_format;return{start:(e,s,l)=>{let c,u,d,h;if(n&&i[e]&&t.length>0&&(h=t[t.length-1],h.length>0&&"\n"!==h&&t.push("\n")),t.push("<",e),s)for(c=0,u=s.length;c<u;c++)d=s[c],t.push(" ",d.name,'="',r(d.value,!0),'"');t[t.length]=!l||a?">":" />",l&&n&&o[e]&&t.length>0&&(h=t[t.length-1],h.length>0&&"\n"!==h&&t.push("\n"))},end:e=>{let i;t.push("</",e,">"),n&&o[e]&&t.length>0&&(i=t[t.length-1],i.length>0&&"\n"!==i&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:r(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("<!--",e,"-->")},pi:(e,i)=>{i?t.push("<?",e," ",r(i),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},zy=(e,t=Vs())=>{const n=Hy(e);(e=e||{}).validate=!("validate"in e)||e.validate;const i=i=>{const o=e.validate,r={3:e=>{n.text(e.value,e.raw)},8:e=>{n.comment(e.value)},7:e=>{n.pi(e.name,e.value)},10:e=>{n.doctype(e.value)},4:e=>{n.cdata(e.value)},11:e=>{if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();const a=e=>{const i=r[e.type];if(i)i(e);else{const i=e.name,r=i in t.getVoidElements();let s=e.attributes;if(o&&s&&s.length>1){const n=[];n.map={};const i=t.getElementRule(e.name);if(i){for(let e=0,t=i.attributesOrder.length;e<t;e++){const t=i.attributesOrder[e];if(t in s.map){const e=s.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=s.length;e<t;e++){const t=s[e].name;if(!(t in n.map)){const e=s.map[t];n.map[t]=e,n.push({name:t,value:e})}}s=n}}if(n.start(i,s,r),!r){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==t.value[0]||n.text("\n",!0);do{a(t)}while(t=t.next)}n.end(i)}}};return 1!==i.type||e.inner?3===i.type?r[3](i):r[11](i):a(i),n.getContent()};return{serialize:i}},qy=new Set;pe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{qy.add(e)}));const Uy=["font","text-decoration","text-emphasis"],Wy=(e,t)=>Le(e.parseStyle(e.getAttrib(t,"style"))),Vy=e=>qy.has(e),Yy=(e,t)=>ke(Wy(e,t),(e=>!Vy(e))),Ky=e=>ge(e,(e=>de(Uy,(t=>Ct(e,t))))),Gy=(e,t,n)=>{const i=Wy(e,t),o=Wy(e,n),r=i=>{var o,r;const a=null!==(o=e.getStyle(t,i))&&void 0!==o?o:"",s=null!==(r=e.getStyle(n,i))&&void 0!==r?r:"";return At(a)&&At(s)&&a!==s};return de(i,(e=>{const t=t=>de(t,(t=>t===e));if(!t(o)&&t(Uy)){const e=Ky(o);return de(e,r)}return r(e)}))},Qy=(e,t,n)=>oe.from(n.container()).filter(er).exists((i=>{const o=e?0:-1;return t(i.data.charAt(n.offset()+o))})),Xy=e(Qy,!0,Lf),Zy=e(Qy,!1,Lf),Jy=e=>{const t=e.container();return er(t)&&(0===t.data.length||ma(t.data)&&ig.isBookmarkNode(t.parentNode))},ew=(e,t)=>n=>oe.from(wp(e?0:-1,n)).filter(t).isSome(),tw=e=>sr(e)&&"block"===no(gi.fromDom(e),"display"),nw=e=>cr(e)&&!Qo(e),iw=ew(!0,tw),ow=ew(!1,tw),rw=ew(!0,dr),aw=ew(!1,dr),sw=ew(!0,Xo),lw=ew(!1,Xo),cw=ew(!0,nw),uw=ew(!1,nw),dw=e=>e.slice(0,-1),hw=(e,t,n)=>xi(t,e)?dw(Di(e,(e=>n(e)||Ci(e,t)))):[],pw=(e,t)=>hw(e,t,ne),fw=(e,t)=>[e].concat(pw(e,t)),mw=(e,t,n)=>nf(e,t,n,Jy),gw=(e,t)=>we(fw(gi.fromDom(t.container()),e),Br),vw=(e,t,n)=>mw(e,t.dom,n).forall((e=>gw(t,n).fold((()=>!1===yp(e,n,t.dom)),(i=>!1===yp(e,n,t.dom)&&xi(i,gi.fromDom(e.container())))))),bw=(e,t,n)=>gw(t,n).fold((()=>mw(e,t.dom,n).forall((e=>!1===yp(e,n,t.dom)))),(t=>mw(e,t.dom,n).isNone())),yw=e(bw,!1),ww=e(bw,!0),_w=e(vw,!1),Cw=e(vw,!0),xw=e=>Op(e).exists(qr),kw=(e,t,n)=>{const i=ge(fw(gi.fromDom(n.container()),t),Br),o=De(i).getOr(t);return ef(e,o.dom,n).filter(xw)},Sw=(e,t)=>Op(t).exists(qr)||kw(!0,e,t).isSome(),Ew=(e,t)=>Dp(t).exists(qr)||kw(!1,e,t).isSome(),Tw=e(kw,!1),Aw=e(kw,!0),Ow=e=>Qc.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Dw=(e,t)=>{const n=ge(fw(gi.fromDom(t.container()),e),Br);return De(n).getOr(e)},Iw=(e,t)=>Ow(t)?Zy(t):Zy(t)||af(Dw(e,t).dom,t).exists(Zy),Pw=(e,t)=>Ow(t)?Xy(t):Xy(t)||rf(Dw(e,t).dom,t).exists(Xy),Nw=e=>ue(["pre","pre-wrap"],e),Mw=e=>Op(e).bind((e=>yr(e,Rn))).exists((e=>Nw(no(e,"white-space")))),Lw=(e,t)=>af(e.dom,t).isNone(),$w=(e,t)=>rf(e.dom,t).isNone(),jw=(e,t)=>Lw(e,t)||$w(e,t)||yw(e,t)||ww(e,t)||Ew(e,t)||Sw(e,t),Rw=e=>z(e)&&cr(e)&&lp(e),Fw=e=>t=>Rw(new Or(t,e).next()),Bw=(e,t)=>{const n=rf(e.dom,t).getOr(t),i=Fw(e.dom);return t.isAtEnd()&&(i(t.container())||i(n.container()))},Hw=(e,t)=>!Mw(t)&&(jw(e,t)||Iw(e,t)||Pw(e,t)),zw=(e,t)=>!Mw(t)&&(yw(e,t)||_w(e,t)||Ew(e,t)||Iw(e,t)),qw=e=>{const t=e.container(),n=e.offset();return er(t)&&n<t.data.length?Qc(t,n+1):e},Uw=(e,t)=>!Mw(t)&&(ww(e,t)||Cw(e,t)||Sw(e,t)||Pw(e,t)||Bw(e,t)),Ww=(e,t)=>zw(e,t)||Uw(e,qw(t)),Vw=(e,t)=>Mf(e.charAt(t)),Yw=e=>{const t=e.container();return er(t)&&_t(t.data,ea)},Kw=e=>{const t=e.split("");return he(t,((e,n)=>Mf(e)&&n>0&&n<t.length-1&&$f(t[n-1])&&$f(t[n+1])?" ":e)).join("")},Gw=(e,t)=>{const n=t.data,i=Qc(t,0);return!(!Vw(n,0)||Ww(e,i))&&(t.data=" "+n.slice(1),!0)},Qw=e=>{const t=e.data,n=Kw(t);return n!==t&&(e.data=n,!0)},Xw=(e,t)=>{const n=t.data,i=Qc(t,n.length-1);return!(!Vw(n,n.length-1)||Ww(e,i))&&(t.data=n.slice(0,-1)+" ",!0)},Zw=(e,t)=>oe.some(t).filter(Yw).bind((t=>{const n=t.container();return Gw(e,n)||Qw(n)||Xw(e,n)?oe.some(t):oe.none()})),Jw=e=>{const t=gi.fromDom(e.getBody());e.selection.isCollapsed()&&Zw(t,Qc.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))},e_=(e,t,n)=>{if(0===n)return;const i=gi.fromDom(e),o=br(i,Br).getOr(i),r=e.data.slice(t,t+n),a=t+n>=e.data.length&&Uw(o,Qc(e,e.data.length)),s=0===t&&zw(o,Qc(e,0));e.replaceData(t,n,Za(r,4,s,a))},t_=(e,t)=>{const n=e.data.slice(t),i=n.length-Et(n).length;e_(e,t,i)},n_=(e,t)=>{const n=e.data.slice(0,t),i=n.length-Tt(n).length;e_(e,t-i,i)},i_=(e,t,n,i=!0)=>{const o=Tt(e.data).length,r=i?e:t,a=i?t:e;return i?r.appendData(a.data):r.insertData(0,a.data),vo(gi.fromDom(a)),n&&t_(r,o),r},o_=(e,t)=>{const n=e.container(),i=e.offset();return!1===Qc.isTextPosition(e)&&n===t.parentNode&&i>Qc.before(t).offset()},r_=(e,t)=>o_(t,e)?Qc(t.container(),t.offset()-1):t,a_=e=>er(e)?Qc(e,0):Qc.before(e),s_=e=>er(e)?Qc(e,e.data.length):Qc.after(e),l_=e=>Ba(e.previousSibling)?oe.some(s_(e.previousSibling)):e.previousSibling?lf(e.previousSibling):oe.none(),c_=e=>Ba(e.nextSibling)?oe.some(a_(e.nextSibling)):e.nextSibling?sf(e.nextSibling):oe.none(),u_=(e,t)=>{const n=Qc.before(t.previousSibling?t.previousSibling:t.parentNode);return af(e,n).fold((()=>rf(e,Qc.after(t))),oe.some)},d_=(e,t)=>rf(e,Qc.after(t)).fold((()=>af(e,Qc.before(t))),oe.some),h_=(e,t)=>l_(t).orThunk((()=>c_(t))).orThunk((()=>u_(e,t))),p_=(e,t)=>c_(t).orThunk((()=>l_(t))).orThunk((()=>d_(e,t))),f_=(e,t,n)=>e?p_(t,n):h_(t,n),m_=(t,n,i)=>f_(t,n,i).map(e(r_,i)),g_=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},v_=e=>t=>t.dom===e,b_=(e,t)=>t&&Ye(e.schema.getBlockElements(),Mn(t)),y_=e=>{if(ss(e)){const t=gi.fromHtml('<br data-mce-bogus="1">');return go(e),ho(e,t),oe.some(Qc.before(t.dom))}return oe.none()},w_=(e,t,n)=>{const i=Pi(e).filter(Fn),o=Ni(e).filter(Fn);return vo(e),Tn(i,o,t,((e,t,i)=>{const o=e.dom,r=t.dom,a=o.data.length;return i_(o,r,n),i.container()===r?Qc(o,a):i})).orThunk((()=>(n&&(i.each((e=>n_(e.dom,e.dom.length))),o.each((e=>t_(e.dom,0)))),t)))},__=(e,t)=>Ye(e.schema.getTextInlineElements(),Mn(t)),C_=(t,n,i,o=!0)=>{const r=m_(n,t.getBody(),i.dom),a=br(i,e(b_,t),v_(t.getBody())),s=w_(i,r,__(t,i));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(y_).fold((()=>{o&&g_(t,n,s)}),(e=>{o&&g_(t,n,oe.some(e))}))},x_=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,k_=e=>x_.test(e),S_=(e,t)=>bi(gi.fromDom(t),Md(e)),E_=e=>"rtl"===vl.DOM.getStyle(e,"direction",!0)||k_(e.textContent),T_=(e,t,n)=>ge(vl.DOM.getParents(n.container(),"*",t),e),A_=(e,t,n)=>{const i=T_(e,t,n);return oe.from(i[i.length-1])},O_=(e,t,n)=>{const i=bp(t,e),o=bp(n,e);return i&&i===o},D_=e=>ka(e)||Sa(e),I_=(e,t)=>{if(!t)return t;const n=t.container(),i=t.offset();return e?wa(n)?er(n.nextSibling)?Qc(n.nextSibling,0):Qc.after(n):ka(t)?Qc(n,i+1):t:wa(n)?er(n.previousSibling)?Qc(n.previousSibling,n.previousSibling.data.length):Qc.before(n):Sa(t)?Qc(n,i-1):t},P_=e(I_,!0),N_=e(I_,!1),M_=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},L_=e=>M_(e,"Delete"),$_=e=>M_(e,"ForwardDelete"),j_=e=>t=>Ci(e,gi.fromDom(t.dom.parentNode)),R_=e=>Ur(e)||Vr(e),F_=(e,t)=>xi(e,t)?yr(t,R_,j_(e)):oe.none(),B_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},H_=(e,t,n)=>En(sf(n),lf(n),((i,o)=>{const r=I_(!0,i),a=I_(!1,o),s=I_(!1,t);return e?rf(n,s).exists((e=>e.isEqual(a)&&t.isEqual(r))):af(n,s).exists((e=>e.isEqual(r)&&t.isEqual(a)))})).getOr(!0),z_=e=>(jn(e)?Pi(e):Fi(e)).bind(z_).orThunk((()=>oe.some(e))),q_=(e,t,n,i=!0)=>{var o;t.deleteContents();const r=z_(n).getOr(n),a=gi.fromDom(null!==(o=e.dom.getParent(r.dom,e.dom.isBlock))&&void 0!==o?o:n.dom);if(a.dom===e.getBody()?B_(e,i):ss(a)&&(ha(a),i&&e.selection.setCursorLocation(a.dom,0)),!Ci(n,a)){const e=kn(Ai(a),n)?[]:Ii(a);pe(e.concat($i(n)),(e=>{Ci(e,a)||xi(e,a)||!ss(e)||vo(e)}))}},U_=e=>t=>Ci(e,t),W_=e=>oa(e,"td,th"),V_=(e,t)=>{const n=e=>jm(gi.fromDom(e),t),i=n(e.startContainer),o=n(e.endContainer),r=i.isSome(),a=o.isSome(),s=En(i,o,Ci).getOr(!1);return{startTable:i,endTable:o,isStartInTable:r,isEndInTable:a,isSameTable:s,isMultiTable:!s&&r&&a}},Y_=(e,t)=>({start:e,end:t}),K_=(e,t,n)=>({rng:e,table:t,cells:n}),G_=$u.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Q_=(e,t)=>Sr(gi.fromDom(e),"td,th",t),X_=e=>!Ci(e.start,e.end),Z_=(e,t)=>jm(e.start,t).bind((n=>jm(e.end,t).bind((e=>An(Ci(n,e),n))))),J_=(e,t)=>!X_(e)&&Z_(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})),eC=(e,t)=>{const n=Q_(e.startContainer,t),i=Q_(e.endContainer,t);return En(n,i,Y_)},tC=e=>t=>jm(t,e).bind((e=>Ie(W_(e)).map((e=>Y_(t,e))))),nC=e=>t=>jm(t,e).bind((e=>De(W_(e)).map((e=>Y_(e,t))))),iC=e=>t=>Z_(t,e).map((e=>K_(t,e,W_(e)))),oC=(e,t,n,i)=>{if(n.collapsed||!e.forall(X_))return oe.none();if(t.isSameTable){const t=e.bind(iC(i));return oe.some({start:t,end:t})}{const e=Q_(n.startContainer,i),t=Q_(n.endContainer,i),o=e.bind(tC(i)).bind(iC(i)),r=t.bind(nC(i)).bind(iC(i));return oe.some({start:o,end:r})}},rC=(e,t)=>_e(e,(e=>Ci(e,t))),aC=e=>En(rC(e.cells,e.rng.start),rC(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),sC=(e,t,n)=>e.exists((e=>J_(e,n)&&zm(e.start,t))),lC=(e,t)=>{const{startTable:n,endTable:i}=t,o=e.cloneRange();return n.each((e=>o.setStartAfter(e.dom))),i.each((e=>o.setEndBefore(e.dom))),o},cC=(e,t,n,i)=>oC(e,t,n,i).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:i}=t,o=aC(e).getOr([]);if(i&&e.cells.length===o.length)return oe.some(G_.fullTable(e.table));if(o.length>0){if(i)return oe.some(G_.partialTable(o,oe.none()));{const e=lC(n,t);return oe.some(G_.partialTable(o,oe.some({...t,rng:e})))}}return oe.none()})),uC=(e,t,n,i)=>oC(e,t,n,i).bind((({start:e,end:i})=>{const o=e.bind(aC).getOr([]),r=i.bind(aC).getOr([]);if(o.length>0&&r.length>0){const e=lC(n,t);return oe.some(G_.multiTable(o,r,e))}return oe.none()})),dC=(e,t)=>{const n=U_(e),i=eC(t,n),o=V_(t,n);return sC(i,t,n)?i.map((e=>G_.singleCellTable(t,e.start))):o.isMultiTable?uC(i,o,t,n):cC(i,o,t,n)},hC=e=>pe(e,(e=>{Gn(e,"contenteditable"),ha(e)})),pC=(e,t)=>oe.from(e.dom.getParent(t,e.dom.isBlock)).map(gi.fromDom),fC=(e,t,n)=>{n.each((n=>{t?vo(n):(ha(n),e.selection.setCursorLocation(n.dom,0))}))},mC=(e,t,n,i)=>{const o=n.cloneRange();i?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),yC(e,o,t,!1).each((e=>e()))},gC=e=>{const t=$m(e),n=gi.fromDom(e.selection.getNode());ur(n.dom)&&ss(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&de(t,(e=>Ci(e,n)))&&Un(n,"data-mce-selected","1")},vC=(e,t,n)=>oe.some((()=>{const i=e.selection.getRng(),o=n.bind((({rng:n,isStartInTable:o})=>{const r=pC(e,o?n.endContainer:n.startContainer);n.deleteContents(),fC(e,o,r.filter(ss));const a=o?t[0]:t[t.length-1];return mC(e,a,i,o),ss(a)?oe.none():oe.some(o?t.slice(1):t.slice(0,-1))})).getOr(t);hC(o),gC(e)})),bC=(e,t,n,i)=>oe.some((()=>{const o=e.selection.getRng(),r=t[0],a=n[n.length-1];mC(e,r,o,!0),mC(e,a,o,!1);const s=ss(r)?t:t.slice(1),l=ss(a)?n:n.slice(0,-1);hC(s.concat(l)),i.deleteContents(),gC(e)})),yC=(e,t,n,i=!0)=>oe.some((()=>{q_(e,t,n,i)})),wC=(e,t)=>oe.some((()=>C_(e,!1,t))),_C=(t,n,i)=>dC(n,i).bind((n=>n.fold(e(yC,t),e(wC,t),e(vC,t),e(bC,t)))),CC=(e,t)=>AC(e,t),xC=(e,t,n,i)=>EC(t,i).fold((()=>_C(e,t,n)),(t=>CC(e,t))),kC=(e,t,n)=>{const i=gi.fromDom(e.getBody()),o=e.selection.getRng();return 0!==n.length?vC(e,n,oe.none()):xC(e,i,o,t)},SC=(e,t)=>we(fw(t,e),Kr),EC=(e,t)=>we(fw(t,e),zn("caption")),TC=(e,t,n,i,o)=>tf(n,e.getBody(),o).bind((e=>SC(t,gi.fromDom(e.getNode())).bind((e=>Ci(e,i)?oe.none():oe.some(V))))),AC=(e,t)=>oe.some((()=>{ha(t),e.selection.setCursorLocation(t.dom,0)})),OC=(e,t,n,i)=>sf(e.dom).bind((o=>lf(e.dom).map((e=>t?n.isEqual(o)&&i.isEqual(e):n.isEqual(e)&&i.isEqual(o))))).getOr(!0),DC=(e,t)=>AC(e,t),IC=(e,t,n)=>EC(e,gi.fromDom(n.getNode())).fold((()=>oe.some(V)),(e=>An(!Ci(e,t),V))),PC=(e,t,n,i,o)=>tf(n,e.getBody(),o).fold((()=>oe.some(V)),(r=>OC(i,n,o,r)?DC(e,i):IC(t,i,r))),NC=(e,t,n,i)=>{const o=Qc.fromRangeStart(e.selection.getRng());return SC(n,i).bind((i=>ss(i)?AC(e,i):TC(e,n,t,i,o)))},MC=(e,t,n,i)=>{const o=Qc.fromRangeStart(e.selection.getRng());return ss(i)?AC(e,i):PC(e,n,t,i,o)},LC=(e,t)=>e?sw(t):lw(t),$C=(e,t)=>{const n=Qc.fromRangeStart(e.selection.getRng());return LC(t,n)||ef(t,e.getBody(),n).exists((e=>LC(t,e)))},jC=(e,t,n)=>{const i=gi.fromDom(e.getBody());return EC(i,n).fold((()=>NC(e,t,i,n).orThunk((()=>An($C(e,t),V)))),(n=>MC(e,t,i,n)))},RC=(e,t)=>{const n=gi.fromDom(e.selection.getStart(!0)),i=$m(e);return e.selection.isCollapsed()&&0===i.length?jC(e,t,n):kC(e,n,i)},FC=(e,t)=>{for(;t&&t!==e;){if(lr(t)||cr(t))return t;t=t.parentNode}return null},BC=(e,t)=>{t(e),e.firstChild&&BC(e.firstChild,t),e.next&&BC(e.next,t)},HC=(e,t,n,i)=>{const o=n.name;for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.name===o){const e=i.nodes[o];e?e.nodes.push(n):i.nodes[o]={filter:r,nodes:[n]}}}if(n.attributes)for(let e=0,o=t.length;e<o;e++){const o=t[e],r=o.name;if(r in n.attributes.map){const e=i.attributes[r];e?e.nodes.push(n):i.attributes[r]={filter:o,nodes:[n]}}}},zC=(e,t,n)=>{const i={nodes:{},attributes:{}};return n.firstChild&&BC(n.firstChild,(n=>{HC(e,t,n,i)})),i},qC=(e,t)=>{const n=e=>{je(e,(e=>{const n=ge(e.nodes,(e=>z(e.parent)));pe(e.filter.callbacks,(i=>{i(n,e.filter.name,t)}))}))};n(e.nodes),n(e.attributes)},UC=(e,t,n,i={})=>{const o=zC(e,t,n);qC(o,i)},WC=(e,t,n,i)=>{t.insert&&n[i.name]?i.empty().append(new Ay("br",1)):i.empty().append(new Ay("#text",3)).value=ea},VC=e=>YC(e,"#text")&&e.firstChild.value===ea,YC=(e,t)=>e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t,KC=(e,t)=>{const n=e.getElementRule(t.name);return n&&n.paddEmpty},GC=(e,t,n,i)=>i.isEmpty(t,n,(t=>KC(e,t))),QC=(e,t)=>e&&(e.name in t||"br"===e.name),XC=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const e of i)t.isValidChild(n.name,e.name)||XC(e,t,n);e.unwrap()}},ZC=(e,t,n=V)=>{const i=t.getTextBlockElements(),o=t.getNonEmptyElements(),r=t.getWhitespaceElements(),a=xn.makeMap("tr,td,th,tbody,thead,tfoot,table"),s=new Set;for(let l=0;l<e.length;l++){const c=e[l];let u,d,h;if(!c.parent||s.has(c))continue;if(i[c.name]&&"li"===c.parent.name){let e=c.next;for(;e&&i[e.name];)e.name="li",s.add(e),c.parent.insert(e,c.parent),e=e.next;c.unwrap();continue}const p=[c];for(u=c.parent;u&&!t.isValidChild(u.name,c.name)&&!a[u.name];u=u.parent)p.push(u);if(u&&p.length>1)if(t.isValidChild(u.name,c.name)){p.reverse(),d=p[0].clone(),n(d);let e=d;for(let i=0;i<p.length-1;i++){t.isValidChild(e.name,p[i].name)?(h=p[i].clone(),n(h),e.append(h)):h=e;for(let e=p[i].firstChild;e&&e!==p[i+1];){const t=e.next;h.append(e),e=t}e=h}GC(t,o,r,d)?u.insert(c,p[0],!0):(u.insert(d,p[0],!0),u.insert(c,d)),u=p[0],(GC(t,o,r,u)||YC(u,"br"))&&u.empty().remove()}else XC(c,t);else if(c.parent){if("li"===c.name){let e=c.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(c);continue}if(e=c.next,e&&("ul"===e.name||"ol"===e.name)){e.insert(c,e.firstChild,!0);continue}const t=new Ay("ul",1);n(t),c.wrap(t);continue}if(t.isValidChild(c.parent.name,"div")&&t.isValidChild("div",c.name)){const e=new Ay("div",1);n(e),c.wrap(e)}else XC(c,t)}}},JC=(e,t,n,i)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,i),o},ex=e=>{const t=Qc.fromRangeStart(e),n=Qc.fromRangeEnd(e),i=e.commonAncestorContainer;return ef(!1,i,n).map((o=>!yp(t,n,i)&&yp(t,o,i)?JC(t.container(),t.offset(),o.container(),o.offset()):e)).getOr(e)},tx=e=>e.collapsed?e:ex(e),nx=e=>e.firstChild&&e.firstChild===e.lastChild,ix=e=>"br"===e.name||e.value===ea,ox=(e,t)=>e.getBlockElements()[t.name]&&nx(t)&&ix(t.firstChild),rx=(e,t)=>{const n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||ox(e,t))},ax=(e,t)=>{let n=t.firstChild,i=t.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),rx(e,i)&&(i=i.prev),!(!n||n!==i)&&("ul"===n.name||"ol"===n.name)},sx=e=>{const t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},lx=(e,t,n)=>{const i=t.serialize(n),o=e.createFragment(i);return sx(o)},cx=e=>ge(e.childNodes,(e=>"LI"===e.nodeName)),ux=e=>e.data===ea||ar(e),dx=e=>e&&e.firstChild&&e.firstChild===e.lastChild&&ux(e.firstChild),hx=e=>!e.firstChild||dx(e),px=e=>e.length>0&&hx(e[e.length-1])?e.slice(0,-1):e,fx=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},mx=(e,t)=>!!fx(e,t),gx=(e,t)=>{const n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]},vx=(e,t)=>{const n=Qc.before(e),i=Vp(t).next(n);return i?i.toRange():null},bx=(e,t)=>{const n=Qc.after(e),i=Vp(t).prev(n);return i?i.toRange():null},yx=(e,t,n,i)=>{const o=gx(e,i),r=e.parentNode;return r.insertBefore(o[0],e),xn.each(t,(t=>{r.insertBefore(t,e)})),r.insertBefore(o[1],e),r.removeChild(e),bx(t[t.length-1],n)},wx=(e,t,n)=>{const i=e.parentNode;return xn.each(t,(t=>{i.insertBefore(t,e)})),vx(e,n)},_x=(e,t,n,i)=>(i.insertAfter(t.reverse(),e),bx(t[0],n)),Cx=(e,t,n,i)=>{const o=lx(t,e,i),r=fx(t,n.startContainer),a=px(cx(o.firstChild)),s=1,l=2,c=t.getRoot(),u=e=>{const i=Qc.fromRangeStart(n),o=Vp(t.getRoot()),a=e===s?o.prev(i):o.next(i);return!a||fx(t,a.getNode())!==r};return u(s)?wx(r,a,c):u(l)?_x(r,a,c,t):yx(r,a,c,n)},xx=["pre"],kx=(e,t,n,i)=>{var o;const r=t.firstChild,a=t.lastChild,s=r===("bookmark"===a.attr("data-mce-type")?a.prev:a),l=ue(xx,r.name);if(s&&l){const t="false"!==r.attr("contenteditable"),a=(null===(o=e.getParent(n,e.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===r.name,s=oe.from(FC(i,n)).forall(lr);return t&&a&&s}return!1},Sx=ur,Ex=(e,t,n)=>{if(null!==n){return n===e.getParent(t.endContainer,Sx)&&zm(gi.fromDom(n),t)}return!1},Tx=(e,t,n)=>{if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{const i=n.firstChild,o=n.lastChild;!i||i===o&&"BR"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},Ax=(e,t)=>{oe.from(e.getParent(t,"td,th")).map(gi.fromDom).each(pa)},Ox=(e,t)=>{const n=e.schema.getTextInlineElements(),i=e.dom;if(t){const t=e.getBody(),o=Fy(i);xn.each(i.select("*[data-mce-fragment]"),(e=>{if(z(n[e.nodeName.toLowerCase()])&&Yy(i,e))for(let n=e.parentNode;z(n)&&n!==t;n=n.parentNode){if(Gy(i,e,n))break;if(o.compare(n,e)){i.remove(e,!0);break}}}))}},Dx=e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},Ix=e=>{xn.each(e.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")}))},Px=e=>!!e.getAttribute("data-mce-fragment"),Nx=(e,t)=>t&&!e.schema.getVoidElements()[t.nodeName],Mx=(e,t)=>{let n;const i=e.dom,o=e.selection;if(!t)return;o.scrollIntoView(t);const r=FC(e.getBody(),t);if("false"===i.getContentEditable(r))return i.remove(t),void o.select(r);let a=i.createRng();const s=t.previousSibling;if(er(s)){a.setStart(s,s.nodeValue.length);const e=t.nextSibling;er(e)&&(s.appendData(e.data),e.parentNode.removeChild(e))}else a.setStartBefore(t),a.setEndBefore(t);const l=t=>{let n=Qc.fromRangeStart(t);if(n=Vp(e.getBody()).next(n),n)return n.toRange()},c=i.getParent(t,i.isBlock);i.remove(t),c&&i.isEmpty(c)&&(go(gi.fromDom(c)),a.setStart(c,0),a.setEnd(c,0),Sx(c)||Px(c)||!(n=l(a))?i.add(c,i.create("br",{"data-mce-bogus":"1"})):(a=n,i.remove(c))),o.setRng(a)},Lx=e=>{const t=e.dom,n=tx(e.selection.getRng());e.selection.setRng(n);const i=t.getParent(n.startContainer,Sx);Ex(t,n,i)?yC(e,n,gi.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},$x=(e,t,n)=>{var i;let o,r,a;const s=e.selection,l=e.dom,c=e.parser,u=n.merge,d=zy({validate:!0},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h),r=s.getRng();const p=r.startContainer||(r.parentElement?r.parentElement():null),f=e.getBody();p===f&&s.isCollapsed()&&l.isBlock(f.firstChild)&&Nx(e,f.firstChild)&&l.isEmpty(f.firstChild)&&(r=l.createRng(),r.setStart(f.firstChild,0),r.setEnd(f.firstChild,0),s.setRng(r)),s.isCollapsed()||Lx(e),o=s.getNode();const m={context:o.nodeName.toLowerCase(),data:n.data,insert:!0},g=c.parse(t,m);if(!0===n.paste&&ax(e.schema,g)&&mx(l,o))return r=Cx(d,l,s.getRng(),g),s.setRng(r),t;if(!0===n.paste&&kx(l,g,o,e.getBody())&&(null===(i=g.firstChild)||void 0===i||i.unwrap()),Dx(g),a=g.lastChild,"mce_marker"===a.attr("id")){const t=a;for(a=a.prev;a;a=a.walk(!0))if(3===a.type||!l.isBlock(a.name)){e.schema.isValidChild(a.parent.name,"span")&&a.parent.insert(t,a,"br"===a.name);break}}if(e._selectionOverrides.showBlockCaretContainer(o),m.invalid){e.selection.setContent(h),o=s.getNode();const n=e.getBody();for(9===o.nodeType?o=a=n:a=o;a!==n;)o=a,a=a.parentNode;t=o===n?n.innerHTML:l.getOuterHTML(o);const i=c.parse(t);for(let e=i;e;e=e.walk())if("mce_marker"===e.attr("id")){e.replace(g);break}const r=g.children(),u=g.parent.name;g.unwrap();const p=ge(r,(t=>!e.schema.isValidChild(u,t.name)));ZC(p,e.schema),UC(c.getNodeFilters(),c.getAttributeFilters(),i),t=d.serialize(i),o===n?l.setHTML(n,t):l.setOuterHTML(o,t)}else t=d.serialize(g),Tx(e,t,o);return Ox(e,u),Mx(e,l.get("mce_marker")),Ix(e.getBody()),Ax(l,s.getStart()),t},jx=e=>e instanceof Ay,Rx=e=>{Jb(e)&&sf(e.getBody()).each((t=>{const n=t.getNode(),i=Xo(n)?sf(n).getOr(t):t;e.selection.setRng(i.toRange())}))},Fx=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&Rx(e)},Bx=(e,t,n,i)=>{if(0===n.length||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const r=ld(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=e.dom.createHTML(r,cd(e),n)):n||(n=o),Fx(e,n,i.no_selection),{content:n,html:n}}{"raw"!==i.format&&(n=zy({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Gr(gi.fromDom(t))?n:xn.trim(n);return Fx(e,o,i.no_selection),{content:o,html:o}}},Hx=(e,t,n,i)=>{UC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=zy({validate:!1},e.schema).serialize(n),r=Gr(gi.fromDom(t))?o:xn.trim(o);return Fx(e,r,i.no_selection),{content:n,html:r}},zx=(e,t,n)=>oe.from(e.getBody()).map((i=>jx(t)?Hx(e,i,t,n):Bx(e,i,t,n))).getOr({content:t,html:jx(n.content)?"":n.content}),qx=(e,t)=>wr(e,t).isSome(),Ux=e=>q(e)?e:ne,Wx=(e,t,n)=>{let i=e.dom;const o=Ux(n)
;for(;i.parentNode;){i=i.parentNode;const e=gi.fromDom(i),n=t(e);if(n.isSome())return n;if(o(e))break}return oe.none()},Vx=(e,t,n)=>{const i=t(e),o=Ux(n);return i.orThunk((()=>o(e)?oe.none():Wx(e,t,o)))},Yx=tm,Kx=(e,t,n)=>{const i=e.formatter.get(n);if(i)for(let n=0;n<i.length;n++){const o=i[n];if(cm(o)&&!1===o.inherit&&e.dom.is(t,o.selector))return!0}return!1},Gx=(e,t,n,i,o)=>{const r=e.dom.getRoot();return t!==r&&(t=e.dom.getParent(t,(t=>!!Kx(e,t,n)||(t.parentNode===r||!!Zx(e,t,n,i,!0)))),!!Zx(e,t,n,i,o))},Qx=(e,t,n)=>!(!um(n)||!Yx(t,n.inline))||(!(!lm(n)||!Yx(t,n.block))||!!cm(n)&&(Uo(t)&&e.is(t,n.selector))),Xx=(e,t,n,i,o,r)=>{const a=n[i];if(q(n.onmatch))return n.onmatch(t,n,i);if(a)if(B(a.length)){for(const s in a)if(Ye(a,s)){const l="attributes"===i?e.getAttrib(t,s):im(e,t,s),c=em(a[s],r),u=H(l)||Ot(l);if(u&&H(c))continue;if(o&&u&&!n.exact)return!1;if((!o||n.exact)&&!Yx(l,nm(c,s)))return!1}}else for(let n=0;n<a.length;n++)if("attributes"===i?e.getAttrib(t,a[n]):im(e,t,a[n]))return!0;return!0},Zx=(e,t,n,i,o)=>{const r=e.formatter.get(n),a=e.dom;if(r&&t)for(let n=0;n<r.length;n++){const s=r[n];if(Qx(e.dom,t,s)&&Xx(a,t,s,"attributes",o,i)&&Xx(a,t,s,"styles",o,i)){const n=s.classes;if(n)for(let o=0;o<n.length;o++)if(!e.dom.hasClass(t,em(n[o],i)))return;return s}}},Jx=(e,t,n,i,o)=>{if(i)return Gx(e,i,t,n,o);if(i=e.selection.getNode(),Gx(e,i,t,n,o))return!0;const r=e.selection.getStart();return!(r===i||!Gx(e,r,t,n,o))},ek=(e,t,n)=>{const i=[],o={},r=e.selection.getStart();return e.dom.getParent(r,(r=>{for(let a=0;a<t.length;a++){const s=t[a];!o[s]&&Zx(e,r,s,n)&&(o[s]=!0,i.push(s))}}),e.dom.getRoot()),i},tk=(e,t)=>{const n=t=>Ci(t,gi.fromDom(e.getBody())),i=(t,n)=>Zx(e,t.dom,n)?oe.some(n):oe.none();return oe.from(e.selection.getStart(!0)).bind((e=>Vx(gi.fromDom(e),(e=>Ne(t,(t=>i(e,t)))),n))).getOrNull()},nk=(e,t)=>{const n=e.formatter.get(t),i=e.dom;if(n){const t=e.selection.getStart(),o=rm(i,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!cm(t))return!0;for(let e=o.length-1;e>=0;e--)if(i.is(o[e],t.selector))return!0}}return!1},ik=(e,t,n)=>be(n,((n,i)=>{const o=am(e,i);return e.formatter.matchNode(t,i,{},o)?n.concat([i]):n}),[]),ok=fa,rk="_mce_caret",ak=(e,t)=>e.importNode(t,!0),sk=e=>{const t=[];for(;e;){if(3===e.nodeType&&e.nodeValue!==ok||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},lk=e=>sk(e).length>0,ck=e=>{if(e){const t=new Or(e,e);for(e=t.current();e;e=t.next())if(er(e))return e}return null},uk=e=>{const t=gi.fromTag("span");return Wn(t,{id:rk,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ho(t,gi.fromText(ok)),t},dk=e=>{const t=ck(e);return t&&t.nodeValue.charAt(0)===ok&&t.deleteData(0,1),t},hk=(e,t,n=!0)=>{const i=e.dom,o=e.selection;if(lk(t))C_(e,!1,gi.fromDom(t),n);else{const e=o.getRng(),n=i.getParent(t,i.isBlock),r=e.startContainer,a=e.startOffset,s=e.endContainer,l=e.endOffset,c=dk(t);i.remove(t,!0),r===c&&a>0&&e.setStart(c,a-1),s===c&&l>0&&e.setEnd(c,l-1),n&&i.isEmpty(n)&&ha(gi.fromDom(n)),o.setRng(e)}},pk=(e,t,n=!0)=>{const i=e.dom,o=e.selection;if(t)hk(e,t,n);else if(!(t=df(e.getBody(),o.getStart())))for(;t=i.get(rk);)hk(e,t,!1)},fk=(t,n,i)=>{const o=t.dom,r=o.getParent(i,e(Qf,t));r&&o.isEmpty(r)?i.parentNode.replaceChild(n,i):(ua(gi.fromDom(i)),o.isEmpty(i)?i.parentNode.replaceChild(n,i):o.insertAfter(n,i))},mk=(e,t)=>(e.appendChild(t),t),gk=(e,t)=>{const n=ve(e,((e,t)=>mk(e,t.cloneNode(!1))),t);return mk(n,n.ownerDocument.createTextNode(ok))},vk=(e,t,n,i,o,r)=>{const a=e.formatter,s=e.dom,l=ge(Le(a.get()),(e=>e!==i&&!_t(e,"removeformat"))),c=ik(e,n,l);if(ge(c,(t=>!sm(e,t,i))).length>0){const e=n.cloneNode(!1);return s.add(t,e),a.remove(i,o,e,r),s.remove(e),oe.some(e)}return oe.none()},bk=(e,t,n)=>{let i,o;const r=e.selection,a=r.getRng();let s=a.startOffset;const l=a.startContainer.nodeValue;i=df(e.getBody(),r.getStart()),i&&(o=ck(i));const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&s>0&&s<l.length&&c.test(l.charAt(s))&&c.test(l.charAt(s-1))){const i=r.getBookmark();a.collapse(!0);let o=Am(e,a,e.formatter.get(t));o=Ov(o),e.formatter.apply(t,n,o),r.moveToBookmark(i)}else i&&o.nodeValue===ok||(i=ak(e.getDoc(),uk(!0).dom),o=i.firstChild,a.insertNode(i),s=1),e.formatter.apply(t,n,i),r.setCursorLocation(o,s)},yk=(e,t,n,i)=>{const o=e.dom,r=e.selection;let a,s,l;const c=[],u=r.getRng(),d=u.startContainer,h=u.startOffset;for(s=d,3===d.nodeType&&(h!==d.nodeValue.length&&(a=!0),s=s.parentNode);s;){if(Zx(e,s,t,n,i)){l=s;break}s.nextSibling&&(a=!0),c.push(s),s=s.parentNode}if(l)if(a){const o=r.getBookmark();u.collapse(!0);let a=Am(e,u,e.formatter.get(t),!0);a=Ov(a),e.formatter.remove(t,n,a,i),r.moveToBookmark(o)}else{const a=df(e.getBody(),l),s=uk(!1).dom;fk(e,s,null!==a?a:l);const u=vk(e,s,l,t,n,i),d=gk(c.concat(u.toArray()),s);hk(e,a,!1),r.setCursorLocation(d,1),o.isEmpty(l)&&o.remove(l)}},wk=(e,t)=>{const n=e.selection,i=e.getBody();pk(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==ok||pk(e,df(i,n.getStart())),37!==t&&39!==t||pk(e,df(i,n.getStart()))},_k=e=>{e.on("mouseup keydown",(t=>{wk(e,t.keyCode)}))},Ck=(e,t)=>{const n=uk(!1),i=gk(t,n.dom);return lo(gi.fromDom(e),n),vo(gi.fromDom(e)),Qc(i,0)},xk=(e,t)=>{const n=e.schema.getTextInlineElements();return Ye(n,Mn(t))&&!uf(t.dom)&&!Go(t.dom)},kk=e=>uf(e.dom)&&lk(e.dom),Sk={},Ek=tt,Tk=Je,Ak=(e,t)=>{Sk[e]||(Sk[e]=[]),Sk[e].push(t)},Ok=(e,t)=>{Tk(Sk[e],(e=>{e(t)}))};Ak("pre",(e=>{const t=e.selection.getRng();let n;const i=e=>r(e.previousSibling)&&-1!==nt(n,e.previousSibling),o=(e,t)=>{const n=gi.fromDom(t),i=Si(n).dom;vo(n),mo(gi.fromDom(e),[gi.fromTag("br",i),gi.fromTag("br",i),...$i(n)])},r=Wo(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),Tk(Ek(Ek(n,r),i),(e=>{o(e.previousSibling,e)})))}));const Dk=xn.each,Ik=e=>Uo(e)&&!Nf(e)&&!uf(e)&&!Go(e),Pk=(e,t)=>{for(let n=e;n;n=n[t]){if(er(n)&&At(n.data))return e;if(Uo(n)&&!Nf(n))return n}return e},Nk=(e,t,n)=>{const i=Fy(e);if(t&&n&&(t=Pk(t,"previousSibling"),n=Pk(n,"nextSibling"),i.compare(t,n))){for(let e=t.nextSibling;e&&e!==n;){const n=e;e=e.nextSibling,t.appendChild(n)}return e.remove(n),xn.each(xn.grep(n.childNodes),(e=>{t.appendChild(e)})),t}return n},Mk=(e,t,n,i)=>{if(i&&!1!==t.merge_siblings){const t=Nk(e,Gf(i),i);Nk(e,t,Gf(t,!0))}},Lk=(e,t,n)=>{if(t.clear_child_styles){const i=t.links?"*:not(a)":"*";Dk(e.select(i,n),(n=>{Ik(n)&&Dk(t.styles,((t,i)=>{e.setStyle(n,i,"")}))}))}},$k=(e,t,n)=>{Dk(e.childNodes,(e=>{Ik(e)&&(t(e)&&n(e),e.hasChildNodes()&&$k(e,t,n))}))},jk=(e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Rk=(e,t)=>n=>!(!n||!im(e,n,t)),Fk=(e,t,n)=>i=>{e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),jk(e,i)},Bk=$u.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Hk=/^(src|href|style)$/,zk=xn.each,qk=tm,Uk=e=>/^(TR|TH|TD)$/.test(e.nodeName),Wk=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Vk=(e,t,n)=>{let i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Uo(i)){const e=i.childNodes.length-1;!n&&o&&o--,i=i.childNodes[o>e?e:o]}return er(i)&&n&&o>=i.nodeValue.length&&(i=new Or(i,e.getBody()).next()||i),er(i)&&!n&&0===o&&(i=new Or(i,e.getBody()).prev()||i),i},Yk=(e,t)=>{const n=t?"firstChild":"lastChild";if(Uk(e)&&e[n]){const t=e[n];return"TR"===e.nodeName&&t[n]||t}return e},Kk=(e,t,n,i)=>{const o=e.create(n,i);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},Gk=(e,t,n,i,o)=>{const r=gi.fromDom(t),a=gi.fromDom(e.create(i,o)),s=n?Li(r):Mi(r);return mo(a,s),n?(lo(r,a),uo(a,r)):(co(r,a),ho(a,r)),a.dom},Qk=(e,t)=>t.links&&"A"===e.nodeName,Xk=(e,t,n)=>{const i=t.parentNode;let o;const r=e.dom,a=ld(e);lm(n)&&i===r.getRoot()&&(n.list_block&&qk(t,n.list_block)||pe(Pe(t.childNodes),(t=>{Xf(e,a,t.nodeName.toLowerCase())?o?o.appendChild(t):(o=Kk(r,t,a),r.setAttribs(o,cd(e))):o=null}))),dm(n)&&!qk(n.inline,t)||r.remove(t,!0)},Zk=(e,t,n,i,o)=>{let r;const a=e.dom;if(!Qx(a,i,t)&&!Qk(i,t))return Bk.keep();const s=i;if(um(t)&&"all"===t.remove&&j(t.preserve_attributes)){const e=ge(a.getAttribs(s),(e=>ue(t.preserve_attributes,e.name.toLowerCase())));if(a.removeAllAttribs(s),pe(e,(e=>a.setAttrib(s,e.name,e.value))),e.length>0)return Bk.rename("span")}if("all"!==t.remove){zk(t.styles,((e,i)=>{e=nm(em(e,n),i+""),U(i)&&(i=e,o=null),(t.remove_similar||!o||qk(im(a,o,i),e))&&a.setStyle(s,i,""),r=!0})),r&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),zk(t.attributes,((e,i)=>{let r;if(e=em(e,n),U(i)&&(i=e,o=null),t.remove_similar||!o||qk(a.getAttrib(o,i),e)){if("class"===i&&(e=a.getAttrib(s,i))&&(r="",pe(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(r+=(r?" ":"")+e)})),r))return void a.setAttrib(s,i,r);if(Hk.test(i)&&s.removeAttribute("data-mce-"+i),"style"===i&&Wo(["li"])(s)&&"none"===a.getStyle(s,"list-style-type"))return s.removeAttribute(i),void a.setStyle(s,"list-style-type","none");"class"===i&&s.removeAttribute("className"),s.removeAttribute(i)}})),zk(t.classes,(e=>{e=em(e,n),o&&!a.hasClass(o,e)||a.removeClass(s,e)}));const e=a.getAttribs(s);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(0!==n.indexOf("_")&&0!==n.indexOf("data-"))return Bk.keep()}}return"none"!==t.remove?(Xk(e,s,t),Bk.removed()):Bk.keep()},Jk=(e,t,n,i,o)=>Zk(e,t,n,i,o).fold(ne,(t=>(e.dom.rename(i,t),!0)),ie),eS=(e,t,n,i,o)=>{let r;return pe(rm(e.dom,t.parentNode).reverse(),(t=>{if(!r&&"_start"!==t.id&&"_end"!==t.id){const a=Zx(e,t,n,i,o);a&&!1!==a.split&&(r=t)}})),r},tS=(e,t,n,i)=>Zk(e,t,n,i,i).fold(G(i),(t=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,t))),G(null)),nS=(e,t,n,i,o,r,a,s)=>{let l,c,u;const d=e.dom;if(n){const h=n.parentNode;for(let n=i.parentNode;n&&n!==h;n=n.parentNode){l=d.clone(n,!1);for(let n=0;n<t.length&&(l=tS(e,t[n],s,l),null!==l);n++);l&&(c&&l.appendChild(c),u||(u=l),c=l)}!r||a.mixed&&d.isBlock(n)||(i=d.split(n,i)),c&&(o.parentNode.insertBefore(c,o),u.appendChild(o),um(a)&&Mk(d,a,s,c))}return i},iS=(e,t,n,i,o)=>{const r=e.formatter.get(t),a=r[0];let s=!0;const l=e.dom,c=e.selection,u=i=>{const s=eS(e,i,t,n,o);return nS(e,r,s,i,i,!0,a,n)},d=e=>Nf(e)&&Uo(e)&&("_start"===e.id||"_end"===e.id),h=t=>de(r,(i=>Jk(e,i,n,t,t))),p=t=>{let n=!0,i=!1;Uo(t)&&l.getContentEditable(t)&&(n=s,s="true"===l.getContentEditable(t),i=!0);const o=Pe(t.childNodes);if(s&&!i){const e=h(t)||de(r,(e=>Qx(l,t,e))),n=t.parentNode;!e&&z(n)&&hm(a)&&h(n)}if(a.deep&&o.length){for(let e=0;e<o.length;e++)p(o[e]);i&&(s=n)}pe(["underline","line-through","overline"],(n=>{Uo(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&om(l,t.parentNode)===n&&Jk(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))},f=e=>{const t=l.get(e?"_start":"_end");let n=t[e?"firstChild":"lastChild"];return d(n)&&(n=n[e?"firstChild":"lastChild"]),er(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},m=t=>{let n,i,o=Am(e,t,r,t.collapsed);if(a.split){if(o=Ov(o),n=Vk(e,o,!0),i=Vk(e,o),n!==i){if(n=Yk(n,!0),i=Yk(i,!1),Wk(l,n,i)){const e=oe.from(n.firstChild).getOr(n);return u(Gk(l,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void f(!0)}if(Wk(l,i,n)){const e=oe.from(i.lastChild).getOr(i);return u(Gk(l,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void f(!1)}n=Kk(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=Kk(l,i,"span",{id:"_end","data-mce-type":"bookmark"});const e=l.createRng();e.setStartAfter(n),e.setEndBefore(i),Om(l,e,(e=>{pe(e,(e=>{Nf(e)||Nf(e.parentNode)||u(e)}))})),u(n),u(i),n=f(!0),i=f()}else n=i=u(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=l.nodeIndex(n),o.endContainer=i.parentNode?i.parentNode:i,o.endOffset=l.nodeIndex(i)+1}Om(l,o,(e=>{pe(e,p)}))};if(i){if(Vf(i)){const e=l.createRng();e.setStartBefore(i),e.setEndAfter(i),m(e)}else m(i);bg(e,t,i,n)}else if("false"!==l.getContentEditable(c.getNode()))c.isCollapsed()&&um(a)&&!$m(e).length?yk(e,t,n,o):(Vm(c,!0,(()=>{Wm(e,m)})),um(a)&&Jx(e,t,n,c.getStart())&&Kf(l,c,c.getRng()),e.nodeChanged()),bg(e,t,i,n);else{i=c.getNode();for(let t=0;t<r.length&&(!r[t].ceFalseOverride||!Jk(e,r[t],n,i,i));t++);bg(e,t,i,n)}},oS=xn.each,rS=(e,t,n,i)=>{const o=t=>{if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){const n=om(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(xn.walk(i,o,"childNodes"),o(i))},aS=(e,t,n,i)=>{t.styles&&t.styles.backgroundColor&&$k(i,Rk(e,"fontSize"),Fk(e,"backgroundColor",em(t.styles.backgroundColor,n)))},sS=(e,t,n,i)=>{!um(t)||"sub"!==t.inline&&"sup"!==t.inline||($k(i,Rk(e,"fontSize"),Fk(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))},lS=(e,t,n,i)=>{oS(t,(t=>{um(t)&&oS(e.dom.select(t.inline,i),(i=>{Ik(i)&&Jk(e,t,n,i,t.exact?i:null)})),Lk(e.dom,t,i)}))},cS=(e,t,n,i,o)=>{Zx(e,o.parentNode,n,i)&&Jk(e,t,i,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,(r=>{if(Zx(e,r,n,i))return Jk(e,t,i,o),!0}))},uS=xn.each,dS=e=>Uo(e)&&!Nf(e)&&!uf(e)&&!Go(e),hS=(e,t,n,i)=>{if(Yd(e)&&um(t)){const t=qs(e.schema),o=qx(gi.fromDom(n),(e=>uf(e.dom)));return Ke(t,i)&&ss(gi.fromDom(n.parentNode),!1)&&!o}return!1},pS=(e,t,n,i)=>{const o=e.formatter.get(t),r=o[0],a=!i&&e.selection.isCollapsed(),s=e.dom,l=e.selection,c=(e,t=r)=>{if(q(t.onformat)&&t.onformat(e,t,n,i),uS(t.styles,((t,i)=>{s.setStyle(e,i,em(t,n))})),t.styles){const t=s.getAttrib(e,"style");t&&s.setAttrib(e,"data-mce-style",t)}uS(t.attributes,((t,i)=>{s.setAttrib(e,i,em(t,n))})),uS(t.classes,(t=>{t=em(t,n),s.hasClass(e,t)||s.addClass(e,t)}))},u=(e,t)=>{let n=!1;return uS(e,(e=>!!cm(e)&&(z(e.collapsed)&&e.collapsed!==a?void 0:s.is(t,e.selector)&&!uf(t)?(c(t,e),n=!0,!1):void 0))),n},d=e=>{if(M(e)){const t=s.create(e);return c(t),t}return null},h=(i,a,s)=>{const l=[];let h=!0;const p=r.inline||r.block,f=d(p);Om(i,a,(a=>{let d;const m=a=>{let g=!1,v=h;const b=a.nodeName.toLowerCase(),y=a.parentNode,w=y.nodeName.toLowerCase();if(Uo(a)&&i.getContentEditable(a)&&(v=h,h="true"===i.getContentEditable(a),g=!0),ar(a)&&!hS(e,r,a,w))return d=null,void(lm(r)&&i.remove(a));if(lm(r)&&r.wrapper&&Zx(e,a,t,n))d=null;else{if(h&&!g&&lm(r)&&!r.wrapper&&Qf(e,b)&&Xf(e,w,p)){const e=i.rename(a,p);return c(e),l.push(e),void(d=null)}if(cm(r)){let e=u(o,a);if(!e&&z(y)&&hm(r)&&(e=u(o,y)),!um(r)||e)return void(d=null)}!h||g||!Xf(e,p,b)||!Xf(e,w,p)||!s&&er(a)&&ma(a.data)||uf(a)||um(r)&&i.isBlock(a)?(d=null,pe(Pe(a.childNodes),m),g&&(h=v),d=null):(d||(d=i.clone(f,!1),a.parentNode.insertBefore(d,a),l.push(d)),d.appendChild(a))}};pe(a,m)})),!0===r.links&&pe(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,r),pe(Pe(e.childNodes),t)};t(e)})),pe(l,(a=>{const s=e=>{let t=0;return pe(e.childNodes,(e=>{Jf(e)||Nf(e)||t++})),t},u=e=>{const t=we(e.childNodes,dS).filter((e=>Qx(i,e,r)));return t.map((t=>{const n=i.clone(t,!1);return c(n),i.replace(n,e,!0),i.remove(t,!0),n})).getOr(e)},d=s(a);!(l.length>1)&&i.isBlock(a)||0!==d?(um(r)||lm(r)&&r.wrapper)&&(r.exact||1!==d||(a=u(a)),lS(e,o,n,a),cS(e,r,t,n,a),aS(i,r,n,a),rS(i,r,n,a),sS(i,r,n,a),Mk(i,r,n,a)):i.remove(a,!0)}))};if("false"!==s.getContentEditable(l.getNode())){if(r){if(i)if(Vf(i)){if(!u(o,i)){const t=s.createRng();t.setStartBefore(i),t.setEndAfter(i),h(s,Am(e,t,o),!0)}}else h(s,i,!0);else a&&um(r)&&!$m(e).length?bk(e,t,n):(l.setRng(tx(l.getRng())),Vm(l,!0,(()=>{Wm(e,((t,n)=>{const i=n?t:Am(e,t,o);h(s,i,!1)}))})),Kf(s,l,l.getRng()),e.nodeChanged());Ok(t,e)}vg(e,t,i,n)}else{i=l.getNode();for(let e=0,t=o.length;e<t;e++){const t=o[e];if(t.ceFalseOverride&&cm(t)&&s.is(i,t.selector)){c(i,t);break}}vg(e,t,i,n)}},fS=e=>Ye(e,"vars"),mS=(e,t)=>{e.set({}),t.on("NodeChange",(n=>{yS(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const i=oe.from(n.node).map((e=>Vf(e)?e:e.startContainer)).bind((e=>Uo(e)?oe.some(e):oe.from(e.parentElement))).getOrThunk((()=>gS(t)));yS(t,i,e.get())}))},gS=e=>e.selection.getStart(),vS=(e,t,n,i,o)=>ye(t,(t=>{const r=e.formatter.matchNode(t,n,null!=o?o:{},i);return!B(r)}),(t=>!!Kx(e,t,n)||!i&&z(e.formatter.matchNode(t,n,o,!0)))),bS=(e,t)=>{const n=null!=t?t:gS(e);return ge(rm(e.dom,n),(e=>Uo(e)&&!Go(e)))},yS=(e,t,n)=>{const i=bS(e,t);je(n,((n,o)=>{const r=n=>{const r=vS(e,i,o,n.similar,fS(n)?n.vars:void 0),a=r.isSome();if(n.state.get()!==a){n.state.set(a);const e=r.getOr(t);fS(n)?n.callback(a,{node:e,format:o,parents:i}):pe(n.callbacks,(t=>t(a,{node:e,format:o,parents:i})))}};pe([n.withSimilar,n.withoutSimilar],r),pe(n.withVars,r)}))},wS=(e,t,n,i,o,r)=>{const a=t.get();pe(n.split(","),(t=>{const n=Ve(a,t).getOrThunk((()=>{const e={withSimilar:{state:kl(!1),similar:!0,callbacks:[]},withoutSimilar:{state:kl(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e,e})),s=()=>{const n=bS(e);return vS(e,n,t,o,r).isSome()};if(B(r)){const e=o?n.withSimilar:n.withoutSimilar;e.callbacks.push(i),1===e.callbacks.length&&e.state.set(s())}else n.withVars.push({state:kl(s()),similar:o,vars:r,callback:i})})),t.set(a)},_S=(e,t,n)=>{const i=e.get();pe(t.split(","),(e=>Ve(i,e).each((t=>{i[e]={withSimilar:{...t.withSimilar,callbacks:ge(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:ge(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:ge(t.withVars,(e=>e.callback!==n))}})))),e.set(i)},CS=(e,t,n,i,o,r)=>(null===t.get()&&mS(t,e),wS(e,t,n,i,o,r),{unbind:()=>_S(t,n,i)}),xS=(e,t,n,i)=>{const o=e.formatter.get(t);!Jx(e,t,n,i)||"toggle"in o[0]&&!o[0].toggle?pS(e,t,n,i):iS(e,t,n,i)};var kS=Object.hasOwnProperty,SS=Object.setPrototypeOf,ES=Object.isFrozen,TS=Object.getPrototypeOf,AS=Object.getOwnPropertyDescriptor,OS=Object.freeze,DS=Object.seal,IS=Object.create,PS="undefined"!=typeof Reflect&&Reflect,NS=PS.apply,MS=PS.construct;NS||(NS=function(e,t,n){return e.apply(t,n)}),OS||(OS=function(e){return e}),DS||(DS=function(e){return e}),MS||(MS=function(e,t){return o(e,r(t))});var LS=d(Array.prototype.forEach),$S=d(Array.prototype.pop),jS=d(Array.prototype.push),RS=d(String.prototype.toLowerCase),FS=d(String.prototype.match),BS=d(String.prototype.replace),HS=d(String.prototype.indexOf),zS=d(String.prototype.trim),qS=d(RegExp.prototype.test),US=h(TypeError),WS=OS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),VS=OS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),YS=OS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KS=OS(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),GS=OS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),QS=OS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XS=OS(["#text"]),ZS=OS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),JS=OS(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eE=OS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tE=OS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nE=DS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),iE=DS(/<%[\w\W]*|[\w\W]*%>/gm),oE=DS(/^data-[\-\w.\u00B7-\uFFFF]/),rE=DS(/^aria-[\-\w]+$/),aE=DS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sE=DS(/^(?:\w+script|data):/i),lE=DS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cE=DS(/^html$/i),uE=function(){return"undefined"==typeof window?null:window},dE=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var i=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(i=n.currentScript.getAttribute(o));var r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}},hE=g();const pE=xn.explode,fE=()=>{const e={},t=(t,n)=>{pe(pE(t),(t=>{Ye(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},n=(t,n)=>{pe(pE(t),(t=>{if(Ye(e,t))if(z(n)){const i=e[t],o=ge(i.callbacks,(e=>e!==n));o.length>0?i.callbacks=o:delete e[t]}else delete e[t]}))};return{addFilter:t,getFilters:()=>We(e),removeFilter:n}},mE=(e,t)=>{pe(t,(t=>{e.attr(t,null)}))},gE=(e,t,n)=>{e.addNodeFilter("font",(e=>{pe(e,(e=>{const i=t.parse(e.attr("style")),o=e.attr("color"),r=e.attr("face"),a=e.attr("size");o&&(i.color=o),r&&(i["font-family"]=r),a&&(i["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(i)),mE(e,["color","face","size"])}))}))},vE=(e,t,n)=>{e.addNodeFilter("strike",(e=>{const i="html4"!==t.type;pe(e,(e=>{if(i)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))},bE=(e,t,n)=>{const i=Ys();t.convert_fonts_to_spans&&gE(e,i,xn.explode(t.font_size_legacy_values)),vE(e,n,i)},yE=(e,t,n)=>{t.inline_styles&&bE(e,t,n)},wE=e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject(`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`))),_E=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},CE=e=>{const[t,...n]=e.split(","),i=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const e=";base64"===o[2],t=e?_E(i):decodeURIComponent(i);return oe.some({type:o[1],data:t,base64Encoded:e})}return oe.none()},xE=(e,t,n=!0)=>{let i=t;if(n)try{i=atob(t)}catch(e){return oe.none()}const o=new Uint8Array(i.length);for(let e=0;e<o.length;e++)o[e]=i.charCodeAt(e);return oe.some(new Blob([o],{type:e}))},kE=e=>new Promise(((t,n)=>{CE(e).bind((({type:e,data:t,base64Encoded:n})=>xE(e,t,n))).fold((()=>n("Invalid data URI")),t)})),SE=e=>Ct(e,"blob:")?wE(e):Ct(e,"data:")?kE(e):Promise.reject("Unknown URI format"),EE=e=>new Promise(((t,n)=>{const i=new FileReader;i.onloadend=()=>{t(i.result)},i.onerror=()=>{n(i.error.message)},i.readAsDataURL(e)}));let TE=0;const AE=e=>(e||"blobid")+TE++,OE=(e,t,n)=>CE(e).bind((({data:e,type:i,base64Encoded:o})=>{if(t&&!o)return oe.none();{const t=o?e:btoa(e);return n(t,i)}})),DE=(e,t,n)=>{const i=e.create(AE(),t,n);return e.add(i),i},IE=(e,t,n=!1)=>OE(t,n,((t,n)=>oe.from(e.getByData(t,n)).orThunk((()=>xE(n,t).map((n=>DE(e,n,t))))))),PE=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Ct(t,"blob:")){const i=e.getByUri(t);return z(i)?Promise.resolve(i):SE(t).then((t=>EE(t).then((i=>OE(i,!1,(n=>oe.some(DE(e,t,n)))).getOrThunk(n)))))}return Ct(t,"data:")?IE(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")},NE=e=>z(e.attr("data-mce-bogus")),ME=e=>e.attr("src")===mn.transparentSrc||z(e.attr("data-mce-placeholder")),LE=(e,t)=>{const{blob_cache:n}=t,i=e=>{const t=e.attr("src");ME(e)||NE(e)||IE(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(e=>pe(e,i)))},$E=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,i,o)=>{const r=xn.extend({},n.getBlockElements()),a=n.getNonEmptyElements(),s=n.getWhitespaceElements();r.body=1;for(let i=0,l=e.length;i<l;i++){let l=e[i],c=l.parent;if(r[l.parent.name]&&l===c.lastChild){let e=l.prev;for(;e;){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(l=null);break}e=e.prev}if(l&&(l.remove(),GC(n,a,s,c))){const e=n.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&WC(t,o,r,c))}}else{let e=l;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!r[c.name]);)c=c.parent;if(e===c){const e=new Ay("#text",3);e.value=ea,l.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let n=e.length;const i=e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "),o=e=>{const t=e?xn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:i(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",o(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,i,o,r=e.length;for(;r--;)if(o=e[r],"a"===o.name&&o.firstChild&&!o.attr("href")){i=o.parent,t=o.lastChild;do{n=t.prev,i.insert(t,o),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,i=e.length;for(;i--;)if(t=e[i],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new Ay("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(e=>{const t=n.getValidClasses();let i=e.length;for(;i--;){const n=e[i],o=n.attr("class").split(" ");let r="";for(let e=0;e<o.length;e++){const i=o[e];let a=!1,s=t["*"];s&&s[i]&&(a=!0),s=t[n.name],!a&&s&&s[i]&&(a=!0),a&&(r&&(r+=" "),r+=i)}r.length||(r=null),n.attr("class",r)}})),LE(e,t)},jE=xn.each,RE=xn.trim,FE="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),BE={ftp:21,http:80,https:443,mailto:25},HE=["img","video"],zE=(e,t)=>z(e)?!e:!z(t)||!ue(HE,t),qE=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}},UE=(e,t,n)=>{const i=qE(t);return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(i)||!e.allow_html_data_urls&&(/^data:image\//i.test(i)?zE(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)))};class WE{constructor(e,t){e=RE(e),this.settings=t||{};const n=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(i.source=e);const o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=this.settings.base_uri?this.settings.base_uri.path:new WE(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+i.toAbsPath(t,e);else{const o=/([^#?]*)([#?]?.*)/.exec(e);e=(n&&n.protocol||"http")+"://mce_host"+i.toAbsPath(t,o[1])+o[2]}}e=e.replace(/@@/g,"(mce_at)");const r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);jE(FE,((e,t)=>{let n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n})),n&&(i.protocol||(i.protocol=n.protocol),i.userInfo||(i.userInfo=n.userInfo),i.port||"mce_host"!==i.host||(i.port=n.port),i.host&&"mce_host"!==i.host||(i.host=n.host),i.source=""),o&&(i.protocol="")}static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(t=i[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const i=Ns.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!UE(n,i,t)}}static getDocumentBaseUrl(e){let t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()}toRelative(e){let t;if("./"===e)return e;const n=new WE(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();const i=this.getURI(),o=n.getURI();return i===o||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===o?i:(t=this.toRelPath(this.path,n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),t)}toAbsolute(e,t){const n=new WE(e,{base_uri:this})
;return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=BE[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,i,o=0,r="";const a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,i=a.length;n<i;n++)if(n>=s.length||a[n]!==s[n]){o=n+1;break}if(a.length<s.length)for(n=0,i=s.length;n<i;n++)if(n>=a.length||a[n]!==s[n]){o=n+1;break}if(1===o)return t;for(n=0,i=a.length-(o-1);n<i;n++)r+="../";for(n=o-1,i=s.length;n<i;n++)r+=n!==o-1?"/"+s[n]:s[n];return r}toAbsPath(e,t){let n,i,o=0,r=[];const a=/\/$/.test(t)?"/":"";let s=e.split("/");const l=t.split("/");for(jE(s,(e=>{e&&r.push(e)})),s=r,n=l.length-1,r=[];n>=0;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?o>0?o--:r.push(l[n]):o++);return n=s.length-o,i=n<=0?Se(r).join("/"):s.slice(0,n).join("/")+"/"+Se(r).join("/"),0!==i.indexOf("/")&&(i="/"+i),a&&i.lastIndexOf("/")!==i.length-1&&(i+=a),i}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const VE=xn.makeMap,YE=xn.extend,KE={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},GE=xn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),QE="data-mce-type",XE=(e,t)=>{const n={...KE};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n},ZE=(e,t)=>{const n=hE(),i=t.getSpecialElements(),o=e.validate;let r=0;return n.addHook("uponSanitizeElement",((n,a)=>{var s,l;n.nodeType===On&&!e.allow_conditional_comments&&/^\[if/i.test(n.nodeValue)&&(n.nodeValue=" "+n.nodeValue);const c=a.tagName;if(n.nodeType!==Pn||"body"===c)return;const u=gi.fromDom(n),d=c.toLowerCase(),h=Kn(u,QE),p=Vn(u,"data-mce-bogus");if(!h&&M(p))return void("all"===p?vo(u):bo(u));const f=t.getElementRule(d);if(!o||f){if(a.allowedTags[c]=!0,o&&!h){if(pe(null!==(s=f.attributesForced)&&void 0!==s?s:[],(e=>{Un(u,e.name,"{$uid}"===e.value?"mce_"+r++:e.value)})),pe(null!==(l=f.attributesDefault)&&void 0!==l?l:[],(e=>{Kn(u,e.name)||Un(u,e.name,"{$uid}"===e.value?"mce_"+r++:e.value)})),f.attributesRequired&&!de(f.attributesRequired,(e=>Kn(u,e))))return void bo(u);if(f.removeEmptyAttrs&&Qn(u))return void bo(u);f.outputName&&f.outputName!==d&&lc(u,f.outputName)}}else Ye(i,d)?vo(u):bo(u)})),n.addHook("uponSanitizeAttribute",((n,i)=>{const r=n.tagName.toLowerCase(),{attrName:a,attrValue:s}=i;i.keepAttr=!o||t.isValid(r,a)||Ct(a,"data-")||Ct(a,"aria-"),a in GE&&UE(e,s,r)&&(i.keepAttr=!1),i.keepAttr?(i.allowedAttributes[a]=!0,a in t.getBoolAttrs()&&(i.attrValue=a),e.allow_svg_data_urls&&Ct(s,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):!n.hasAttribute(QE)||"id"!==a&&"class"!==a&&"style"!==a||(i.forceKeepAttr=!0)})),n},JE=(e,t,n)=>{const i=e.name,o=i in n&&"title"!==i&&"textarea"!==i,r=t.childNodes;for(let t=0,i=r.length;t<i;t++){const i=r[t],a=new Ay(i.nodeName.toLowerCase(),i.nodeType);if(Uo(i)){const e=i.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];a.attr(n.name,n.value)}}else er(i)?(a.value=i.data,o&&(a.raw=!0)):(ir(i)||tr(i)||nr(i))&&(a.value=i.data);JE(a,i,n),e.append(a)}},eT=(e,t,n)=>{const i=[];for(let n=e,o=n;z(n);o=n,n=n.walk())pe(t,(e=>e(n))),H(n.parent)&&n!==e?n=o:i.push(n);for(let e=i.length-1;e>=0;e--){const t=i[e];pe(n,(e=>e(t)))}},tT=(e,t,n,i)=>{const o=n.validate,r=t.getNonEmptyElements(),a=t.getWhitespaceElements(),s=YE(VE("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=qs(t),c=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,h=e=>{for(e=e.parent;z(e);){if(e.name in a)return!0;e=e.parent}return!1},p=e=>{let n=e;for(;z(n);){if(n.name in l)return GC(t,r,a,n);n=n.parent}return!1},f=(t,n)=>{const o=n?t.prev:t.next;return!z(o)&&(t.parent.name in s&&(t.parent!==e||i.isRootContent))},m=e=>{if(3===e.type&&!h(e)){let t=e.value;t=t.replace(c," "),(QC(e.prev,s)||f(e,!0))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}},g=e=>{var l;if(1===e.type){const l=t.getElementRule(e.name);if(o&&l){const o=GC(t,r,a,e);l.paddInEmptyBlock&&o&&p(e)?WC(n,i,s,e):l.removeEmpty&&o?s[e.name]?e.remove():e.unwrap():l.paddEmpty&&(o||VC(e))&&WC(n,i,s,e)}}else if(3===e.type&&!h(e)){let t=e.value;(s[null===(l=e.next)||void 0===l?void 0:l.name]||f(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}};return[m,g]},nT=(e,t)=>{var n;const i=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===i?"":!0===i?"p":i},iT=(e={},t=Vs())=>{const n=fE(),i=fE(),o={validate:!0,root_name:"body",...e},r=new DOMParser,a=ZE(o,t),s=(e,n,i="html")=>{const s="xhtml"===i?"application/xhtml+xml":"text/html",l=Ye(t.getSpecialElements(),n.toLowerCase()),c=l?`<${n}>${e}</${n}>`:e,u="xhtml"===i?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${c}</body></html>`:`<body>${c}</body>`,d=r.parseFromString(u,s).body;return a.sanitize(d,XE(o,s)),a.removed=[],l?d.firstChild:d},l=n.addFilter,c=n.getFilters,u=n.removeFilter,d=i.addFilter,h=i.getFilters,p=i.removeFilter,f=(e,n)=>{const i=e.parent;i&&t.children[e.name]&&!t.isValidChild(i.name,e.name)&&n.push(e)},m=(e,n)=>{const i=YE(VE("script,style,head,html,body,title,meta,param"),t.getBlockElements()),r=/^[ \t\r\n]+/,a=/[ \t\r\n]+$/;let s=e.firstChild,l=null;const c=e=>{e&&(s=e.firstChild,s&&3===s.type&&(s.value=s.value.replace(r,"")),s=e.lastChild,s&&3===s.type&&(s.value=s.value.replace(a,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;s;){const t=s.next;3===s.type||1===s.type&&"p"!==s.name&&!i[s.name]&&!s.attr(QE)?(l||(l=new Ay(n,1),l.attr(o.forced_root_block_attrs),e.insert(l,s)),l.append(s)):(c(l),l=null),s=t}c(l)}},g=(e,n={})=>{var i;const r=o.validate,a=null!==(i=n.context)&&void 0!==i?i:o.root_name,l=s(e,a,n.format),u=new Ay(a,11);JE(u,l,t.getSpecialElements());const[d,p]=tT(u,t,o,n),g=[],v={nodes:{},attributes:{}},b=e=>HC(c(),h(),e,v);if(eT(u,[d,b],[p,r?e=>f(e,g):V]),g.reverse(),r&&g.length>0)if(n.context){const{pass:e,fail:i}=me(g,(e=>e.parent===u));ZC(i,t,b),n.invalid=e.length>0}else ZC(g,t,b);const y=nT(o,n);return y&&("body"===u.name||n.isRootContent)&&m(u,y),n.invalid||qC(v,n),u},v={schema:t,addAttributeFilter:d,getAttributeFilters:h,removeAttributeFilter:p,addNodeFilter:l,getNodeFilters:c,removeNodeFilter:u,parse:g};return $E(v,o),yE(v,o,t),v},oT=e=>jx(e)?zy({validate:!1}).serialize(e):e,rT=(e,t)=>{const n=oT(e),i=t(n);if(i.isDefaultPrevented())return i;if(jx(e)){if(i.content!==n){const t=iT({validate:!1,forced_root_block:!1}).parse(i.content,{context:e.name});return{...i,content:t}}return{...i,content:e}}return i},aT=(e,t)=>{if(t.no_events)return Mu.value(t);{const n=_g(e,t);return n.isDefaultPrevented()?Mu.error(Cg(e,{content:"",...n}).content):Mu.value(n)}},sT=(e,t,n)=>{if(n.no_events)return t;return rT(t,(t=>Cg(e,{...n,content:t}))).content},lT=(e,t)=>{if(t.no_events)return Mu.value(t);{const n=rT(t.content,(n=>yg(e,{...t,content:n})));return n.isDefaultPrevented()?(wg(e,n),Mu.error(void 0)):Mu.value(n)}},cT=(e,t,n)=>{n.no_events||wg(e,{...n,content:t})},uT=(e,t,n)=>({element:e,width:t,rows:n}),dT=(e,t)=>({element:e,cells:t}),hT=(e,t)=>({x:e,y:t}),pT=(e,t)=>{const n=parseInt(Vn(e,t),10);return isNaN(n)?1:n},fT=(e,t,n,i,o)=>{const r=pT(o,"rowspan"),a=pT(o,"colspan"),s=e.rows;for(let e=n;e<n+r;e++){s[e]||(s[e]=dT(ac(i),[]));for(let i=t;i<t+a;i++){s[e].cells[i]=e===n&&i===t?o:rc(o)}}},mT=(e,t,n)=>{const i=e.rows;return!!(i[n]?i[n].cells:[])[t]},gT=(e,t,n)=>{for(;mT(e,t,n);)t++;return t},vT=e=>be(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),bT=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const i=n[e].cells;for(let n=0;n<i.length;n++)if(Ci(i[n],t))return oe.some(hT(n,e))}return oe.none()},yT=(e,t,n,i,o)=>{const r=[],a=e.rows;for(let e=n;e<=o;e++){const n=a[e].cells,o=t<i?n.slice(t,i+1):n.slice(i,t+1);r.push(dT(a[e].element,o))}return r},wT=(e,t,n)=>{const i=t.x,o=t.y,r=n.x,a=n.y,s=o<a?yT(e,i,o,r,a):yT(e,i,a,r,o);return uT(e.element,vT(s),s)},_T=(e,t)=>{const n=rc(e.element),i=gi.fromTag("tbody");return mo(i,t),ho(n,i),n},CT=e=>he(e.rows,(e=>{const t=he(e.cells,(e=>{const t=ac(e);return Gn(t,"colspan"),Gn(t,"rowspan"),t})),n=rc(e.element);return mo(n,t),n})),xT=e=>{const t=uT(rc(e),0,[]);return pe(oa(e,"tr"),((e,n)=>{pe(oa(e,"td,th"),((i,o)=>{fT(t,gT(t,o,n),n,e,i)}))})),uT(t.element,vT(t.rows),t.rows)},kT=e=>_T(e,CT(e)),ST=(e,t,n)=>bT(e,t).bind((t=>bT(e,n).map((n=>wT(e,t,n))))),ET=e=>we(e,(e=>"ul"===Mn(e)||"ol"===Mn(e))),TT=(e,t)=>we(e,(e=>"li"===Mn(e)&&zm(e,t))).fold(G([]),(()=>ET(e).map((e=>{const t=gi.fromTag(Mn(e)),n=qe(ro(e),((e,t)=>Ct(t,"list-style")));return to(t,n),[gi.fromTag("li"),t]})).getOr([]))),AT=(e,t)=>{const n=be(t,((e,t)=>(ho(t,e),t)),e);return t.length>0?dv([n]):n},OT=e=>Vr(e)?Ai(e).filter(Wr).fold(G([]),(t=>[e,t])):Wr(e)?[e]:[],DT=(e,t)=>{const n=gi.fromDom(t.commonAncestorContainer),i=fw(n,e),o=ge(i,Xr),r=TT(i,t),a=o.concat(r.length?r:OT(n));return he(a,rc)},IT=()=>dv([]),PT=(e,t)=>AT(gi.fromDom(t.cloneContents()),DT(e,t)),NT=(t,n)=>xr(n,"table",e(Ci,t)),MT=(e,t)=>NT(e,t[0]).bind((e=>{const n=t[0],i=t[t.length-1],o=xT(e);return ST(o,n,i).map((e=>dv([kT(e)])))})).getOrThunk(IT),LT=(e,t)=>t.length>0&&t[0].collapsed?IT():PT(e,t[0]),$T=(e,t)=>{const n=Lm(t,e);return n.length>0?MT(e,n):LT(e,t)},jT=(e,t)=>t>=0&&t<e.length&&Lf(e.charAt(t)),RT=e=>ga(e.innerText),FT=e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase(),BT=e=>oe.from(e.selection.getRng()).map((t=>{const n=oe.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),o=FT(n),r=e.dom.add(i,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),a=RT(r),s=ga(r.textContent);if(e.dom.remove(r),jT(s,0)||jT(s,s.length-1)){const e=n.getOr(i),t=RT(e),o=t.indexOf(a);if(-1===o)return a;return(jT(t,o-1)?" ":"")+a+(jT(t,o+a.length)?" ":"")}return a})).getOr(""),HT=(e,t)=>{const n=e.selection.getRng(),i=e.dom.create("body"),o=e.selection.getSel(),r=dy(e,Dm(o)),a=t.contextual?$T(gi.fromDom(e.getBody()),r).dom:n.cloneContents();return a&&i.appendChild(a),e.selection.serializer.serialize(i,t)},zT=(e,t)=>{if("text"===t.format)return BT(e);{const n=HT(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}},qT=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),UT=(e,t,n={})=>{const i=qT(n,t);return aT(e,i).fold(Q,(t=>{const n=zT(e,t);return sT(e,n,t)}))},WT=0,VT=1,YT=2,KT=(e,t)=>{const n=e.length+t.length+2,i=new Array(n),o=new Array(n),r=(e,t,n)=>({start:e,end:t,diag:n}),a=(n,i,o,r,s)=>{const c=l(n,i,o,r);if(null===c||c.start===i&&c.diag===i-r||c.end===n&&c.diag===n-o){let a=n,l=o;for(;a<i||l<r;)a<i&&l<r&&e[a]===t[l]?(s.push([WT,e[a]]),++a,++l):i-n>r-o?(s.push([YT,e[a]]),++a):(s.push([VT,t[l]]),++l)}else{a(n,c.start,o,c.start-c.diag,s);for(let t=c.start;t<c.end;++t)s.push([WT,e[t]]);a(c.end,i,c.end-c.diag,r,s)}},s=(n,i,o,a)=>{let s=n;for(;s-i<a&&s<o&&e[s]===t[s-i];)++s;return r(n,s,i)},l=(n,r,a,l)=>{const c=r-n,u=l-a;if(0===c||0===u)return null;const d=c-u,h=u+c,p=(h%2==0?h:h+1)/2;let f,m,g,v,b;for(i[1+p]=n,o[1+p]=r+1,f=0;f<=p;++f){for(m=-f;m<=f;m+=2){for(g=m+p,m===-f||m!==f&&i[g-1]<i[g+1]?i[g]=i[g+1]:i[g]=i[g-1]+1,v=i[g],b=v-n+a-m;v<r&&b<l&&e[v]===t[b];)i[g]=++v,++b;if(d%2!=0&&d-f<=m&&m<=d+f&&o[g-d]<=i[g])return s(o[g-d],m+n-a,r,l)}for(m=d-f;m<=d+f;m+=2){for(g=m+p-d,m===d-f||m!==d+f&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,b=v-n+a-m;v>=n&&b>=a&&e[v]===t[b];)o[g]=v--,b--;if(d%2==0&&-f<=m&&m<=f&&o[g]<=i[g+d])return s(o[g],m+n-a,r,l)}}},c=[];return a(0,e.length,0,t.length,c),c},GT=e=>Uo(e)?e.outerHTML:er(e)?Ns.encodeRaw(e.data,!1):ir(e)?"<!--"+e.data+"-->":"",QT=e=>{let t;const n=document.createElement("div"),i=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i},XT=(e,t,n)=>{const i=QT(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];t.parentNode.insertBefore(i,t)}else e.appendChild(i)},ZT=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];n.parentNode.removeChild(n)}},JT=(e,t)=>{let n=0;pe(e,(e=>{e[0]===WT?n++:e[0]===VT?(XT(t,e[1],n),n++):e[0]===YT&&ZT(t,n)}))},eA=e=>ge(he(Pe(e.childNodes),GT),(e=>e.length>0)),tA=(e,t)=>{const n=he(Pe(t.childNodes),GT);return JT(KT(n,e),t),t},nA=at((()=>document.implementation.createHTMLDocument("undo"))),iA=e=>-1!==e.indexOf("</iframe>"),oA=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),rA=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),aA=e=>{const t=eA(e.getBody()),n=xe(t,(t=>{const n=Ny(e.serializer,t);return n.length>0?[n]:[]})),i=n.join("");return iA(i)?oA(n):rA(i)},sA=(e,t,n)=>{const i=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?tA(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!z(i)||!gf(i)||!i.isFakeCaret}),e.selection.moveToBookmark(i)},lA=e=>"fragmented"===e.type?e.fragments.join(""):e.content,cA=e=>{const t=gi.fromTag("body",nA());return Co(t,lA(e)),pe(oa(t,"*[data-mce-bogus]"),bo),_o(t)},uA=(e,t)=>lA(e)===lA(t),dA=(e,t)=>cA(e)===cA(t),hA=(e,t)=>!(!e||!t)&&(!!uA(e,t)||dA(e,t)),pA=e=>0===e.get(),fA=(e,t,n)=>{pA(n)&&(e.typing=t)},mA=(e,t)=>{e.typing&&(fA(e,!1,t),e.add())},gA=e=>{e.typing&&(e.typing=!1,e.add())},vA=(e,t,n)=>{pA(t)&&n.set(Du(e.selection))},bA=(e,t,n,i,o,r,a)=>{const s=aA(e);if(r=r||{},r=xn.extend(r,s),!1===pA(i)||e.removed)return null;const l=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:r,lastLevel:l,originalEvent:a}).isDefaultPrevented())return null;if(l&&hA(l,r))return null;t.data[n.get()]&&o.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const c=eh(e);if(c&&t.data.length>c){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}r.bookmark=Du(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(r),n.set(t.data.length-1);const u={level:r,lastLevel:l,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),r},yA=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},wA=(e,t,n,i,o)=>{if(t.transact(i)){const i=t.data[n.get()].bookmark,r=t.data[n.get()-1];sA(e,r,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}},_A=(e,t,n)=>{let i;return t.get()<n.length-1&&(t.set(t.get()+1),i=n[t.get()],sA(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},CA=(e,t,n,i)=>{let o;return t.typing&&(t.add(),t.typing=!1,fA(t,!1,n)),i.get()>0&&(i.set(i.get()-1),o=t.data[i.get()],sA(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o},xA=e=>{e.clear(),e.add()},kA=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!hA(aA(e),t.data[0]),SA=(e,t)=>t.get()<e.data.length-1&&!e.typing,EA=(e,t,n)=>(mA(e,t),e.beforeChange(),e.ignore(n),e.add()),TA=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},AA=(e,t)=>{const n=e.dom,i=z(t)?t:e.getBody();B(e.hasVisual)&&(e.hasVisual=sh(e)),pe(n.select("table,a",i),(t=>{switch(t.nodeName){case"TABLE":const i=lh(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,i):n.addClass(t,i);break;case"A":if(!n.getAttrib(t,"href")){const i=n.getAttrib(t,"name")||t.id,o=ch(e);i&&e.hasVisual?n.addClass(t,o):n.removeClass(t,o)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},OA=e=>({init:{bindEvents:V},undoManager:{beforeChange:(t,n)=>vA(e,t,n),add:(t,n,i,o,r,a)=>bA(e,t,n,i,o,r,a),undo:(t,n,i)=>CA(e,t,n,i),redo:(t,n)=>_A(e,t,n),clear:(t,n)=>yA(e,t,n),reset:e=>xA(e),hasUndo:(t,n)=>kA(e,t,n),hasRedo:(e,t)=>SA(e,t),transact:(e,t,n)=>EA(e,t,n),ignore:(e,t)=>TA(e,t),extra:(t,n,i,o)=>wA(e,t,n,i,o)},formatter:{match:(t,n,i,o)=>Jx(e,t,n,i,o),matchAll:(t,n)=>ek(e,t,n),matchNode:(t,n,i,o)=>Zx(e,t,n,i,o),canApply:t=>nk(e,t),closest:t=>tk(e,t),apply:(t,n,i)=>pS(e,t,n,i),remove:(t,n,i,o)=>iS(e,t,n,i,o),toggle:(t,n,i)=>xS(e,t,n,i),formatChanged:(t,n,i,o,r)=>CS(e,t,n,i,o,r)},editor:{getContent:t=>jy(e,t),setContent:(t,n)=>zx(e,t,n),insertContent:(t,n)=>$x(e,t,n),addVisual:t=>AA(e,t)},selection:{getContent:(t,n)=>UT(e,t,n)},autocompleter:{addDecoration:t=>wy(e,t),removeDecoration:()=>xy(e,gi.fromDom(e.getBody()))},raw:{getModel:()=>oe.none()}}),DA=e=>{const t=e=>L(e)?e:{},{init:n,undoManager:i,formatter:o,editor:r,selection:a,autocompleter:s,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(e,t,n)=>i.transact(n),ignore:(e,t)=>i.ignore(t),extra:(e,t,n,o)=>i.extra(n,o)},formatter:{match:(e,n,i,r)=>o.match(e,t(n),r),matchAll:o.matchAll,matchNode:o.matchNode,canApply:e=>o.canApply(e),closest:e=>o.closest(e),apply:(e,n)=>o.apply(e,t(n)),remove:(e,n)=>o.remove(e,t(n)),toggle:(e,n)=>o.toggle(e,t(n)),formatChanged:(e,t,n,i,r)=>o.formatChanged(t,n,i,r)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:e=>(r.insertContent(e),""),addVisual:r.addVisual},selection:{getContent:(e,t)=>a.getContent(t)},autocompleter:{addDecoration:s.addDecoration,removeDecoration:s.removeDecoration},raw:{getModel:()=>oe.some(l.getRawModel())}}},IA=()=>{const e=G(null),t=G("");return{init:{bindEvents:V},undoManager:{beforeChange:V,add:e,undo:e,redo:e,clear:V,reset:V,hasUndo:ne,hasRedo:ne,transact:e,ignore:V,extra:V},formatter:{match:ne,matchAll:G([]),matchNode:G(void 0),canApply:ne,closest:t,apply:V,remove:V,toggle:V,formatChanged:G({unbind:V})},editor:{getContent:t,setContent:G({content:"",html:""}),insertContent:G(""),addVisual:V},selection:{getContent:t},autocompleter:{addDecoration:V,removeDecoration:V},raw:{getModel:G(oe.none())}}},PA=e=>Ye(e.plugins,"rtc"),NA=e=>Ve(e.plugins,"rtc").bind((e=>oe.from(e.setup))),MA=e=>{const t=e;return NA(e).fold((()=>(t.rtcInstance=OA(e),oe.none())),(e=>(t.rtcInstance=IA(),oe.some((()=>e().then((e=>(t.rtcInstance=DA(e),e.rtc.isRemote))))))))},LA=e=>e.rtcInstance?e.rtcInstance:OA(e),$A=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},jA=(e,t,n)=>{$A(e).undoManager.beforeChange(t,n)},RA=(e,t,n,i,o,r,a)=>$A(e).undoManager.add(t,n,i,o,r,a),FA=(e,t,n,i)=>$A(e).undoManager.undo(t,n,i),BA=(e,t,n)=>$A(e).undoManager.redo(t,n),HA=(e,t,n)=>{$A(e).undoManager.clear(t,n)},zA=(e,t)=>{$A(e).undoManager.reset(t)},qA=(e,t,n)=>$A(e).undoManager.hasUndo(t,n),UA=(e,t,n)=>$A(e).undoManager.hasRedo(t,n),WA=(e,t,n,i)=>$A(e).undoManager.transact(t,n,i),VA=(e,t,n)=>{$A(e).undoManager.ignore(t,n)},YA=(e,t,n,i,o)=>{$A(e).undoManager.extra(t,n,i,o)},KA=(e,t,n,i,o)=>$A(e).formatter.match(t,n,i,o),GA=(e,t,n)=>$A(e).formatter.matchAll(t,n),QA=(e,t,n,i,o)=>$A(e).formatter.matchNode(t,n,i,o),XA=(e,t)=>$A(e).formatter.canApply(t),ZA=(e,t)=>$A(e).formatter.closest(t),JA=(e,t,n,i)=>{$A(e).formatter.apply(t,n,i)},eO=(e,t,n,i,o)=>{$A(e).formatter.remove(t,n,i,o)},tO=(e,t,n,i)=>{$A(e).formatter.toggle(t,n,i)},nO=(e,t,n,i,o,r)=>$A(e).formatter.formatChanged(t,n,i,o,r),iO=(e,t)=>LA(e).editor.getContent(t),oO=(e,t,n)=>LA(e).editor.setContent(t,n),rO=(e,t,n)=>LA(e).editor.insertContent(t,n),aO=(e,t,n)=>$A(e).selection.getContent(t,n),sO=(e,t)=>$A(e).editor.addVisual(t),lO=e=>$A(e).init.bindEvents(),cO=(e,t)=>$A(e).autocompleter.addDecoration(t),uO=e=>$A(e).autocompleter.removeDecoration(),dO=(e,t={})=>{const n=t.format?t.format:"html";return aO(e,n,t)},hO=e=>0===e.dom.length?(vo(e),oe.none()):oe.some(e),pO=(e,t)=>e.filter((e=>ig.isBookmarkNode(e.dom))).bind(t?Ni:Pi),fO=(e,t,n,i)=>{const o=e.dom,r=t.dom,a=i?o.length:r.length;i?(i_(o,r,!1,!i),n.setStart(r,a)):(i_(r,o,!1,!i),n.setEnd(r,a))},mO=(e,t)=>{Ai(e).each((n=>{const i=e.dom;t&&zw(n,Qc(i,0))?t_(i,0):!t&&Uw(n,Qc(i,i.length))&&n_(i,i.length)}))},gO=(e,t,n,i)=>{e.bind((e=>((i?n_:t_)(e.dom,i?e.dom.length:0),t.filter(Fn).map((t=>fO(e,t,n,i)))))).orThunk((()=>pO(t,i).or(t).filter(Fn).map((e=>mO(e,i)))))},vO=(e,t)=>{const n=oe.from(t.firstChild).map(gi.fromDom),i=oe.from(t.lastChild).map(gi.fromDom);e.deleteContents(),e.insertNode(t);const o=n.bind(Pi).filter(Fn).bind(hO),r=i.bind(Ni).filter(Fn).bind(hO);gO(o,n,e,!0),gO(r,i,e,!1),e.collapse(!1)},bO=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),yO=(e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),i=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=i?{context:i.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return zy({validate:!1},e.schema).serialize(r)}return t.content},wO=(e,t,n={})=>{const i=bO(n,t);lT(e,i).each((t=>{const n=yO(e,t),i=e.selection.getRng();vO(i,i.createContextualFragment(n)),e.selection.setRng(i),lb(e,i),cT(e,n,t)}))},_O=(e,t,n)=>{if(e&&Ye(e,t)){const i=ge(e[t],(e=>e!==n));0===i.length?delete e[t]:e[t]=i}};var CO=(e,t)=>{let n,i;const o=(t,n)=>we(n,(n=>e.is(n,t))),r=t=>e.getParents(t,null,e.getRoot());return{selectorChangedWithUnbind:(e,a)=>(n||(n={},i={},t.on("NodeChange",(e=>{const t=e.element,a=r(t),s={};xn.each(n,((e,t)=>{o(t,a).each((n=>{i[t]||(pe(e,(e=>{e(!0,{node:n,selector:t,parents:a})})),i[t]=e),s[t]=e}))})),xn.each(i,((e,n)=>{s[n]||(delete i[n],xn.each(e,(e=>{e(!1,{node:t,selector:n,parents:a})})))}))}))),n[e]||(n[e]=[]),n[e].push(a),o(e,r(t.selection.getStart())).each((()=>{i[e]=n[e]})),{unbind:()=>{_O(n,e,a),_O(i,e,a)}})}};const xO=e=>!(!e||!e.ownerDocument)&&xi(gi.fromDom(e.ownerDocument),gi.fromDom(e)),kO=e=>!!e&&(xO(e.startContainer)&&xO(e.endContainer)),SO=(e,t,n,i)=>{let o,r;const{selectorChangedWithUnbind:a}=CO(e,i),s=(t,n)=>{const o=e.createRng();z(t)&&z(n)?(o.setStart(t,n),o.setEnd(t,n),v(o),f(!1)):(qm(e,o,i.getBody(),!0),v(o))},l=(e,t)=>wO(i,e,t),c=e=>ry(i.getBody(),g(),e),u=e=>ay(i.getBody(),g(),e),d=(e,t)=>O.getBookmark(e,t),h=(t,n)=>(uy(e,t,n).each(v),t),p=()=>{const e=g(),t=m();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},f=e=>{const t=g();t.collapse(!!e),v(t)},m=()=>t.getSelection?t.getSelection():t.document.selection,g=()=>{let n,a,s;const l=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},c=t.document;if(void 0!==i.bookmark&&!1===Jb(i)){const e=kb(i);if(e.isSome())return e.map((e=>dy(i,[e])[0])).getOr(c.createRange())}try{(n=m())&&!qo(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=dy(i,[a])[0])}catch(e){}return a||(a=c.createRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),o&&r&&(0===l(a.START_TO_START,a,o)&&0===l(a.END_TO_END,a,o)?a=r:(o=null,r=null)),a},v=(e,t)=>{let n;if(!kO(e))return;const a=m();if(e=i.dispatch("SetSelectionRange",{range:e,forward:t}).range,a){r=e;try{a.removeAllRanges(),a.addRange(e)}catch(e){}!1===t&&a.extend&&(a.collapse(e.endContainer,e.endOffset),a.extend(e.startContainer,e.startOffset)),o=a.rangeCount>0?a.getRangeAt(0):null}!e.collapsed&&e.startContainer===e.endContainer&&a.setBaseAndExtent&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset],n&&"IMG"===n.tagName&&(a.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),a.anchorNode===e.startContainer&&a.focusNode===e.endContainer||a.setBaseAndExtent(n,0,n,1))),i.dispatch("AfterSetSelectionRange",{range:e,forward:t})},b=t=>(l(e.getOuterHTML(t)),t),y=()=>ly(i.getBody(),g()),w=(t,n)=>cy(e,g(),t,n),_=()=>{const t=m(),n=null==t?void 0:t.anchorNode,i=null==t?void 0:t.focusNode;if(!t||!n||!i||qo(n)||qo(i))return!0;const o=e.createRng(),r=e.createRng();try{o.setStart(n,t.anchorOffset),o.collapse(!0),r.setStart(i,t.focusOffset),r.collapse(!0)}catch(e){return!0}return o.compareBoundaryPoints(o.START_TO_START,r)<=0},C=()=>{const t=g(),n=m();if(!Pm(n)&&Um(i)){const n=Tv(e,t);return n.each((e=>{v(e,_())})),n.getOr(t)}return t},x=()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},k=(e,t)=>{z(e)?sb(i,e,t):lb(i,g(),t)},S=(e,t)=>v(fv(e,t,i.getDoc())),E=()=>{const e=g();return e.collapsed?Qc.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},T=()=>{t=o=r=null,D.destroy()},A={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:i,collapse:f,setCursorLocation:s,getContent:e=>dO(i,e),setContent:l,getBookmark:d,moveToBookmark:e=>O.moveToBookmark(e),select:h,isCollapsed:p,isForward:_,setNode:b,getNode:y,getSel:m,setRng:v,getRng:g,getStart:c,getEnd:u,getSelectedBlocks:w,normalize:C,selectorChanged:(e,t)=>(a(e,t),A),selectorChangedWithUnbind:a,getScrollContainer:x,scrollIntoView:k,placeCaretAt:S,getBoundingClientRect:E,destroy:T},O=ig(A),D=$g(A,i);return A.bookmarkManager=O,A.controlSelection=D,A},EO=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const i=e[n];i.attr("tabindex",i.attr("data-mce-tabindex")),i.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,i)=>{const o="data-mce-"+i,r=t.url_converter,a=t.url_converter_scope;let s=e.length;for(;s--;){const t=e[s];let l=t.attr(o);void 0!==l?(t.attr(i,l.length>0?l:null),t.attr(o,null)):(l=t.attr(i),"style"===i?l=n.serializeStyle(n.parseStyle(l),t.name):r&&(l=r.call(a,l,i,t.name)),t.attr(i,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let i=n.attr("class");i&&(i=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",i.length>0?i:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let i=e.length;for(;i--;){const t=e[i];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=oe.from(t.firstChild).exists((e=>!ma(e.value)));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{let t=e.length;for(;t--;){const n=e[t].firstChild;n&&(n.value=Ns.decode(n.value))}})),e.addNodeFilter("script,style",((e,n)=>{const i=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let o=e.length;for(;o--;){const r=e[o],a=r.firstChild?r.firstChild.value:"";if("script"===n){const e=r.attr("type");e&&r.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a.length>0&&(r.firstChild.value="// <![CDATA[\n"+i(a)+"\n// ]]>")}else"xhtml"===t.element_format&&a.length>0&&(r.firstChild.value="<!--\n"+i(a)+"\n-->")}})),e.addNodeFilter("#comment",(e=>{let i=e.length;for(;i--;){const o=e[i];t.preserve_cdata&&0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const i=e[n];7===i.type?i.remove():1===i.type&&("input"!==t||i.attr("type")||i.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{pe(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}))},TO=e=>{const t=e=>e&&"br"===e.name,n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}},AO=(e,t,n)=>{let i;const o=e.dom;let r=t.cloneNode(!0);const a=document.implementation;if(a.createHTMLDocument){const e=a.createHTMLDocument("");xn.each("BODY"===r.nodeName?r.childNodes:[r],(t=>{e.body.appendChild(e.importNode(t,!0))})),r="BODY"!==r.nodeName?e.body.firstChild:e.body,i=o.doc,o.doc=e}return rg(e,{...n,node:r}),i&&(o.doc=i),r},OO=(e,t)=>e&&e.hasEventListeners("PreProcess")&&!t.no_events,DO=(e,t,n)=>OO(e,n)?AO(e,t,n):t,IO=(e,t,n)=>{-1===xn.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},PO=(e,t,n)=>{if(!t.no_events&&e){return ag(e,{...t,content:n}).content}return n},NO=(e,t,n)=>{const i=ga(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Gr(gi.fromDom(t))?i:xn.trim(i)},MO=(e,t,n)=>{const i=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,i);return TO(o),o},LO=(e,t,n)=>zy(e,t).serialize(n),$O=(e,t,n,i,o)=>{const r=LO(t,n,i);return PO(e,o,r)},jO=(t,n)=>{const i=["data-mce-selected"],o=n&&n.dom?n.dom:vl.DOM,r=n&&n.schema?n.schema:Vs(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;const a=iT(t,r);EO(a,t,o);const s=(e,i={})=>{const s={format:"html",...i},l=DO(n,e,s),c=NO(o,l,s),u=MO(a,c,s);return"tree"===s.format?u:$O(n,t,r,u,s)};return{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:s,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:e(IO,a,i),getTempAttrs:G(i),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},RO=(e,t)=>{const n=jO(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},FO="html",BO=(e,t)=>({...e,format:t,get:!0,getInner:!0}),HO=(e,t={})=>{const n=t.format?t.format:FO,i=BO(t,n);return aT(e,i).fold(Q,(t=>{const n=iO(e,t);return sT(e,n,t)}))},zO="html",qO=(e,t)=>({format:zO,...e,set:!0,content:t}),UO=(e,t,n={})=>{const i=qO(n,t);return lT(e,i).map((t=>{const n=oO(e,t.content,t);return cT(e,n.html,t),n.content})).getOr(t)},WO="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),VO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),YO=e=>{const t=ge(WO,(t=>Ye(e,t))),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),Ae(t)},KO=e=>{const t=xn.makeMap(e.plugins," "),n=ge(VO,(e=>Ye(t,e)));return Ae(n)},GO=(e,t)=>{const n=YO(e),i=KO(t),o=i.length>0,r=n.length>0,a="mobile"===t.theme;if(o||r||a){const e="\n- ",t=a?`\n\nThemes:${e}mobile`:"",s=o?`\n\nPlugins:${e}${i.join(e)}`:"",l=r?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+s+l)}},QO=(e,t)=>{GO(e,t)},XO=vl.DOM,ZO=e=>{XO.setStyle(e.id,"display",e.orgDisplay)},JO=e=>oe.from(e).each((e=>e.destroy())),eD=e=>{e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},tD=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),XO.unbind(t,"submit reset",e.formEventDelegate))},nD=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,i=e.getBody(),o=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&XO.remove(o.nextSibling),sg(e),e.editorManager.remove(e),!e.inline&&i&&ZO(e),lg(e),XO.remove(e.getContainer()),JO(t),JO(n),e.destroy()}},iD=(e,t)=>{const{selection:n,dom:i}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),JO(n),JO(i)),tD(e),eD(e),e.destroyed=!0):e.remove())},oD=()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ye(e,t)}
},rD=oD(),aD=Ml.ModelManager,sD=(e,t)=>t.dom[e],lD=(e,t)=>parseInt(no(t,e),10),cD=e(sD,"clientWidth"),uD=e(sD,"clientHeight"),dD=e(lD,"margin-top"),hD=e(lD,"margin-left"),pD=e=>e.dom.getBoundingClientRect(),fD=(e,t,n)=>{const i=cD(e),o=uD(e);return t>=0&&n>=0&&t<=i&&n<=o},mD=(e,t,n,i)=>{const o=pD(t);return{x:n-(e?o.left+t.dom.clientLeft+hD(t):0),y:i-(e?o.top+t.dom.clientTop+dD(t):0)}},gD=(e,t,n)=>{const i=gi.fromDom(e.getBody()),o=e.inline?i:Ei(i),r=mD(e.inline,o,t,n);return fD(o,r.x,r.y)},vD=e=>oe.from(e).map(gi.fromDom),bD=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return vD(t).map(Xi).getOr(!1)},yD=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}},wD=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():yD()},i=()=>oe.from(t[0]),o=(e,t)=>!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout),r=()=>{pe(t,(e=>{e.reposition()}))},a=e=>{t.push(e)},s=e=>{_e(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},l=(l,c=!0)=>{if(!e.removed&&bD(e))return c&&e.dispatch("BeforeOpenNotification",{notification:l}),we(t,(e=>o(n().getArgs(e),l))).getOrThunk((()=>{e.editorManager.setActive(e);const t=n().open(l,(()=>{s(t),r(),i().fold((()=>e.focus()),(e=>cb(gi.fromDom(e.getEl()))))}));return a(t),r(),e.dispatch("OpenNotification",{notification:{...t}}),t}))},c=()=>{i().each((e=>{n().close(e),s(e),r()}))},u=G(t),d=e=>{e.on("SkinLoaded",(()=>{const t=Fd(e);t&&l({text:t,type:"warning",timeout:0},!1),r()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(r)})),e.on("remove",(()=>{pe(t.slice(),(e=>{n().close(e)}))}))};return d(e),{open:l,close:c,getNotifications:u}},_D=Ml.PluginManager,CD=Ml.ThemeManager;var xD=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}};const kD=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():xD()},i=(e,t)=>(...n)=>t?t.apply(e,n):void 0,o=t=>{e.dispatch("OpenWindow",{dialog:t})},r=t=>{e.dispatch("CloseWindow",{dialog:t})},a=e=>{t.push(e),o(e)},s=n=>{r(n),t=ge(t,(e=>e!==n)),0===t.length&&e.focus()},l=()=>oe.from(t[t.length-1]),c=t=>{e.editorManager.setActive(e),xb(e),e.ui.show();const n=t();return a(n),n},u=(e,t)=>c((()=>n().open(e,t,s))),d=e=>c((()=>n().openUrl(e,s))),h=(e,t,o)=>{const r=n();r.alert(e,i(o||r,t))},p=(e,t,o)=>{const r=n();r.confirm(e,i(o||r,t))},f=()=>{l().each((e=>{n().close(e),s(e)}))};return e.on("remove",(()=>{pe(t,(e=>{n().close(e)}))})),{open:u,openUrl:d,alert:h,confirm:p,close:f}},SD=(e,t)=>{e.notificationManager.open({type:"error",text:t})},ED=(e,t)=>{e._skinLoaded?SD(e,t):e.on("SkinLoaded",(()=>{SD(e,t)}))},TD=(e,t)=>{ED(e,Nl.translate(["Failed to upload image: {0}",t]))},AD=(e,t,n)=>{gg(e,t,{message:n}),console.error(n)},OD=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,DD=(e,t,n)=>{AD(e,"PluginLoadError",OD("plugin",t,n))},ID=(e,t,n)=>{AD(e,"IconsLoadError",OD("icons",t,n))},PD=(e,t,n)=>{AD(e,"LanguageLoadError",OD("language",t,n))},ND=(e,t,n)=>{AD(e,"ThemeLoadError",OD("theme",t,n))},MD=(e,t,n)=>{AD(e,"ModelLoadError",OD("model",t,n))},LD=(e,t,n)=>{const i=Nl.translate(["Failed to initialize plugin: {0}",t]);gg(e,"PluginLoadError",{message:i}),$D(i,n),ED(e,i)},$D=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},jD=e=>/^[a-z0-9\-]+$/i.test(e),RD=e=>BD(e,Dd(e)),FD=e=>BD(e,Pd(e)),BD=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`,o=!0===e.inline;return he(t,(t=>jD(t)&&!o?`${n}/${t}/${i}`:e.documentBaseURI.toAbsolute(t)))},HD=e=>{e.contentCSS=e.contentCSS.concat(RD(e),FD(e))},zD=ie,qD=(e,t,n)=>Ao(e,t,zD,n),UD=e=>e?Pe(e.getElementsByTagName("img")):[],WD=(e,t)=>{const n={},i=(i,o=ie)=>{const r=ge(UD(i),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===mn.transparentSrc)&&(Ct(n,"blob:")?!e.isUploaded(n)&&o(t):!!Ct(n,"data:")&&o(t))))})),a=he(r,(e=>{const i=e.src;if(Ye(n,i))return n[i].then((t=>M(t)?t:{image:e,blobInfo:t.blobInfo}));{const o=PE(t,i).then((t=>(delete n[i],{image:e,blobInfo:t}))).catch((e=>(delete n[i],e)));return n[i]=o,o}}));return Promise.all(a)};return{findAll:i}},VD=()=>{const e=1,t=2;let n={};const i=(e,t)=>({status:e,resultUri:t}),o=e=>e in n,r=t=>!!o(t)&&n[t].status===e,a=e=>!!o(e)&&n[e].status===t;return{hasBlobUri:o,getResultUri:e=>{const t=n[e];return t?t.resultUri:null},isPending:r,isUploaded:a,markPending:t=>{n[t]=i(e,null)},markUploaded:(e,o)=>{n[e]=i(t,o)},removeFailed:e=>{delete n[e]},destroy:()=>{n={}}}};let YD=0;const KD=()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()},GD=e=>e+YD+++KD(),QD=()=>{let e=[];const t=e=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat"),n=(e,t,n,o,r)=>{if(M(e)){return i({id:e,name:o,filename:r,blob:t,base64:n})}if(L(e))return i(e);throw new Error("Unknown input type")},i=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const n=e.id||GD("blobid"),i=e.name||n,o=e.blob;return{id:G(n),name:G(i),filename:G(e.filename||i+"."+t(o.type)),blob:G(o),base64:G(e.base64),blobUri:G(e.blobUri||URL.createObjectURL(o)),uri:G(e.uri)}},o=t=>{a(t.id())||e.push(t)},r=t=>we(e,t).getOrUndefined(),a=e=>r((t=>t.id()===e)),s=(e,t)=>r((n=>n.base64()===e&&n.blob().type===t));return{create:n,add:o,get:a,getByUri:e=>r((t=>t.blobUri()===e)),getByData:s,findFirst:r,removeByUri:t=>{e=ge(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{pe(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}},XD=(e,t)=>{const n={},i=(e,t)=>e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t,o=(e,n)=>new Promise(((o,r)=>{const a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=e=>{n(e.loaded/e.total*100)},a.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=()=>{if(a.status<200||a.status>=300)return void r("HTTP Error: "+a.status);const e=JSON.parse(a.responseText);e&&M(e.location)?o(i(t.basePath,e.location)):r("Invalid JSON: "+a.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),a.send(s)})),r=()=>new Promise((e=>{e([])})),a=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),l=(e,t)=>{xn.each(n[e],(e=>{e(t)})),delete n[e]},c=(t,n,i)=>(e.markPending(t.blobUri()),new Promise((o=>{let r,c;try{const u=()=>{r&&(r.close(),c=V)},d=n=>{u(),e.markUploaded(t.blobUri(),n),l(t.blobUri(),a(t,n)),o(a(t,n))},h=n=>{u(),e.removeFailed(t.blobUri()),l(t.blobUri(),s(t,n)),o(s(t,n))};c=e=>{e<0||e>100||oe.from(r).orThunk((()=>oe.from(i).map(ee))).each((t=>{r=t,t.progressBar.value(e)}))},n(t,c).then(d,(e=>{h(M(e)?{message:e}:e)}))}catch(e){o(s(t,e))}}))),u=e=>e===o,d=e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))},h=(n,i)=>(n=xn.grep(n,(t=>!e.isUploaded(t.blobUri()))),Promise.all(xn.map(n,(n=>e.isPending(n.blobUri())?d(n):c(n,t.handler,i))))),p=(e,n)=>!t.url&&u(t.handler)?r():h(e,n);return!1===q(t.handler)&&(t.handler=o),{upload:p}},ZD=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),JD=(e,t)=>XD(t,{url:wd(e),basePath:_d(e),credentials:Cd(e),handler:xd(e)}),eI=e=>{const t=VD(),n=JD(e,t);return{upload:(t,i=!0)=>n.upload(t,i?ZD(e):void 0)}},tI=e=>{const t=QD();let n,i;const o=VD(),r=[],a=t=>n=>e.selection?t(n):[],s=e=>e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime(),l=(e,t,n)=>{let i=0;do{i=e.indexOf(t,i),-1!==i&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1)}while(-1!==i);return e},c=(e,t,n)=>{const i=`src="${n}"${n===mn.transparentSrc?' data-mce-placeholder="1"':""}`;return e=l(e,`src="${t}"`,i),e=l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},u=(t,n)=>{pe(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=he(e.fragments,(e=>c(e,t,n))):e.content=c(e.content,t,n)}))},d=(t,n)=>{const i=e.convertURL(n,"src");u(t.src,n),Wn(gi.fromDom(t),{src:gd(e)?s(n):n,"data-mce-src":i})},h=()=>(n||(n=JD(e,o)),g().then(a((i=>{const o=he(i,(e=>e.blobInfo));return n.upload(o,ZD(e)).then(a((n=>{const o=[];let r=!1;const a=he(n,((n,a)=>{const s=i[a].blobInfo,l=i[a].image;let c=!1;return n.status&&vd(e)?(n.url&&!_t(l.src,n.url)&&(r=!0),t.removeByUri(l.src),PA(e)||d(l,n.url)):n.error&&(n.error.remove&&(u(l.getAttribute("src"),mn.transparentSrc),o.push(l),c=!0),TD(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:s,removed:c}}));return o.length>0&&!PA(e)?e.undoManager.transact((()=>{pe(o,(n=>{e.dom.remove(n),t.removeByUri(n.src)}))})):r&&e.undoManager.dispatchChange(),a})))})))),p=()=>md(e)?h():Promise.resolve([]),f=e=>ke(r,(t=>t(e))),m=e=>{r.push(e)},g=()=>(i||(i=WD(o,t)),i.findAll(e.getBody(),f).then(a((t=>{const n=ge(t,(t=>!M(t)||(ED(e,t),!1)));return PA(e)||pe(n,(e=>{u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),v=()=>{t.destroy(),o.destroy(),i=n=null},b=n=>n.replace(/src="(blob:[^"]+)"/g,((n,i)=>{const r=o.getResultUri(i);if(r)return'src="'+r+'"';let a=t.getByUri(i);if(a||(a=be(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(i)),null)),a){return'src="data:'+a.blob().type+";base64,"+a.base64()+'"'}return n}));return e.on("SetContent",(()=>{md(e)?p():g()})),e.on("RawSaveContent",(e=>{e.content=b(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=b(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{pe(e,(e=>{const n=e.attr("src");if(t.getByUri(n))return;const i=o.getResultUri(n);i&&e.attr("src",i)}))}))})),{blobCache:t,addFilter:m,uploadImages:h,uploadImagesAuto:p,scanForImages:g,destroy:v}},nI=e=>{const t=e.dom,n=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},i={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[i,e,t]:[e,i,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:e=>Uo(e)&&e.hasAttribute("href"),onformat:(e,n,i)=>{xn.each(i,((n,i)=>{t.setAttrib(e,i,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{i[e]={block:e,remove:"all"}})),i},iI={remove_similar:!0,inherit:!1},oI={selector:"td,th",...iI},rI={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...oI},tablecellverticalalign:{styles:{"vertical-align":"%value"},...oI},tablecellbordercolor:{styles:{borderColor:"%value"},...oI},tablecellclass:{classes:["%value"],...oI},tableclass:{selector:"table",classes:["%value"],...iI},tablecellborderstyle:{styles:{borderStyle:"%value"},...oI},tablecellborderwidth:{styles:{borderWidth:"%value"},...oI}},aI=G(rI),sI=e=>{const t={},n=e=>z(e)?t[e]:t,i=e=>Ye(t,e),o=(e,n)=>{e&&(M(e)?(j(n)||(n=[n]),pe(n,(e=>{B(e.deep)&&(e.deep=!cm(e)),B(e.split)&&(e.split=!cm(e)||um(e)),B(e.remove)&&cm(e)&&!um(e)&&(e.remove="none"),cm(e)&&um(e)&&(e.mixed=!0,e.block_expand=!0),M(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=n):je(e,((e,t)=>{o(t,e)})))},r=e=>(e&&t[e]&&delete t[e],t);return o(nI(e)),o(aI()),o(Wd(e)),{get:n,has:i,register:o,unregister:r}},lI=xn.each,cI=vl.DOM,uI=(e,t)=>{let n,i,o;const r=t&&t.schema||Vs({}),a=(e,t)=>{t.classes.length&&cI.addClass(e,t.classes.join(" ")),cI.setAttribs(e,t.attrs)},s=e=>{i="string"==typeof e?{name:e,classes:[],attrs:{}}:e;const t=cI.create(i.name);return a(t,i),t},l=(e,t)=>{const n="string"!=typeof e?e.nodeName.toLowerCase():e,i=r.getElementRule(n),o=i&&i.parentsRequired;return!(!o||!o.length)&&(t&&-1!==xn.inArray(o,t)?t:o[0])},c=(e,t,n)=>{let i,o;const r=t.length>0&&t[0],a=r&&r.name,u=l(e,a);if(u)a===u?(o=t[0],t=t.slice(1)):o=u;else if(r)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(i=s(o),i.appendChild(e)),n&&(i||(i=cI.create("div"),i.appendChild(e)),xn.each(n,(t=>{const n=s(t);i.insertBefore(n,e)}))),c(i,t,o&&o.siblings)};return e&&e.length?(i=e[0],n=s(i),o=cI.create("div"),o.appendChild(c(n,e.slice(1),i.siblings)),o):""},dI=e=>{let t;const n={classes:[],attrs:{}};return"*"!==(e=n.selector=xn.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,i,o,r)=>{switch(t){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==xn.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===o){const e=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},hI=e=>e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=xn.map(e.split(/(?:~\+|~|\+)/),dI),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[],pI=(e,t)=>{let n,i,o,r="",a=Vd(e);if(""===a)return"";const s=e=>e.replace(/%(\w+)/g,"");if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){const e=Ve(t,"preview");if(kn(e,!1))return"";a=e.getOr(a)}n=t.block||t.inline||"span";const l=hI(t.selector);l.length?(l[0].name||(l[0].name=n),n=t.selector,i=uI(l,e)):i=uI([n],e);const c=cI.select(n,i)[0]||i.firstChild;return lI(t.styles,((e,t)=>{const n=s(e);n&&cI.setStyle(c,t,n)})),lI(t.attributes,((e,t)=>{const n=s(e);n&&cI.setAttrib(c,t,n)})),lI(t.classes,(e=>{const t=s(e);cI.hasClass(c,t)||cI.addClass(c,t)})),e.dispatch("PreviewFormats"),cI.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),o=cI.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,lI(a.split(" "),(t=>{let n=cI.getStyle(c,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=cI.getStyle(e.getBody(),t,!0),"#ffffff"===Wf(n).toLowerCase())||"color"===t&&"#000000"===Wf(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(r+="padding:0 2px;"),r+=t+":"+n+";"}})),e.dispatch("AfterPreviewFormats"),cI.remove(i),r},fI=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},mI=t=>{const n=sI(t),i=kl(null);return fI(t),_k(t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(e,n,i)=>{JA(t,e,n,i)},remove:(e,n,i,o)=>{eO(t,e,n,i,o)},toggle:(e,n,i)=>{tO(t,e,n,i)},match:(e,n,i,o)=>KA(t,e,n,i,o),closest:e=>ZA(t,e),matchAll:(e,n)=>GA(t,e,n),matchNode:(e,n,i,o)=>QA(t,e,n,i,o),canApply:e=>XA(t,e),formatChanged:(e,n,o,r)=>nO(t,i,e,n,o,r),getCssText:e(pI,t)}},gI=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},vI=(e,t,n)=>{const i=kl(!1),o=e=>{fA(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const i=e.command;gI(i)||(mA(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;gI(t)||o(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(n=>{const r=n.keyCode;n.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||n.ctrlKey)&&(o(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),i.get()&&t.typing&&!1===hA(aA(e),t.data[0])&&(!1===e.isDirty()&&e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const r=e.keyCode;if(e.isDefaultPrevented())return;if(r>=33&&r<=36||r>=37&&r<=40||45===r)return void(t.typing&&o(e));const a=e.ctrlKey&&!e.altKey||e.metaKey;!(r<16||r>20)||224===r||91===r||t.typing||a||(t.beforeChange(),fA(t,!0,n),t.add({},e),i.set(!0))})),e.on("mousedown",(e=>{t.typing&&o(e)}));const r=e=>"insertReplacementText"===e.inputType,a=e=>"insertText"===e.inputType&&null===e.data,s=e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType;e.on("input",(e=>{e.inputType&&(r(e)||a(e)||s(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))},bI=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},yI=e=>{const t=$l(),n=kl(0),i=kl(0),o={data:[],typing:!1,beforeChange:()=>{jA(e,n,t)},add:(r,a)=>RA(e,o,i,n,t,r,a),dispatchChange:()=>{e.setDirty(!0),e.dispatch("change",{level:aA(e),lastLevel:Oe(o.data,i.get()).getOrUndefined()})},undo:()=>FA(e,o,n,i),redo:()=>BA(e,i,o.data),clear:()=>{HA(e,o,i)},reset:()=>{zA(e,o)},hasUndo:()=>qA(e,o,i),hasRedo:()=>UA(e,o,i),transact:t=>WA(e,o,n,t),ignore:t=>{VA(e,n,t)},extra:(t,n)=>{YA(e,o,i,t,n)}};return PA(e)||vI(e,o,n),bI(e),o},wI=[9,27,Og.HOME,Og.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Og.DOWN,Og.UP,Og.LEFT,Og.RIGHT].concat(mn.browser.isFirefox()?[224]:[]),_I="data-mce-placeholder",CI=e=>"keydown"===e.type||"keyup"===e.type,xI=e=>{const t=e.keyCode;return t===Og.BACKSPACE||t===Og.DELETE},kI=e=>{if(CI(e)){const t=e.keyCode;return!xI(e)&&(Og.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ue(wI,t))}return!1},SI=e=>CI(e)&&!(xI(e)||"keyup"===e.type&&229===e.keyCode),EI=(e,t,n)=>{if(ss(gi.fromDom(t),!1)){const i=t.firstElementChild;return!i||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===i.nodeName.toLowerCase()}return!1},TI=e=>{const t=e.dom,n=ld(e),i=jd(e),o=(r,a)=>{if(kI(r))return;const s=e.getBody(),l=!SI(r)&&EI(t,s,n);(""!==t.getAttrib(s,_I)!==l||a)&&(t.setAttrib(s,_I,l?i:null),t.setAttrib(s,"aria-placeholder",l?i:null),mg(e,l),e.on(l?"keydown":"keyup",o),e.off(l?"keyup":"keydown",o))};i&&e.on("init",(t=>{o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",(t=>Ob.setEditorTimeout(e,(()=>o(t)))))}))},AI=(e,t)=>({block:e,position:t}),OI=(e,t)=>({from:e,to:t}),DI=(e,t)=>{const n=gi.fromDom(e),i=gi.fromDom(t.container());return F_(n,i).map((e=>AI(e,t)))},II=e=>!1===Ci(e.from.block,e.to.block),PI=e=>Ai(e.from.block).bind((t=>Ai(e.to.block).filter((e=>Ci(t,e))))).isSome(),NI=e=>!1===cr(e.from.block.dom)&&!1===cr(e.to.block.dom),MI=(e,t,n)=>ar(n.position.getNode())&&!1===ss(n.block)?of(!1,n.block.dom).bind((i=>i.isEqual(n.position)?ef(t,e,i).bind((t=>DI(e,t))):oe.some(n))).getOr(n):n,LI=(e,t,n)=>{const i=DI(e,Qc.fromRangeStart(n)),o=i.bind((n=>ef(t,e,n.position).bind((n=>DI(e,n).map((n=>MI(e,t,n)))))));return En(i,o,OI).filter((e=>II(e)&&PI(e)&&NI(e)))},$I=(e,t,n)=>n.collapsed?LI(e,t,n):oe.none(),jI=e=>{const t=$i(e);return _e(t,Br).fold(G(t),(e=>t.slice(0,e)))},RI=e=>{const t=jI(e);return pe(t,vo),t},FI=(e,t)=>{const n=fw(t,e);return we(n.reverse(),(e=>ss(e))).each(vo)},BI=e=>0===ge(Mi(e),(e=>!ss(e))).length,HI=(e,t,n,i)=>{if(ss(n))return ha(n),sf(n.dom);BI(i)&&ss(t)&&lo(i,gi.fromTag("br"));const o=af(n.dom,Qc.before(i.dom));return pe(RI(t),(e=>{lo(i,e)})),FI(e,t),o},zI=(e,t,n)=>{if(ss(n))return vo(n),ss(t)&&ha(t),sf(t.dom);const i=lf(n.dom);return pe(RI(t),(e=>{ho(n,e)})),FI(e,t),i},qI=(e,t)=>{const n=fw(t,e);return oe.from(n[n.length-1])},UI=(e,t)=>xi(t,e)?qI(t,e):oe.none(),WI=(e,t)=>{of(e,t.dom).map((e=>e.getNode())).map(gi.fromDom).filter(qr).each(vo)},VI=(t,n,i)=>(WI(!0,n),WI(!1,i),UI(n,i).fold(e(zI,t,n,i),e(HI,t,n,i))),YI=(e,t,n,i)=>t?VI(e,i,n):VI(e,n,i),KI=(e,t)=>{const n=gi.fromDom(e.getBody()),i=$I(n.dom,t,e.selection.getRng()).map((i=>()=>{YI(n,t,i.from.block,i.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return i},GI=(e,t)=>{const n=t.getRng();return En(F_(e,gi.fromDom(n.startContainer)),F_(e,gi.fromDom(n.endContainer)),((i,o)=>!1===Ci(i,o)?oe.some((()=>{n.deleteContents(),YI(e,!0,i,o).each((e=>{t.setRng(e.toRange())}))})):oe.none())).getOr(oe.none())},QI=(t,n)=>{const i=gi.fromDom(n),o=e(Ci,t);return br(i,Kr,o).isSome()},XI=(e,t)=>QI(e,t.startContainer)||QI(e,t.endContainer),ZI=(e,t)=>{const n=af(e.dom,Qc.fromRangeStart(t)).isNone(),i=rf(e.dom,Qc.fromRangeEnd(t)).isNone();return!XI(e,t)&&n&&i},JI=e=>oe.some((()=>{e.setContent(""),e.selection.setCursorLocation()})),eP=e=>{const t=gi.fromDom(e.getBody()),n=e.selection.getRng();return ZI(t,n)?JI(e):GI(t,e.selection)},tP=e=>e.selection.isCollapsed()?oe.none():eP(e),nP=lr,iP=cr,oP=(e,t,n,i,o)=>oe.from(t._selectionOverrides.showCaret(e,n,i,o)),rP=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},aP=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?oe.none():oe.some(rP(t)),sP=(e,t,n)=>{const i=Ep(1,e.getBody(),t),o=Qc.fromRangeStart(i),r=o.getNode();if(ip(r))return oP(1,e,r,!o.isAtEnd(),!1);const a=o.getNode(!0);if(ip(a))return oP(1,e,a,!1,!1);const s=e.dom.getParent(o.getNode(),(e=>iP(e)||nP(e)));return ip(s)?oP(1,e,s,!1,n):oe.none()},lP=(e,t,n)=>t.collapsed?sP(e,t,n).getOr(t):t,cP=e=>cw(e)||rw(e),uP=e=>uw(e)||aw(e),dP=(e,t)=>{er(t)&&0===t.data.length&&e.remove(t)},hP=(e,t,n,i,o,r)=>{oP(i,e,r.getNode(!o),o,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();o?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),dP(e.dom,n)},pP=(t,n)=>{const i=t.selection.getRng();if(!er(i.commonAncestorContainer))return oe.none();const o=n?Np.Forwards:Np.Backwards,r=Vp(t.getBody()),a=e(Ip,n?r.next:r.prev),s=n?cP:uP,l=Ap(o,t.getBody(),i),c=I_(n,a(l));if(!c||!Pp(l,c))return oe.none();if(s(c))return oe.some((()=>hP(t,i,l.getNode(),o,n,c)));const u=a(c);return u&&s(u)&&Pp(c,u)?oe.some((()=>hP(t,i,l.getNode(),o,n,u))):oe.none()},fP=(e,t)=>pP(e,t),mP=(e,t)=>{const n=e.getBody();return t?sf(n).filter(cw):lf(n).filter(uw)},gP=e=>{const t=e.selection.getRng();return!t.collapsed&&(mP(e,!0).exists((e=>e.isEqual(Qc.fromRangeStart(t))))||mP(e,!1).exists((e=>e.isEqual(Qc.fromRangeEnd(t)))))},vP=e=>Kr(gi.fromDom(e))||Vr(gi.fromDom(e)),bP=$u.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),yP=(e,t)=>{const n=t.getNode(!1===e),i=e?"after":"before";return Uo(n)&&n.getAttribute("data-mce-caret")===i},wP=(e,t,n,i)=>{const o=t=>zr(gi.fromDom(t))&&!yp(n,i,e);return Tp(!t,n).fold((()=>Tp(t,i).fold(ne,o)),o)},_P=(e,t,n,i)=>{const o=i.getNode(!1===t);return F_(gi.fromDom(e),gi.fromDom(n.getNode())).map((e=>ss(e)?bP.remove(e.dom):bP.moveToElement(o))).orThunk((()=>oe.some(bP.moveToElement(o))))},CP=(e,t,n)=>ef(t,e,n).bind((i=>vP(i.getNode())||wP(e,t,n,i)?oe.none():t&&cr(i.getNode())||!1===t&&cr(i.getNode(!0))?_P(e,t,n,i):t&&uw(n)||!1===t&&cw(n)?oe.some(bP.moveToPosition(i)):oe.none())),xP=(e,t)=>e&&cr(t.nextSibling)?oe.some(bP.moveToElement(t.nextSibling)):!1===e&&cr(t.previousSibling)?oe.some(bP.moveToElement(t.previousSibling)):oe.none(),kP=(e,t,n)=>n.fold((e=>oe.some(bP.remove(e))),(e=>oe.some(bP.moveToElement(e))),(n=>yp(t,n,e)?oe.none():oe.some(bP.moveToPosition(n)))),SP=(e,t,n)=>yP(t,n)?xP(t,n.getNode(!1===t)).fold((()=>CP(e,t,n)),oe.some):CP(e,t,n).bind((t=>kP(e,n,t))),EP=(e,t,n)=>{const i=Ep(t?1:-1,e,n),o=Qc.fromRangeStart(i),r=gi.fromDom(e);return!1===t&&uw(o)?oe.some(bP.remove(o.getNode(!0))):t&&cw(o)?oe.some(bP.remove(o.getNode())):!1===t&&cw(o)&&Ew(r,o)?Tw(r,o).map((e=>bP.remove(e.getNode()))):t&&uw(o)&&Sw(r,o)?Aw(r,o).map((e=>bP.remove(e.getNode()))):SP(e,t,o)},TP=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),C_(e,t,gi.fromDom(n)),!0),AP=(e,t)=>n=>{const i=t?Qc.before(n):Qc.after(n);return e.selection.setRng(i.toRange()),!0},OP=e=>t=>(e.selection.setRng(t.toRange()),!0),DP=(e,t)=>oe.from(FC(e.getBody(),t)),IP=(e,t)=>{const n=e.selection.getNode();return DP(e,n).filter(cr).fold((()=>EP(e.getBody(),t,e.selection.getRng()).map((n=>()=>n.fold(TP(e,t),AP(e,t),OP(e))))),(()=>oe.some(V)))},PP=e=>{pe(oa(e,".mce-offscreen-selection"),vo)},NP=(e,t)=>{const n=e.selection.getNode();if(cr(n)&&!ur(n)){return DP(e,n.parentNode).filter(cr).fold((()=>oe.some((()=>{PP(gi.fromDom(e.getBody())),C_(e,t,gi.fromDom(e.selection.getNode())),B_(e)}))),(()=>oe.some(V)))}return gP(e)?oe.some((()=>{q_(e,e.selection.getRng(),gi.fromDom(e.getBody()))})):oe.none()},MP=e=>{const t=e.dom,n=e.selection,i=FC(e.getBody(),n.getNode());if(lr(i)&&t.isBlock(i)&&t.isEmpty(i)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(e),n.setRng(Qc.before(e).toRange())}return!0},LP=(e,t)=>e.selection.isCollapsed()?IP(e,t):NP(e,t),$P=(e,t)=>{const n=Qc.fromRangeStart(e.selection.getRng());return ef(t,e.getBody(),n).filter((e=>t?iw(e):ow(e))).bind((e=>oe.from(wp(t?0:-1,e)))).map((t=>()=>e.selection.select(t)))},jP=(e,t)=>e.selection.isCollapsed()?$P(e,t):oe.none(),RP=er,FP=e=>RP(e)&&e.data[0]===fa,BP=e=>RP(e)&&e.data[e.data.length-1]===fa,HP=e=>e.ownerDocument.createTextNode(fa),zP=e=>{if(RP(e.previousSibling))return BP(e.previousSibling)||e.previousSibling.appendData(fa),e.previousSibling;if(RP(e))return FP(e)||e.insertData(0,fa),e;{const t=HP(e);return e.parentNode.insertBefore(t,e),t}},qP=e=>{if(RP(e.nextSibling))return FP(e.nextSibling)||e.nextSibling.insertData(0,fa),e.nextSibling;if(RP(e))return BP(e)||e.appendData(fa),e;{const t=HP(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}},UP=(e,t)=>e?zP(t):qP(t),WP=e(UP,!0),VP=e(UP,!1),YP=(e,t)=>er(e.container())?UP(t,e.container()):UP(t,e.getNode()),KP=(e,t)=>{const n=t.get();return n&&e.container()===n&&wa(n)},GP=(e,t)=>t.fold((t=>{Kh(e.get());const n=WP(t);return e.set(n),oe.some(Qc(n,n.length-1))}),(t=>sf(t).map((t=>{if(KP(t,e))return Qc(e.get(),1);{Kh(e.get());const n=YP(t,!0);return e.set(n),Qc(n,1)}}))),(t=>lf(t).map((t=>{if(KP(t,e))return Qc(e.get(),e.get().length-1);{Kh(e.get());const n=YP(t,!1);return e.set(n),Qc(n,n.length-1)}}))),(t=>{Kh(e.get());const n=VP(t);return e.set(n),oe.some(Qc(n,1))})),QP=(e,t)=>{for(let n=0;n<e.length;n++){const i=e[n].apply(null,t);if(i.isSome())return i}return oe.none()},XP=$u.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ZP=(e,t)=>{const n=bp(t,e);return n||e},JP=(t,n,i)=>{const o=P_(i),r=ZP(n,o.container());return A_(t,r,o).fold((()=>rf(r,o).bind(e(A_,t,r)).map((e=>XP.before(e)))),oe.none)},eN=(e,t)=>null===df(e,t),tN=(t,n,i)=>A_(t,n,i).filter(e(eN,n)),nN=(e,t,n)=>{const i=N_(n);return tN(e,t,i).bind((e=>af(e,i).isNone()?oe.some(XP.start(e)):oe.none()))},iN=(e,t,n)=>{const i=P_(n);return tN(e,t,i).bind((e=>rf(e,i).isNone()?oe.some(XP.end(e)):oe.none()))},oN=(t,n,i)=>{const o=N_(i),r=ZP(n,o.container());return A_(t,r,o).fold((()=>af(r,o).bind(e(A_,t,r)).map((e=>XP.after(e)))),oe.none)},rN=e=>!1===E_(sN(e)),aN=(e,t,n)=>QP([JP,nN,iN,oN],[e,t,n]).filter(rN),sN=e=>e.fold(Q,Q,Q,Q),lN=e=>e.fold(G("before"),G("start"),G("end"),G("after")),cN=e=>e.fold(XP.before,XP.before,XP.after,XP.after),uN=e=>e.fold(XP.start,XP.start,XP.end,XP.end),dN=(e,t)=>lN(e)===lN(t)&&sN(e)===sN(t),hN=(e,t,n,i,o,r)=>En(A_(t,n,i),A_(t,n,o),((t,i)=>t!==i&&O_(n,t,i)?XP.after(e?t:i):r)).getOr(r),pN=(e,t)=>e.fold(ie,(e=>!dN(e,t))),fN=(t,n,i,o,r)=>{const a=I_(t,r);return ef(t,i,a).map(e(I_,t)).fold((()=>o.map(cN)),(r=>aN(n,i,r).map(e(hN,t,n,i,a,r)).filter(e(pN,o)))).filter(rN)},mN=(e,t)=>e?t.fold(Y(oe.some,XP.start),oe.none,Y(oe.some,XP.after),oe.none):t.fold(oe.none,Y(oe.some,XP.before),oe.none,Y(oe.some,XP.end)),gN=(t,n,i,o)=>{const r=I_(t,o),a=aN(n,i,r);return aN(n,i,r).bind(e(mN,t)).orThunk((()=>fN(t,n,i,a,o)))},vN=e=>q(e.selection.getSel().modify),bN=(e,t,n)=>{const i=e?1:-1;return t.setRng(Qc(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},yN=(e,t)=>{const n=t.selection.getRng(),i=e?Qc.fromRangeEnd(n):Qc.fromRangeStart(n);return!!vN(t)&&(e&&ka(i)?bN(!0,t.selection,i):!(e||!Sa(i))&&bN(!1,t.selection,i))};var wN;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(wN||(wN={}));const _N=(e,t)=>e===Np.Backwards?Se(t):t,CN=(e,t,n)=>e===Np.Forwards?t.next(n):t.prev(n),xN=(e,t,n,i)=>ar(i.getNode(t===Np.Forwards))?wN.Br:!1===yp(n,i)?wN.Block:wN.Wrap,kN=(e,t,n,i)=>{const o=Vp(n);let r=i;const a=[];for(;r;){const i=CN(t,o,r);if(!i)break;if(ar(i.getNode(!1)))return t===Np.Forwards?{positions:_N(t,a).concat([i]),breakType:wN.Br,breakAt:oe.some(i)}:{positions:_N(t,a),breakType:wN.Br,breakAt:oe.some(i)};if(i.isVisible()){if(e(r,i)){const e=xN(n,t,r,i);return{positions:_N(t,a),breakType:e,breakAt:oe.some(i)}}a.push(i),r=i}else r=i}return{positions:_N(t,a),breakType:wN.Eol,breakAt:oe.none()}},SN=(e,t,n,i)=>t(n,i).breakAt.map((i=>{const o=t(n,i).positions;return e===Np.Backwards?o.concat(i):[i].concat(o)})).getOr([]),EN=(e,t)=>be(e,((e,n)=>e.fold((()=>oe.some(n)),(i=>En(De(i.getClientRects()),De(n.getClientRects()),((e,o)=>{const r=Math.abs(t-e.left);return Math.abs(t-o.left)<=r?n:i
})).or(e)))),oe.none()),TN=(e,t)=>De(t.getClientRects()).bind((t=>EN(e,t.left))),AN=e(kN,Qc.isAbove,-1),ON=e(kN,Qc.isBelow,1),DN=e(SN,-1,AN),IN=e(SN,1,ON),PN=(e,t)=>AN(e,t).breakAt.isNone(),NN=(e,t)=>ON(e,t).breakAt.isNone(),MN=e=>sf(e).map((t=>[t].concat(ON(e,t).positions))).getOr([]),LN=e=>lf(e).map((t=>AN(e,t).positions.concat(t))).getOr([]),$N=(e,t)=>TN(DN(e,t),t),jN=(e,t)=>TN(IN(e,t),t),RN=cr,FN=(e,t)=>Math.abs(e.left-t),BN=(e,t)=>Math.abs(e.right-t),HN=e=>Ke(e,"node"),zN=(e,t)=>it(e,((e,n)=>{const i=Math.min(FN(e,t),BN(e,t)),o=Math.min(FN(n,t),BN(n,t));return o===i&&HN(n)&&RN(n.node)||o<i?n:e})),qN=e=>{const t=t=>he(t,(t=>{const n=hc(t);return n.node=e,n}));if(Uo(e))return t(e.getClientRects());if(er(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},UN=e=>xe(e,qN);var WN;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(WN||(WN={}));const VN=(e,t,n,i)=>{for(;i=gp(i,e,Va,t);)if(n(i))return},YN=(e,t,n,i,o,r)=>{let a=0;const s=[],l=i=>{let r=UN([i]);-1===e&&(r=r.reverse());for(let e=0;e<r.length;e++){const i=r[e];if(!n(i,c)){if(s.length>0&&t(i,rt(s))&&a++,i.line=a,o(i))return!0;s.push(i)}}},c=rt(r.getClientRects());if(!c)return s;const u=r.getNode();return l(u),VN(e,i,l,u),s},KN=(e,t)=>t.line>e,GN=(e,t)=>t.line===e,QN=e(YN,WN.Up,gc,vc),XN=e(YN,WN.Down,vc,gc),ZN=(e,t,n,i)=>{const o=Vp(t);let r,a,s,l;const c=[];let u=0;const d=e=>rt(e.getClientRects());1===e?(r=o.next,a=vc,s=gc,l=Qc.after(i)):(r=o.prev,a=gc,s=vc,l=Qc.before(i));const h=d(l);do{if(!l.isVisible())continue;const e=d(l);if(s(e,h))continue;c.length>0&&a(e,rt(c))&&u++;const t=hc(e);if(t.position=l,t.line=u,n(t))return c;c.push(t)}while(l=r(l));return c},JN=e=>t=>KN(e,t),eM=e=>t=>GN(e,t),tM=(e,t)=>{e.selection.setRng(t),lb(e,e.selection.getRng())},nM=(e,t,n)=>oe.some(lP(e,t,n)),iM=(t,n,i,o,r,a)=>{const s=n===Np.Forwards,l=Vp(t.getBody()),c=e(Ip,s?l.next:l.prev),u=s?o:r;if(!i.collapsed){const e=xc(i);if(a(e))return oP(n,t,e,n===Np.Backwards,!1);if(gP(t)){const e=i.cloneRange();return e.collapse(n===Np.Backwards),oe.from(e)}}const d=Ap(n,t.getBody(),i);if(u(d))return aP(t,d.getNode(!s));const h=I_(s,c(d)),p=Ia(i);if(!h)return p?oe.some(i):oe.none();if(u(h))return oP(n,t,h.getNode(!s),s,!1);const f=c(h);return f&&u(f)&&Pp(h,f)?oP(n,t,f.getNode(!s),s,!1):p?nM(t,h.toRange(),!1):oe.none()},oM=(e,t,n,i,o,r)=>{const a=Ap(t,e.getBody(),n),s=rt(a.getClientRects()),l=t===WN.Down,c=e.getBody();if(!s)return oe.none();if(gP(e)){const e=l?Qc.fromRangeEnd(n):Qc.fromRangeStart(n);return(l?jN:$N)(c,e).orThunk((()=>oe.from(e))).map((e=>e.toRange()))}const u=(l?XN:QN)(c,JN(1),a),d=ge(u,eM(1)),h=s.left,p=zN(d,h);if(p&&r(p.node)){const n=Math.abs(h-p.left),i=Math.abs(h-p.right);return oP(t,e,p.node,n<i,!1)}let f;if(f=i(a)?a.getNode():o(a)?a.getNode(!0):xc(n),f){const n=ZN(t,c,JN(1),f);let i=zN(ge(n,eM(1)),h);if(i)return nM(e,i.position.toRange(),!1);if(i=rt(ge(n,eM(0))),i)return nM(e,i.position.toRange(),!1)}return 0===d.length?rM(e,l).filter(l?o:i).map((t=>lP(e,t.toRange(),!1))):oe.none()},rM=(e,t)=>{const n=e.selection.getRng(),i=t?Qc.fromRangeEnd(n):Qc.fromRangeStart(n),o=vp(i.container(),e.getBody());if(t){const e=ON(o,i);return Ie(e.positions)}{const e=AN(o,i);return De(e.positions)}},aM=(e,t,n)=>rM(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),sM=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},lM=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},cM=(e,t,n)=>GP(t,n).map((t=>(sM(e,t),n))),uM=(e,t,n)=>{const i=Qc.fromRangeStart(e);if(e.collapsed)return i;{const o=Qc.fromRangeEnd(e);return n?af(t,o).getOr(o):rf(t,i).getOr(i)}},dM=(t,n,i)=>{const o=t.getBody(),r=uM(t.selection.getRng(),o,i),a=e(S_,t);return gN(i,a,o,r).bind((e=>cM(t,n,e)))},hM=(t,n,i)=>{const o=he(oa(gi.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),r=ge(o,t),a=ge(i,t);pe(Ee(r,a),e(lM,!1)),pe(Ee(a,r),e(lM,!0))},pM=(e,t)=>{if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){const n=Qc.fromRangeStart(e.selection.getRng());Qc.isTextPosition(n)&&!1===D_(n)&&(sM(e,Yh(t.get(),n)),t.set(null))}},fM=(e,t,n,i)=>{if(t.selection.isCollapsed()){const o=ge(i,e);pe(o,(()=>{const i=Qc.fromRangeStart(t.selection.getRng());aN(e,t.getBody(),i).bind((e=>cM(t,n,e)))}))}},mM=(e,t,n)=>!!Ud(e)&&dM(e,t,n).isSome(),gM=(e,t)=>!!Ud(t)&&yN(e,t),vM=t=>{const n=kl(null),i=e(S_,t);return t.on("NodeChange",(e=>{Ud(t)&&(hM(i,t.dom,e.parents),pM(t,n),fM(i,t,n,e.parents))})),n},bM=e(gM,!0),yM=e(gM,!1),wM=(t,n,i)=>{if(Ud(t)){const o=rM(t,n).getOrThunk((()=>{const e=t.selection.getRng();return n?Qc.fromRangeEnd(e):Qc.fromRangeStart(e)}));return aN(e(S_,t),t.getBody(),o).exists((e=>{const n=cN(e);return GP(i,n).exists((e=>(sM(t,e),!0)))}))}return!1},_M=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},CM=e=>En(sf(e),lf(e),((t,n)=>{const i=I_(!0,t),o=I_(!1,n);return rf(e,i).forall((e=>e.isEqual(o)))})).getOr(!0),xM=(e,t)=>n=>GP(t,n).map((t=>()=>sM(e,t))),kM=(t,n,i,o)=>{const r=t.getBody(),a=e(S_,t);t.undoManager.ignore((()=>{t.selection.setRng(_M(i,o)),L_(t),aN(a,r,Qc.fromRangeStart(t.selection.getRng())).map(uN).bind(xM(t,n)).each(te)})),t.nodeChanged()},SM=(e,t)=>{const n=bp(t,e);return n||e},EM=(t,n,i,o)=>{const r=SM(t.getBody(),o.container()),a=e(S_,t),s=aN(a,r,o);return s.bind((e=>i?e.fold(G(oe.some(uN(e))),oe.none,G(oe.some(cN(e))),oe.none):e.fold(oe.none,G(oe.some(cN(e))),oe.none,G(oe.some(uN(e)))))).map(xM(t,n)).getOrThunk((()=>{const e=tf(i,r,o),l=e.bind((e=>aN(a,r,e)));return En(s,l,(()=>A_(a,r,o).bind((e=>CM(e)?oe.some((()=>{C_(t,i,gi.fromDom(e))})):oe.none())))).getOrThunk((()=>l.bind((()=>e.map((e=>()=>{i?kM(t,n,o,e):kM(t,n,e,o)}))))))}))},TM=(e,t,n)=>{if(e.selection.isCollapsed()&&Ud(e)){const i=Qc.fromRangeStart(e.selection.getRng());return EM(e,t,n,i)}return oe.none()},AM=(e,t)=>{const n=fw(t,e);return _e(n,Br).fold(G(n),(e=>n.slice(0,e)))},OM=e=>1===Bi(e),DM=(t,n,i,o)=>{const r=e(xk,n),a=he(ge(o,r),(e=>e.dom));if(0===a.length)C_(n,t,i);else{const e=Ck(i.dom,a);n.selection.setRng(e.toRange())}},IM=(e,t)=>{const n=gi.fromDom(e.getBody()),i=gi.fromDom(e.selection.getStart()),o=ge(AM(n,i),OM);return Ie(o).bind((n=>{const i=Qc.fromRangeStart(e.selection.getRng());return H_(t,i,n.dom)&&!kk(n)?oe.some((()=>DM(t,e,n,o))):oe.none()}))},PM=(e,t)=>e.selection.isCollapsed()?IM(e,t):oe.none(),NM=(e,t,n)=>oe.some((()=>{e._selectionOverrides.hideFakeCaret(),C_(e,t,gi.fromDom(n))})),MM=(e,t)=>{const n=t?rw:aw,i=t?Np.Forwards:Np.Backwards,o=Ap(i,e.getBody(),e.selection.getRng());return n(o)?NM(e,t,o.getNode(!t)):oe.from(I_(t,o)).filter((e=>n(e)&&Pp(o,e))).map((n=>()=>NM(e,t,n.getNode(!t))))},LM=(e,t)=>{const n=e.selection.getNode();return dr(n)?NM(e,t,n):oe.none()},$M=(e,t)=>e.selection.isCollapsed()?MM(e,t):LM(e,t),jM=e=>yr(e,(e=>lr(e.dom)||cr(e.dom))).exists((e=>lr(e.dom))),RM=e=>{const t=parseInt(e,10);return isNaN(t)?0:t},FM=(e,t)=>(e||Hr(t)?"margin":"padding")+("rtl"===no(t,"direction")?"-right":"-left"),BM=(e,t,n,i,o,r)=>{const a=FM(n,gi.fromDom(r));if("outdent"===t){const t=Math.max(0,RM(r.style[a])-i);e.setStyle(r,a,t?t+o:"")}else{const t=RM(r.style[a])+i+o;e.setStyle(r,a,t)}},HM=(e,t)=>ke(t,(t=>{const n=FM(Ad(e),t),i=oo(t,n).map(RM).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&i>0})),zM=e=>{const t=WM(e);return!e.mode.isReadOnly()&&(t.length>1||HM(e,t))},qM=e=>Wr(e)||Vr(e),UM=e=>Ai(e).exists(qM),WM=e=>ge(wo(e.selection.getSelectedBlocks()),(e=>!qM(e)&&!UM(e)&&jM(e))),VM=(e,t)=>{const{dom:n}=e,i=Od(e),o=/[a-z%]+$/i.exec(i)[0],r=parseInt(i,10),a=Ad(e);pe(WM(e),(e=>{BM(n,t,a,r,o,e.dom)}))},YM=e=>VM(e,"indent"),KM=e=>VM(e,"outdent"),GM=e=>{if(e.selection.isCollapsed()&&zM(e)){const t=e.dom,n=e.selection.getRng(),i=Qc.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&yw(gi.fromDom(o),i))return oe.some((()=>KM(e)))}return oe.none()},QM=(e,t,n)=>Ne([GM,LP,fP,(e,n)=>TM(e,t,n),KI,RC,jP,$M,tP,PM],(t=>t(e,n))),XM=(e,t)=>{QM(e,t,!1).fold((()=>{L_(e),B_(e)}),te)},ZM=(e,t)=>{QM(e,t,!0).fold((()=>$_(e)),te)},JM=(e,t)=>{e.addCommand("delete",(()=>{XM(e,t)})),e.addCommand("forwardDelete",(()=>{ZM(e,t)}))},eL=5,tL=400,nL=e=>void 0===e.touches||1!==e.touches.length?oe.none():oe.some(e.touches[0]),iL=(e,t)=>{const n=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return n>eL||i>eL},oL=e=>{const t=$l(),n=kl(!1),i=Rl((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),tL);e.on("touchstart",(e=>{nL(e).each((o=>{i.cancel();const r={x:o.clientX,y:o.clientY,target:e.target};i.throttle(e),n.set(!1),t.set(r)}))}),!0),e.on("touchmove",(o=>{i.cancel(),nL(o).each((i=>{t.on((o=>{iL(i,o)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(o=>{i.cancel(),"touchcancel"!==o.type&&t.get().filter((e=>e.target.isEqualNode(o.target))).each((()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})}))}),!0)},rL=(e,t)=>Ye(e,t.nodeName),aL=(e,t)=>!!er(t)||!!Uo(t)&&(!rL(e,t)&&!Nf(t)),sL=(e,t,n)=>de(pw(gi.fromDom(n),gi.fromDom(t)),(t=>rL(e,t.dom))),lL=(e,t)=>{if(er(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||rL(e,t.nextSibling)))return!0}return!1},cL=e=>e.dom.create(ld(e),cd(e)),uL=e=>{const t=e.dom,n=e.selection,i=e.schema,o=i.getBlockElements();let r=n.getStart();const a=e.getBody();let s,l,c;const u=ld(e);if(!r||!Uo(r))return;const d=a.nodeName.toLowerCase();if(!i.isValidChild(d,u.toLowerCase())||sL(o,a,r))return;const h=n.getRng(),p=h.startContainer,f=h.startOffset,m=h.endContainer,g=h.endOffset,v=Jb(e);for(r=a.firstChild;r;)if(aL(o,r)){if(lL(o,r)){l=r,r=r.nextSibling,t.remove(l);continue}s||(s=cL(e),r.parentNode.insertBefore(s,r),c=!0),l=r,r=r.nextSibling,s.appendChild(l)}else s=null,r=r.nextSibling;c&&v&&(h.setStart(p,f),h.setEnd(m,g),n.setRng(h),e.nodeChanged())},dL=(e,t,n)=>{const i=gi.fromDom(cL(e)),o=da();ho(i,o),n(t,i);const r=document.createRange();return r.setStartBefore(o.dom),r.setEndBefore(o.dom),r},hL=t=>{t.on("NodeChange",e(uL,t))},pL=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),fL=(e,t,n)=>function(i){const o=arguments,r=o[o.length-2],a=r>0?t.charAt(r-1):"";if('"'===a)return i;if(">"===a){const e=t.lastIndexOf("<",r);if(-1!==e){if(-1!==t.substring(e,r).indexOf('contenteditable="false"'))return i}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},mL=(e,t,n)=>{let i=t.length,o=n.content;if("raw"!==n.format){for(;i--;)o=o.replace(t[i],fL(e,o,Oh(e)));n.content=o}},gL=e=>{const t="contenteditable",n=" "+xn.trim(Dh(e))+" ",i=" "+xn.trim(Oh(e))+" ",o=pL(n),r=pL(i),a=Ih(e);a.length>0&&e.on("BeforeSetContent",(t=>{mL(e,a,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const i=e[n];o(i)?i.attr(t,"true"):r(i)&&i.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const i=e[n];(o(i)||r(i))&&(a.length>0&&i.attr("data-mce-content")?(i.name="#text",i.type=3,i.raw=!0,i.value=i.attr("data-mce-content")):i.attr(t,null))}}))},vL=e=>kr(gi.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull(),bL=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Da(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},yL=(e,t)=>{const n=vL(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void bL(e,n)):void(Ca(n)&&(bL(e,n),e.undoManager.add()))},wL=t=>{t.on("keyup compositionstart",e(yL,t))},_L=cr,CL=(e,t,n)=>iM(t,e,n,cw,uw,_L),xL=(e,t,n)=>oM(t,e,n,(e=>cw(e)||sw(e)),(e=>uw(e)||lw(e)),_L),kL=e=>{const t=e.dom.create(ld(e));return t.innerHTML='<br data-mce-bogus="1">',t},SL=(t,n,i)=>{const o=Vp(t.getBody()),r=e(Ip,1===n?o.next:o.prev);if(i.collapsed){const e=t.dom.getParent(i.startContainer,"PRE");if(!e)return;if(!r(Qc.fromRangeStart(i))){const i=gi.fromDom(kL(t));1===n?co(gi.fromDom(e),i):lo(gi.fromDom(e),i),t.selection.select(i.dom,!0),t.selection.collapse()}}},EL=(e,t)=>{const n=t?Np.Forwards:Np.Backwards,i=e.selection.getRng();return CL(n,e,i).orThunk((()=>(SL(e,n,i),oe.none())))},TL=(e,t)=>{const n=t?1:-1,i=e.selection.getRng();return xL(n,e,i).orThunk((()=>(SL(e,n,i),oe.none())))},AL=(e,t)=>EL(e,t).exists((t=>(tM(e,t),!0))),OL=(e,t)=>TL(e,t).exists((t=>(tM(e,t),!0))),DL=(e,t)=>aM(e,t,t?uw:cw),IL=(e,t)=>mP(e,!t).map((n=>{const i=n.toRange(),o=e.selection.getRng();return t?i.setStart(o.startContainer,o.startOffset):i.setEnd(o.endContainer,o.endOffset),i})).exists((t=>(tM(e,t),!0))),PL=e=>ue(["figcaption"],Mn(e)),NL=(t,n)=>{const i=e(Ci,n);return yr(gi.fromDom(t.container()),Br,i).filter(PL)},ML=(e,t,n)=>t?NN(e.dom,n):PN(e.dom,n),LL=(e,t)=>{const n=gi.fromDom(e.getBody()),i=Qc.fromRangeStart(e.selection.getRng());return NL(i,n).exists((()=>{if(ML(n,t,i)){const i=dL(e,n,t?ho:uo);return e.selection.setRng(i),!0}return!1}))},$L=(e,t)=>!!e.selection.isCollapsed()&&LL(e,t),jL={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},RL=e=>he(e,(e=>({...jL,action:V,...e}))),FL=e=>he(e,(e=>({...jL,action:()=>oe.none(),...e}))),BL=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,HL=(e,t)=>xe(RL(e),(e=>BL(e,t)?[e]:[])),zL=(e,t)=>xe(FL(e),(e=>BL(e,t)?[e]:[])),qL=(e,...t)=>()=>e.apply(null,t),UL=(e,t)=>we(HL(e,t),(e=>e.action())),WL=(e,t)=>Ne(zL(e,t),(e=>e.action())),VL=(e,t)=>{const n=t?Np.Forwards:Np.Backwards,i=e.selection.getRng();return iM(e,n,i,rw,aw,dr).exists((t=>(tM(e,t),!0)))},YL=(e,t)=>{const n=t?1:-1,i=e.selection.getRng();return oM(e,n,i,rw,aw,dr).exists((t=>(tM(e,t),!0)))},KL=(e,t)=>aM(e,t,t?aw:rw),GL=$u.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),QL=e=>GL.none(e),XL={...GL,none:QL},ZL=(e,t)=>JL(e,t,ie),JL=(e,t,n)=>xe($i(e),(e=>bi(e,t)?n(e)?[e]:[]:JL(e,t,n))),e$=(e,t,n=ne)=>{if(n(t))return oe.none();if(ue(e,Mn(t)))return oe.some(t);const i=e=>bi(e,"table")||n(e);return xr(t,e.join(","),i)},t$=(e,t)=>e$(["td","th"],e,t),n$=e=>ZL(e,"th,td"),i$=(e,t)=>Sr(e,"table",t),o$=(e,t,n,i,o=ie)=>{const r=1===i;if(!r&&n<=0)return XL.first(e[0]);if(r&&n>=e.length-1)return XL.last(e[e.length-1]);{const r=n+i,a=e[r];return o(a)?XL.middle(t,a):o$(e,t,r,i,o)}},r$=(e,t)=>i$(e,t).bind((t=>{const n=n$(t);return _e(n,(t=>Ci(e,t))).map((e=>({index:e,all:n})))})),a$=(e,t,n)=>r$(e,n).fold((()=>XL.none(e)),(n=>o$(n.all,e,n.index,1,t))),s$=(e,t,n)=>r$(e,n).fold((()=>XL.none()),(n=>o$(n.all,e,n.index,-1,t))),l$=e=>Sr(e,"[contenteditable]"),c$=(e,t=!1)=>Xi(e)?e.dom.isContentEditable:l$(e).fold(G(t),(e=>"true"===u$(e))),u$=e=>e.dom.contentEditable,d$=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}),h$=(e,t)=>xe(t,(t=>{const n=d$(hc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})),p$=(e,t,n)=>be(e,((e,i)=>e.fold((()=>oe.some(i)),(e=>{const o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),r=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n));return oe.some(r<o?i:e)}))),oe.none()),f$=(e,t,n,i,o)=>{const r=oa(gi.fromDom(n),"td,th,caption").map((e=>e.dom)),a=ge(h$(e,r),(e=>t(e,o)));return p$(a,i,o).map((e=>e.cell))},m$=e=>e.top,g$=(e,t)=>e.y>t,v$=e(f$,(e=>e.bottom),((e,t)=>e.y<t)),b$=e(f$,m$,g$),y$=(e,t)=>De(t.getClientRects()).bind((t=>v$(e,t.left,t.top))).bind((e=>TN(LN(e),t))),w$=(e,t)=>Ie(t.getClientRects()).bind((t=>b$(e,t.left,t.top))).bind((e=>TN(MN(e),t))),_$=(e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())),C$=e=>e.breakType===wN.Wrap&&0===e.positions.length,x$=e=>e.breakType===wN.Br&&1===e.positions.length,k$=(e,t,n)=>{const i=e(t,n);return C$(i)||!ar(n.getNode())&&x$(i)?!_$(e,t,i):i.breakAt.isNone()},S$=e(k$,AN),E$=e(k$,ON),T$=(e,t,n)=>{const i=Qc.fromRangeStart(t);return of(!e,n).exists((e=>e.isEqual(i)))},A$=(e,t,n)=>{const i=e.selection.getRng(),o=t?1:-1;return!(!np()||!T$(t,i,n))&&(oP(o,e,n,!t,!1).each((t=>{tM(e,t)})),!0)},O$=(e,t,n)=>y$(t,n).orThunk((()=>De(n.getClientRects()).bind((n=>EN(DN(e,Qc.before(t)),n.left))))).getOr(Qc.before(t)),D$=(e,t,n)=>w$(t,n).orThunk((()=>De(n.getClientRects()).bind((n=>EN(IN(e,Qc.after(t)),n.left))))).getOr(Qc.after(t)),I$=(e,t)=>{const n=t.getNode(e);return Xo(n)?oe.some(n):oe.none()},P$=(e,t,n)=>{t.undoManager.transact((()=>{const i=e?co:lo,o=dL(t,gi.fromDom(n),i);tM(t,o)}))},N$=(e,t,n)=>{const i=I$(!!t,n),o=!1===t;i.fold((()=>tM(e,n.toRange())),(i=>of(o,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>tM(e,n.toRange())),(()=>P$(t,e,i)))))},M$=(e,t,n,i)=>{const o=e.selection.getRng(),r=Qc.fromRangeStart(o),a=e.getBody();if(!t&&S$(i,r)){const i=O$(a,n,r);return N$(e,t,i),!0}if(t&&E$(i,r)){const i=D$(a,n,r);return N$(e,t,i),!0}return!1},L$=(e,t,n)=>oe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((i=>oe.from(e.dom.getParent(i,"table")).map((o=>n(e,t,o,i))))).getOr(!1),$$=(e,t)=>L$(e,t,A$),j$=(e,t)=>L$(e,t,M$),R$=e=>{const t=av.exact(e,0,e,0);return hv(t)},F$=(e,t,n)=>n.fold(oe.none,oe.none,((e,t)=>gy(t).map((e=>R$(e)))),(n=>(e.execCommand("mceTableInsertRowAfter"),B$(e,t,n)))),B$=(e,t,n)=>F$(e,t,a$(n,c$)),H$=(e,t,n)=>F$(e,t,s$(n,c$)),z$=(e,t)=>{const n=["table","li","dl"],i=gi.fromDom(e.getBody()),o=e=>{const t=Mn(e);return Ci(e,i)||ue(n,t)},r=e.selection.getRng(),a=gi.fromDom(t?r.endContainer:r.startContainer);return t$(a,o).map((n=>{i$(n,o).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);return(t?B$:H$)(e,o,n).each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},q$=(e,t,n)=>{const i=mn.os.isMacOS()||mn.os.isiOS();UL([{keyCode:Og.RIGHT,action:qL(AL,e,!0)},{keyCode:Og.LEFT,action:qL(AL,e,!1)},{keyCode:Og.UP,action:qL(OL,e,!1)},{keyCode:Og.DOWN,action:qL(OL,e,!0)},...i?[{keyCode:Og.UP,action:qL(IL,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Og.DOWN,action:qL(IL,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Og.RIGHT,action:qL($$,e,!0)},{keyCode:Og.LEFT,action:qL($$,e,!1)},{keyCode:Og.UP,action:qL(j$,e,!1)},{keyCode:Og.DOWN,action:qL(j$,e,!0)},{keyCode:Og.RIGHT,action:qL(VL,e,!0)},{keyCode:Og.LEFT,action:qL(VL,e,!1)},{keyCode:Og.UP,action:qL(YL,e,!1)},{keyCode:Og.DOWN,action:qL(YL,e,!0)},{keyCode:Og.RIGHT,action:qL(mM,e,t,!0)},{keyCode:Og.LEFT,action:qL(mM,e,t,!1)},{keyCode:Og.RIGHT,ctrlKey:!i,altKey:i,action:qL(bM,e,t)},{keyCode:Og.LEFT,ctrlKey:!i,altKey:i,action:qL(yM,e,t)},{keyCode:Og.UP,action:qL($L,e,!1)},{keyCode:Og.DOWN,action:qL($L,e,!0)}],n).each((()=>{n.preventDefault()}))},U$=(e,t)=>{e.on("keydown",(n=>{!1===n.isDefaultPrevented()&&q$(e,t,n)}))},W$=(e,t)=>({container:e,offset:t}),V$=vl.DOM,Y$=e=>t=>e===t?-1:0,K$=e=>t=>e.isBlock(t)||ue(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t),G$=(e,t,n)=>{if(er(e)&&t>=0)return oe.some(W$(e,t));{const i=uc(V$);return oe.from(i.backwards(e,t,Y$(e),n)).map((e=>W$(e.container,e.container.data.length)))}},Q$=(e,t,n)=>{if(er(e)&&t>=e.length)return oe.some(W$(e,t));{const i=uc(V$);return oe.from(i.forwards(e,t,Y$(e),n)).map((e=>W$(e.container,0)))}},X$=(e,t,n)=>{if(!er(e))return oe.none();const i=e.textContent;if(t>=0&&t<=i.length)return oe.some(W$(e,t));{const i=uc(V$);return oe.from(i.backwards(e,t,Y$(e),n)).bind((e=>{const i=e.container.data;return X$(e.container,t+i.length,n)}))}},Z$=(e,t,n)=>{if(!er(e))return oe.none();const i=e.textContent;if(t<=i.length)return oe.some(W$(e,t));{const o=uc(V$);return oe.from(o.forwards(e,t,Y$(e),n)).bind((e=>Z$(e.container,t-i.length,n)))}},J$=(e,t,n,i,o)=>{const r=uc(e,K$(e));return oe.from(r.backwards(t,n,i,o))},ej=e=>e.collapsed&&3===e.startContainer.nodeType,tj=e=>e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,""),nj=e=>""!==e&&-1!==" \xa0\f\n\r\t\v".indexOf(e),ij=(e,t)=>e.substring(t.length),oj=(e,t,n)=>{let i;for(i=t-1;i>=0;i--){const t=e.charAt(i);if(nj(t))return oe.none();if(t===n)break}return oe.some(i)},rj=(e,t,n,i=0)=>{if(!ej(t))return oe.none();const o=(e,t,i)=>oj(i,t,n).getOr(t),r=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return J$(e,t.startContainer,t.startOffset,o,r).bind((e=>{const o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return oe.none();const r=tj(o);return 0!==r.lastIndexOf(n)||ij(r,n).length<i?oe.none():oe.some({text:ij(r,n),range:o,triggerChar:n})}))},aj=(e,t,n,i=0)=>_y(gi.fromDom(t.startContainer)).fold((()=>rj(e,t,n,i)),(t=>{const i=e.createRng();i.selectNode(t.dom);const o=tj(i);return oe.some({range:i,text:ij(o,n),triggerChar:n})})),sj=e=>e.nodeType===Nn,lj=e=>e.nodeType===Pn,cj=e=>{if(sj(e))return W$(e,e.data.length);{const t=e.childNodes;return t.length>0?cj(t[t.length-1]):W$(e,t.length)}},uj=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?uj(n[t],0):n.length>0&&lj(e)&&n.length===t?cj(n[n.length-1]):W$(e,t)},dj=(e,t)=>{const n=e.getParent(t.container,e.isBlock);return J$(e,t.container,t.offset,((e,t)=>0===t?-1:t),n).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!nj(t)})).isSome()},hj=e=>t=>{const n=uj(t.startContainer,t.startOffset);return!dj(e,n)},pj=(e,t,n)=>Ne(n.triggerChars,(n=>aj(e,t,n))),fj=(e,t)=>{const n=t(),i=e.selection.getRng();return pj(e.dom,i,n).bind((n=>mj(e,t,n)))},mj=(e,t,n,i={})=>{const o=t(),r=e.selection.getRng().startContainer.nodeValue,a=ge(o.lookupByChar(n.triggerChar),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>hj(e.dom)))(n.range,r,n.text)));if(0===a.length)return oe.none();const s=Promise.all(he(a,(e=>e.fetch(n.text,e.maxResults,i).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return oe.some({lookupData:s,context:n})};var gj;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(gj||(gj={}));const vj=(e,t,n)=>e.stype===gj.Error?t(e.serror):n(e.svalue),bj=e=>{const t=[],n=[];return pe(e,(e=>{vj(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},yj=e=>({stype:gj.Value,svalue:e}),wj=e=>({stype:gj.Error,serror:e}),_j={fromResult:e=>e.fold(wj,yj),toResult:e=>vj(e,Mu.error,Mu.value),svalue:yj,partition:bj,serror:wj,bind:(e,t)=>e.stype===gj.Value?t(e.svalue):e,bindError:(e,t)=>e.stype===gj.Error?t(e.serror):e,map:(e,t)=>e.stype===gj.Value?{stype:gj.Value,svalue:t(e.svalue)}:e,mapError:(e,t)=>e.stype===gj.Error?{stype:gj.Error,serror:t(e.serror)}:e,fold:vj},Cj=e=>L(e)&&Le(e).length>100?" removed due to size":JSON.stringify(e,null,2),xj=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):e;return he(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))},kj=(e,t)=>_j.serror([{path:e,getErrorInfo:t}]),Sj=(e,t,n)=>kj(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Cj(n))),Ej=(e,t)=>kj(e,(()=>'Choice schema did not contain choice key: "'+t+'"')),Tj=(e,t,n)=>kj(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+Cj(t))),Aj=(e,t)=>kj(e,G(t)),Oj=(e,t,n,i)=>Ve(n,i).fold((()=>Tj(e,n,i)),(n=>n.extract(e.concat(["branch: "+i]),t))),Dj=(e,t)=>({extract:(n,i)=>Ve(i,e).fold((()=>Ej(n,e)),(e=>Oj(n,i,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+Le(t)}),Ij=(e,t)=>t,Pj=(e,t)=>$(e)&&$(t)?Mj(e,t):t,Nj=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let i=0;i<t.length;i++){const o=t[i];for(const t in o)Ye(o,t)&&(n[t]=e(n[t],o[t]))}return n},Mj=Nj(Pj),Lj=Nj(Ij),$j=()=>({tag:"required",process:{}}),jj=e=>({tag:"defaultedThunk",process:e}),Rj=e=>jj(G(e)),Fj=()=>({tag:"option",process:{}}),Bj=(e,t)=>e.length>0?_j.svalue(Mj(t,Lj.apply(void 0,e))):_j.svalue(t),Hj=e=>Y(_j.serror,Ce)(e),zj=(e,t)=>{const n=_j.partition(e);return n.errors.length>0?Hj(n.errors):Bj(n.values,t)},qj={consolidateObj:zj,consolidateArr:e=>{const t=_j.partition(e);return t.errors.length>0?Hj(t.errors):_j.svalue(t.values)}},Uj=(e,t,n,i)=>({tag:"field",key:e,newKey:t,presence:n,prop:i}),Wj=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Vj=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Yj=e=>({extract:(t,n)=>_j.bindError(e(n),(e=>Aj(t,e))),toString:G("val")}),Kj=Yj(_j.svalue),Gj=(e,t,n,i)=>Ve(t,n).fold((()=>Sj(e,n,t)),i),Qj=(e,t,n,i)=>i(Ve(e,t).getOrThunk((()=>n(e)))),Xj=(e,t,n)=>n(Ve(e,t)),Zj=(e,t,n,i)=>i(Ve(e,t).map((t=>!0===t?n(e):t))),Jj=(e,t,n,i,o)=>{const r=e=>o.extract(t.concat([i]),e),a=e=>e.fold((()=>_j.svalue(oe.none())),(e=>{const n=o.extract(t.concat([i]),e);return _j.map(n,oe.some)}));switch(e.tag){case"required":return Gj(t,n,i,r);case"defaultedThunk":return Qj(n,i,e.process,r);case"option":return Xj(n,i,a);case"defaultedOptionThunk":return Zj(n,i,e.process,a);case"mergeWithThunk":return Qj(n,i,G({}),(t=>{const i=Mj(e.process(n),t);return r(i)}))}},eR=(e,t,n)=>{const i={},o=[];for(const r of n)Vj(r,((n,r,a,s)=>{const l=Jj(a,e,t,n,s);_j.fold(l,(e=>{o.push(...e)}),(e=>{i[r]=e}))}),((e,n)=>{i[e]=n(t)}));return o.length>0?_j.serror(o):_j.svalue(i)},tR=e=>{const t=()=>{const t=he(e,(e=>Vj(e,((e,t,n,i)=>e+" -> "+i.toString()),(e=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:(t,n)=>eR(t,n,e),toString:t}},nR=e=>({extract:(t,n)=>{const i=he(n,((n,i)=>e.extract(t.concat(["["+i+"]"]),n)));return qj.consolidateArr(i)},toString:()=>"array("+e.toString()+")"}),iR=e=>Yj((t=>e(t).fold(_j.serror,_j.svalue))),oR=(e,t,n)=>{const i=t.extract([e],n);return _j.mapError(i,(e=>({input:n,errors:e})))},rR=(e,t,n)=>_j.toResult(oR(e,t,n)),aR=e=>"Errors: \n"+xj(e.errors).join("\n")+"\n\nInput object: "+Cj(e.input),sR=(e,t)=>Dj(e,Re(t,tR)),lR=G(Kj),cR=(e,t)=>Yj((n=>{const i=typeof n;return e(n)?_j.svalue(n):_j.serror(`Expected type: ${t} but got: ${i}`)})),uR=cR(U,"number"),dR=cR(M,"string"),hR=cR(F,"boolean"),pR=cR(q,"function"),fR=Uj,mR=Wj,gR=e=>iR((t=>ue(e,t)?Mu.value(t):Mu.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),vR=(e,t)=>fR(e,e,$j(),t),bR=e=>vR(e,dR),yR=e=>vR(e,pR),wR=(e,t)=>fR(e,e,$j(),nR(t)),_R=(e,t)=>fR(e,e,Fj(),t),CR=e=>_R(e,dR),xR=e=>_R(e,pR),kR=(e,t)=>fR(e,e,Rj(t),lR()),SR=(e,t,n)=>fR(e,e,Rj(t),n),ER=(e,t)=>SR(e,t,uR),TR=(e,t)=>SR(e,t,dR),AR=(e,t,n)=>SR(e,t,gR(n)),OR=(e,t)=>SR(e,t,hR),DR=(e,t)=>SR(e,t,pR),IR=(e,t,n)=>SR(e,t,nR(n)),PR=bR("type"),NR=yR("fetch"),MR=yR("onAction"),LR=DR("onSetup",(()=>V)),$R=CR("text"),jR=CR("icon"),RR=CR("tooltip"),FR=CR("label"),BR=OR("active",!1),HR=OR("enabled",!0),zR=OR("primary",!1),qR=e=>kR("columns",e),UR=e=>TR("type",e),WR=tR([PR,bR("ch"),ER("minChars",1),qR(1),ER("maxResults",10),xR("matches"),NR,MR,IR("highlightOn",[],dR)]),VR=e=>rR("Autocompleter",WR,e),YR=[HR,RR,jR,$R,LR],KR=[BR].concat(YR),GR=[DR("predicate",ne),AR("scope","node",["node","editor"]),AR("position","selection",["node","selection","line"])],QR=YR.concat([UR("contextformbutton"),zR,MR,mR("original",Q)]),XR=KR.concat([UR("contextformbutton"),zR,MR,mR("original",Q)]),ZR=YR.concat([UR("contextformbutton")]),JR=KR.concat([UR("contextformtogglebutton")]),eF=sR("type",{contextformbutton:QR,contextformtogglebutton:XR});tR([UR("contextform"),DR("initValue",G("")),FR,wR("commands",eF),_R("launch",sR("type",{contextformbutton:ZR,contextformtogglebutton:JR}))].concat(GR));const tF=e=>{const t=e.ui.registry.getAll().popups,n=Re(t,(e=>VR(e).fold((e=>{throw new Error(aR(e))}),Q))),i=Qe(Ue(n,(e=>e.ch))),o=We(n);return{dataset:n,triggerChars:i,lookupByChar:e=>ge(o,(t=>t.ch===e))}},nF=(e,t)=>{const n=Rl(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const i=e.which;8===i?n.throttle():27===i&&t.cancelIfNecessary()})),e.on("remove",n.cancel)},iF=e=>{const t=$l(),n=kl(!1),i=t.isSet,o=()=>{i()&&(uO(e),Sg(e),n.set(!1),t.clear())},r=n=>{i()||(cO(e,n.range),t.set({triggerChar:n.triggerChar,matchLength:n.text.length}))},a=at((()=>tF(e))),s=n=>t.get().map((t=>aj(e.dom,e.selection.getRng(),t.triggerChar).bind((t=>mj(e,a,t,n))))).getOrThunk((()=>fj(e,a))),l=i=>{s(i).fold(o,(i=>{r(i.context),i.lookupData.then((r=>{t.get().map((a=>{const s=i.context;a.triggerChar===s.triggerChar&&(s.text.length-a.matchLength>=10?o():(t.set({...a,matchLength:s.text.length}),n.get()?kg(e,{lookupData:r}):(n.set(!0),xg(e,{lookupData:r}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=L(t)?t.fetchOptions:{};l(n)})),e.addCommand("mceAutocompleterClose",o),nF(e,{cancelIfNecessary:o,load:l})},oF=e=>(t,n,i={})=>{const o=t.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:V,inputType:n},a=Zs(new InputEvent(e));return t.dispatch(e,{...a,...r,...i})},rF=oF("input"),aF=oF("beforeinput"),sF=(e,t,n)=>{const i=n.keyCode===Og.BACKSPACE?"deleteContentBackward":"deleteContentForward";WL([{keyCode:Og.BACKSPACE,action:qL(GM,e)},{keyCode:Og.BACKSPACE,action:qL(LP,e,!1)},{keyCode:Og.DELETE,action:qL(LP,e,!0)},{keyCode:Og.BACKSPACE,action:qL(fP,e,!1)},{keyCode:Og.DELETE,action:qL(fP,e,!0)},{keyCode:Og.BACKSPACE,action:qL(TM,e,t,!1)},{keyCode:Og.DELETE,action:qL(TM,e,t,!0)},{keyCode:Og.BACKSPACE,action:qL(RC,e,!1)},{keyCode:Og.DELETE,action:qL(RC,e,!0)},{keyCode:Og.BACKSPACE,action:qL(jP,e,!1)},{keyCode:Og.DELETE,action:qL(jP,e,!0)},{keyCode:Og.BACKSPACE,action:qL($M,e,!1)},{keyCode:Og.DELETE,action:qL($M,e,!0)},{keyCode:Og.BACKSPACE,action:qL(tP,e,!1)},{keyCode:Og.DELETE,action:qL(tP,e,!0)},{keyCode:Og.BACKSPACE,action:qL(KI,e,!1)},{keyCode:Og.DELETE,action:qL(KI,e,!0)},{keyCode:Og.BACKSPACE,action:qL(PM,e,!1)},{keyCode:Og.DELETE,action:qL(PM,e,!0)}],n).each((t=>{n.preventDefault();aF(e,i).isDefaultPrevented()||(t(),rF(e,i))}))},lF=(e,t)=>{UL([{keyCode:Og.BACKSPACE,action:qL(MP,e)},{keyCode:Og.DELETE,action:qL(MP,e)}],t)},cF=(e,t)=>{e.on("keydown",(n=>{!1===n.isDefaultPrevented()&&sF(e,t,n)})),e.on("keyup",(t=>{!1===t.isDefaultPrevented()&&lF(e,t)}))},uF=e=>{for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},dF=(e,t)=>{let n,i=t;const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=uF(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(o.doc.createTextNode(ea),t.firstChild)}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Or(t,t);for(;n=e.current();){if(er(n)){a.setStart(n,0),a.setEnd(n,0);break}if(r[n.nodeName.toLowerCase()]){a.setStartBefore(n),a.setEndBefore(n);break}i=n,n=e.next()}n||(a.setStart(i,0),a.setEnd(i,0))}else ar(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),lb(e,a)},hF=(e,t)=>{const n=e.getRoot();let i,o;for(i=t;i!==n&&"false"!==e.getContentEditable(i);)"true"===e.getContentEditable(i)&&(o=i),i=i.parentNode;return i!==n?o:n},pF=e=>oe.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),fF=e=>pF(e).fold(G(""),(e=>e.nodeName.toUpperCase())),mF=e=>pF(e).filter((e=>Vr(gi.fromDom(e)))).isSome(),gF=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,vF=e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},bF=(e,t)=>e&&e.parentNode&&e.parentNode.nodeName===t,yF=e=>e&&/^(OL|UL|LI)$/.test(e.nodeName),wF=e=>yF(e)&&yF(e.parentNode),_F=e=>{const t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},CF=(e,t,n)=>{let i=e[n?"firstChild":"lastChild"];for(;i&&!Uo(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},xF=(e,t,n,i,o)=>{const r=e.dom,a=e.selection.getRng();if(n===e.getBody())return;wF(n)&&(o="LI");let s=t(o);if(CF(n,i,!0)&&CF(n,i,!1))if(bF(n,"LI")){const e=_F(n);r.insertAfter(s,e),vF(n)?r.remove(e):r.remove(n)}else r.replace(s,n);else if(CF(n,i,!0))bF(n,"LI")?(r.insertAfter(s,_F(n)),s.appendChild(r.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n),r.remove(i);else if(CF(n,i,!1))r.insertAfter(s,_F(n)),r.remove(i);else{n=_F(n);const e=a.cloneRange();e.setStartAfter(i),e.setEndAfter(n);const t=e.extractContents();"LI"===o&&gF(t,"LI")?(s=t.firstChild,r.insertAfter(t,n)):(r.insertAfter(t,n),r.insertAfter(s,n)),r.remove(i)}dF(e,s)},kF=e=>{pe(ia(gi.fromDom(e),Fn),(e=>{const t=e.dom;t.nodeValue=ga(t.nodeValue)}))},SF=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),EF=e=>e&&/^(TD|TH|CAPTION)$/.test(e.nodeName),TF=e=>{e.innerHTML='<br data-mce-bogus="1">'},AF=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,OF=(e,t)=>t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t),DF=(e,t,n)=>{let i=n;const o=[];let r;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Uo(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}for(r=o.length;r--;)i=o[r],
(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue||SF(e,i))&&e.remove(i)}},IF=(e,t,n)=>!1===er(t)?n:e?1===n&&t.data.charAt(n-1)===fa?0:n:n===t.data.length-1&&t.data.charAt(n)===fa?t.data.length:n,PF=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,IF(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,IF(!1,e.endContainer,e.endOffset)),t},NF=e=>{do{er(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},MF=(e,t)=>{const n=e.getRoot();let i,o;for(i=t;i!==n&&"false"!==e.getContentEditable(i);)"true"===e.getContentEditable(i)&&(o=i),i=i.parentNode;return i!==n?o:n},LF=(e,t,n)=>{const i=e.dom;oe.from(n.style).map(i.parseStyle).each((e=>{const n={...ro(gi.fromDom(t)),...e};i.setStyles(t,n)}));const o=oe.from(n.class).map((e=>e.split(/\s+/))),r=oe.from(t.className).map((e=>ge(e.split(/\s+/),(e=>""!==e))));En(o,r,((e,n)=>{const o=ge(n,(t=>!ue(e,t))),r=[...e,...o];i.setAttrib(t,"class",r.join(" "))}));const a=["style","class"],s=qe(n,((e,t)=>!ue(a,t)));i.setAttribs(t,s)},$F=(e,t)=>{if(ld(e).toLowerCase()===t.tagName.toLowerCase()){const n=cd(e);LF(e,t,n)}},jF=(e,t,n,i,o)=>{let r,a,s,l,c,u;const d=e.dom,h=MF(d,i);if(a=d.getParent(i,d.isBlock),!a||!OF(d,a)){if(a=a||h,u=a===e.getBody()||EF(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return r=d.create(t),$F(e,r),a.appendChild(r),n.setStart(r,0),n.setEnd(r,0),r;for(l=i;l.parentNode!==a;)l=l.parentNode;for(;l&&!d.isBlock(l);)s=l,l=l.previousSibling;if(s&&e.schema.isValidChild(u,t.toLowerCase())){for(r=d.create(t),$F(e,r),s.parentNode.insertBefore(r,s),l=s;l&&!d.isBlock(l);)c=l.nextSibling,r.appendChild(l),l=c;n.setStart(i,o),n.setEnd(i,o)}}return i},RF=(e,t)=>{t.normalize();const n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},FF=(e,t)=>{const n=fd(e);return!H(t)&&(M(n)?ue(xn.explode(n),t.nodeName.toLowerCase()):n)},BF=(e,t)=>{let n,i,o,r,a,s,l,c,u;const d=e.dom,h=e.schema,p=h.getNonEmptyElements(),f=e.selection.getRng(),m=ld(e),g=t=>{let n,o,a,s=i;const l=h.getTextInlineElements();if(n=t||"TABLE"===c||"HR"===c?d.create(t||m):r.cloneNode(!1),a=n,!1===pd(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(l[s.nodeName]){if(uf(s)||Nf(s))continue;o=s.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((s=s.parentNode)&&s!==_);return $F(e,n),TF(a),n},v=e=>{let t,n;const a=IF(e,i,o);if(er(i)&&(e?a>0:a<i.nodeValue.length))return!1;if(i.parentNode===r&&u&&!e)return!0;if(e&&Uo(i)&&i===r.firstChild)return!0;if(AF(i,"TABLE")||AF(i,"HR"))return u&&!e||!u&&e;const s=new Or(i,r);for(er(i)&&(e&&0===a?s.prev():e||a!==i.nodeValue.length||s.next());t=s.current();){if(Uo(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(er(t)&&!Ka(t.nodeValue))return!1;e?s.prev():s.next()}return!0},b=()=>{a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==C?g(m):g(),FF(e,l)&&OF(d,l)&&d.isEmpty(r)?a=d.split(l,r):d.insertAfter(a,r),dF(e,a)};Tv(d,f).each((e=>{f.setStart(e.startContainer,e.startOffset),f.setEnd(e.endContainer,e.endOffset)})),i=f.startContainer,o=f.startOffset;const y=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);Uo(i)&&i.hasChildNodes()&&(u=o>i.childNodes.length-1,i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i,o=u&&er(i)?i.nodeValue.length:0);const _=MF(d,i);if(!_)return;y||(i=jF(e,m,f,i,o)),r=d.getParent(i,d.isBlock),l=r?d.getParent(r.parentNode,d.isBlock):null,c=r?r.nodeName.toUpperCase():"";const C=l?l.nodeName.toUpperCase():"";"LI"!==C||w||(r=l,l=l.parentNode,c=C),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(r)?xF(e,g,l,r,m):r!==e.getBody()&&(ya(r)?(a=Da(r),d.isEmpty(r)&&TF(r),$F(e,a),dF(e,a)):v()?b():v(!0)?(a=r.parentNode.insertBefore(g(),r),dF(e,AF(r,"HR")?a:r)):(n=PF(f).cloneRange(),n.setEndAfter(r),s=n.extractContents(),kF(s),NF(s),a=s.firstChild,d.insertAfter(s,r),DF(d,p,a),RF(d,r),d.isEmpty(r)&&TF(r),a.normalize(),d.isEmpty(a)?(d.remove(a),b()):($F(e,a),dF(e,a))),d.setAttrib(a,"id",""),e.dispatch("NewBlock",{newBlock:a}))},HF={insert:BF,fakeEventName:"insertParagraph"},zF=(e,t,n)=>{const i=new Or(t,n);let o;const r=e.getNonEmptyElements();for(;o=i.next();)if(r[o.nodeName.toLowerCase()]||o.length>0)return!0},qF=(e,t,n)=>{const i=e.dom.createRng();n?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),lb(e,i)},UF=(e,t)=>{const n=e.selection,i=e.dom,o=n.getRng();let r,a;Tv(i,o).each((e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}));let s=o.startOffset,l=o.startContainer;if(1===l.nodeType&&l.hasChildNodes()){const e=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=e&&3===l.nodeType?l.nodeValue.length:0}let c=i.getParent(l,i.isBlock);const u=c?i.getParent(c.parentNode,i.isBlock):null,d=u?u.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(c=u),l&&3===l.nodeType&&s>=l.nodeValue.length&&(zF(e.schema,l,c)||(r=i.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),a=!0)),r=i.create("br"),eu(i,o,r),qF(e,r,a),e.undoManager.add()},WF=(e,t)=>{const n=gi.fromTag("br");lo(gi.fromDom(t),n),e.undoManager.add()},VF=(e,t)=>{KF(e.getBody(),t)||co(gi.fromDom(t),gi.fromTag("br"));const n=gi.fromTag("br");co(gi.fromDom(t),n),qF(e,n.dom,!1),e.undoManager.add()},YF=e=>ar(e.getNode()),KF=(e,t)=>!!YF(Qc.after(t))||rf(e,Qc.after(t)).map((e=>ar(e.getNode()))).getOr(!1),GF=e=>e&&"A"===e.nodeName&&"href"in e,QF=e=>e.fold(ne,GF,GF,ne),XF=t=>{const n=e(S_,t),i=Qc.fromRangeStart(t.selection.getRng());return aN(n,t.getBody(),i).filter(QF)},ZF=(t,n)=>{n.fold(V,e(WF,t),e(VF,t),V)},JF={insert:(t,n)=>{const i=XF(t);i.isSome()?i.each(e(ZF,t)):UF(t,n)},fakeEventName:"insertLineBreak"},eB=(e,t)=>pF(e).filter((e=>t.length>0&&bi(gi.fromDom(e),t))).isSome(),tB=e=>eB(e,dd(e)),nB=e=>eB(e,hd(e)),iB=$u.generate([{br:[]},{block:[]},{none:[]}]),oB=e=>nB(e),rB=e=>t=>mF(t)===e,aB=(e,t)=>n=>fF(n)===e.toUpperCase()===t,sB=e=>aB("pre",e),lB=()=>aB("summary",!0),cB=e=>t=>sd(t)===e,uB=e=>tB(e),dB=(e,t)=>t,hB=e=>{const t=ld(e),n=hF(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t)},pB=(e,t)=>(n,i)=>be(e,((e,t)=>e&&t(n,i)),!0)?oe.some(t):oe.none(),fB=(e,t)=>QP([pB([oB],iB.none()),pB([lB()],iB.br()),pB([sB(!0),cB(!1),dB],iB.br()),pB([sB(!0),cB(!1)],iB.block()),pB([sB(!0),cB(!0),dB],iB.block()),pB([sB(!0),cB(!0)],iB.br()),pB([rB(!0),dB],iB.br()),pB([rB(!0)],iB.block()),pB([uB],iB.br()),pB([dB],iB.br()),pB([hB],iB.block())],[e,!(!t||!t.shiftKey)]).getOr(iB.none()),mB=(e,t,n)=>{if(t.selection.isCollapsed()||L_(t),z(n)){if(aF(t,e.fakeEventName).isDefaultPrevented())return}e.insert(t,n),z(n)&&rF(t,e.fakeEventName)},gB=(e,t)=>{const n=()=>mB(JF,e,t),i=()=>mB(HF,e,t),o=fB(e,t);switch(ud(e)){case"linebreak":o.fold(n,n,V);break;case"block":o.fold(i,i,V);break;case"invert":o.fold(i,n,V);break;default:o.fold(n,i,V)}},vB=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),gA(e.undoManager),e.undoManager.transact((()=>{gB(e,t)})))},bB=e=>{e.on("keydown",(t=>{t.keyCode===Og.ENTER&&vB(e,t)}))},yB=(e,t,n)=>{const i=mn.os.isMacOS()||mn.os.isiOS();UL([{keyCode:Og.END,action:qL(DL,e,!0)},{keyCode:Og.HOME,action:qL(DL,e,!1)},...i?[]:[{keyCode:Og.HOME,action:qL(IL,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Og.END,action:qL(IL,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Og.END,action:qL(KL,e,!0)},{keyCode:Og.HOME,action:qL(KL,e,!1)},{keyCode:Og.END,action:qL(wM,e,!0,t)},{keyCode:Og.HOME,action:qL(wM,e,!1,t)}],n).each((()=>{n.preventDefault()}))},wB=(e,t)=>{e.on("keydown",(n=>{!1===n.isDefaultPrevented()&&yB(e,t,n)}))},_B=e=>{e.on("input",(t=>{!1===t.isComposing&&Jw(e)}))},CB=ln(),xB=(e,t,n)=>{UL([{keyCode:Og.PAGE_UP,action:qL(wM,e,!1,t)},{keyCode:Og.PAGE_DOWN,action:qL(wM,e,!0,t)}],n)},kB=e=>e.stopImmediatePropagation(),SB=e=>e.keyCode===Og.PAGE_UP||e.keyCode===Og.PAGE_DOWN,EB=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",kB,!0):!n&&e.get()&&t.off("NodeChange",kB),e.set(n)},TB=(e,t)=>{if(CB.os.isMacOS())return;const n=kl(!1);e.on("keydown",(t=>{SB(t)&&EB(n,e,!0)})),e.on("keyup",(i=>{!1===i.isDefaultPrevented()&&xB(e,t,i),SB(i)&&n.get()&&(EB(n,e,!1),e.nodeChanged())}))},AB=(e,t)=>{const n=t.container(),i=t.offset();return er(n)?(n.insertData(i,e),oe.some(Qc(n,i+e.length))):Op(t).map((n=>{const i=gi.fromText(e);return t.isAtEnd()?co(n,i):lo(n,i),Qc(i.dom,e.length)}))},OB=e(AB,ea),DB=e(AB," "),IB=e=>t=>t.fold((t=>af(e.dom,Qc.before(t))),(e=>sf(e)),(e=>lf(e)),(t=>rf(e.dom,Qc.after(t)))),PB=(e,t)=>n=>Hw(e,n)?OB(t):DB(t),NB=e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0),MB=t=>{const n=Qc.fromRangeStart(t.selection.getRng()),i=gi.fromDom(t.getBody());if(t.selection.isCollapsed()){const o=e(S_,t),r=Qc.fromRangeStart(t.selection.getRng());return aN(o,t.getBody(),r).bind(IB(i)).map((e=>()=>PB(i,n)(e).each(NB(t))))}return oe.none()},LB=(e,t)=>{WL([{keyCode:Og.SPACEBAR,action:qL(MB,e)}],t).each((n=>{t.preventDefault();aF(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),rF(e,"insertText",{data:" "}))}))},$B=e=>{e.on("keydown",(t=>{!1===t.isDefaultPrevented()&&LB(e,t)}))},jB=e=>$h(e)?[{keyCode:Og.TAB,action:qL(z$,e,!0)},{keyCode:Og.TAB,shiftKey:!0,action:qL(z$,e,!1)}]:[],RB=(e,t)=>{UL([...jB(e)],t).each((()=>{t.preventDefault()}))},FB=e=>{e.on("keydown",(t=>{!1===t.isDefaultPrevented()&&RB(e,t)}))},BB=e=>{if(e.addShortcut("Meta+P","","mcePrint"),iF(e),PA(e))return kl(null);{const t=vM(e);return wL(e),U$(e,t),cF(e,t),bB(e),$B(e),_B(e),FB(e),wB(e,t),TB(e,t),t}};class HB{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const i=e.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};"nodechange"!==n.type&&mv(o,t)||e.dispatch("SelectionChange"),t=o})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&Um(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&Um(e)&&("IMG"===e.selection.getNode().nodeName?Ob.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e){const t=this.editor.selection;let n,i,o;this.editor.initialized&&t&&!th(this.editor)&&!this.editor.mode.isReadOnly()&&(o=this.editor.getBody(),n=t.getStart(!0)||o,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,o)||(n=o),i=[],this.editor.dom.getParent(n,(e=>{if(e===o)return!0;i.push(e)})),(e=e||{}).element=n,e.parents=i,this.editor.dispatch("NodeChange",e))}isSameElementPath(e){let t;const n=this.editor,i=Se(n.dom.getParents(e,ie,n.getBody()));if(i.length===this.lastPath.length){for(t=i.length;t>=0&&i[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=i,!0}return this.lastPath=i,!1}}const zB="x-tinymce/html",qB=G(zB),UB="<!-- "+zB+" -->",WB=e=>UB+e,VB=e=>e.replace(UB,""),YB=e=>-1!==e.indexOf(UB),KB=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),GB=(e,t)=>{let n="<"+e;const i=Ue(t,((e,t)=>t+'="'+Ns.encodeAllRaw(e)+'"'));return i.length&&(n+=" "+i.join(" ")),n+">"},QB=(e,t,n)=>{const i=e.split(/\n\n/),o=GB(t,n),r="</"+t+">",a=he(i,(e=>e.split(/\n/).join("<br />"))),s=e=>o+e+r;return 1===a.length?a[0]:he(a,s).join("")},XB="%MCEPASTEBIN%",ZB=(e,t)=>{const{dom:n,selection:i}=e,o=e.getBody();t.set(i.getRng());const r=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},XB);mn.browser.isFirefox()&&n.setStyle(r,"left","rtl"===n.getStyle(o,"direction",!0)?65535:-65535),n.bind(r,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),r.focus(),i.select(r,!0)},JB=(e,t)=>{const n=e.dom;if(eH(e)){let i;const o=t.get();for(;i=eH(e);)n.remove(i),n.unbind(i);o&&e.selection.setRng(o)}t.set(null)},eH=e=>e.dom.get("mcepastebin"),tH=e=>e&&"mcepastebin"===e.id,nH=e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[i,...o]=ge(e.getBody().childNodes,tH);pe(o,(e=>{n(i,e)}));const r=t.select("div[id=mcepastebin]",i);for(let e=r.length-1;e>=0;e--){const o=t.create("div");i.insertBefore(o,r[e]),n(o,r[e])}return i?i.innerHTML:""},iH=e=>e===XB,oH=e=>{const t=kl(null);return{create:()=>ZB(e,t),remove:()=>JB(e,t),getEl:()=>eH(e),getHtml:()=>nH(e),getLastRng:t.get}},rH=(e,t)=>(xn.each(t,(t=>{e=N(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),aH=e=>{const t=Vs(),n=iT({},t);let i="";const o=t.getVoidElements(),r=xn.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),s=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(o[n]&&(i+=" "),r[n])i+=" ";else{if(3===e.type&&(i+=e.value),!(e.name in t.getVoidElements())&&(e=e.firstChild))do{s(e)}while(e=e.next);a[n]&&l.next&&(i+="\n","p"===n&&(i+="\n"))}}else i+="\n"};return e=rH(e,[/<!\[[^\]]+\]>/g]),s(n.parse(e)),i},sH=e=>e=rH(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?ea:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),lH=e=>{let t=0;return()=>e+t++},cH=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return xn.hasOwn(n,t)?"image/"+n[t]:"image/"+t},uH=(e,t)=>{const n=iT({},e.schema);n.addNodeFilter("meta",(e=>{xn.each(e,(e=>{e.remove()}))}));const i=n.parse(t,{forced_root_block:!1,isRootContent:!0});return zy({validate:!0},e.schema).serialize(i)},dH=(e,t)=>({content:e,cancelled:t}),hH=(e,t,n)=>{const i=e.dom.create("div",{style:"display:none"},t),o=Tg(e,i,n);return dH(o.node.innerHTML,o.isDefaultPrevented())},pH=(e,t,n)=>{const i=Eg(e,t,n),o=uH(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?hH(e,o,n):dH(o,i.isDefaultPrevented())},fH=(e,t,n)=>pH(e,t,n),mH=(e,t)=>(e.insertContent(t,{merge:xh(e),paste:!0}),!0),gH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),vH=(e,t)=>gH(t)&&de(Lh(e),(e=>xt(t.toLowerCase(),`.${e.toLowerCase()}`))),bH=(e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0),yH=(e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0),wH=(e,t,n)=>!(e.selection.isCollapsed()||!gH(t))&&yH(e,t,n),_H=(e,t,n)=>!!vH(e,t)&&bH(e,t,n),CH=(e,t)=>{xn.each([wH,_H,mH],(n=>!0!==n(e,t,mH)))},xH=(e,t,n)=>{n||!kh(e)?mH(e,t):CH(e,t)},kH=lH("mceclip"),SH=(e,t,n,i)=>{const o=fH(e,t,n);!1===o.cancelled&&xH(e,o.content,i)},EH=(e,t,n)=>{const i=n||YB(t);SH(e,VB(t),i,!1)},TH=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n"),i=Za(n,Eh(e)),o=QB(i,ld(e),cd(e));SH(e,o,!1,!0)},AH=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const i=e.types[n];try{t[i]=e.getData(i)}catch(e){t[i]=""}}return t},OH=(e,t)=>t in e&&e[t].length>0,DH=e=>OH(e,"text/html")||OH(e,"text/plain"),IH=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return z(n)?e.dom.encode(n[1]):null},PH=(e,t,n,i)=>{const o=kH(),r=gd(e)&&z(n.name),a=r?IH(e,n.name):o,s=r?n.name:void 0,l=t.create(o,n,i,a,s);return t.add(l),l},NH=(e,t)=>{CE(t.uri).each((({data:n,type:i,base64Encoded:o})=>{const r=o?n:btoa(n),a=t.file,s=e.editorUpload.blobCache,l=s.getByData(r,i),c=null!=l?l:PH(e,s,a,r);EH(e,`<img src="${c.blobUri()}">`,!1)}))},MH=e=>"paste"===e.type,LH=e=>Promise.all(he(e,(e=>EE(e).then((t=>({file:e,uri:t})))))),$H=e=>{const t=Lh(e);return e=>Ct(e.type,"image/")&&de(t,(t=>cH(t)===e.type))},jH=(e,t)=>{const n=t.items?xe(Pe(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],i=t.files?Pe(t.files):[];return ge(n.length>0?n:i,$H(e))},RH=(e,t,n)=>{const i=MH(t)?t.clipboardData:t.dataTransfer;if(bh(e)&&i){const o=jH(e,i);if(o.length>0)return t.preventDefault(),LH(o).then((t=>{n&&e.selection.setRng(n),pe(t,(t=>{NH(e,t)}))})),!0}return!1},FH=e=>{var t,n;return mn.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)},BH=e=>Og.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode,HH=(e,t,n,i)=>{let o=sH(n);const r=OH(t,qB())||YB(n),a=!r&&KB(o),s=gH(o);(iH(o)||!o.length||a&&!s)&&(i=!0),(i||s)&&(o=OH(t,"text/plain")&&a?t["text/plain"]:aH(o)),iH(o)||(i?TH(e,o):EH(e,o,r))},zH=(e,t,n)=>{let i;const o=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",(e=>{BH(e)&&!e.isDefaultPrevented()&&(i=e.shiftKey&&86===e.keyCode)})),e.on("paste",(r=>{if(r.isDefaultPrevented()||FH(r))return;const a="text"===n.get()||i;i=!1;const s=AH(r.clipboardData);!DH(s)&&RH(e,r,o())||(OH(s,"text/html")?(r.preventDefault(),HH(e,s,s["text/html"],a)):(t.create(),Ob.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),HH(e,s,n,a)}),0)))}))},qH=e=>{const t=e=>Ct(e,"webkit-fake-url"),n=e=>Ct(e,"data:"),i=e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)};e.parser.addNodeFilter("img",((o,r,a)=>{if(!bh(e)&&i(a))for(const i of o){const o=i.attr("src");M(o)&&!i.attr("data-mce-object")&&o!==mn.transparentSrc&&(t(o)||!Th(e)&&n(o))&&i.remove()}}))},UH=(e,t,n)=>{zH(e,t,n),qH(e)},WH=(e,t)=>{"text"===t.get()?(t.set("html"),Ag(e,!1)):(t.set("text"),Ag(e,!0)),e.focus()},VH=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{WH(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&EH(e,n.html,n.internal),n.text&&TH(e,n.text)}))},YH=(e,t,n)=>{try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(qB(),t),!0}catch(e){return!1}},KH=(e,t,n,i)=>{YH(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):n(t.html,i)},GH=e=>(t,n)=>{const{dom:i,selection:o}=e,r=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=i.create("div",{contenteditable:"true"},t);i.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(a),i.add(e.getBody(),r);const s=o.getRng();a.focus();const l=i.createRng();l.selectNodeContents(a),o.setRng(l),Ob.setEditorTimeout(e,(()=>{o.setRng(s),i.remove(r),n()}),0)},QH=e=>({html:WB(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),XH=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),ZH=e=>!e.selection.isCollapsed()||XH(e),JH=e=>t=>{!t.isDefaultPrevented()&&ZH(e)&&KH(t,QH(e),GH(e),(()=>{if(mn.browser.isChromium()||mn.browser.isFirefox()){const t=e.selection.getRng();Ob.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))},ez=e=>t=>{!t.isDefaultPrevented()&&ZH(e)&&KH(t,QH(e),GH(e),V)},tz=e=>{e.on("cut",JH(e)),e.on("copy",ez(e))},nz=(e,t)=>{var n,i;return Dv.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(i=t.clientY)&&void 0!==i?i:0,e.getDoc())},iz=e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")},oz=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},rz=e=>de(e.files,(e=>/^image\//.test(e.type))),az=(e,t)=>{vh(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),bh(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&rz(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented()||t.get())return;const i=nz(e,n);if(H(i))return;const o=AH(n.dataTransfer),r=OH(o,qB());if((!DH(o)||iz(o))&&RH(e,n,i))return;const a=o[qB()],s=a||o["text/html"]||o["text/plain"];s&&(n.preventDefault(),Ob.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{a&&e.execCommand("Delete"),oz(e,i);const t=sH(s);o["text/html"]?EH(e,t,r):TH(e,t)}))})))})),e.on("dragstart",(()=>{t.set(!0)})),e.on("dragover dragend",(n=>{bh(e)&&!1===t.get()&&(n.preventDefault(),oz(e,nz(e,n))),"dragend"===n.type&&t.set(!1)}))},sz=e=>{const t=t=>n=>{t(e,n)},n=yh(e);q(n)&&e.on("PastePreProcess",t(n));const i=wh(e);q(i)&&e.on("PastePostProcess",t(i))},lz=(e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))},cz=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,uz=e=>xn.trim(e).replace(cz,Wf).toLowerCase(),dz=(e,t,n)=>{const i=_h(e);if(n||"all"===i||!Ch(e))return t;const o=i?i.split(/[, ]/):[];if(o&&"none"!==i){const n=e.dom,i=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,r,a)=>{const s=n.parseStyle(n.decode(r)),l={};for(let e=0;e<o.length;e++){const t=s[o[e]];let r=t,a=n.getStyle(i,o[e],!0);/color/.test(o[e])&&(r=uz(r),a=uz(a)),a!==r&&(l[o[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+a:t+a}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,i)=>t+' style="'+n+'"'+i)),t},hz=e=>{(mn.browser.isChromium()||mn.browser.isSafari())&&lz(e,dz)},pz=e=>{const t=kl(!1),n=kl(Sh(e)?"text":"html"),i=oH(e);hz(e),VH(e,n),sz(e),e.on("PreInit",(()=>{tz(e),az(e,t),UH(e,i,n)}))},fz=e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))},mz=e=>{e.parser.addNodeFilter("details",(e=>{pe(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{pe(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",M(t)?t:null),e.attr("data-mce-open",null)}))}))},gz=e=>{fz(e),mz(e)},vz=ar,bz=er,yz=e=>cr(e.dom),wz=e=>lr(e.dom),_z=e=>t=>Ci(gi.fromDom(e),t),Cz=(e,t)=>yr(gi.fromDom(e),(e=>wz(e)||Br(e)),_z(t)).getOr(gi.fromDom(t)).dom,xz=(e,t)=>yr(gi.fromDom(e),yz,_z(t)),kz=(e,t,n)=>{const i=new Or(e,t),o=n?i.next.bind(i):i.prev.bind(i);let r=e;for(let t=n?e:o();t&&!vz(t);t=o())Ba(t)&&(r=t);return r},Sz=(e,t)=>{const n=Qc.fromRangeStart(e).getNode(),i=Cz(n,t),o=kz(n,i,!1),r=kz(n,i,!0),a=document.createRange();return xz(o,i).fold((()=>{bz(o)?a.setStart(o,0):a.setStartBefore(o)}),(e=>a.setStartBefore(e.dom))),xz(r,i).fold((()=>{bz(r)?a.setEnd(r,r.data.length):a.setEndAfter(r)}),(e=>a.setEndAfter(e.dom))),a},Ez=e=>{const t=Sz(e.selection.getRng(),e.getBody());e.selection.setRng(tx(t))},Tz=e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),Ez(e))}))};var Az;!function(e){e.Before="before",e.After="after"}(Az||(Az={}));const Oz=(e,t)=>Math.abs(e.left-t),Dz=(e,t)=>Math.abs(e.right-t),Iz=(e,t)=>e>=t.top&&e<=t.bottom,Pz=(e,t)=>e.top<t.bottom&&e.bottom>t.top,Nz=(e,t)=>{const n=_c(e,t)/Math.min(e.height,t.height);return Pz(e,t)&&n>.5},Mz=(e,t)=>{const n=ge(e,(e=>Iz(t,e)));return yc(n).fold((()=>[[],e]),(t=>{const{pass:n,fail:i}=me(e,(e=>Nz(e,t)));return[n,i]}))},Lz=(e,t)=>({node:e.node,position:Oz(e,t)<Dz(e,t)?Az.Before:Az.After}),$z=(e,t)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),jz=(e,t,n)=>{const i=e=>Ba(e.node)?oe.some(e):Uo(e.node)?jz(Pe(e.node.childNodes),t,n):oe.none(),o=(e,o)=>{if(e.length>=2){const r=i(e[0]).getOr(e[0]),a=i(e[1]).getOr(e[1]);if(Math.abs(o(r,t,n)-o(a,t,n))<2){if(er(r.node))return oe.some(r);if(er(a.node))return oe.some(a)}}return oe.none()},r=(e,r)=>{const a=Ae(e,((e,i)=>r(e,t,n)-r(i,t,n)));return o(a,r).orThunk((()=>Ne(a,i)))},[a,s]=Mz(UN(e),n),{pass:l,fail:c}=me(s,(e=>e.top<n));return r(a,$z).orThunk((()=>r(c,wc))).orThunk((()=>r(l,wc)))},Rz=(e,t,n,i)=>{const o=(t,r)=>r.fold((()=>jz(Pe(t.dom.childNodes),n,i)),(e=>{const o=ge(Pe(t.dom.childNodes),(t=>t!==e.dom));return jz(o,n,i)})).orThunk((()=>(Ci(t,e)?oe.none():Oi(t)).bind((e=>o(e,oe.some(t))))));return o(t,oe.none())},Fz=(e,t,n)=>{const i=gi.fromDom(e),o=Si(i),r=gi.fromPoint(o,t,n).filter((e=>xi(i,e))).getOr(i);return Rz(i,r,t,n)},Bz=(e,t,n)=>Fz(e,t,n).filter((e=>op(e.node))).map((e=>Lz(e,t))),Hz=e=>{const t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-i.clientTop,left:t.left+o.pageXOffset-i.clientLeft}},zz=e=>e.inline?Hz(e.getBody()):{left:0,top:0},qz=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},Uz=e=>{const t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:o},Wz=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=Hz(e.getContentAreaContainer()),i=Uz(e);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}return{left:t.pageX,top:t.pageY}},Vz=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),Yz=(e,t)=>Vz(zz(e),qz(e),Wz(e,t)),Kz=cr,Gz=lr,Qz=(e,t)=>Kz(t)&&t!==e,Xz=(e,t,n)=>t!==n&&!e.dom.isChildOf(t,n)&&!Kz(t),Zz=e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},Jz=(e,t,n,i)=>{const o=e.dom,r=t.cloneNode(!0);o.setStyles(r,{width:n,height:i}),o.setAttrib(r,"data-mce-selected",null);const a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),o.setStyles(r,{margin:0,boxSizing:"border-box"}),a.appendChild(r),a},eq=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},tq=(e,t,n,i,o,r)=>{let a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+i>r&&(s=t.pageY+i-r),e.style.width=n-a+"px",e.style.height=i-s+"px"},nq=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},iq=e=>0===e.button,oq=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),rq=(e,t)=>n=>{if(iq(n)){const i=we(t.dom.getParents(n.target),Ac(Kz,Gz)).getOr(null);if(Qz(t.getBody(),i)){const o=t.dom.getPos(i),r=t.getBody(),a=t.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?r.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Jz(t,i,i.offsetWidth,i.offsetHeight)})}}},aq=(e,t)=>{const n=jl(((e,n)=>{t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.cancel),i=>e.on((e=>{const o=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(!e.dragging&&o>10){if(t.dispatch("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const o=oq(e,Yz(t,i));eq(e.ghost,t.getBody()),tq(e.ghost,o,e.width,e.height,e.maxX,e.maxY),n.throttle(i.clientX,i.clientY)}}))},sq=e=>{const t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t},lq=(e,t)=>n=>{e.on((e=>{if(e.dragging){if(Xz(t,sq(t.selection),e.element)){const i=Zz(e.element);t.dispatch("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact((()=>{nq(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend")}})),uq(e)},cq=(e,t)=>()=>{e.on((e=>{e.dragging&&t.dispatch("dragend")})),uq(e)},uq=e=>{e.on((e=>{nq(e.ghost)})),e.clear()},dq=e=>{const t=$l(),n=vl.DOM,i=document,o=rq(t,e),r=aq(t,e),a=lq(t,e),s=cq(t,e);e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",a),n.bind(i,"mousemove",r),n.bind(i,"mouseup",s),e.on("remove",(()=>{n.unbind(i,"mousemove",r),n.unbind(i,"mouseup",s)})),e.on("keydown",(e=>{e.keyCode===Og.ESC&&s()}))},hq=e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(ue(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&ED(e,"Dropped file type is not supported"))}},n=n=>{Fb(e,n.target)&&t(n)},i=()=>{const i=vl.DOM,o=e.dom,r=document,a=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];pe(s,(e=>{i.bind(r,e,n),o.bind(a,e,t)})),e.on("remove",(()=>{pe(s,(e=>{i.unbind(r,e,n),o.unbind(a,e,t)}))}))};e.on("init",(()=>{Ob.setEditorTimeout(e,i,0)}))},pq=e=>{dq(e),ah(e)&&hq(e)},fq=e=>{const t=jl((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=lP(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))},mq=e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(dr(n)){const t=FC(e.getBody(),n),i=cr(t)?t:n;e.selection.getNode()!==i&&aP(e,i).each((t=>e.selection.setRng(t)))}}))}))},gq=cr,vq=(e,t)=>FC(e.getBody(),t),bq=e=>{const t=e.selection,n=e.dom,i=n.isBlock,o=e.getBody(),r=tp(e,o,i,(()=>Jb(e))),a="sel-"+n.uniqueId(),s="data-mce-selected";let l;const c=e=>n.hasClass(e,"mce-offscreen-selection"),u=e=>e!==o&&(gq(e)||dr(e))&&n.isChildOf(e,o),d=e=>{e&&t.setRng(e)},h=(n,i,o,a=!0)=>e.dispatch("ShowCaret",{target:i,direction:n,before:o}).isDefaultPrevented()?null:(a&&t.scrollIntoView(i,-1===n),r.show(o,i)),p=e=>{e.hasAttribute("data-mce-caret")&&(Da(e),t.scrollIntoView(e))},f=()=>{e.on("click",(t=>{const n=vq(e,t.target);n&&gq(n)&&(t.preventDefault(),e.focus())})),e.on("blur NewBlock",_),e.on("ResizeWindow FullscreenStateChanged",r.reposition),e.on("tap",(t=>{const n=t.target,i=vq(e,n);gq(i)?(t.preventDefault(),aP(e,i).each(w)):u(n)&&aP(e,n).each(w)}),!0),e.on("mousedown",(t=>{const i=t.target;if(i!==o&&"HTML"!==i.nodeName&&!n.isChildOf(i,o))return;if(!1===gD(e,t.clientX,t.clientY))return;_(),x();const r=vq(e,i);gq(r)?(t.preventDefault(),aP(e,r).each(w)):Bz(o,t.clientX,t.clientY).each((n=>{t.preventDefault();const i=h(1,n.node,n.position===Az.Before,!1);d(i),Uo(r)?r.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Og.modifierPressed(e)||gq(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(l){if(!l.parentNode)return void(l=null);t=t.cloneRange(),t.selectNode(l),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=v(e.range);const t=w(e.range,e.forward);t&&(e.range=t)}));const i=e=>"mcepastebin"===e.id;e.on("AfterSetSelectionRange",(e=>{const t=e.range,n=t.startContainer.parentNode;g(t)||i(n)||x(),c(n)||_()})),pq(e),fq(e),mq(e)},m=e=>_a(e)||Ta(e)||Aa(e),g=e=>m(e.startContainer)||m(e.endContainer),v=t=>{const i=e.schema.getVoidElements(),o=n.createRng(),r=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset;return Ye(i,r.nodeName.toLowerCase())?0===a?o.setStartBefore(r):o.setStartAfter(r):o.setStart(r,a),Ye(i,s.nodeName.toLowerCase())?0===l?o.setEndBefore(s):o.setEndAfter(s):o.setEnd(s,l),o},b=(i,o)=>{const r=gi.fromDom(e.getBody()),s=e.getDoc(),l=kr(r,"#"+a).getOrThunk((()=>{const e=gi.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',s);return Un(e,"id",a),ho(r,e),e})),c=n.createRng();go(l),mo(l,[gi.fromText(ea,s),gi.fromDom(o),gi.fromText(ea,s)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),to(l,{top:n.getPos(i,e.getBody()).y+"px"}),cb(l);const u=t.getSel();return u.removeAllRanges(),u.addRange(c),c},y=t=>{const i=t.cloneNode(!0),o=e.dispatch("ObjectSelected",{target:t,targetClone:i});if(o.isDefaultPrevented())return null;const r=b(t,o.targetClone),a=gi.fromDom(t);return pe(oa(gi.fromDom(e.getBody()),`*[${s}]`),(e=>{Ci(a,e)||Gn(e,s)})),n.getAttrib(t,s)||t.setAttribute(s,"1"),l=t,x(),r},w=(e,t)=>{if(!e)return null;if(e.collapsed){if(!g(e)){const n=t?1:-1,i=Ap(n,o,e),r=i.getNode(!t);if(op(r))return h(n,r,!!t&&!i.isAtEnd(),!1);const a=i.getNode(t);if(op(a))return h(n,a,!t&&!i.isAtEnd(),!1)}return null}let i=e.startContainer,r=e.startOffset;const a=e.endOffset;if(3===i.nodeType&&0===r&&gq(i.parentNode)&&(i=i.parentNode,r=n.nodeIndex(i),i=i.parentNode),1!==i.nodeType)return null;if(a===r+1&&i===e.endContainer){const e=i.childNodes[r];if(u(e))return y(e)}return null},_=()=>{l&&l.removeAttribute(s),kr(gi.fromDom(e.getBody()),"#"+a).each(vo),l=null},C=()=>{r.destroy(),l=null},x=()=>{r.hide()};return PA(e)||f(),{showCaret:h,showBlockCaretContainer:p,hideFakeCaret:x,destroy:C}},yq=(e,t,n)=>{if(er(t)&&(n<0||n>t.data.length))return[];const i=[n];let o=t;for(;o!==e&&o.parentNode;){const e=o.parentNode;for(let t=0;t<e.childNodes.length;t++)if(e.childNodes[t]===o){i.push(t);break}o=e}return o===e?i.reverse():[]},wq=(e,t,n,i,o)=>({start:yq(e,t,n),end:yq(e,i,o)}),_q=(e,t)=>{const n=t.slice(),i=n.pop();return be(n,((e,t)=>e.bind((e=>oe.from(e.childNodes[t])))),oe.some(e)).bind((e=>er(e)&&(i<0||i>e.data.length)?oe.none():oe.some({node:e,offset:i})))},Cq=(e,t)=>_q(e,t.start).bind((({node:n,offset:i})=>_q(e,t.end).map((({node:e,offset:t})=>{const o=document.createRange();return o.setStart(n,i),o.setEnd(e,t),o})))),xq=(e,t)=>wq(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset),kq=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const i=t.parentNode;e.remove(t),kq(e,i,n)}},Sq=(e,t,n,i=!0)=>{const o=t.startContainer.parentNode,r=t.endContainer.parentNode;t.deleteContents(),i&&!n(t.startContainer)&&(er(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),er(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),kq(e,o,n),o!==r&&kq(e,r,n))},Eq=(e,t)=>oe.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),Tq=(e,t,n)=>{Q$(t,0,t).each((i=>{const o=i.container;Z$(o,n.start.length,t).each((n=>{const i=e.createRng();i.setStart(o,0),
i.setEnd(n.container,n.offset),Sq(e,i,(e=>e===t))}))}))},Aq=(e,t)=>{const n=e.dom,i=t.pattern,o=Cq(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),r=(e,t)=>{const n=t.get(e);return j(n)&&De(n).exists((e=>Ye(e,"block")))};return Eq(e,o).each((t=>{"block-format"===i.type?r(i.format,e.formatter)&&e.undoManager.transact((()=>{Tq(e.dom,t,i),e.formatter.apply(i.format)})):"block-command"===i.type&&e.undoManager.transact((()=>{Tq(e.dom,t,i),e.execCommand(i.cmd,!1,i.value)}))})),!0},Oq=(e,t)=>{const n=t.replace(ea," ");return we(e,(e=>0===t.indexOf(e.start)||0===n.indexOf(e.start)))},Dq=(e,t)=>{const n=e.dom,i=e.selection.getRng();return Eq(e,i).filter((t=>{const i=ld(e),o=n.is(t,i);return null!==t&&o})).bind((e=>{const i=e.textContent;return Oq(t,i).map((t=>xn.trim(i).length===t.start.length?[]:[{pattern:t,range:wq(n.getRoot(),e,0,e,0)}]))})).getOr([])},Iq=(e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();pe(t,(t=>Aq(e,t))),e.selection.moveToBookmark(n)},Pq=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Nq=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},Mq=(e,t,n)=>{const i=Cq(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=i.startContainer,r=i.endContainer,a=0===i.endOffset?r:r.splitText(i.endOffset),s=0===i.startOffset?o:o.splitText(i.startOffset);return{prefix:t,end:a.parentNode.insertBefore(Pq(e,t+"-end"),a),start:s.parentNode.insertBefore(Pq(e,t+"-start"),s)}},Lq=(e,t,n)=>{kq(e,e.get(t.prefix+"-end"),n),kq(e,e.get(t.prefix+"-start"),n)},$q=e=>0===e.start.length,jq=e=>(t,n)=>{const i=t.data.substring(0,n),o=i.lastIndexOf(e.charAt(e.length-1)),r=i.lastIndexOf(e);return-1!==r?r+e.length:-1!==o?o+1:-1},Rq=(e,t,n,i)=>{const o=t.start;return J$(e,i.container,i.offset,jq(o),n).bind((i=>{if(i.offset>=o.length){const t=e.createRng();return t.setStart(i.container,i.offset-o.length),t.setEnd(i.container,i.offset),oe.some(t)}{const r=i.offset-o.length;return X$(i.container,r,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(i.container,i.offset),n})).filter((e=>e.toString()===o)).orThunk((()=>Rq(e,t,n,W$(i.container,0))))}}))},Fq=(e,t,n,i,o,r=!1)=>{if(0===t.start.length&&!r){const t=e.createRng();return t.setStart(n,i),t.setEnd(n,i),oe.some(t)}return G$(n,i,o).bind((n=>Rq(e,t,o,n).bind((e=>{if(r){if(e.endContainer===n.container&&e.endOffset===n.offset)return oe.none();if(0===n.offset&&e.endContainer.textContent.length===e.endOffset)return oe.none()}return oe.some(e)}))))},Bq=(e,t,n)=>{const i=e.dom,o=i.getRoot(),r=n.pattern,a=n.position.container,s=n.position.offset;return X$(a,s-n.pattern.end.length,t).bind((l=>{const c=wq(o,l.container,l.offset,a,s);if($q(r))return oe.some({matches:[{pattern:r,startRng:c,endRng:c}],position:l});{const a=Hq(e,n.remainingPatterns,l.container,l.offset,t),s=a.getOr({matches:[],position:l}),u=s.position;return Fq(i,r,u.container,u.offset,t,a.isNone()).map((e=>{const t=xq(o,e);return{matches:s.matches.concat([{pattern:r,startRng:t,endRng:c}]),position:W$(e.startContainer,e.startOffset)}}))}}))},Hq=(e,t,n,i,o)=>{const r=e.dom;return G$(n,i,r.getRoot()).bind((a=>{const s=r.createRng();s.setStart(o,0),s.setEnd(n,i);const l=s.toString();for(let n=0;n<t.length;n++){const i=t[n];if(!xt(l,i.end))continue;const r=t.slice();r.splice(n,1);const s=Bq(e,o,{pattern:i,remainingPatterns:r,position:a});if(s.isSome())return s}return oe.none()}))},zq=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?pe(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},qq=(e,t,n,i)=>{const o=Nq(e.dom,n);Sq(e.dom,o,i),zq(e,t,o)},Uq=(e,t,n,i,o)=>{const r=e.dom,a=Nq(r,i),s=Nq(r,n);Sq(r,s,o),Sq(r,a,o);const l={prefix:n.prefix,start:n.end,end:i.start},c=Nq(r,l);zq(e,t,c)},Wq=(e,t)=>{const n=tc("mce_textpattern"),i=ve(t,((t,i)=>{const o=Mq(e,n+`_end${t.length}`,i.endRng);return t.concat([{...i,endMarker:o}])}),[]);return ve(i,((t,o)=>{const r=i.length-t.length-1,a=$q(o.pattern)?o.endMarker:Mq(e,n+`_start${r}`,o.startRng);return t.concat([{...o,startMarker:a}])}),[])},Vq=(e,t,n)=>{const i=e.selection.getRng();return!1===i.collapsed?[]:Eq(e,i).bind((o=>{const r=Math.max(0,i.startOffset-(n?1:0));return Hq(e,t,i.startContainer,r,o)})).fold((()=>[]),(e=>e.matches))},Yq=(e,t)=>{if(0===t.length)return;const n=e.dom,i=e.selection.getBookmark(),o=Wq(n,t);pe(o,(t=>{const i=n.getParent(t.startMarker.start,n.isBlock),o=e=>e===i;$q(t.pattern)?qq(e,t.pattern,t.endMarker,o):Uq(e,t.pattern,t.startMarker,t.endMarker,o),Lq(n,t.endMarker,o),Lq(n,t.startMarker,o)})),e.selection.moveToBookmark(i)},Kq=e=>e.inlinePatterns.length>0||e.blockPatterns.length>0,Gq=(e,t)=>{if(!e.selection.isCollapsed()||!Kq(t))return!1;const n=Vq(e,t.inlinePatterns,!1),i=Dq(e,t.blockPatterns);return(i.length>0||n.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(Jr),Yq(e,n),Iq(e,i);const t=e.selection.getRng(),o=G$(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),o.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===Jr&&(n.deleteData(t.offset-1,1),kq(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)},Qq=(e,t)=>{if(t.length>0){const n=Vq(e,t,!0);n.length>0&&e.undoManager.transact((()=>{Yq(e,n)}))}},Xq=(e,t,n)=>{for(let i=0;i<e.length;i++)if(n(e[i],t))return!0;return!1},Zq=(e,t)=>Xq(e,t,((e,t)=>e===t.keyCode&&!1===Og.modifierPressed(t))),Jq=(e,t)=>Xq(e,t,((e,t)=>e.charCodeAt(0)===t.charCode)),eU=e=>{const t=[",",".",";",":","!","?"],n=[32],i=()=>Uu(Ah(e)),o=()=>qu(Ah(e));e.on("keydown",(t=>{13!==t.keyCode||Og.modifierPressed(t)||Gq(e,i())&&t.preventDefault()}),!0),e.on("keyup",(t=>{Zq(n,t)&&Qq(e,o())})),e.on("keypress",(n=>{Jq(t,n)&&Ob.setEditorTimeout(e,(()=>{Qq(e,o())}))}))},tU=e=>{eU(e)},nU=e=>{const t=xn.each,n=Og.BACKSPACE,i=Og.DELETE,o=e.dom,r=e.selection,a=e.parser,s=mn.browser,l=s.isFirefox(),c=s.isChromium()||s.isSafari(),u=mn.deviceType.isiPhone()||mn.deviceType.isiPad(),d=mn.os.isMacOS()||mn.os.isiOS(),h=(t,n)=>{try{e.getDoc().execCommand(t,!1,n)}catch(e){}},p=e=>e.isDefaultPrevented(),f=()=>{const t=e=>{const t=o.create("body"),n=e.cloneContents();return t.appendChild(n),r.serializer.serialize(t,{format:"html"})},a=n=>{const i=t(n),r=o.createRng();r.selectNode(e.getBody());return i===t(r)};e.on("keydown",(t=>{const r=t.keyCode;let s,l;if(!p(t)&&(r===i||r===n)){if(s=e.selection.isCollapsed(),l=e.getBody(),s&&!o.isEmpty(l))return;if(!s&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),l.firstChild&&o.isBlock(l.firstChild)?e.selection.setCursorLocation(l.firstChild,0):e.selection.setCursorLocation(l,0),e.nodeChanged()}}))},m=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},g=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=r.getRng(),e.getBody().focus(),"mousedown"===t.type){if(_a(n.startContainer))return;r.placeCaretAt(t.clientX,t.clientY)}else r.setRng(n)}))},v=()=>{e.on("keydown",(t=>{if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(r.isCollapsed()&&0===r.getRng().startOffset){const e=r.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return o.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(o.remove(n),t.preventDefault())}}}))},b=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!p(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Ob.setEditorTimeout(e,(()=>{t.focus()}))}}))},y=()=>{const t=ch(e);e.on("click",(n=>{const i=n.target;/^(IMG|HR)$/.test(i.nodeName)&&"false"!==o.getContentEditableParent(i)&&(n.preventDefault(),e.selection.select(i),e.nodeChanged()),"A"===i.nodeName&&o.hasClass(i,t)&&0===i.childNodes.length&&(n.preventDefault(),r.select(i))}))},w=()=>{const n=()=>{const n=o.getAttribs(r.getStart().cloneNode(!1));return()=>{const i=r.getStart();i!==e.getBody()&&(o.setAttrib(i,"style",null),t(n,(e=>{i.setAttributeNode(e.cloneNode(!0))})))}},i=()=>!r.isCollapsed()&&o.getParent(r.getStart(),o.isBlock)!==o.getParent(r.getEnd(),o.isBlock);e.on("keypress",(t=>{let o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&i())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1})),o.bind(e.getDoc(),"cut",(t=>{let o;!p(t)&&i()&&(o=n(),Ob.setEditorTimeout(e,(()=>{o()})))}))},_=()=>{e.on("keydown",(e=>{if(!p(e)&&e.keyCode===n&&r.isCollapsed()&&0===r.getRng().startOffset){const t=r.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},C=()=>{e.on("keydown",(t=>{let n,i;if(p(t)||t.keyCode!==Og.BACKSPACE)return;n=r.getRng();const a=n.startContainer,s=n.startOffset,l=o.getRoot();if(i=a,n.collapsed&&0===s){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==l;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(e.formatter.toggle("blockquote",null,i),n=o.createRng(),n.setStart(a,0),n.setEnd(a,0),r.setRng(n))}}))},x=()=>{const t=()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),Ld(e)||h("enableObjectResizing",!1)};nh(e)||e.on("BeforeExecCommand mousedown",t)},k=()=>{const n=()=>{t(o.select("a"),(e=>{let t=e.parentNode;const n=o.getRoot();if(t.lastChild===e){for(;t&&!o.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))},S=()=>{e.on("init",(()=>{h("DefaultParagraphSeparator",ld(e))}))},E=e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length},T=()=>{e.on("keyup focusin mouseup",(t=>{Og.modifierPressed(t)||E(e)||r.normalize()}),!0)},A=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},O=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},D=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},I=()=>{d&&e.on("keydown",(t=>{if(Og.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},P=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},N=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},M=()=>{a.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))},L=V,$=()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount},j=()=>{c&&(g(),y(),N(),m(),u&&(O(),D(),P())),l&&(b(),x(),A(),I())},R=()=>{C(),f(),mn.windowsPhone||T(),c&&(g(),y(),S(),N(),_(),M(),u?(O(),D(),P()):m()),l&&(v(),b(),w(),x(),k(),A(),I(),_())};return PA(e)?j():R(),{refreshContentEditable:L,isHidden:$}},iU=vl.DOM,oU=(e,t)=>{const n=gi.fromDom(e.getBody()),i=Vi(Wi(n)),o=gi.fromTag("style");Un(o,"type","text/css"),ho(o,gi.fromText(t)),ho(i,o),e.on("remove",(()=>{vo(o)}))},rU=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,aU=e=>qe(e,(e=>!1===B(e))),sU=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return aU({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:rU(e),validate:!0,blob_cache:n,document:e.getDoc()})},lU=e=>{const t=e.options.get;return aU({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},cU=e=>{const t=e.options.get;return{...sU(e),...lU(e),...aU({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},uU=e=>{const t=iT(sU(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{let i,o,r=t.length;const a=e.dom,s="data-mce-"+n;for(;r--;)if(i=t[r],o=i.attr(n),o&&!i.attr(s)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),i.name),o.length||(o=null),i.attr(s,o),i.attr(n,o)):"tabindex"===n?(i.attr(s,o),i.attr(n,null)):i.attr(s,e.convertURL(o,n,i.name))}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],i=n.attr("type")||"no/type";0!==i.indexOf("mce-")&&n.attr("type","mce-"+i)}})),e.options.get("preserve_cdata")&&t.addNodeFilter("#cdata",(t=>{let n=t.length;for(;n--;){const i=t[n];i.type=8,i.name="#comment",i.value="[CDATA["+e.dom.encode(i.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const i=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(i)&&0===e.getAll("br").length&&e.append(new Ay("br",1))}})),t},dU=e=>{const t=fh(e);t&&Ob.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n.destroyed||n.focus()}),100)},hU=e=>{const t=e.dom.getRoot();e.inline||Um(e)&&e.selection.getStart(!0)!==t||sf(t).each((t=>{const n=t.getNode(),i=Xo(n)?sf(n).getOr(t):t;e.selection.setRng(i.toRange())}))},pU=e=>{e.bindPendingEventDelegates(),e.initialized=!0,fg(e),e.focus(!0),hU(e),e.nodeChanged({initial:!0});const t=hh(e);q(t)&&t.call(e,e),dU(e)},fU=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,mU=(e,t,n)=>{const i=[fU(e).loadAll(t)];return e.inline?i:i.concat([e.ui.styleSheetLoader.loadAll(n)])},gU=e=>{const t=fU(e),n=Pd(e),i=e.contentCSS,o=()=>{t.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(n)},r=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let t="";xn.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const a=Promise.all(mU(e,i,n)).then(r).catch(r),s=Id(e);return s&&oU(e,s),a},vU=e=>{const t=e.getDoc(),n=e.getBody();hg(e),mh(e)||(t.body.spellcheck=!1,iU.setAttrib(n,"spellcheck","false")),e.quirks=nU(e),pg(e);const i=Nd(e);void 0!==i&&(n.dir=i);const o=gh(e);o&&e.on("BeforeSetContent",(e=>{xn.each(o,(t=>{e.content=e.content.replace(t,(e=>"<!--mce:protected "+escape(e)+"-->"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))},bU=e=>{PA(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},yU=e=>{!0!==e.removed&&(bU(e),pU(e))},wU=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(iU.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const i=e.getBody();i.disabled=!0,e.readonly=nh(e),e.readonly||(e.inline&&"static"===iU.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=tI(e),e.schema=Vs(lU(e)),e.dom=vl(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:()=>e.inline,schema:e.schema,contentCssCors:kd(e),referrerPolicy:Sd(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=uU(e),e.serializer=RO(cU(e),e),e.selection=SO(e.dom,e.getWin(),e.serializer,e),e.annotator=ng(e),e.formatter=mI(e),e.undoManager=yI(e),e._nodeChangeDispatcher=new HB(e),e._selectionOverrides=bq(e),oL(e),gz(e),gL(e),PA(e)||(Tz(e),tU(e));const o=BB(e);JM(e,o),hL(e),TI(e),pz(e);const r=MA(e);vU(e),r.fold((()=>{gU(e).then((()=>yU(e)))}),(t=>{e.setProgressState(!0),gU(e).then((()=>{t().then((()=>{e.setProgressState(!1),yU(e),lO(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),yU(e),lO(e)}))}))}))},_U=(e,t)=>{if(e.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline)wU(e);else{const t=e.iframeElement,n=qD(gi.fromDom(t),"load",(()=>{n.unbind(),e.contentDocument=t.contentDocument,wU(e)}));if(mn.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML}},CU=vl.DOM,xU=(e,t,n,i)=>{const o=gi.fromTag("iframe");return i.each((e=>Un(o,"tabindex",e))),Wn(o,n),Wn(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ai(o,"tox-edit-area__iframe"),o},kU=e=>{let t=nd(e)+"<html><head>";id(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=od(e),i=rd(e),o=e.translate(uh(e));return ad(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+ad(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t},SU=(e,t)=>{const n=e.translate("Rich Text Area"),i=Yn(gi.fromDom(e.getElement()),"tabindex").bind(It),o=xU(e.id,n,td(e),i).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=kU(e),CU.add(t.iframeContainer,o)},EU=(e,t)=>{SU(e,t),t.editorContainer&&(CU.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=CU.isHidden(t.editorContainer)),e.getElement().style.display="none",CU.setAttrib(e.id,"aria-hidden","true"),_U(e)},TU=vl.DOM,AU=(e,t,n)=>{const i=_D.get(n),o=_D.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=xn.trim(n),i&&-1===xn.inArray(t,n)){if(e.plugins[n])return;try{const r=i(e,o)||{};e.plugins[n]=r,q(r.init)&&(r.init(e,o),t.push(n))}catch(t){LD(e,n,t)}}},OU=e=>e.replace(/^\-/,""),DU=e=>{const t=[];pe(oh(e),(n=>{AU(e,t,OU(n))}))},IU=e=>{const t=xn.trim(bd(e)),n=e.ui.registry.getAll().icons,i={...rD.get("default").icons,...rD.get(t).icons};je(i,((t,i)=>{Ye(n,i)||e.ui.registry.addIcon(i,t)}))},PU=e=>{const t=Bd(e);if(M(t)){const n=CD.get(t);e.theme=n(e,CD.urls[t])||{},q(e.theme.init)&&e.theme.init(e,CD.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},NU=e=>{const t=zd(e),n=aD.get(t);e.model=n(e,aD.urls[t])},MU=e=>e.theme.renderUI(),LU=e=>{const t=e.getElement(),n=Bd(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n},$U=e=>({editorContainer:e,iframeContainer:e,api:{}}),jU=e=>{const t=TU.create("div");return TU.insertAfter(t,e),$U(t)},RU=e=>{const t=e.getElement();return e.inline?$U(null):jU(t)},FU=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,M(Bd(e))?MU(e):q(Bd(e))?LU(e):RU(e)},BU=(e,t)=>{const n={show:oe.from(t.show).getOr(V),hide:oe.from(t.hide).getOr(V),isEnabled:oe.from(t.isEnabled).getOr(ie),setEnabled:n=>{e.mode.isReadOnly()||oe.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}},HU=e=>{e.dispatch("ScriptsLoaded"),IU(e),PU(e),NU(e),DU(e);const t=FU(e);BU(e,oe.from(t.api).getOr({}));const n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,HD(e),e.inline?_U(e):EU(e,n)},zU=vl.DOM,qU=e=>"-"===e.charAt(0),UU=(e,t)=>{const n=Ed(t),i=Td(t);if(!1===Nl.hasCode(n)&&"en"!==n){const o=At(i)?i:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch((()=>{PD(t,o,n)}))}},WU=(e,t)=>{const n=Bd(e);if(M(n)&&!qU(n)&&!Ye(CD.urls,n)){const i=Hd(e),o=i?e.documentBaseURI.toAbsolute(i):`themes/${n}/theme${t}.js`;CD.load(n,o).catch((()=>{ND(e,o,n)}))}},VU=(e,t)=>{const n=zd(e);if("plugin"!==n&&!Ye(aD.urls,n)){const i=qd(e),o=M(i)?e.documentBaseURI.toAbsolute(i):`models/${n}/model${t}.js`;aD.load(n,o).catch((()=>{MD(e,o,n)}))}},YU=e=>oe.from(yd(e)).filter(At).map((e=>({url:e,name:oe.none()}))),KU=(e,t,n)=>oe.from(t).filter((e=>At(e)&&!rD.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:oe.some(t)}))),GU=(e,t,n)=>{const i=KU(t,"default",n),o=YU(t).orThunk((()=>KU(t,bd(t),"")));pe(Sn([i,o]),(n=>{e.add(n.url).catch((()=>{ID(t,n.url,n.name.getOrUndefined())}))}))},QU=(e,t)=>{const n=(t,n)=>{_D.load(t,n).catch((()=>{DD(e,n,t)}))};je(rh(e),((t,i)=>{n(i,t),e.options.set("plugins",oh(e).concat(i))})),pe(oh(e),(e=>{!(e=xn.trim(e))||_D.urls[e]||qU(e)||n(e,`plugins/${e}/plugin${t}.js`)}))},XU=e=>{const t=Bd(e);return!M(t)||z(CD.get(t))},ZU=e=>{const t=zd(e);return z(aD.get(t))},JU=(e,t)=>{const n=xl.ScriptLoader,i=()=>{!e.removed&&XU(e)&&ZU(e)&&HU(e)};WU(e,t),VU(e,t),UU(n,e),GU(n,e,t),QU(e,t),n.loadQueue().then(i,i)},eW=(e,t)=>Ar.forElement(e,{contentCssCors:ih(t),referrerPolicy:Sd(t)}),tW=e=>{const t=e.id;Nl.setCode(Ed(e));const n=()=>{zU.unbind(window,"ready",n),e.render()};if(!sl.Event.domLoaded)return void zU.bind(window,"ready",n);if(!e.getElement())return;const i=gi.fromDom(e.getElement()),o=Xn(i);e.on("remove",(()=>{fe(i.dom.attributes,(e=>Gn(i,e.name))),Wn(i,o)})),e.ui.styleSheetLoader=eW(i,e),Gd(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const r=e.getElement().form||zU.getParent(t,"form");r&&(e.formElement=r,Qd(e)&&!Jo(e.getElement())&&(zU.insertAfter(zU.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},zU.bind(r,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Xd(e)||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)))),e.windowManager=kD(e),e.notificationManager=wD(e),Mh(e)&&e.on("GetContent",(e=>{e.save&&(e.content=zU.encode(e.content))})),Zd(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Jd(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),JU(e,e.suffix)},nW=(e,t)=>({sections:G(e),options:G(t)}),iW=ln().deviceType,oW=iW.isPhone(),rW=iW.isTablet(),aW=e=>{if(H(e))return[];{const t=j(e)?e:e.split(/[ ,]/),n=he(t,St);return ge(n,At)}},sW=(e,t)=>{const n=ze(t,((t,n)=>ue(e,n)));return nW(n.t,n.f)},lW=(e,t,n={})=>{const i=e.sections(),o=Ve(i,t).getOr({});return xn.extend({},n,o)},cW=(e,t)=>Ye(e.sections(),t),uW=(e,t)=>cW(e,t)?e.sections()[t]:{},dW=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ve(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),hW=(e,t)=>{var n;const i=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?xn.extend({},e.external_plugins,i):i},pW=(e,t)=>[].concat(aW(e)).concat(aW(t)),fW=(e,t,n,i)=>e&&cW(t,"mobile")?i:n,mW=(e,t,n,i)=>{const o=aW(n.forced_plugins),r=aW(i.plugins),a=uW(t,"mobile"),s=a.plugins?aW(a.plugins):r,l=fW(e,t,r,s),c=pW(o,l);return xn.extend(i,{forced_plugins:o,plugins:c})},gW=(e,t)=>e&&cW(t,"mobile"),vW=(e,t,n,i,o)=>{var r;const a=e?{mobile:dW(null!==(r=o.mobile)&&void 0!==r?r:{},t)}:{},s=sW(["mobile"],Mj(a,o)),l=xn.extend(n,i,s.options(),gW(e,s)?lW(s,"mobile"):{},{external_plugins:hW(i,s.options())});return mW(e,s,i,l)},bW=(e,t)=>vW(oW||rW,oW,t,e,t),yW=(e,t)=>sO(e,t),wW=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()},n=n=>()=>{pe("left,center,right,justify".split(","),(t=>{n!==t&&e.formatter.remove("align"+t)})),"none"!==n&&t("align"+n)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},_W=e=>{const t=t=>()=>{const n=e.selection,i=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return de(i,(n=>z(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},CW=e=>{wW(e),_W(e)},xW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let i;try{n.execCommand(t)}catch(e){i=!0}if("paste"!==t||n.queryCommandEnabled(t)||(i=!0),i||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(mn.os.isMacOS()||mn.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:t,type:"error"})}}})},kW=(e,t,n)=>{const i=gi.fromDom(e.getRoot());return n=zw(i,Qc.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=Uw(i,Qc.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")},SW=e=>{if("string"!=typeof e){const t=xn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},EW=(e,t)=>{const n=e.selection,i=e.dom;return/^ | $/.test(t)?kW(i,n.getRng(),t):t},TW=(e,t)=>{const{content:n,details:i}=SW(t);lT(e,{content:EW(e,n),format:"html",set:!1,selection:!0,paste:i.paste}).each((t=>{const n=rO(e,t.content,i);cT(e,n,t),e.addVisual()}))},AW=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,i)=>{TW(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,i)=>{TW(e,e.dom.encode(i))},insertHTML:(t,n,i)=>{TW(e,i)},mceInsertContent:(t,n,i)=>{TW(e,i)},mceSetContent:(t,n,i)=>{e.setContent(i)},mceReplaceContent:(t,n,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})},OW={"font-size":"size","font-family":"face"},DW=(e,t,n)=>{const i=t=>oo(t,e).orThunk((()=>"font"===Mn(t)?Ve(OW,e).bind((e=>Yn(t,e))):oe.none())),o=e=>Ci(gi.fromDom(t),e);return Vx(gi.fromDom(n),(e=>i(e)),o)},IW=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),PW=(e,t)=>oe.from(vl.DOM.getStyle(t,e,!0)),NW=e=>(t,n)=>oe.from(n).map(gi.fromDom).filter(Rn).bind((n=>DW(e,t,n.dom).or(PW(e,n.dom)))).getOr(""),MW=NW("font-size"),LW=Y(IW,NW("font-family")),$W=e=>sf(e.getBody()).map((e=>{const t=e.container();return er(t)?t.parentNode:t})),jW=e=>oe.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?oe.none():oe.from(e.selection.getStart(!0))})),RW=(t,n)=>jW(t).orThunk(e($W,t)).map(gi.fromDom).filter(Rn).bind(n),FW=(e,t)=>RW(e,K(oe.some,t)),BW=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const i=Ph(e),o=Nh(e);return o?o[n-1]||t:i[n-1]||t}return t}return t},HW=e=>{const t=e.split(/\s*,\s*/);return he(t,(e=>-1===e.indexOf(" ")||Ct(e,'"')||Ct(e,"'")?e:`'${e}'`)).join(",")},zW=(e,t)=>{const n=BW(e,t);e.formatter.toggle("fontname",{value:HW(n)}),e.nodeChanged()},qW=e=>FW(e,(t=>LW(e.getBody(),t.dom))).getOr(""),UW=(e,t)=>{e.formatter.toggle("fontsize",{value:BW(e,t)}),e.nodeChanged()},WW=e=>FW(e,(t=>MW(e.getBody(),t.dom))).getOr(""),VW=t=>FW(t,(n=>{const i=gi.fromDom(t.getBody()),o=Vx(n,(e=>oo(e,"line-height")),e(Ci,i)),r=()=>{const e=parseFloat(no(n,"line-height")),t=parseFloat(no(n,"font-size"));return String(e/t)};return o.getOrThunk(r)})).getOr(""),YW=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},KW=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,i)=>{t(e,{value:i})},BackColor:(e,n,i)=>{t("hilitecolor",{value:i})},FontName:(t,n,i)=>{zW(e,i)},FontSize:(t,n,i)=>{UW(e,i)},LineHeight:(t,n,i)=>{YW(e,i)},Lang:(e,n,i)=>{t(e,{value:i.code,customValue:i.customCode})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,i)=>{t(M(i)?i:"p")},mceToggleFormat:(e,n,i)=>{t(i)}})},GW=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>qW(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>WW(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>VW(e)))},QW=e=>{KW(e),GW(e)},XW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ZW=e=>{e.editorCommands.addCommands({Indent:()=>{YM(e)},Outdent:()=>{KM(e)}}),e.editorCommands.addCommands({Outdent:()=>zM(e)},"state")},JW=e=>{const t=(t,n,i)=>{const o=M(i)?{href:i}:i,r=e.dom.getParent(e.selection.getNode(),"a");L(o)&&M(o.href)&&(o.href=o.href.replace(/ /g,"%20"),r&&o.href||e.formatter.remove("link"),o.href&&e.formatter.apply("link",o,r))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})},eV=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const i=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(i)}}}})},tV=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")},nV=e=>{eV(e),tV(e)},iV=e=>{e.editorCommands.addCommands({insertParagraph:()=>{mB(HF,e)},mceInsertNewLine:(t,n,i)=>{gB(e,i)},InsertLineBreak:()=>{mB(JF,e)}})},oV=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,i)=>{let o=0;e.dom.getParent(e.selection.getNode(),(t=>{if(1===t.nodeType&&o++===i)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:(t,n,i)=>{e.selection.select(i)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),lr);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},rV=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,i)=>{const o=null!=i?i:e.selection.getNode();if(o!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,i)=>{iy(e,i)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},aV=e=>{CW(e),xW(e),XW(e),oV(e),AW(e),JW(e),ZW(e),iV(e),nV(e),QW(e),rV(e)};class sV{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t,n,i){const o=this.editor,r=e.toLowerCase(),a=null==i?void 0:i.skip_focus;if(o.removed)return!1;"mcefocus"!==r&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(r)||a?Sb(o):o.focus());if(o.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const s=this.commands.exec[r];return!!q(s)&&(s(r,t,n),o.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!q(n)&&n(t)}queryCommandValue(e){if(this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return q(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;je(e,((e,i)=>{pe(i.toLowerCase().split(","),(i=>{n[t][i]=e}))}))}addCommand(e,t,n){const i=e.toLowerCase();this.commands.exec[i]=(e,i,o)=>t.call(null!=n?n:this.editor,i,o)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const lV="data-mce-contenteditable",cV=(e,t,n)=>{ui(e,t)&&!1===n?li(e,t):n&&ai(e,t)},uV=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},dV=(e,t)=>{e.dom.contentEditable=t?"true":"false"},hV=e=>{pe(oa(e,'*[contenteditable="true"]'),(e=>{Un(e,lV,"true"),dV(e,!1)}))},pV=e=>{
pe(oa(e,`*[${lV}="true"]`),(e=>{Gn(e,lV),dV(e,!0)}))},fV=e=>{oe.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))},mV=e=>{e.selection.setRng(e.selection.getRng())},gV=(e,t)=>{const n=gi.fromDom(e.getBody());cV(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),fV(e),e.readonly=!0,dV(n,!1),hV(n)):(e.readonly=!1,dV(n,!0),pV(n),uV(e,"StyleWithCSS",!1),uV(e,"enableInlineTableEditing",!1),uV(e,"enableObjectResizing",!1),ey(e)&&e.focus(),mV(e),e.nodeChanged())},vV=e=>e.readonly,bV=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{vV(e)&&pe(t,(e=>{e.attr(lV,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(lV,(t=>{vV(e)&&pe(t,(e=>{e.attr("contenteditable",e.attr(lV))}))})),e.serializer.addTempAttr(lV)},yV=e=>{e.serializer?bV(e):e.on("PreInit",(()=>{bV(e)}))},wV=e=>"click"===e.type,_V=["copy"],CV=e=>ue(_V,e.type),xV=(e,t)=>{const n=t=>Ci(t,gi.fromDom(e.getBody()));return Sr(t,"a",n).bind((e=>Yn(e,"href")))},kV=(e,t)=>{if(wV(t)&&!Og.metaKeyPressed(t)){const n=gi.fromDom(t.target);xV(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${wt(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else CV(t)&&e.dispatch(t.type,t)},SV=e=>{e.on("ShowCaret",(t=>{vV(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{vV(e)&&t.preventDefault()}))},EV=xn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class TV{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ne}static isNative(e){return!!EV[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),i=Js(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const o=this.bindings[n];if(o)for(let e=0,t=o.length;e<t;e++){const t=o[e];if(!t.removed){if(t.once&&this.off(n,t.func),i.isImmediatePropagationStopped())return i;if(!1===t.func.call(this.scope,i))return i.preventDefault(),i}}return i}on(e,t,n,i){if(!1===t&&(t=ne),t){const o={func:t,removed:!1};i&&xn.extend(o,i);const r=e.toLowerCase().split(" ");let a=r.length;for(;a--;){const e=r[a];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[o,...t]:[...t,o],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let i=n.length;for(;i--;){const o=n[i];let r=this.bindings[o];if(!o)return je(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(r){if(t){const e=me(r,(e=>e.func===t));r=e.fail,this.bindings[o]=r,pe(e.pass,(e=>{e.removed=!0}))}else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[o])}}}else je(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)}}const AV=e=>(e._eventDispatcher||(e._eventDispatcher=new TV({scope:e,toggleEvent:(t,n)=>{TV.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),OV={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const i=this;if(i.removed&&"remove"!==e&&"detach"!==e)return Js(e.toLowerCase(),null!=t?t:{},i);const o=AV(i).dispatch(e,t);if(!1!==n&&i.parent){let t=i.parent();for(;t&&!o.isPropagationStopped();)t.dispatch(e,o,!1),t=t.parent()}return o},on(e,t,n){return AV(this).on(e,t,n)},off(e,t){return AV(this).off(e,t)},once(e,t){return AV(this).once(e,t)},hasEventListeners(e){return AV(this).has(e)}},DV=vl.DOM;let IV;const PV=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;const n=Rd(e);return n?(e.eventRoot||(e.eventRoot=DV.select(n)[0]),e.eventRoot):e.getBody()},NV=e=>!e.hidden&&!vV(e),MV=(e,t,n)=>{NV(e)?e.dispatch(t,n):vV(e)&&kV(e,n)},LV=(e,t)=>{let n;if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const i=PV(e,t);if(Rd(e)){if(IV||(IV={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||IV&&(je(IV,((t,n)=>{e.dom.unbind(PV(e,n))})),IV=null)}))),IV[t])return;n=n=>{const i=n.target,o=e.editorManager.get();let r=o.length;for(;r--;){const e=o[r].getBody();(e===i||DV.isChildOf(i,e))&&MV(o[r],t,n)}},IV[t]=n,DV.bind(i,t,n)}else n=n=>{MV(e,t,n)},DV.bind(i,t,n),e.delegates[t]=n},$V={...OV,bindPendingEventDelegates(){const e=this;xn.each(e._pendingNativeEvents,(t=>{LV(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?LV(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(PV(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(je(e.delegates,((t,n)=>{e.dom.unbind(PV(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},jV=e=>M(e)?{value:e.split(/[ ,]/),valid:!0}:W(e,M)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},RV=e=>{const t=(()=>{switch(e){case"array":return j;case"boolean":return F;case"function":return q;case"number":return U;case"object":return L;case"string":return M;case"string[]":return jV;case"object[]":return e=>W(e,L);case"regexp":return e=>N(e,RegExp)}})();return n=>zV(n,t,`The value must be a ${e}.`)},FV=e=>M(e.processor),BV=(e,t)=>e+(Ot(t.message)?"":`. ${t.message}`),HV=e=>e.valid,zV=(e,t,n="")=>{const i=t(e);return F(i)?i?{value:e,valid:!0}:{valid:!1,message:n}:i},qV=(e,t,n)=>{if(!B(t)){const i=zV(t,n);if(HV(i))return i.value;console.error(BV(`Invalid default value passed for the "${e}" option`,i))}},UV=(e,t)=>{const n={},i={},o=(e,t,n)=>{const o=zV(t,n);return HV(o)?(i[e]=o.value,!0):(console.warn(BV(`Invalid value passed for the ${e} option`,o)),!1)},r=(e,r)=>{const a=FV(r)?RV(r.processor):r.processor,s=qV(e,r.default,a);n[e]={...r,default:s,processor:a};Ve(i,e).orThunk((()=>Ve(t,e))).each((t=>o(e,t,a)))},a=e=>Ye(n,e),s=e=>Ve(i,e).orThunk((()=>Ve(n,e).map((e=>e.default)))).getOrUndefined(),l=(e,t)=>{if(a(e)){const i=n[e];return i.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):o(e,t,i.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},c=e=>{const t=a(e);return t&&delete i[e],t},u=e=>Ye(i,e);return{register:r,isRegistered:a,get:s,set:l,unset:c,isSet:u}},WV=["design","readonly"],VV=(e,t,n,i)=>{const o=n[t.get()],r=n[i];try{r.activate()}catch(e){return void console.error(`problem while activating editor mode ${i}:`,e)}o.deactivate(),o.editorReadOnly!==r.editorReadOnly&&gV(e,r.editorReadOnly),t.set(i),cg(e,i)},YV=(e,t,n,i)=>{if(i!==n.get()){if(!Ye(t,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?VV(e,n,t,i):e.on("init",(()=>VV(e,n,t,i)))}},KV=(e,t,n)=>{if(ue(WV,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},GV=e=>{const t=kl("design"),n=kl({design:{activate:V,deactivate:V,editorReadOnly:!1},readonly:{activate:V,deactivate:V,editorReadOnly:!0}});return yV(e),SV(e),{isReadOnly:()=>vV(e),set:i=>YV(e,n.get(),t,i),get:()=>t.get(),register:(e,t)=>{n.set(KV(n.get(),e,t))}}},QV=xn.each,XV=xn.explode,ZV={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},JV=xn.makeMap("alt,ctrl,shift,meta,access"),eY=e=>{let t;const n={},i=mn.os.isMacOS()||mn.os.isiOS();QV(XV(e.toLowerCase(),"+"),(e=>{e in JV?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=ZV[e]||e.toUpperCase().charCodeAt(0))}));const o=[n.keyCode];for(t in JV)n[t]?o.push(t):n[t]=!1;return n.id=o.join(","),n.access&&(n.alt=!0,i?n.ctrl=!0:n.shift=!0),n.meta&&(i?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class tY{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(QV(t.shortcuts,(n=>{if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,i){const o=this,r=o.normalizeCommandFunc(n);return QV(XV(xn.trim(e)),(e=>{const n=o.createShortcut(e,t,r,i);o.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:xn.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,i){const o=xn.map(XV(e,">"),eY);return o[o.length-1]=xn.extend(o[o.length-1],{func:n,scope:i||this.editor}),xn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const nY=()=>{const e={},t={},n={},i={},o={},r={},a={},s=(e,t)=>(n,i)=>e[n.toLowerCase()]={...i,type:t},l=(e,t)=>i[e.toLowerCase()]=t;return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(r,"contexttoolbar"),addContextForm:s(r,"contextform"),addSidebar:s(a,"sidebar"),addIcon:l,getAll:()=>({buttons:e,menuItems:t,icons:i,popups:n,contextMenus:o,contextToolbars:r,sidebars:a})}},iY=()=>{const e=nY();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},oY=vl.DOM,rY=xn.extend,aY=xn.each;class sY{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,rY(this,$V);const i=this;this.id=e,this.hidden=!1;const o=bW(n.defaultOptions,t);this.options=UV(i,o),ed(i);const r=this.options.get;r("deprecation_warnings")&&QO(t,o);const a=r("suffix");a&&(n.suffix=a),this.suffix=n.suffix;const s=r("base_url");s&&n._setBaseUrl(s),this.baseUri=n.baseURI;const l=Sd(i);l&&(xl.ScriptLoader._setReferrerPolicy(l),vl.DOM.styleSheetLoader._setReferrerPolicy(l)),Ml.languageLoad=r("language_load"),Ml.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new WE(id(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Gd(i),this.shortcuts=new tY(this),this.editorCommands=new sV(this),aV(this);const c=r("cache_suffix");c&&(mn.cacheSuffix=c.replace(/^[\?\&]+/,"")),this.ui={registry:iY(),styleSheetLoader:void 0,show:V,hide:V,setEnabled:V,isEnabled:ie},this.mode=GV(i),n.dispatch("SetupEditor",{editor:this});const u=dh(i);q(u)&&u.call(i,i)}render(){tW(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return Jb(this)}translate(e){return Nl.translate(e)}getParam(e,t,n){const i=this.options;return i.isRegistered(e)||(z(n)?i.register(e,{processor:n,default:t}):i.register(e,{processor:ie,default:t})),i.isSet(e)||B(t)?i.get(e):t}hasPlugin(e,t){return!!ue(oh(this),e)&&(!t||void 0!==_D.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,i){this.shortcuts.add(e,t,n,i)}execCommand(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(oY.show(e.getContainer()),oY.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(oY.hide(e.getContainer()),oY.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e){const t=this;let n,i=t.getElement();if(t.removed)return"";if(i){(e=e||{}).load=!0;const o=Jo(i)?i.value:i.innerHTML;return n=t.setContent(o,e),e.element=i,e.no_events||t.dispatch("LoadContent",e),e.element=i=null,n}}save(e){const t=this;let n,i,o=t.getElement();if(o&&t.initialized&&!t.removed)return(e=e||{}).save=!0,e.element=o,n=e.content=t.getContent(e),e.no_events||t.dispatch("SaveContent",e),"raw"===e.format&&t.dispatch("RawSaveContent",e),n=e.content,Jo(o)?o.value=n:(!e.is_removing&&t.inline||(o.innerHTML=n),(i=oY.getParent(t.id,"form"))&&aY(i.elements,(e=>{if(e.name===t.id)return e.value=n,!1}))),e.element=o=null,!1!==e.set_dirty&&t.setDirty(!1),n}setContent(e,t){return UO(this,e,t)}getContent(e){return HO(this,e)}insertContent(e,t){t&&(e=rY({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?UO(this,this.startContent,{format:"raw"}):UO(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=oY.get(e.editorContainer||e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=oY.get(this.id)),this.targetElm}getWin(){const e=this;let t;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow}getDoc(){const e=this;let t;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument}getBody(){const e=this.getDoc();return this.bodyElement||(e?e.body:null)}convertURL(e,t,n){const i=this,o=i.options.get,r=ph(i);return q(r)?r.call(i,e,n,!0,t):!o("convert_urls")||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o("relative_urls")?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,o("remove_script_host"))}addVisual(e){yW(this,e)}remove(){nD(this)}destroy(e){iD(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const lY=vl.DOM,cY=xn.each;let uY,dY=!1,hY=[];const pY=e=>{const t=e.type;cY(bY.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},fY=e=>{if(e!==dY){const t=vl.DOM;e?(t.bind(window,"resize",pY),t.bind(window,"scroll",pY)):(t.unbind(window,"resize",pY),t.unbind(window,"scroll",pY)),dY=e}},mY=e=>{const t=hY;return hY=ge(hY,(t=>e!==t)),bY.activeEditor===e&&(bY.activeEditor=hY.length>0?hY[0]:null),bY.focusedEditor===e&&(bY.focusedEditor=null),t.length!==hY.length},gY=e=>(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(mY(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e),vY="CSS1Compat"!==document.compatMode,bY={...OV,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"1.2",releaseDate:"2022-07-29",i18n:Nl,activeEditor:null,focusedEditor:null,setup(){const e=this;let t,n,i="";n=WE.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,i=o.suffix;else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const o=e[n].src||"";if(""===o)continue;const r=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==r.indexOf(".min")&&(i=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(i=".min"),t=e.substring(0,e.lastIndexOf("/"))}}e.baseURL=new WE(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new WE(e.baseURL),e.suffix=i,qb(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;e.suffix&&(this.suffix=n),this.defaultOptions=e;const i=e.plugin_base_urls;void 0!==i&&je(i,((e,t)=>{Ml.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const i=xn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=(e,t)=>e.inline&&t.tagName.toLowerCase()in i,r=e=>{let t=e.id;return t||(t=Ve(e,"name").filter((e=>!lY.get(e))).getOrThunk(lY.uniqueId),e.setAttribute("id",t)),t},a=n=>{const i=e[n];if(i)return i.apply(t,[])},s=e=>mn.browser.isIE()||mn.browser.isEdge()?($D("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):vY?($D("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):M(e.selector)?lY.select(e.selector):z(e.target)?[e.target]:[];let l=e=>{n=e};const c=()=>{let n=0;const i=[];let u;const d=(e,o,r)=>{const a=new sY(e,o,t);i.push(a),a.on("init",(()=>{++n===u.length&&l(i)})),a.targetElm=a.targetElm||r,a.render()};lY.unbind(window,"ready",c),a("onpageload"),u=Me(s(e)),xn.each(u,(e=>{gY(t.get(e.id))})),u=xn.grep(u,(e=>!t.get(e.id))),0===u.length?l([]):cY(u,(t=>{o(e,t)?$D("Could not initialize inline editor on invalid inline target element",t):d(r(t),e,t)}))};return lY.bind(window,"ready",c),new Promise((e=>{n?e(n):l=t=>{e(t)}}))},get(e){return 0===arguments.length?hY.slice(0):M(e)?we(hY,(t=>t.id===e)).getOr(null):U(e)&&hY[e]?hY[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&hY.push(e),fY(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),uY||(uY=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",uY))),e},createEditor(e,t){return this.add(new sY(e,t,this))},remove(e){const t=this;let n,i;if(e){if(!M(e))return i=e,R(t.get(i.id))?null:(mY(i)&&t.dispatch("RemoveEditor",{editor:i}),0===hY.length&&window.removeEventListener("beforeunload",uY),i.remove(),fY(hY.length>0),i);cY(lY.select(e),(e=>{i=t.get(e.id),i&&t.remove(i)}))}else for(n=hY.length-1;n>=0;n--)t.remove(hY[n])},execCommand(e,t,n){var i;const o=this,r=L(n)?null!==(i=n.id)&&void 0!==i?i:n.index:n;switch(e){case"mceAddEditor":if(!o.get(r)){const e=n.options;new sY(r,e,o).render()}return!0;case"mceRemoveEditor":{const e=o.get(r);return e&&e.remove(),!0}case"mceToggleEditor":{const e=o.get(r);return e?(e.isHidden()?e.show():e.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,n)},triggerSave:()=>{cY(hY,(e=>{e.save()}))},addI18n:(e,t)=>{Nl.add(e,t)},translate:e=>Nl.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new WE(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new WE(this.baseURL)}};bY.setup();const yY=()=>{const e=$l(),t=e=>({items:e,types:Le(e),getType:t=>Ve(e,t).getOrUndefined()}),n=t=>{e.set(t)};return{FakeClipboardItem:t,write:n,read:()=>e.get().getOrUndefined(),clear:e.clear}},wY=yY(),_Y=Math.min,CY=Math.max,xY=Math.round,kY=(e,t,n)=>{let i=t.x,o=t.y;const r=e.w,a=e.h,s=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(o+=l),"r"===c[1]&&(i+=s),"c"===c[0]&&(o+=xY(l/2)),"c"===c[1]&&(i+=xY(s/2)),"b"===c[3]&&(o-=a),"r"===c[4]&&(i-=r),"c"===c[3]&&(o-=xY(a/2)),"c"===c[4]&&(i-=xY(r/2)),OY(i,o,r,a)},SY=(e,t,n,i)=>{let o,r;for(r=0;r<i.length;r++)if(o=kY(e,t,i[r]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return i[r];return null},EY=(e,t,n)=>OY(e.x-t,e.y-n,e.w+2*t,e.h+2*n),TY=(e,t)=>{const n=CY(e.x,t.x),i=CY(e.y,t.y),o=_Y(e.x+e.w,t.x+t.w),r=_Y(e.y+e.h,t.y+t.h);return o-n<0||r-i<0?null:OY(n,i,o-n,r-i)},AY=(e,t,n)=>{let i=e.x,o=e.y,r=e.x+e.w,a=e.y+e.h;const s=t.x+t.w,l=t.y+t.h,c=CY(0,t.x-i),u=CY(0,t.y-o),d=CY(0,r-s),h=CY(0,a-l);return i+=c,o+=u,n&&(r+=c,a+=u,i-=d,o-=h),r-=d,a-=h,OY(i,o,r-i,a-o)},OY=(e,t,n,i)=>({x:e,y:t,w:n,h:i}),DY=e=>OY(e.left,e.top,e.width,e.height),IY={inflate:EY,relativePosition:kY,findBestRelativePosition:SY,intersect:TY,clamp:AY,create:OY,fromClientRect:DY},PY=(e,t,n=1e3)=>{let i=!1,o=null;const r=e=>(...t)=>{i||(i=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))},a=r(e),s=r(t);return{start:(...e)=>{i||null!==o||(o=setTimeout((()=>s.apply(null,e)),n))},resolve:a,reject:s}},NY=()=>{const e={},t={},n=(n,i)=>{const o=`Script at URL "${i}" failed to load`,r=`Script at URL "${i}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const a=new Promise(((e,a)=>{const s=PY(e,a);t[n]=s.resolve,xl.ScriptLoader.loadScript(i).then((()=>s.start(r)),(()=>s.reject(o)))}));return e[n]=a,a}},i=(n,i)=>{void 0!==t[n]&&(t[n](i),delete t[n]),e[n]=Promise.resolve(i)};return{load:n,add:i,unload:t=>{delete e[t]}}},MY=NY(),LY=()=>(()=>{let e={},t=[];const n={getItem:t=>{const n=e[t];return n||null},setItem:(n,i)=>{t.push(n),e[n]=String(i)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let $Y;try{const e="__storage_test__";$Y=window.localStorage,$Y.setItem(e,e),$Y.removeItem(e)}catch(e){$Y=LY()}const jY={geom:{Rect:IY},util:{Delay:Ob,Tools:xn,VK:Og,URI:WE,EventDispatcher:TV,Observable:OV,I18n:Nl,LocalStorage:$Y,ImageUploader:eI},dom:{EventUtils:sl,TreeWalker:Or,TextSeeker:uc,DOMUtils:vl,ScriptLoader:xl,RangeUtils:Dv,Serializer:RO,StyleSheetLoader:Er,ControlSelection:$g,BookmarkManager:ig,Selection:SO,Event:sl.Event},html:{Styles:Ys,Entities:Ns,Node:Ay,Schema:Vs,DomParser:iT,Writer:Hy,Serializer:zy},Env:mn,AddOnManager:Ml,Annotator:ng,Formatter:mI,UndoManager:yI,EditorCommands:sV,WindowManager:kD,NotificationManager:wD,EditorObservable:$V,Shortcuts:tY,Editor:sY,FocusManager:Eb,EditorManager:bY,DOM:vl.DOM,ScriptLoader:xl.ScriptLoader,PluginManager:_D,ThemeManager:CD,ModelManager:aD,IconManager:rD,Resource:MY,FakeClipboard:wY,trim:xn.trim,isArray:xn.isArray,is:xn.is,toArray:xn.toArray,makeMap:xn.makeMap,each:xn.each,map:xn.map,grep:xn.grep,inArray:xn.inArray,extend:xn.extend,walk:xn.walk,resolve:xn.resolve,explode:xn.explode,_addCacheSuffix:xn._addCacheSuffix},RY=xn.extend(bY,jY),FY=e=>{if("object"==typeof module)try{module.exports=e}catch(e){}},BY=e=>{window.tinymce=e,window.tinyMCE=e};BY(RY),FY(RY)}(),$(document).ready((function(){var e=$("body").attr("editor_type");if("1"==e)var t={theme:"snow",modules:{toolbar:[["bold","italic","underline"],["image"]]}};if("0"==e)t={theme:"snow",modules:{toolbar:!1}};if("2"==e)t={theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],[{color:[]},{background:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["clean"],["image"]]}};Quilljs.setDefaults(t)}));var defaults={theme:!1,modules:{toolbar:!1}};Quilljs.setDefaults(defaults),Dropzone.options.myAwesomeDropzone=!1,Dropzone.autoDiscover=!1;var is_loading=!1,UploadStart=!1,text="";$(document).ready((function(){$(".tag").click((function(){var e=$(this).attr("tag_id"),t=$(this).attr("tag_document_id"),n=!$("#tagTrustInput_"+t).prop("checked");console.log(n),1==n?$(".inputTag_"+t).val(e):$(".inputTag_"+t).val("0"),$("#tagTrustInput_"+t).prop("checked",!$("#tagTrustInput_"+t).prop("checked")),$("#tagTrust_"+t).toggleClass("tag-checked"),$("#tagTrustIcon_"+t).toggleClass("fa-check")})),$(document).ready((function(){var e=0;$(".buttonclick").on("click",(function(){if(e>0)return!1;e++}))})),$((function(){$(".download_file").on("click",(function(e){e.preventDefault(),$("#loader").show(),$.fileDownload($(this).prop("href"),{successCallback:function(){$("#loader").hide()},failCallback:function(){$("#loader").hide()}})}))})),$("[name=share_later]").each((function(e){$(this).prop("checked")&&$(".share-suggestion").eq(e).addClass("on")})),$("[name=share_later]").on("change",(function(){$(this).prop("checked");var e=$("[name=share_later]").index(this);$(".share-suggestion").removeClass("on"),$(".share-suggestion").eq(e).addClass("on")})),$(document).ready((function(){$(".my-hamburger").click((function(){$(".transparent-header-without-shadow").toggleClass("thws-for-mobile"),$(".transparent-white-header").toggleClass("thws-for-mobile")}))})),$(".full_name_autofill").keyup((function(){$("#user_full_name").val($("#user_first_name").val()+" "+$("#user_family_name").val())})),$(".contact-tag").on("change",(function(){$(".contact-tag").not(this).prop("checked",!1)})),$("#close-cookie-popup-button").click((function(){setCookie("username",0!=$("#close-cookie-popup-button").attr("cookie_value")?1:0,365)})),checkCookie(),$("textarea").autoresize(),$(".colorpicker_full_color").colorpicker(),$(".dropzone").dropzone({clickable:!0,acceptedFiles:"image/*",maxFiles:50,addRemoveLinks:!0,maxfilesexceeded:function(e){this.removeFile(e)},queuecomplete:function(){UploadStart=!0}}),$(".donate_search").keyup((function(){window.history.replaceState(null,null,"?search="+$(this).val()),$(".charity-list").html(""),$.ajax({url:window.location.href,type:"GET",dataType:"script",success:function(){}})})),$(".btn-skip").click((function(){var e=$(this).attr("section"),t=$(this).attr("current");$("#"+e).show(),$("#"+t).hide()})),$(".contact-custom-check .opacity-0.position-absolute").click((function(){0==$(this).prop("checked")&&$(this).next(".unchecked").val("0"),1==$(this).prop("checked")&&$(this).next(".unchecked").val("1")})),$(".tg-check").click((function(){0==$(this).prop("checked")&&$(this).next(".unchecked").val("0"),1==$(this).prop("checked")&&$(this).next(".unchecked").val("1")})),$(document).ready((function(){$(".file_share_form").submit((function(){var e=$(this).attr("document_id");if($(".file_share_form.share_form_submit_"+e+" input:checkbox:checked").length>0);else{if(!$(this).hasClass("contact_present"))return alert("Please select one contact"),!1;if(!confirm("You will unshare this document with all your contacts. Are you sure?"))return!1}})),$(".file_key_pair_form").submit((function(){var e=$(this).attr("key_pair_id");if($(".file_key_pair_form.key_pair_form_submit_"+e+" input:checkbox:checked").length>0);else{if(!$(this).hasClass("contact_present"))return alert("Please select one contact"),!1;if(!confirm("You will unshare this note with all your contacts. Are you sure?"))return!1}})),$(".file_assets_form").submit((function(){var e=$(this).attr("asset_id");if($(".file_assets_form.assets_form_submit_"+e+" input:checkbox:checked").length>0);else{if(!$(this).hasClass("contact_present"))return alert("Please select one contact"),!1;if(!confirm("You will unshare this asset with all your contacts. Are you sure?"))return!1}})),$(".user_funeral_preference_share_form").submit((function(){var e=$(this).attr("user_funeral_preference_id");if($(".user_funeral_preference_share_form.user_funeral_preference_form_submit_"+e+" input:checkbox:checked").length>0);else{if(!$(this).hasClass("contact_present"))return alert("Please select one contact"),!1;if(!confirm("You will unshare this result with all your contacts. Are you sure?"))return!1}})),$(".file_share_result").submit((function(){var e=$(this).attr("result_id");if($(".file_share_result.result_form_submit_"+e+" input:checkbox:checked").length>0);else{if(!$(this).hasClass("contact_present"))return alert("Please select one contact"),!1;if(!confirm("You will unshare this result with all your contacts. Are you sure?"))return!1}})),$("#mpPPextraCkeck_1").click((function(){1==$(this).prop("checked")?$(".enable_takeaction").show():0==$(this).prop("checked")&&$(".enable_takeaction").hide()}))})),$(".org-back").click((function(){var e=$(this).attr("section"),t=$(this).attr("current");$("#"+e).show(),$("#"+t).hide()})),$(".org-next").click((function(){var e=$(this).attr("section"),t=$(this).attr("current");$(".onboarding-loading").show(),$((function(){setTimeout((function(){$(".onboarding-loading").hide()}),3e3)})),$("#"+e).show(),$("#"+t).hide()})),$(".user_search").keyup((function(){window.history.replaceState(null,null,"?search="+$(this).val()),$(".user-list").html(""),$.ajax({url:window.location.href,type:"GET",dataType:"script",success:function(){}})})),$(".asset_type").on("change",(function(){var e='<input class="form-control u-form__input my-form-control w-100" type="text" name="asset[asset_type]" required="true" placeholder="Other Asset Type" aria-label="Pixeel" >';"others"==$(this).value?$(".other_input").html(e):$(".other_input").html(" ")})),$(".contact_lists").click((function(){$(".contact_user_id").val($(this).attr("contact_user_id"))})),$(".document_file").click((function(){$(".share_document_id").val($(this).attr("share_document_id"))})),$(".document_tag_id").click((function(){$(".tag_name_id").val($(this).attr("document_tag_id"))})),$(".contact_tag_name_id").click((function(){$(".contact_tag_name_id").val($(this).attr("contact_tag_id"))})),$(".add_contact").click((function(){$(".add_contact_required").prop("required",!0)})),$(".image-section").click((function(){$("#parent").html(" "),$("#parent").attr("class",""),$("#parent").addClass($(this).attr("section"))})),$(".search_contact").keyup((function(){var e=$(this).val();$.get("/plannings/search_contact?q="+e,(function(){}))})),$(".document_search").keyup((function(){var e=$(this).val(),t=$("#document_id").val();$.get("/documents/search?document_id="+t+"&q="+e,(function(){}))})),$(".result_search").keyup((function(){var e=$(this).val(),t=$("#result_id").val();$.get("/form_results/result_search?result_id="+t+"&q="+e,(function(){}))})),$(".key_pair_search").keyup((function(){var e=$(this).val(),t=$("#key_pair_id").val();$.get("/notelist/search?key_pair_id="+t+"&q="+e,(function(){}))})),$(".asset_search").keyup((function(){var e=$(this).val(),t=$("#asset_id").val();$.get("/assets/search?asset_id="+t+"&q="+e,(function(){}))})),$(".contact_search").keyup((function(){var e=$(this).val();$.get("/people/search?q="+e,(function(){}))})),$(".contact_monitoring_search").keyup((function(){var e=$(this).val();$.get("/people/contact_search?q="+e,(function(){}))})),$(".file_search").keyup((function(){var e=$(this).val();$.get("/documents/file_search?q="+e,(function(){}))})),$(".contact_user_search").keyup((function(){var e=$(this).val();$.get("/plannings/contact_user_search?q="+e,(function(){}))})),$(".search_contact_acp_input").keyup((function(){var e=$(this).val();$.get("/plannings/search_contact_acp?q="+e+"&section="+$(this).attr("section_id"),(function(e){console.log(e)}))})),$(".search-suggestions").keyup((function(){var e=$(this).val();$.get("/categories/load_suggestions?search="+e,(function(){}))})),$(".topic-search-suggestions").keyup((function(){var e=$(this).attr("category-id"),t=$(this).val()
;$.get("/categories/load_topic_suggestions?search="+t+"&category_id="+e,(function(){}))})),$(".forum-search-suggestions").keyup((function(){var e=$(this).attr("messageboard-topic-name"),t=$(this).val();$.get("/forum/forums_question_suggestions?q="+t+"&messageboard_topic_name="+e,(function(e){console.log(e)}))})),$(".contact_list").click((function(){$(".contact_user_id").val($(this).attr("second_person_contact_user_id"))})),$(".pgeback").on("click",(function(){window.history.back()})),$("#headerToggler").click((function(){$("span#hamburgerTriggerWithMegamenu").toggleClass("is-active")})),$(document).on("click",'[data-toggle="lightbox"]',(function(e){e.preventDefault(),$(this).ekkoLightbox()})),$(".record-index").length>0&&$(window).scroll((function(){$(".pagination").length>0&&($(".pagination").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))})),$(".record-approved").length>0&&$(window).scroll((function(){$(".pagination").length>0&&($(".pagination").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))})),$(".record-delete").length>0&&$(window).scroll((function(){$(".pagination").length>0&&($(".pagination").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))})),$(".categories-index").length>0&&$(window).scroll((function(){$(".pagination").length>0&&($(".pagination").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))})),$(".topics_index").length>0&&$(window).scroll((function(){$(".pagination").length>0&&($(".pagination").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))}))})),$(window).on("load",(function(){$(".js-mega-menu").HSMegaMenu({event:"hover",pageContainer:$(".container"),breakpoint:767,hideTimeOut:0});var e=$(window).height();$("#image_detail").css({"max-height":e+"px",height:e+"px"}),$("#comment_detail").css({"max-height":e+"px",height:e+"px"});var t=e-50;$(".gallery_image").css({height:t+"px"}),$("#charityFilterModal").css({"max-height":e+"px",height:e+"px"}),$(".charity_list_div").css({});var n=e-70;$(".comment_section").css({height:n+"px"}),$("#comment_detail").on("hidden.bs.modal",(function(){$("body").css({overflow:"hidden"})})),$("#image_detail").on("hidden.bs.modal",(function(){$("body").css({overflow:"auto"})})),$("#image_detail").on("show.bs.modal",(function(){$("body").css({overflow:"hidden"})})),$(".js-breadcrumb-menu").HSMegaMenu({event:"hover",pageContainer:$(".container"),breakpoint:991,hideTimeOut:0});var i=new Date,o=i.getFullYear(),r=i.getMonth(),a=i.getDate();$(".form-control-datepicker").flatpickr({inline:!1,mode:"single",dateFormat:"d/m/Y",maxDate:new Date,minDate:new Date(o-200,r,a)}),$(".event-form-control-datepicker").flatpickr({inline:!1,mode:"single",dateFormat:"d/m/Y"}),$(".share-later-form-control-datepicker").flatpickr({inline:!1,mode:"single",dateFormat:"d/m/Y",minDate:new Date,maxDate:new Date(o+200,r,a)}),$.HSCore.components.HSScrollNav.init($("#scrollNav"),{duration:700}),$(".charity-list").length>0&&($(".checkbox").on("click",(function(){var e=this.value;if($(window).width()>991)var t=$(".mobile-hide input:checkbox:checked").map((function(){return this.value})).get();else t=$(".mobile_view_filter input:checkbox:checked").map((function(){return this.value})).get();if(console.log(t),0==$(this).prop("checked")){$(".check_"+e).attr("checked",!1);var n=this.value;t=jQuery.grep(t,(function(e){return e!=n}))}console.log(t),window.history.replaceState(null,null,"?filter="+t),$(".charity-list").html(""),$.ajax({url:window.location.href,type:"GET",dataType:"script",success:function(){}})})),$(window).scroll((function(){$(".pagination").length>0&&($(".pagination").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))}))),$(".image-list").length>0&&(console.log(2),$(window).scroll((function(){$(".pagination-flex").length>0&&($(".pagination-flex").offset().top-($(window).scrollTop()+$(window).height())<500&&0==is_loading&&(is_loading=!0,$("a[rel='next']").trigger("click")))})))})),$(window).on("load",(function(){$.HSCore.components.HSHeader.init($("#header")),$.HSCore.components.HSUnfold.init($("[data-unfold-target]"),{afterOpen:function(){$(this).find('input[type="search"]').focus()}}),$(window).scroll((function(){$(window).scrollTop()>=150?$(".topic_header").addClass("i-topics-nav-bg"):$(".topic_header").removeClass("i-topics-nav-bg")})),$.HSCore.components.HSMalihuScrollBar.init($(".js-scrollbar")),$.HSCore.components.HSFancyBox.init(".js-fancybox"),$.HSCore.components.HSHeaderFullscreen.init($("#fullscreen")),$.HSCore.helpers.HSHamburgers.init("#hamburgerTrigger"),$.HSCore.components.HSStepForm.init(".js-step-form"),$.HSCore.components.HSShowAnimation.init(".js-animation-link"),$.HSCore.components.HSSelectPicker.init(".js-select"),$.HSCore.components.HSValidation.init(".js-validate",{rules:{confirmPassword:{equalTo:"#password"}}}),$.HSCore.helpers.HSFocusState.init(),setTimeout((function(){$.HSCore.components.HSStickyBlock.init(".js-sticky-block")}),300),$.HSCore.components.HSCubeportfolio.init(".cbp"),$(".tel").intlTelInput({hiddenInput:""}),$.HSCore.components.HSOnScrollAnimation.init("[data-animation]")})),$(document).on("ready",(function(){$(".fil-input").on("change",(function(){$(this).val();$("#form-filter").submit()})),$(".monitoring_checkbox").on("change",(function(){this.checked?$.get("/en/email_settings?"+$(this).val()+"="+!0,(function(){})):$.get("/en/email_settings?"+$(this).val()+"="+!1,(function(){}))})),$("#notificationInvoker").on("click",(function(){$.get("/en/read_all_notifications",(function(){}))})),$(".monitoring_tab").on("click",(function(){var e=$(this).attr("tab_type");"sms"==e||"app"==e||"digitalKey"==e?$.get("/en/email_settings?class_name=all&monitoring_type="+$(this).attr("tab_type"),(function(){})):$.get("/en/email_settings?class_name=toggleclass&monitoring_type="+$(this).attr("tab_type"),(function(){}))})),$(".module-track-action").on("click",(function(){var e=$(this).attr("module_track_k"),t=$(this).attr("module_track_m"),n=$(this).attr("module_track_v");$.get("/en/module_track_action?module_track_k="+e+"&module_track_m="+t+"&module_track_v="+n,(function(){}))})),$("#takeActionCheck").on("click",(function(){var e=$(".planner_module_input").val();this.checked?($.get("/en/planner_module_progress?status=1&action_status=started&planner_module="+e,(function(){})),$.get("/en/user_module_action_status?action_status=started&planner_module="+e,(function(){}))):($.get("/en/planner_module_progress?status=0&action_status=not_started&planner_module="+e,(function(){})),$.get("/en/user_module_action_status?action_status=not_started&planner_module="+e,(function(){})))})),$(".module-mark-as-completed").on("click",(function(){if(1!=confirm("Are you sure? The module will be marked as completed, and other parties may be informed."))return!1})),$("#clickToShow").on("click",(function(){var e=$("#clickToShow").attr("module_id");$.get("/en/planner_module_progress?show=1&status=1&action_status=started&planner_module="+e,(function(){}))})),$("#monitoringSwitch").click((function(){var e=$(this).val();0==$(this).prop("checked")&&$.get("/en/email_settings?class_name="+e,(function(){}))})),$(".next_step5").click((function(){$(".step6").trigger("click")})),$(".next_step6").click((function(){$(".step7").trigger("click")})),$(".back_step5").click((function(){$(".step5").trigger("click")})),$(".back_step_caregiver_option").click((function(){$(".step_caregiver_option").trigger("click")})),$(".back_step4").click((function(){$(".step4").trigger("click")})),$(".back_step3").click((function(){$(".step3").trigger("click")})),$(".back_step2").click((function(){$(".step2").trigger("click")})),$(".back_step1").click((function(){$(".step1").trigger("click")})),$(".acp-next").click((function(){$(".acp-next").prop("disabled",!0),$(".fa-spinner").show();var e=$(this).attr("position");!0===$("form.registration_form_tool").parsley().validate({group:"block-"+e})?(console.log($("textarea").val()),$.ajax({method:"POST",url:"/en/form_section",data:$(".registration_form_tool").serialize()}).done((function(){$(".fa-spinner").hide(),$(".acp-next").prop("disabled",!1),$(".nav-pills > .active").next("li").find("a").trigger("click"),$(".nav-pills > .active").next("li").hasClass("summary_section")&&setTimeout((function(){$(".summary").trigger("click")}),5e3),$(".nav-pills > .active").next("li").addClass("active"),$(".nav-pills > .active").prev("li").removeClass("active"),$("html, body").animate({scrollTop:50},600)}))):($(".acp-next").prop("disabled",!1),$(".fa-spinner").hide())})),$(".last_section").click((function(){$.ajax({method:"POST",url:"/en/form_section",data:{complete:1,form:$(".form_id").val(),module_id:$(this).attr("module_id")}}).done((function(){}))})),$(".acp-back").click((function(){$(".nav-pills > .active").prev("li").find("a").trigger("click"),$(".nav-pills > .active").prev("li").addClass("active"),$(".nav-pills > .active").next("li").removeClass("active"),$("html, body").animate({scrollTop:50},600)})),$(".custom-check-box").on("click",(function(){var e=$(this).attr("option_id"),t='<input type="hidden" value="0" name="question_'+$(this).attr("question_id")+'[]" class="hidden_checkbox" >';$(this).find(".acp_checkbox").is(":checked")?($(this).find(".acp_checkbox").val(e),$(this).find(".hidden_checkbox").remove()):($(this).find(".acp_checkbox").val(" "),$(this).append(t))})),$(".select_nominee").on("change",(function(){var e=parseInt($(".acp_progress_bar").attr("value")),t=$(this).attr("previous"),n=parseInt($(".acp_progress_bar").attr("max"));if(""!=$(this).val()&&"unselected"==t){$(".acp_progress_bar").attr("value",e+1),console.log(e+1);var i=(100*(e+1)/n).toFixed(2)+"%";$(".acp_progress_bar").css("width",i),$(".acp_progress_bar").text(i),$(this).attr("previous","selected")}else if("selected"==t&&""==$(this).val()){$(".acp_progress_bar").attr("value",e-1);i=(100*(e-1)/n).toFixed(2)+"%";$(".acp_progress_bar").css("width",i),$(".acp_progress_bar").text(i),$(this).attr("previous","unselected")}t=$(this).val()})),$(".select_nominee").change((function(){var e=$(this).val(),t=$(this).find("option:selected").attr("question");$(".nominees").each((function(){var n=$(this).val(),i=$(this).attr("question");t!=i&&e==n?$(this).hide():t!=i&&$(this).show()}))})),$(".popup_contact").click((function(){$(".section_popup").val($(this).attr("question"))})),$(".other_checkbox").click((function(){$(this).is(":checked")?($(".textarea_"+$(this).attr("question_id")).show(),$(".textarea_"+$(this).attr("question_id")).val(text)):(text=$(".textarea_"+$(this).attr("question_id")).val(),$(".textarea_"+$(this).attr("question_id")).hide(),$(".textarea_"+$(this).attr("question_id")).val("no text"))})),$(".best_in_place").best_in_place(),$.HSCore.components.HSSummernoteEditor.init(".js-summernote-editor"),$.HSCore.components.HSRangeDatepicker.init(".js-range-datepicker"),$.HSCore.components.HSSlickCarousel.init(".js-slick-carousel"),$.HSCore.components.HSModalWindow.init("[data-modal-target]"),$("form").parsley()})),$(document).on("ready",(function(){$("#start-btn").click((function(){$("#recordingslist").html(" ")})),$(".share_btn").click((function(){$("#document_name").val($(this).attr("document-name")),$("#key_pair_id").val($(this).attr("key-pair-id")),$("#key_pair_name").val($(this).attr("key-pair-name")),$("#asset_id").val($(this).attr("asset-id")),$("#asset_name").val($(this).attr("asset-name"))})),$(".edit-key").click((function(){$("#editModal").modal("show")})),$(".share-key").click((function(){$("#shareModal").modal("show")})),$(document).ready((function(){$("#dashBtn").click((function(){$(".dash-li").toggleClass("hover-open"),$(".iprosetting-btn").toggleClass("hover-dropdown"),$(".legacyNoShrink").toggleClass("dashboard-legacy"),$(".contact").toggleClass("no-shrink-contact"),$(".storage").toggleClass("no-shrink-storage")}))})),$("#close-cookie-popup-button").on("click",(function(){$(".cookie_div").hide()})),$(document).ready((function(){$("#nav-icon1").click((function(){$(this).toggleClass("open")}))})),$(document).ready((function(){$("#shareOptionDiv .share-option").click((function(){$(".share-option").removeClass("active"),$(this).addClass("active")})),$(".share-option").click((function(){"date"==$(this).attr("share_type")?$(".datee").prop("required",!0):$(".datee").prop("required",!1)}))}));var e,t=$("#top-menu"),n=t.outerHeight()+15,i=t.find("a"),o=i.map((function(){var e=$($(this).attr("href"));if(e.length)return e}));i.click((function(e){var t=$(this).attr("href"),i="#"===t?0:$(t).offset().top-n+1;$("html, body").stop().animate({scrollTop:i},300),e.preventDefault()})),$(window).scroll((function(){var t=$(this).scrollTop()+n,r=o.map((function(){if($(this).offset().top<t)return this})),a=(r=r[r.length-1])&&r.length?r[0].id:"";e!==a&&(e=a,i.parent().removeClass("active").end().filter("[href='#"+a+"']").parent().addClass("active"))}))})),$(window).load((function(){$(".se-pre-con").fadeOut("slow")})),$(document).ready((function(){$("#footerLanguageInvoker").click((function(){$(".fl-toggle").toggleClass("fa-chevron-down fa-chevron-up")}))})),$((function(){$(".first").click((function(){return $(".second").click(),!1}))})),$(document).on("ready",(function(){$.HSCore.components.HSCounter.init('[class*="js-counter"]')})),$(document).ready((function(){$("#mpToggleBtn").click((function(){$(".mp-tab-navbar").toggleClass("mp-tab-navbar-dropdown")}))})),$((function(){$(".mp-sd-tab-header .nav-item:first-child .nav-link").addClass("active"),$("#myTabContent .mp-sd-l-tab:first-child").addClass("active")})),$(document).on("click","#clickToShow",(function(){$("#clickToShow").css("display","none"),$("#clickToShowTxt").css("display","none"),$("#moduleContentMore").removeClass("d-none"),document.getElementById("moduleContentMore").scrollIntoView()})),$(document).on("click","#moduleDocumentBtn",(function(){$("#moduleDocumentContainer").removeClass("d-none"),document.getElementById("moduleDocumentContainer").scrollIntoView()})),$((function(){$(".bouncing-arrow a[href*=#]").on("click",(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},"linear"),$(".bouncing-arrow").addClass("d-none")}))})),$(document).ready((function(){$("#beTheFirst").click((function(){$("#beTheFirstToComment").removeClass("d-none"),$("#beTheFirst").addClass("d-none")})),$("#hidePlannerTopBox").click((function(){$(".hidePlannerForm").submit(),$(".planner-top-box").addClass("d-none")})),$(".u-fullscreen--toggler").click((function(){$("#fullscreenNavbar").toggleClass("d-none"),$("body").toggleClass("position-fixed"),$("header").toggleClass("fixed-header-md")})),$(".closeGetStarted").click((function(){$("#fullscreenNavbar").toggleClass("d-none"),$("body").toggleClass("position-fixed")}))})),$(document).ready((function(){$(".age_autofill").on("change",(function(){if($("#user_age").val($("#user_day").val()+"/"+$("#user_month").val()+"/"+$("#user_year").val()),$("#death_date").val($("#death_day").val()+"/"+$("#death_month").val()+"/"+$("#death_year").val()),[0,1].includes($(".age_autofill")[0].selectedIndex)||[0,1].includes($(".age_autofill")[1].selectedIndex)||[0,1].includes($(".age_autofill")[2].selectedIndex)||[0,1].includes($(".age_autofill")[3].selectedIndex)||[0,1].includes($(".age_autofill")[4].selectedIndex)||[0,1].includes($(".age_autofill")[5].selectedIndex))$(".cal-age").val("");else{var e=$(".death_date")[2].value-$(".birth_date")[2].value;e<0?($(".date_error_mssg")[0]||($(".death_date").parent().append('<p class="date_error_mssg">Death date must be before the Birth date.</p>'),$(".cal-age").after('<span class="date_error_mssg">Age can not be negative</span>')),$(".cal-age").val(e)):($(".date_error_mssg").remove(),$(".cal-age").val(e))}}))})),$(document).ready((function(){$("#about-learn-more").click((function(){$("html, body").animate({scrollTop:$("#learn-more-scroll-to").offset().top},50)})),$(".Learn_more").click((function(){$(this).html("<p class='text-center'>Verified contacts are people that you have added to contacts and have accepted the invitation. This is to ensure that important information is securely shared with people that you know.</p>")}))})),$(document).ready((function(){($(".js-slick-carousel").length>=1||$(".planner-legacy").length>=1)&&$("body").css("display","block")})),$(document).ready(manage_height),$(window).on("resize",manage_height),$(document).on("change","#profile-input-preview",(function(){if(this.files[0].size/1024/1024>4)alert("Profile Image Size should be less than 4 MB.");else if(this.files&&this.files[0]){var e=new FileReader;e.onload=function(e){$("#showProfileUpdateImage").attr("src",e.target.result),$("#showDefaultProfileImg").attr("src",e.target.result),$("#urlProfileImg").attr("value",e.target.result)},e.readAsDataURL(this.files[0])}})),$(document).on("change","#cover-input-preview",(function(){if(this.files[0].size/1024/1024>8)alert("Profile Image Size should be less than 4 MB.");else if(this.files&&this.files[0]){var e=new FileReader;e.onload=function(e){$("#showProfileUpdateImage").attr("src",e.target.result),$("#showDefaultProfileImg").attr("src",e.target.result),$("#urlProfileImg").attr("value",e.target.result)},e.readAsDataURL(this.files[0])}})),$(document).ready((function(){var e=$(".memorial-gallery-row").attr("data-total-img"),t=$(".memorial-gallery-row").children().length;e>6&&$(".memorial-gallery-row > div:last-child").append("<p>+"+(e-6)+"</p>"),t<3?$(".memorial-gallery-row").addClass("image-grid-lg"):3==t?$(".memorial-gallery-row").addClass("image-grid-md"):4==t?$(".memorial-gallery-row").addClass("image-grid-sm"):$(".memorial-gallery-row").addClass("image-grid-xs"),$(".ql-required-form").submit((function(){if(1==$(".ql-editor").hasClass("ql-blank"))return $(".ql-required-error").text("Required!"),!1;$(".ql-required-error").text("")})),$(".ql-editor").on("input",(function(){var e=$(this)[0].innerText.length;$(".ql-show-text-count").text(e)})),$(".ql-editor").on("keypress",(function(){if($(this)[0].innerText.length>=5e3)return $(".ql-required-error").text("Max character length 5000"),!1;$(".ql-required-error").text("")}))})),$(document).ready((function(){tinyMCE.init({selector:".tinymce-editor",content_style:"body { font-size: 16px; color: #77838f; }",menubar:!1,relative_urls:!1,remove_script_host:!1,images_upload_url:"/tinymce_assets",branding:!1,promotion:!1,plugins:"image wordcount",valid_children:"-p[img],h1[img],h2[img],h3[img],h4[img],+div[img],span[img]",toolbar:" image | bold | italic | underline",setup:function(e){e.on("keydown keyup paste",(function(){var t=$(tinyMCE.get(tinyMCE.activeEditor.id).getElement()).attr("maxlength"),n=$(e.getBody()).text(),i=$(e.getBody()).text().length;i>=t?(e.setContent(""),tinyMCE.activeEditor.selection.setContent(n.substring(0,t)),tinyMCE.activeEditor.focus(),$(".ql-required-error").text("Max character length "+t)):$(".ql-required-error").text(t-i+"/"+t)}))}})})),$(document).ready((function(){tinyMCE.init({selector:".tinymce-editor1",content_style:"body { font-size: 16px; color: #77838f; }",menubar:!1,relative_urls:!1,remove_script_host:!1,images_upload_url:"/tinymce_assets",branding:!1,promotion:!1,plugins:"image wordcount",valid_children:"-p[img],h1[img],h2[img],h3[img],h4[img],+div[img],span[img]",toolbar:!1,setup:function(e){e.on("keydown keyup paste",(function(){var t=$(tinyMCE.get(tinyMCE.activeEditor.id).getElement()).attr("maxlength"),n=$(e.getBody()).text(),i=$(e.getBody()).text().length;i>=t?(e.setContent(""),tinyMCE.activeEditor.selection.setContent(n.substring(0,t)),tinyMCE.activeEditor.focus(),$(".ql-required-error").text("Max character length "+t)):$(".ql-required-error").text(t-i+"/"+t)}))}})}));